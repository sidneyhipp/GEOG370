(window.webpackJsonp_ember_auto_import_=window.webpackJsonp_ember_auto_import_||[]).push([[346],{1595:function(t,e,i){"use strict"
var s,o,n,r,a,l,c,u,h
i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return r})),i.d(e,"f",(function(){return u})),i.d(e,"g",(function(){return a})),i.d(e,"h",(function(){return l})),i.d(e,"i",(function(){return c})),function(t){t.start="start",t.center="center",t.end="end"}(s||(s={})),function(t){t.square="square",t.round="round"}(o||(o={})),function(t){t.none="none",t.low="low",t.medium="medium",t.heavy="heavy"}(n||(n={})),function(t){t.simple="simple",t.dataViz="dataViz",t.moreInfo="moreInfo"}(r||(r={})),function(t){t.before="before",t.after="after",t.below="below"}(a||(a={})),function(t){t.none="none",t.sparkline="sparkline",t.icon="icon",t.logo="logo"}(l||(l={})),function(t){t.always="always",t.hover="hover"}(c||(c={})),function(t){t.dynamic="dynamic",t.static="static"}(u||(u={})),function(t){t.thumbnail="thumbnail",t.icon="icon"}(h||(h={}))},2279:function(t,e,i){"use strict"
i.d(e,"a",(function(){return o}))
var s=i(96)
const o=({context:t,showShareUi:e},i)=>Object(s.i)("arcgis-shareable-card",{referenceElement:t.element,shareable:t.shareable,shareableByReference:t.shareableByReference,shareableByValue:t.shareableByValue,shareableOnHover:t.shareableOnHover,showShareUi:e},i)},2633:function(t,e,i){"use strict"
function s(t,e=[]){const i=["class","data-hmr","hydrated","shareable-on-hover","style",...e]
return t.getAttributeNames().reduce((e,s)=>i.includes(s)?e:Object.assign(Object.assign({},e),{[s]:t.getAttribute(s)}),{})}function o(t){return`<link rel="stylesheet" href="https://hubcdn.arcgis.com/@esri/hub-components/${t}/dist/calcite/calcite.css">\n<script type="module" async src="https://hubcdn.arcgis.com/@esri/hub-components/${t}/dist/hub-components/hub-components.esm.js"><\/script>`}function n(t,e){const i=t.tagName.toLowerCase(),s=t.innerHTML
var o
return`<${i} ${o=e,Object.entries(o).reduce((t,[e,i])=>[...t,`${e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}="${i}"`],[]).join(" ")}>${s}</${i}>`}function r(t){const e=t.tagName.toLowerCase()
return`<${e} config-url="...">${t.innerHTML}</${e}>`}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return s}))},871:function(t,e,i){"use strict"
i.r(e),i.d(e,"arcgis_hub_gallery_card",(function(){return d}))
var s,o=i(96),n=i(1595),r=i(1224),a=i(2279),l=i(2633),c=i(149),u=i(375),h=i(147)
i(34),i(132),i(197),i(40),i(95),i(56),i(16),i(85),i(201),i(200),i(237),i(236),i(377),function(t){t.dynamic="dynamic",t.manual="manual"}(s||(s={}))
const d=class{constructor(t){Object(o.k)(this,t),this.context=void 0,this.access=[],this.catalogs=[],this.categories=[],this.groups=[],this.ids=[],this.limit=10,this.orgid=void 0,this.portal="https://www.arcgis.com",this.sort=void 0,this.tags=[],this.types=[],this.mode=s.dynamic,this.newTab=!1,this.cardTitleTag="h4",this.corners=n.b.square,this.imageType=void 0,this.lazy=!0,this.showEmptyState=!0,this.shadow=void 0,this.showLinkButton=!1,this.linkButtonText=void 0,this.linkButtonStyle=void 0,this.linkButtonBackgroundColor=void 0,this.linkButtonBackgroundHoverColor=void 0,this.linkButtonTextColor=void 0,this.shareable=!1,this.shareableByValue=!1,this.shareableByReference=!1,this.shareableOnHover=!1,this.baseUrl=void 0,this.catalogData=void 0,this.hasResults=!1}get _limit(){const t=this._getArrayProp("ids")
return this._isManualMode?t.length:this.limit}get _linkButtonStyle(){return{primary:"solid",default:"outline"}[this.linkButtonStyle]}get _linkButtonText(){return this.linkButtonText||this.intl.t("linkButtonDefaultText")}get _imageType(){return{Thumbnails:n.d.thumbnail,Icons:n.d.icon}[this.imageType]||n.d.thumbnail}get _isManualMode(){return this.mode===s.manual}setButtonStyles(t,e,i){i={linkButtonBackgroundColor:"--calcite-ui-brand",linkButtonBackgroundHoverColor:"--calcite-ui-brand-hover",linkButtonTextColor:"--calcite-ui-text-inverse"}[i],t?this.element.style.setProperty(i,t):this.element.style.removeProperty(i)}onResultsChange(t){const e=t.detail
this.hasResults=e.length>0}async componentWillLoad(){if(this.intl=await r.a.loadIntlForComponent(this.element),this.setButtonStyles(this.linkButtonBackgroundColor,void 0,"linkButtonBackgroundColor"),this.setButtonStyles(this.linkButtonBackgroundHoverColor,void 0,"linkButtonBackgroundHoverColor"),this.setButtonStyles(this.linkButtonTextColor,void 0,"linkButtonTextColor"),!this.context&&this.portal){const t=await c.a.create({portalUrl:this.portal})
this.context=t.context}return this._fetchCatalogData()}async _fetchCatalogData(){const t=this._getArrayProp("catalogs")
if(t.length&&this.mode===s.dynamic){const{context:{session:e,sharingApiUrl:i}}=this,s={authentication:e,portal:i},o=await Promise.all(t.map(t=>Object(u.b)(t,s)))
this.catalogData=o.reduce((t,e)=>{e.catalog.hasOwnProperty("groups")&&(e.catalog.group=e.catalog.groups,delete e.catalog.groups)
const i={predicates:[e.catalog],operation:"AND"}
return[...t,i]},[])}else this.catalogData=void 0}_getArrayProps(){return["access","catalogs","categories","groups","ids","tags","types"].reduce((t,e)=>{const i=this._getArrayProp(e)
return t[e]=i,t},{})}_getArrayProp(t){let e=this[t]
return e&&!Array.isArray(e)&&(e=e.split(",").map(t=>t.trim()).filter(t=>!!t)),[...e]}async getState(){const{element:t}=this,e=await Object(l.d)(t),i=this._getArrayProps()
return Object.assign(Object.assign(Object.assign({},e),i),{"base-url":this.baseUrl})}get typeFilters(){const t=this._getArrayProp("types")
if(!this._isManualMode&&t.length)return{operation:"OR",predicates:t.map(t=>("pageForCurrentSite"===t&&(t="page"),{type:"$"+t.toLowerCase()}))}}get scope(){const{catalogData:t,orgid:e,typeFilters:i}=this,{access:s,categories:o,groups:n,ids:r,tags:a}=this._getArrayProps()
let l=[]
!this._isManualMode&&t&&(l=[...l,...Object(h.c)(t)])
const c={operation:"AND",predicates:[]},u=t=>t.reduce((t,e)=>!t&&e.predicates.reduce((t,e)=>!t&&e.hasOwnProperty("group"),!1),!1)
return this._isManualMode?c.predicates.push({id:r}):(o.length&&c.predicates.push({categories:o}),s.length&&(s.includes("private")&&s.push("shared"),c.predicates.push({access:s})),n.length&&(u(l)?l.forEach(t=>{t.predicates.forEach(t=>{t.hasOwnProperty("group")&&(t.group=[...t.group,...n])})}):c.predicates.push({group:n})),this._isManualMode||!e||n.length||u(l)||c.predicates.push({orgid:e}),!this._isManualMode&&a.length&&c.predicates.push({tags:a})),c.predicates.length&&(l=Object(h.j)(c,l)),l=Object(h.j)(i,l),{targetEntity:"item",filters:l}}get sortDirection(){return"title"===this.sort?"asc":"desc"}get collection(){const{scope:t,sort:e,sortDirection:i}=this,s={include:[],key:"default",label:"Default",scope:t,sortDirection:i,sortField:e,targetEntity:"item"}
return JSON.stringify(s)==JSON.stringify(this._oldCollection)?this._oldCollection:(this._oldCollection=Object(h.c)(s),s)}get shouldQuery(){const{catalogs:t,groups:e,types:i}=this._getArrayProps()
return!!(this._isManualMode||i.length||e.length||t.length)}_renderGallery(){if(this.shouldQuery){const t=this._getArrayProp("ids"),e=this._isManualMode?t:void 0,i=this.collection.include&&this.collection.include.join("|")
return Object(o.i)("arcgis-hub-gallery",{cardTitleTag:this.cardTitleTag,clickableCards:!0,context:this.context,corners:this.corners,imageType:this._imageType,include:i,layout:"grid-filled",lazy:this.lazy,limit:this._limit,linkButtonStyle:this._linkButtonStyle,linkButtonText:this._linkButtonText,linkTarget:"siteRelative",newTab:this.newTab,query:this.collection.scope,shadow:this.shadow,showAdditionalInfo:!1,showBadges:!1,showEmptyState:this.showEmptyState,showLinkButton:this.showLinkButton,showOwner:!1,showThumbnail:!0,showType:!1,sortByIds:e,sortField:this.sort,sortOrder:this.sortDirection})}if(this.showEmptyState)return Object(o.i)("arcgis-hub-empty-state",null)}render(){return Object(o.i)(o.b,{"data-element":"gallery-card"},Object(o.i)(a.a,{context:this,showShareUi:this.hasResults||this.showEmptyState},this._renderGallery()))}static get assetsDirs(){return["locales"]}get element(){return Object(o.c)(this)}static get watchers(){return{linkButtonBackgroundColor:["setButtonStyles"],linkButtonBackgroundHoverColor:["setButtonStyles"],linkButtonTextColor:["setButtonStyles"],catalogs:["_fetchCatalogData"]}}}
d.style=":host{display:block}arcgis-hub-gallery{--hub-text-decoration:none;text-align:center;--calcite-ui-text-link:var(--calcite-ui-text-2)}"}}])
