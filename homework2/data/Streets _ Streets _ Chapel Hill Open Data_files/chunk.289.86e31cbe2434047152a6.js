(window.webpackJsonp_ember_auto_import_=window.webpackJsonp_ember_auto_import_||[]).push([[289],{1124:function(t,e,i){"use strict"
i.d(e,"a",(function(){return n}))
const n=(t,...e)=>{e.forEach(e=>{if("function"!=typeof t[e])throw new Error(`Cannot bind context. ${e} must be a function`)
t[e]=t[e].bind(t)})}},1190:function(t,e,i){"use strict"
i.d(e,"a",(function(){return y})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return w})),i.d(e,"d",(function(){return h})),i.d(e,"e",(function(){return S})),i.d(e,"f",(function(){return E})),i.d(e,"g",(function(){return k})),i.d(e,"h",(function(){return T})),i.d(e,"i",(function(){return j})),i.d(e,"j",(function(){return m})),i.d(e,"k",(function(){return b})),i.d(e,"l",(function(){return l})),i.d(e,"m",(function(){return v})),i.d(e,"n",(function(){return L})),i.d(e,"o",(function(){return p})),i.d(e,"p",(function(){return O}))
var n,r=i(1262),a=i(378),o=i(376),s=i(34),c=i(1307)
function l(t,e){return`${Object(r.a)(e)}/home/item.html?id=${t}`}!function(t){t.CitationContact="metadata.resource.citation.contact",t.ResourceContact="metadata.resource.contact",t.MetadataContact="metadata.contact",t.ItemOwner="item.owner",t.None="none"}(n||(n={}))
const d=t=>{var e
const i=t.extent,n=Object(a.g)(i),r=(null===(e=t.properties)||void 0===e?void 0:e.boundary)||(n?"item":void 0),o={geometry:null,provenance:r}
if("item"===r&&n){const t=Object(a.b)(i),e=Object(a.f)(t)
o.center=[e.x,e.y],o.geometry=Object.assign(Object.assign({},Object(a.e)(t)),{type:"polygon"}),o.spatialReference=o.geometry.spatialReference}return o},u=t=>t&&t.isPortal,h=(t,e)=>!!t&&"public"===t.access&&!u(e),m=(t,e)=>!u(e)&&"public"===t.access&&"CSV"===t.type&&t.size<=5e6,b=(t,e,i)=>{let n=f(t,e,i)||g(t,e,i)
if(!n){const r=Object(o.c)(t),a=["app","dataset","document","map","template","project","discussion"]
let s="/content"
"feedback"===r?s="/feedback/surveys":p(t,i)?s="/pages":a.indexOf(r)>-1&&(s=`/${r}s`),n=`${s}/${e}`}return n},p=(t,e=[])=>["Hub Page","Site Page"].includes(t)||e.includes("hubPage"),f=(t,e,i)=>{let n
return"Solution"===t?n=(null==i?void 0:i.indexOf("Deployed"))>-1?`/content/${e}/about`:`/templates/${e}/about`:"Web Mapping Application"===t&&(null==i?void 0:i.indexOf("hubSolutionTemplate"))>-1&&(n=`/templates/${e}/about`),n},g=(t,e,i)=>{if("Hub Initiative"===t&&(null==i?void 0:i.indexOf("hubInitiativeTemplate"))>-1||"Hub Initiative Template"===t)return`/initiatives/templates/${e}/about`}
function v(t){return{updateFrequency:"metadata.dataIdInfo.resMaint.maintFreq.MaintFreqCd.@_value",reviseDate:"metadata.dataIdInfo.idCitation.date.reviseDate",pubDate:"metadata.dataIdInfo.idCitation.date.pubDate",createDate:"metadata.dataIdInfo.idCitation.date.createDate",metadataUpdateFrequency:"metadata.mdMaint.maintFreq.MaintFreqCd.@_value",metadataUpdatedDate:"metadata.mdDateSt"}[t]}function w(t,e){const i=v(e)
return i&&Object(s.a)(t,i)}var y
function O(t){let e,i
if(/^\d{4}$/.test(t=""+t))e=new Date(+t,0,1),i=y.Year
else if(/^\d{4}-\d{1,2}$/.test(t)){const n=t.split("-")
e=new Date(+n[0],+n[1]-1,1),i=y.Month}else if(/^\d{4}-\d{1,2}-\d{1,2}$/.test(t)){const n=t.split("-")
e=new Date(+n[0],+n[1]-1,+n[2]),i=y.Day}else Number.isNaN(Date.parse(t))||(e=new Date(t),i=t.includes("T")?y.Time:y.Day)
return e&&i&&{date:e,precision:i}}!function(t){t.Year="year",t.Month="month",t.Day="day",t.Time="time"}(y||(y={}))
const k=t=>{const e=t.spatialReference
if(!e||"object"==typeof e)return e
const i=parseInt(e+"",10)
return isNaN(i)?null:{wkid:i}},j=(t,e,i)=>{const n=x(e)
return n&&n.map(e=>({name:e.orName,url:A(e,t,i),isDataSource:C(e,t)}))},x=t=>{const e=[]
return I(Object(s.a)(t,"metadata.distInfo")||[]).forEach(t=>{I(t.distTranOps||[]).forEach(t=>{I(t.onLineSrc||[]).forEach(t=>{e.push(t)})})}),e.length?e:null},I=t=>Array.isArray(t)?t:[t],C=(t,e)=>{const i=e.url&&Object(c.a)(e.url)
return i&&t.linkage&&t.linkage.includes(i)},A=(t,e,i)=>{let n=t.linkage
const r=Object(s.a)(i,"authentication.token")
if(r&&C(t,e)){const e=new URL(t.linkage),i=new URLSearchParams(e.search)
i.set("token",r),e.search=i.toString(),n=e.toString()}return n},S=(t,e,i)=>{const n=Object(a.g)(t.extent)?t.extent:void 0,r=Object(a.g)(null==e?void 0:e.coordinates)?e.coordinates:void 0,o=4326===Object(s.a)(i,"extent.spatialReference.wkid")?Object(a.a)(i.extent):void 0
return n||r||o},z=(t,e)=>{const i=Object(s.a)(t,e)||{},{rpIndName:n,rpOrgName:r}=Array.isArray(i)?i[0]:i
return{individualName:n,organizationName:r}},T=(t,e)=>t.orgId||(null==e?void 0:e.orgId),E=(t,e,i,r)=>{const a={nameSource:n.None,organizationSource:n.None},o=z(e,"metadata.dataIdInfo.idCitation.citRespParty"),c=z(e,"metadata.dataIdInfo.idPoC"),l=z(e,"metadata.mdContact"),d=Object(s.a)(r,"fullName")
o.individualName?(a.name=o.individualName,a.nameSource=n.CitationContact):c.individualName?(a.name=c.individualName,a.nameSource=n.ResourceContact):l.individualName?(a.name=l.individualName,a.nameSource=n.MetadataContact):d&&(a.name=d,a.username=r.username,a.nameSource=n.ItemOwner)
const u=Object(s.a)(i,"name")
return o.organizationName?(a.organization=o.organizationName,a.organizationSource=n.CitationContact):c.organizationName?(a.organization=c.organizationName,a.organizationSource=n.ResourceContact):l.organizationName?(a.organization=l.organizationName,a.organizationSource=n.MetadataContact):u&&(a.organization=u,a.orgId=T(t,r),a.organizationSource=n.ItemOwner),a.isExternal=a.organizationSource===n.None&&"public"!==t.access,a},L=t=>t.reduce((t,e)=>{const i=e.split("/"),n=i[i.length-1]
return n&&t.push(n),t},[])},1232:function(t,e,i){"use strict"
i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r}))
var n=i(1300)
function r(t,e){return-1!==t.indexOf(e)}const a=(t,e,i)=>{const{id:r,access:a}=t,o=`${Object(n.a)(e)}/content/items/${r}`,s=new URLSearchParams({f:"json"})
return"public"!==a&&i&&s.append("token",i),`${o}?${s.toString()}`}
function o(t,e,i){if(!t||!t.thumbnail)return null
let{token:n,width:r}=i||{}
n||"string"!=typeof i||(n=i)
const o=a(t,e,n),[s,c]=o.split("?"),l=new URLSearchParams(c)
l.delete("f"),r&&l.append("w",r+"")
const d=l.toString(),u=`${s}/info/${t.thumbnail}`
return d?`${u}?${d}`:u}},1256:function(t,e,i){"use strict"
i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return l}))
var n=i(40),r=i(95),a=i(16),o=i(377)
function s(t,e){var i=Object(r.a)(e)+"/community/groups/"+t,o=Object(n.a)({httpMethod:"GET"},e)
return Object(a.e)(i,o)}function c(t,e){var i=Object(r.a)(e)+"/community/groups/"+t+"/users",o=Object(n.a)({httpMethod:"GET"},e)
return Object(a.e)(i,o)}function l(t,e){var i=Object(r.a)(e)+"/community/groups/"+t+"/userlist",n=Object(o.a)(e||{},["name","num","start","sortField","sortOrder","joined","memberType"],{httpMethod:"GET"})
return Object(a.e)(i,n)}},1262:function(t,e,i){"use strict"
i.d(e,"a",(function(){return r}))
var n=i(95)
function r(t){if("string"==typeof t)return t.replace(/\/sharing\/rest\/?$/,"")
if("object"==typeof t){const e=t.portalSelf||t,{portalHostname:i,urlKey:n,customBaseUrl:r}=e
if(i||n&&r)return e.isPortal?"https://"+e.portalHostname:`https://${e.urlKey}.${e.customBaseUrl}`}return r(Object(n.a)(t))}},1280:function(t,e,i){"use strict"
i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return u})),i.d(e,"f",(function(){return c})),i.d(e,"g",(function(){return s}))
var n=i(147),r=i(237)
const a={arcgis:{label:"ArcGIS Online",url:"https://www.arcgis.com",type:"arcgis"},arcgisQA:{label:"ArcGIS Online QAEXT",url:"https://qaext.arcgis.com",type:"arcgis"},arcgisDEV:{label:"ArcGIS Online DEVEXT",url:"https://devext.arcgis.com",type:"arcgis"},hub:{label:"ArcGIS Hub",url:"https://hub.arcgis.com/api",type:"arcgis-hub"},hubDEV:{label:"ArcGIS Hub DEV",url:"https://hubdev.arcgis.com/api",type:"arcgis-hub"},hubQA:{label:"ArcGIS Hub QA",url:"https://hubqa.arcgis.com/api",type:"arcgis-hub"}}
function o(t){return"string"==typeof t&&t in a?a[t]:t}function s(t){let e={}
return Array.isArray(t)?e={any:t}:("string"==typeof t&&(e={any:[t]}),"object"==typeof t&&(e=t)),e}function c(t){const e={min:6e4,hours:36e5,days:864e5,weeks:6048e5},i=new Date,n={type:"date-range",from:i.getTime(),to:i.getTime()}
switch(t.unit){case"hours":case"days":case"weeks":n.from=n.to-e[t.unit]*t.num
break
case"months":i.setMonth(i.getMonth()-t.num),n.from=i.getTime()
break
case"years":i.setFullYear(i.getFullYear()-t.num),n.from=i.getTime()}return n}function l(t,e,i,a){var o
const s=Object(n.c)(t)
return t.authentication&&(s.authentication=r.a.deserialize(t.authentication.serialize())),(null===(o=t.requestOptions)||void 0===o?void 0:o.authentication)&&(s.requestOptions.authentication=t.requestOptions.authentication),s.start=e>-1?e:i+1,t=>(t&&(s.authentication=t,s.requestOptions&&(s.requestOptions.authentication=s.authentication)),a(s))}function d(t,e,i){let n=null
return e.thumbnail&&(n=`${t}/community/groups/${e.id}/info/${e.thumbnail}`,i&&"public"!==e.access&&(n=`${n}?token=${i}`)),n}function u(t,e,i){let n=null
return e.thumbnail&&(n=`${t}/community/users/${e.username}/info/${e.thumbnail}`,i&&"public"!==e.access&&(n=`${n}?token=${i}`)),n}function h(t){const e=t=>!!t.group,i=t.filters.find(t=>t.predicates.find(e))
return i&&i.predicates.find(e)}},1300:function(t,e,i){"use strict"
i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return a}))
var n=i(1262)
function r(t){return Object(n.a)(t)+"/sharing/rest"}function a(t){const e=t&&t.hubApiUrl
return e||function(t){let e
return t.match(/(qaext|\.mapsqa)\.arcgis.com/)?e="https://hubqa.arcgis.com":t.match(/(devext|\.mapsdevext)\.arcgis.com/)?e="https://hubdev.arcgis.com":t.match(/(www|\.maps)\.arcgis.com/)&&(e="https://hub.arcgis.com"),e}(r(t))}},1307:function(t,e,i){"use strict"
i.d(e,"a",(function(){return a}))
var n=i(56),r=new RegExp(/.+(?:map|feature|image)server/i)
function a(t){var e=t.match(r)
return e?e[0]:function(t){var e=t.split("?")[0]
return Object(n.a)(e)}(t)}},1595:function(t,e,i){"use strict"
var n,r,a,o,s,c,l,d,u
i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return o})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return s})),i.d(e,"h",(function(){return c})),i.d(e,"i",(function(){return l})),function(t){t.start="start",t.center="center",t.end="end"}(n||(n={})),function(t){t.square="square",t.round="round"}(r||(r={})),function(t){t.none="none",t.low="low",t.medium="medium",t.heavy="heavy"}(a||(a={})),function(t){t.simple="simple",t.dataViz="dataViz",t.moreInfo="moreInfo"}(o||(o={})),function(t){t.before="before",t.after="after",t.below="below"}(s||(s={})),function(t){t.none="none",t.sparkline="sparkline",t.icon="icon",t.logo="logo"}(c||(c={})),function(t){t.always="always",t.hover="hover"}(l||(l={})),function(t){t.dynamic="dynamic",t.static="static"}(d||(d={})),function(t){t.thumbnail="thumbnail",t.icon="icon"}(u||(u={}))},833:function(t,e,i){"use strict"
i.r(e),i.d(e,"arcgis_hub_card",(function(){return m})),i.d(e,"arcgis_hub_group_member_summary",(function(){return b})),i.d(e,"arcgis_hub_image",(function(){return g})),i.d(e,"arcgis_ref_tooltip",(function(){return v}))
var n=i(96),r=i(1224),a=i(1595),o=i(451),s=i(1124),c=i(133),l=i(147),d=i(1560),u=i(1256),h=i(1280)
i(148),i(34),i(1300),i(1262),i(95),i(56),i(376),i(1697),i(1232),i(1190),i(378),i(16),i(1307),i(40),i(377),i(237)
const m=class{constructor(t){Object(n.k)(this,t),this.arcgisHubCardSelect=Object(n.e)(this,"arcgisHubCardSelect",7),this.arcgisHubCardTitleLinkClick=Object(n.e)(this,"arcgisHubCardTitleLinkClick",7),this.arcgisHubCardAction=Object(n.e)(this,"arcgisHubCardAction",7),this.sanitizer=new o.a({whiteList:{},stripIgnoreTag:!0,stripIgnoreTagBody:["script"]}),this.model=void 0,this.layout="row",this.loading=void 0,this.showThumbnail=void 0,this.imageType=a.d.thumbnail,this.lazy=!1,this.newTab=void 0,this.selectable=void 0,this.selected=!1,this.itemTitle=void 0,this.source=void 0,this.summary=void 0,this.thumbnailUrl=void 0,this.family=void 0,this.additionalInfo=void 0,this.actionLinks=void 0,this.cardActionLinks=[],this.badges=void 0,this.type=void 0,this.identifier=void 0,this.corners=a.b.square,this.titleTag="div",this.showAdditionalInfo=!0,this.showAllAdditionalInfo=!1,this.shadow=void 0,this.showBadges=!0,this.showType=!0,this.showOwner=!0,this.clickable=!1,Object(s.a)(this,"onTitleLinkClick"),this.internalId=Object(l.a)("ahc")}get contentTypeIcon(){return"Feature Service"===this.model.type?"data":this.model.type?Object(d.d)(this.model.type):"file"}get primaryInfos(){if(this.showAdditionalInfo){let t=0
const e=this.model.additionalInfo||[]
return"row"===this.layout&&(t=this.hasPrimaryAction?2:4,this.showAllAdditionalInfo&&(t=e.length)),e.slice(0,t)}return[]}get secondaryInfos(){let t=[]
if(this.showAdditionalInfo){const e=this.primaryInfos.length,i=4-this.secondaryActions.length+e
t=(this.model.additionalInfo||[]).slice(e,i)}return t}get hasPopoverContent(){return!(!this.secondaryActions.length&&!this.secondaryInfos.length)}get hasPrimaryAction(){return!!this.primaryActions.length}get primaryActions(){return(this.model.actionLinks||[]).slice(0,1).filter(t=>t.action||t.href)}get secondaryActions(){return(this.model.actionLinks||[]).slice(1,3).filter(t=>t.action||t.href)}get isClickable(){var t
return this.clickable&&!!(null===(t=this.model)||void 0===t?void 0:t.titleUrl)}async componentWillLoad(){this.intl=await r.a.loadIntlForComponent(this.element)}async componentWillRender(){if(!this.model){let t={additionalInfo:[],actionLinks:[]};["summary","source","thumbnailUrl","family","type"].forEach(e=>{t=Object(l.d)(e,this[e],t)}),t=Object(l.d)("id",this.identifier,t),t=Object(l.d)("title",this.itemTitle,t),this.additionalInfo&&(t.additionalInfo=this.additionalInfo.split("|").map(t=>({i18nKey:t.split(":")[0],value:t.split(":")[1]}))),this.actionLinks&&(console.info("Action links are deprecated - use cardActionLinks instead"),t.actionLinks=this.actionLinks.split("|").map(t=>{const e=t.split(":")
let i={action:e[0]}
return i=Object(l.d)("icon",e[1],i),i=Object(l.d)("label",e[2],i),i})),this.cardActionLinks&&(t.actionLinks=this.cardActionLinks),this.badges&&(t.badges=this.badges.split("|").map(t=>{const e=t.split(":")
let i={color:e[0]}
return i=Object(l.d)("icon",e[1],i),i=Object(l.d)("label",e[2],i),i})),this.model=t}}handelCardSelectEvent(){this.selected=!this.selected,this.arcgisHubCardSelect.emit(this.model)}get _thumbnailUrl(){var t,e
const{model:i}=this
let n
if(i.thumbnailUrl){n=i.thumbnailUrl
const r=null===(e=null===(t=Object(c.b)())||void 0===t?void 0:t.session)||void 0===e?void 0:e.token
if(r&&"public"!==i.access){const t=new URL(n)
t.searchParams.append("token",r),n=t.toString()}const a=new URL(n)
a.searchParams.append("w","400"),n=a.toString()}return n}get _fallbackUrl(){const{model:t}=this,e="Group"===t.type?"./assets/groups-fallback.png":"./assets/content-fallback.png"
return Object(n.f)(e)}renderThumbnail(t){let e
if(this.showThumbnail&&!this.loading)if("User"===t.type||"channel"===t.type)e=this.renderAvatar(t)
else{const i=this.getThumbnailClassName(t)
e=this.imageType===a.d.thumbnail?Object(n.i)("arcgis-hub-image",{alt:this.intl.t("thumbnail"),class:i,fallback:this._fallbackUrl,lazy:this.lazy,src:this._thumbnailUrl}):Object(n.i)("div",{class:"icon-container"},Object(n.i)("calcite-icon",{icon:this.contentTypeIcon,scale:"l"}))}return this.isClickable?Object(n.i)("a",{href:t.titleUrl,slot:"thumbnail",target:this.newTab?"_blank":"_self"},e):Object(n.i)("div",{slot:"thumbnail"},e)}getThumbnailClassName(t){let e="content-thumbnail"
return"Group"===t.type&&(e="group-thumbnail"),"Image"===t.type&&(e="image-thumbnail"),e}configureFullNameAvatar(t){var e
let i=t.title
return!t.thumbnailUrl&&t.title&&-1===(null===(e=null==t?void 0:t.title)||void 0===e?void 0:e.indexOf(" "))&&(i=(0===t.title.indexOf("@")?t.title.substring(1,3):t.title.substring(0,2)).split("").join(" ")),i}renderAvatar(t){return Object(n.i)("div",{class:"avatar-container"},Object(n.i)("calcite-avatar",{class:{"full-size-avatar":"row"===this.layout,"initials-avatar":"row"===this.layout&&!t.thumbnailUrl},"full-name":this.configureFullNameAvatar(t),scale:"l",thumbnail:t.thumbnailUrl,username:t.source}))}renderCardTitle(t){const{titleUrl:e,title:i}=t
if(i){const r=this.titleTag
return e?Object(n.i)(r,{class:"title",slot:"title"},Object(n.i)("a",{href:e,onClick:this.onTitleLinkClick,target:this.newTab?"_blank":"_self"},t.title)):Object(n.i)(r,{class:"title",slot:"title"},Object(n.i)("span",null,i))}}onTitleLinkClick(t){this.arcgisHubCardTitleLinkClick.emit({model:this.model,event:t})}renderFooter(){const t=[]
this.primaryInfos.length&&t.push(Object(n.i)("dl",{slot:"footer-start"},this.renderAdditionalInfo(this.primaryInfos)))
const e=this.element.querySelector('[slot="actions"]')
return(this.primaryActions.length||e)&&t.push(Object(n.i)("div",{slot:"footer-end"},Object(n.i)("slot",{name:"actions"}),this.renderActions(this.primaryActions,"solid"))),t}renderAdditionalInfo(t){return t.map(t=>Object(n.i)("div",{"data-test":t.i18nKey,key:t.i18nKey},Object(n.i)("dt",null,this.intl.t(t.i18nKey)),Object(n.i)("dd",null,t.value)))}renderPopoverAdditionalInfo(){if(this.secondaryInfos.length)return Object(n.i)("dl",null,this.renderAdditionalInfo(this.secondaryInfos))}actionHandler(t,e){console.log("arcgisHubCardAction",[t,e]),this.arcgisHubCardAction.emit({action:t,model:e})}renderActions(t,e="outline"){return t.map((t,i)=>{let r=t.label
!r&&t.i18nKey&&(r=this.intl.t(t.i18nKey))
const a=t.action&&this.actionHandler.bind(this,t.action,this.model)
return Object(n.i)("calcite-button",{appearance:t.buttonStyle||e,color:"blue",href:t.href,iconStart:t.icon,key:i,label:r,onClick:a||void 0,width:"full"},t.showLabel&&r)})}renderHeader(t){const e=this.showType&&!["Group","User"].includes(this.model.type)
if(e||this.showBadges||this.hasPopoverContent){let i=this.intl.t(t.family||"other")
return"Feature Service"===t.type&&(i=this.intl.t("dataset")),Object(n.i)("div",{slot:"title"},e&&Object(n.i)("div",{class:"content-type"},Object(n.i)(n.a,null,Object(n.i)("calcite-icon",{icon:this.contentTypeIcon}),Object(n.i)("span",null,i))),this.showBadges&&this.renderChips(t),this.hasPopoverContent&&this.renderPopover())}}renderChips(t){const e=(t.badges||[]).map((t,e)=>{var i,r
const a=(t.i18nKey?this.intl.t(t.i18nKey):t.label)||null,o=(null===(i=t.tooltip)||void 0===i?void 0:i.i18nKey)?this.intl.t(t.tooltip.i18nKey):null===(r=t.tooltip)||void 0===r?void 0:r.label,s=t.color?"chip-color-"+t.color:null
return Object(n.i)("arcgis-ref-tooltip",{key:e,overlayPositioning:"fixed",placement:"top",text:o},Object(n.i)("calcite-chip",{class:s,icon:t.icon,label:a,scale:"s",value:a},!t.hideLabel&&a))})
return Object(n.i)("div",{class:"chips"},e)}renderPopover(){return Object(n.i)("div",{class:"popover-container"},Object(n.i)("calcite-popover",{"auto-close":!0,label:this.intl.t("additionalInfo"),overlayPositioning:"fixed",placement:"bottom-end",referenceElement:"popover-toggle"},Object(n.i)("div",{class:"popover-content"},this.renderPopoverAdditionalInfo(),this.renderActions(this.secondaryActions))),Object(n.i)("calcite-icon",{icon:"ellipsis",id:"popover-toggle",scale:"s"}))}renderSourceSlot(t){if(this.showOwner)return"Group"!==t.type?Object(n.i)("div",{class:"owner",slot:"subtitle"},t.source):Object(n.i)("arcgis-hub-group-member-summary",{identifier:t.id,slot:"subtitle"})}renderLayout(t,e=!1){let i="card"===this.layout?"block-start":"inline-start"
return this.showThumbnail||(i="block-start"),Object(n.i)(n.b,null,Object(n.i)("calcite-card",{dir:this.intl.direction,loading:e,selectable:this.selectable,selected:this.selected,thumbnailPosition:i},this.renderThumbnail(t),this.renderHeader(t),this.renderCardTitle(t),this.renderSourceSlot(t),Object(n.i)("div",{class:"snippet"},this.sanitizer.sanitize(t.summary)),this.renderFooter()))}render(){return this.model?this.renderLayout(this.model,this.loading):"No data."}static get assetsDirs(){return["assets","locales"]}get element(){return Object(n.c)(this)}}
m.style=":host{display:block;height:100%}:host([corners=\"round\"]){--calcite-border-radius-base:10px;border-radius:var(--calcite-border-radius-base)}:host([corners=\"round\"]) calcite-card{border-radius:var(--calcite-border-radius-base)}:host([shadow=\"low\"]) calcite-card{--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([shadow=\"medium\"]) calcite-card{--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([shadow=\"heavy\"]) calcite-card{--tw-shadow:0 12px 32px -2px rgba(0, 0, 0, 0.1), 0 4px 20px 0 rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 12px 32px -2px var(--tw-shadow-color), 0 4px 20px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}h1,h2,h3,h4,h5,h6{font-family:var(--hub-heading-family, inherit)}calcite-card{height:100%}[slot=\"title\"]{display:flex;justify-content:space-between;gap:0.5rem}.content-type{margin-bottom:0.5rem;display:flex;align-items:center;gap:0.25rem;font-weight:var(--calcite-font-weight-bold)}.title>*{width:100%;font-size:var(--calcite-font-size-2);line-height:1.5rem;font-weight:var(--calcite-font-weight-medium);overflow-wrap:anywhere}.title a{color:var(--calcite-ui-text-link);-webkit-text-decoration-line:var(--hub-text-decoration, underline);text-decoration-line:var(--hub-text-decoration, underline)}:host([clickable]) .title a::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:auto;content:\"\";background-color:rgba(0,0,0,0)}.owner{margin-top:0.5rem;font-size:var(--calcite-font-size--0);line-height:1.375rem;font-weight:var(--calcite-font-weight-medium)}.snippet{margin-left:0px;margin-right:0px;font-size:var(--calcite-font-size-0);line-height:1.25rem;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;padding-bottom:0.14rem;overflow-wrap:anywhere;color:var(--hub-gallery-body-text)}dl[slot='footer-start']{margin:0px;display:grid;width:100%;gap:0.25rem;font-size:var(--calcite-font-size--1);line-height:normal;grid-template-columns:repeat(auto-fill, minmax(max(200px, (100% - (2 - 1) * 0.25rem) / 2), 1fr))}calcite-popover dl>div,dl[slot='footer-start']>div{display:flex;gap:0.25rem;overflow:hidden;white-space:nowrap}calcite-popover dt::after,dl[slot='footer-start'] dt::after{content:':'}calcite-popover dd,dl[slot='footer-start'] dd{margin:0px;overflow:hidden;text-overflow:ellipsis;font-weight:var(--calcite-font-weight-bold)}.chips{margin-left:auto;display:flex;gap:0.25rem}.popover-container{position:relative}.chips calcite-chip.chip-color-blue{color:var(--calcite-ui-foreground-1);background-color:var(--calcite-ui-brand)}.chips calcite-chip.chip-color-red{color:var(--calcite-ui-foreground-1);background-color:var(--calcite-ui-danger)}.chips calcite-chip.chip-color-yellow{color:var(--calcite-ui-foreground-1);background-color:var(--calcite-ui-warning)}.chips calcite-chip.chip-color-green{color:var(--calcite-ui-foreground-1);background-color:var(--calcite-ui-success)}.chips calcite-chip.chip-color-gray{color:var(--calcite-ui-text-1);background-color:var(--calcite-ui-border-3)}calcite-popover .popover-content{display:flex;flex-direction:column;align-items:stretch;gap:0.25rem;padding:0.5rem;width:max-content;max-width:14.5rem;}calcite-popover .popover-content:lang(el){font-size:var(--calcite-font-size--3)}calcite-popover dl{margin:0.5rem;display:flex;flex-direction:column;gap:0.25rem}#popover-toggle{vertical-align:middle}*[slot=\"thumbnail\"]{display:block;height:100%;width:100%}.avatar-container,.icon-container{display:grid;height:100%;width:100%;align-content:center;justify-content:center;color:var(--calcite-ui-brand)}.avatar-container calcite-avatar{height:6rem;width:6rem}.icon-container calcite-icon{height:4rem;width:4rem}:host([selectable]) [slot=\"title\"]{margin-right:1.5rem}:host([layout='card']) calcite-card{height:100%;width:100%}:host([layout='card']) .avatar-container,:host([layout='card']) .icon-container{padding-top:0.5rem;padding-bottom:0.5rem}:host([layout='card']) .title{height:3rem}:host([layout='card']) .title>*{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}:host([layout='card']) .owner{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}:host([layout=\"card\"]) [slot=\"footer-end\"]{width:100%}:host([layout='row']) .title>*{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}@media only screen and (min-width: 769px){:host([layout='row']) .title>*{display:inline}:host([layout='row']) .title>*{overflow:visible}:host([layout='row']) .title>*{-webkit-line-clamp:unset}}:host([layout='row']) .owner{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}:host([layout=\"row\"]) .snippet{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}:host([layout=\"row\"]) [slot=\"footer-end\"]{margin-left:auto}"
const b=class{constructor(t){Object(n.k)(this,t),this._context=Object(c.b)(),this.identifier=void 0,this.membershipSummary=void 0,this.hasMembersError=!1}connectedCallback(){Object(c.a)(this)}disconnectedCallback(){this.disconnectContext()}async componentWillLoad(){this.intl=await r.a.loadIntlForComponent(this.element),this.membershipSummary||this.fetchMembers()}async fetchMembers(){try{const t=this._context
if(this.hasMembersError=!1,t&&(null==this?void 0:this.identifier)){const e={num:3,sortField:"memberType"};(null==t?void 0:t.session)?e.authentication=t.session:e.portal=t.sharingApiUrl
const i=await Object(u.c)(this.identifier,e)
this.membershipSummary={total:i.total,users:i.users}}}catch(t){this.hasMembersError=!0,console.error("Error fetching group members:",t.message)}}getMemberCount(t){return 0===t?this.intl.t("noMember"):1===t?this.intl.t("oneMember"):this.intl.t("members",{count:t})}renderMembers(t){const e=this._context
if(!this.hasMembersError){let i="&nbsp;"
return t&&(i=Object(n.i)(n.a,null,Object(n.i)("div",{class:"members-inner"},t.users.map(t=>{var i
const r=e?Object(h.e)(e.sharingApiUrl,t,null===(i=e.session)||void 0===i?void 0:i.token):void 0
return Object(n.i)("calcite-avatar",{fullName:t.fullName,key:t.username,scale:"s",thumbnail:r,username:t.username})})),Object(n.i)("span",{class:"members-count"},this.getMemberCount(t.total)))),Object(n.i)("div",{class:{"members-container":!0,loading:!t},slot:"subtitle"},i)}}render(){return Object(n.i)(n.b,null,this.renderMembers(this.membershipSummary))}static get assetsDirs(){return["locales"]}get element(){return Object(n.c)(this)}static get watchers(){return{identifier:["fetchMembers"],_context:["fetchMembers"]}}}
b.style=":host{display:block}.members-container.loading{position:relative}.members-container.loading:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0}@keyframes shimmer{0%{background-size:200% 100%;background-position:100% 0}100%{background-size:200% 100%;background-position:-100% 0}}.members-container.loading:after{animation:shimmer 2s cubic-bezier(0.4, 0, 0.2, 0.8) infinite;background-image:linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0) 60%, rgba(255, 255, 255, 0) 100%);background-color:var(--calcite-ui-foreground-3)}.members-container.loading{height:1.5rem}.members-container{display:flex;align-items:center;gap:0.25rem;font-weight:var(--calcite-font-weight-medium)}.members-inner{display:flex}.members-inner calcite-avatar{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}.members-inner calcite-avatar:nth-child(n+2){margin-left:-10px}.members-count{font-size:var(--calcite-font-size-0);line-height:1.25rem}"
const p={rootMargin:"10%"}
class f{constructor(){this.intersectionObserver=new IntersectionObserver(this.onEnteredViewport.bind(this),p),this.handlers=new WeakMap}static create(){return f.instance||(f.instance=new f),f.instance}static addHandler(t,e){this.create(),this.instance.addHandler(t,e)}static removeHandler(t,e){this.instance&&this.instance.removeHandler(t,e)}static unobserve(t){this.instance&&this.instance.unobserve(t)}addHandler(t,e){this.handlers.has(t)||(this.handlers.set(t,[]),this.intersectionObserver.observe(t))
const i=this.handlers.get(t)
i.includes(e)||i.push(e)}removeHandler(t,e){if(this.handlers.has(t)){const i=this.handlers.get(t),n=i.indexOf(e),r=i.filter((t,e)=>e!==n)
r.length?this.handlers.set(t,r):(this.handlers.delete(t),this.intersectionObserver.unobserve(t))}}unobserve(t){this.handlers.has(t)&&(this.handlers.delete(t),this.intersectionObserver.unobserve(t))}onEnteredViewport(t){requestAnimationFrame(e=>{t.forEach(t=>{var e
t.isIntersecting&&(null!==(e=this.handlers.get(t.target))&&void 0!==e?e:[]).forEach(t=>t())})})}}const g=class{constructor(t){Object(n.k)(this,t),this.src=void 0,this.alt=void 0,this.fallback=void 0,this.lazy=!1,this.corners=a.b.square,this.hasError=!1,this.inViewport=!1,Object(s.a)(this,"setImageEl","handleIntersection")}get _imageUrl(){let t=this.src
return this.src||(t=this.fallback),this.hasError&&(t=this.fallback),this.lazy&&!this.inViewport&&(t=void 0),t}componentWillLoad(){this.lazy&&this.observe()}disconnectedCallback(){this.lazy&&this.unobserve()}observe(){f.addHandler(this.element,this.handleIntersection)}unobserve(){f.unobserve(this.element)}srcUpdated(){this.hasError=!1}handleIntersection(){this.inViewport=!0,this.unobserve()}setImageEl(t){this.imageEl=t}componentDidRender(){if(this.imageEl){const t=()=>{this.hasError=!0,this.imageEl.removeEventListener("error",t)}
this.imageEl.addEventListener("error",t)}}renderImage(){return this._imageUrl&&Object(n.i)("img",{alt:this.alt,class:{"rounded-corners":this.corners===a.b.round},ref:this.setImageEl,src:this._imageUrl})}render(){return Object(n.i)(n.b,{"data-element":"image"},this.renderImage())}get element(){return Object(n.c)(this)}static get watchers(){return{src:["srcUpdated"]}}}
g.style=":host{display:block;width:100%}:host(.group-thumbnail)>img{display:block;aspect-ratio:200 / 133;object-fit:cover}img{display:block;width:100%}.rounded-corners{border-radius:0.75rem}:host(.image-thumbnail)>img{height:16rem;width:100%;object-fit:cover}"
const v=class{constructor(t){Object(n.k)(this,t),this.overlayPositioning="fixed",this.placement="auto",this.text=void 0,this.tooltipRef=void 0}render(){return Object(n.i)(n.b,null,Object(n.i)("div",{ref:t=>this.tooltipRef=t},Object(n.i)("slot",null)),this.text&&this.tooltipRef&&Object(n.i)("calcite-tooltip",{overlayPositioning:this.overlayPositioning,placement:this.placement,referenceElement:this.tooltipRef},this.text))}}}}])
