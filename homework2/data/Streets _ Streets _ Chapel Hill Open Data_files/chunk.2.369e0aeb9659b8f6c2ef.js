(window.webpackJsonp_ember_auto_import_=window.webpackJsonp_ember_auto_import_||[]).push([[2],{1005:function(t,e,r){"use strict"
var o,s,a
let l
r.d(e,"a",(function(){return d})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return p}))
const i=null!=(o=null==(s=globalThis.esriConfig)?void 0:s.locale)?o:null==(a=globalThis.dojoConfig)?void 0:a.locale
function n(){var t,e
return null!=(t=null!=i?i:null==(e=globalThis.navigator)?void 0:e.language)?t:"en"}function u(){return void 0===l&&(l=n()),l}const c=[]
function p(t){return c.push(t),{remove(){c.splice(c.indexOf(t),1)}}}const b=[]
function d(t){return b.push(t),{remove(){c.splice(b.indexOf(t),1)}}}null==globalThis.addEventListener||globalThis.addEventListener("languagechange",(function(){const t=null!=void 0?void 0:n()
l!==t&&(l=t,[...b].forEach(e=>{e.call(null,t)}),[...c].forEach(e=>{e.call(null,t)}))}))},1028:function(t,e,r){"use strict"
r.d(e,"a",(function(){return C}))
var o=r(968),s=r(110),a=r(196),l=r(771),i=r(446),n=r(972),u=r(1046),c=r(23),p=r(973),b=r(970),d=r(971),h=(r(445),r(977)),O=r(969),y=r(770),j=r(1005),m=r(1466),v=r(975)
let f=class extends v.a{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}}
Object(o.a)([Object(b.b)()],f.prototype,"nextQueryParams",void 0),Object(o.a)([Object(b.b)()],f.prototype,"queryParams",void 0),Object(o.a)([Object(b.b)()],f.prototype,"results",void 0),Object(o.a)([Object(b.b)()],f.prototype,"total",void 0),f=Object(o.a)([Object(O.a)("esri.portal.PortalQueryResult")],f)
const g=f
var S,P=r(1542),w=r(1146)
let q
const G={PortalGroup:()=>Promise.resolve().then(r.bind(null,2906)),PortalItem:()=>r.e(87).then(r.bind(null,1154)),PortalUser:()=>Promise.resolve().then(r.bind(null,1542))}
let U=S=class extends(Object(n.b)(u.a)){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=s.default.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return"string"==typeof t?{url:t}:t}destroy(){this._esriIdCredentialCreateHandle=Object(c.s)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)s.default.request.trustedServers.includes(e)||s.default.request.trustedServers.push(e)
return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=!(this.user&&this.user.orgId)||this.canSearchPublic
return this.id&&!t?" AND orgid:"+this.id:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?this.url+"/home/item.html":null}get restUrl(){let t=this.url
if(t){const e=t.indexOf("/sharing")
t=e>0?t.substring(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail
return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t?t.toLowerCase():t}readUser(t){let e=null
return t&&(e=P.default.fromJSON(t),e.portal=this),e}load(t){const e=Promise.all([r.e(273),r.e(759)]).then(r.bind(null,782)).then(({default:e})=>{Object(p.q)(t),q=e}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(t=>{if(a.b){const t=a.b
this.credential=t.findCredential(this.restUrl),this.credential||this.authMode!==S.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle=t.on("credential-create",()=>{t.findCredential(this.restUrl)&&this.signIn().catch(()=>{})}))}this.sourceJSON=t,this.read(t)})
return this.addResolvingPromise(e),Promise.resolve(this)}async createElevationLayers(){await this.load()
const t=this._getHelperService("defaultElevationLayers"),e=(await Promise.all([r.e(1),r.e(16),r.e(23),r.e(30),r.e(204)]).then(r.bind(null,2290))).default
return t?t.map(t=>new e({id:t.id,url:t.url})):[]}fetchBasemaps(t,e){const r=new m.a
return r.query=t||(s.default.apiKey&&Object(w.a)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,e).then(t=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',t.total){const o=t.results[0]
return r.sortField=o.sortField||"name",r.sortOrder=o.sortOrder||"desc",o.queryItems(r,e)}return null}).then(t=>{let e
return e=t&&t.total?t.results.filter(t=>"Web Map"===t.type).map(t=>new q({portalItem:t})):[],e})}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(t=>t.categorySchema):Object(p.k)(t)?Promise.reject(Object(p.c)()):Promise.resolve([])}fetchFeaturedGroups(t){const e=this.featuredGroups,r=new m.a
if(r.num=100,r.sortField="title",e&&e.length){const o=[]
for(const t of e)o.push(`(title:"${t.title}" AND owner:${t.owner})`)
return r.query=o.join(" OR "),this.queryGroups(r,t).then(t=>t.results)}return Object(p.k)(t)?Promise.reject(Object(p.c)()):Promise.resolve([])}fetchRegions(t){var e
const r=(null==(e=this.user)?void 0:e.culture)||this.culture||Object(j.b)()
return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:r}})}fetchSettings(t){var e
const r=(null==(e=this.user)?void 0:e.culture)||this.culture||Object(j.b)()
return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:r}})}static getDefault(){return S._default&&!S._default.destroyed||(S._default=new S),S._default}queryGroups(t,e){return this.queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this.queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",e)}fetchSelf(t=this.authMode,e=!1,r){const o=this.restUrl+"/portals/self",s={authMode:t,query:{culture:Object(j.b)().toLowerCase()},...r}
return"auto"===s.authMode&&(s.authMode="no-prompt"),e&&(s.query.default=!0),this.request(o,s)}queryPortal(t,e,r,o){const s=Object(d.m)(m.a,e),a=e=>this.request(this.restUrl+t,{...s.toRequestOptions(this),...o}).then(t=>{const r=s.clone()
return r.start=t.nextStart,new g({nextQueryParams:r,queryParams:s,total:t.total,results:S._resultsToTypedArray(e,{portal:this},t,o)})}).then(t=>Promise.all(t.results.map(e=>"function"==typeof e.when?e.when():t)).then(()=>t,e=>(Object(p.p)(e),t)))
return r&&G[r]?G[r]().then(({default:t})=>(Object(p.q)(o),a(t))):a()}signIn(){if(this.authMode===S.AUTH_MODE_ANONYMOUS)return Promise.reject(new i.a("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`))
if("failed"===this.loadStatus)return Promise.reject(this.loadError)
const t=t=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(t||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(t=>{t&&(this.sourceJSON=t,this.read(t))})
return a.b?a.b.getCredential(this.restUrl).then(e=>t(e)):t(this.credential)}normalizeUrl(t){const e=this.credential&&this.credential.token
return this._normalizeSSL(e?t+(t.includes("?")?"&":"?")+"token="+e:t)}requestToTypedArray(t,e,r){return this.request(t,e).then(t=>{const e=S._resultsToTypedArray(r,{portal:this},t)
return Promise.all(e.map(e=>"function"==typeof e.when?e.when():t)).then(()=>e,()=>e)})}request(t,e={}){const r={f:"json",...e.query},{authMode:o=(this.authMode===S.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:s=null,cacheBust:a=!1,method:i="auto",responseType:n="json",signal:u}=e,c={authMode:o,body:s,cacheBust:a,method:i,query:r,responseType:n,timeout:0,signal:u}
return Object(l.default)(this._normalizeSSL(t),c).then(t=>t.data)}toJSON(){throw new i.a("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null
if(t.declaredClass)throw new Error("JSON object is already hydrated")
return new S({sourceJSON:t})}_getHelperService(t){const e=this.helperServices&&this.helperServices[t]
if(!e)throw new i.a("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`)
return e}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const e=q.fromJSON(t)
return e.portalItem={portal:this},e}return null}static _resultsToTypedArray(t,e,r,o){let s=[]
if(r){const a=Object(c.l)(o)?o.signal:null
s=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(t||e)&&(s=s.map(r=>{const o=Object.assign(t?t.fromJSON(r):r,e)
return"function"==typeof o.load&&o.load(a),o}))}else s=[]
return s}}
U.AUTH_MODE_ANONYMOUS="anonymous",U.AUTH_MODE_AUTO="auto",U.AUTH_MODE_IMMEDIATE="immediate",Object(o.a)([Object(b.b)()],U.prototype,"access",void 0),Object(o.a)([Object(b.b)()],U.prototype,"allSSL",void 0),Object(o.a)([Object(b.b)()],U.prototype,"authMode",void 0),Object(o.a)([Object(b.b)()],U.prototype,"authorizedCrossOriginDomains",void 0),Object(o.a)([Object(h.a)("authorizedCrossOriginDomains")],U.prototype,"readAuthorizedCrossOriginDomains",null),Object(o.a)([Object(b.b)()],U.prototype,"basemapGalleryGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"bingKey",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canListApps",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canListData",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canListPreProvisionedItems",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canProvisionDirectPurchase",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canSearchPublic",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canShareBingPublic",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canSharePublic",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canSignInArcGIS",void 0),Object(o.a)([Object(b.b)()],U.prototype,"canSignInIDP",void 0),Object(o.a)([Object(b.b)()],U.prototype,"colorSetsGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"commentsEnabled",void 0),Object(o.a)([Object(b.b)({type:Date})],U.prototype,"created",void 0),Object(o.a)([Object(b.b)()],U.prototype,"credential",void 0),Object(o.a)([Object(b.b)()],U.prototype,"culture",void 0),Object(o.a)([Object(b.b)()],U.prototype,"currentVersion",void 0),Object(o.a)([Object(b.b)()],U.prototype,"customBaseUrl",void 0),Object(o.a)([Object(b.b)()],U.prototype,"defaultBasemap",void 0),Object(o.a)([Object(h.a)("defaultBasemap")],U.prototype,"readDefaultBasemap",null),Object(o.a)([Object(b.b)()],U.prototype,"defaultDevBasemap",void 0),Object(o.a)([Object(h.a)("defaultDevBasemap")],U.prototype,"readDefaultDevBasemap",null),Object(o.a)([Object(b.b)({type:y.default})],U.prototype,"defaultExtent",void 0),Object(o.a)([Object(b.b)()],U.prototype,"defaultVectorBasemap",void 0),Object(o.a)([Object(h.a)("defaultVectorBasemap")],U.prototype,"readDefaultVectorBasemap",null),Object(o.a)([Object(b.b)()],U.prototype,"description",void 0),Object(o.a)([Object(b.b)()],U.prototype,"devBasemapGalleryGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"eueiEnabled",void 0),Object(o.a)([Object(b.b)({readOnly:!0})],U.prototype,"extraQuery",null),Object(o.a)([Object(b.b)()],U.prototype,"featuredGroups",void 0),Object(o.a)([Object(b.b)()],U.prototype,"featuredItemsGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"galleryTemplatesGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"livingAtlasGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"hasCategorySchema",void 0),Object(o.a)([Object(b.b)()],U.prototype,"helpBase",void 0),Object(o.a)([Object(b.b)()],U.prototype,"helperServices",void 0),Object(o.a)([Object(b.b)()],U.prototype,"helpMap",void 0),Object(o.a)([Object(b.b)()],U.prototype,"homePageFeaturedContent",void 0),Object(o.a)([Object(b.b)()],U.prototype,"homePageFeaturedContentCount",void 0),Object(o.a)([Object(b.b)()],U.prototype,"httpPort",void 0),Object(o.a)([Object(b.b)()],U.prototype,"httpsPort",void 0),Object(o.a)([Object(b.b)()],U.prototype,"id",void 0),Object(o.a)([Object(b.b)()],U.prototype,"ipCntryCode",void 0),Object(o.a)([Object(b.b)({readOnly:!0})],U.prototype,"isOrganization",null),Object(o.a)([Object(b.b)()],U.prototype,"isPortal",void 0),Object(o.a)([Object(b.b)()],U.prototype,"isReadOnly",void 0),Object(o.a)([Object(b.b)({readOnly:!0})],U.prototype,"itemPageUrl",null),Object(o.a)([Object(b.b)()],U.prototype,"layerTemplatesGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"maxTokenExpirationMinutes",void 0),Object(o.a)([Object(b.b)({type:Date})],U.prototype,"modified",void 0),Object(o.a)([Object(b.b)()],U.prototype,"name",void 0),Object(o.a)([Object(b.b)()],U.prototype,"portalHostname",void 0),Object(o.a)([Object(b.b)()],U.prototype,"portalMode",void 0),Object(o.a)([Object(b.b)()],U.prototype,"portalProperties",void 0),Object(o.a)([Object(b.b)()],U.prototype,"region",void 0),Object(o.a)([Object(b.b)({readOnly:!0})],U.prototype,"restUrl",null),Object(o.a)([Object(b.b)()],U.prototype,"rotatorPanels",void 0),Object(o.a)([Object(b.b)()],U.prototype,"showHomePageDescription",void 0),Object(o.a)([Object(b.b)()],U.prototype,"sourceJSON",void 0),Object(o.a)([Object(b.b)()],U.prototype,"staticImagesUrl",void 0),Object(o.a)([Object(b.b)({json:{name:"2DStylesGroupQuery"}})],U.prototype,"stylesGroupQuery2d",void 0),Object(o.a)([Object(b.b)({json:{name:"stylesGroupQuery"}})],U.prototype,"stylesGroupQuery3d",void 0),Object(o.a)([Object(b.b)()],U.prototype,"supportsHostedServices",void 0),Object(o.a)([Object(b.b)()],U.prototype,"symbolSetsGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"templatesGroupQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"thumbnail",void 0),Object(o.a)([Object(b.b)({readOnly:!0})],U.prototype,"thumbnailUrl",null),Object(o.a)([Object(b.b)()],U.prototype,"units",void 0),Object(o.a)([Object(b.b)()],U.prototype,"url",void 0),Object(o.a)([Object(b.b)()],U.prototype,"urlKey",void 0),Object(o.a)([Object(h.a)("urlKey")],U.prototype,"readUrlKey",null),Object(o.a)([Object(b.b)()],U.prototype,"user",void 0),Object(o.a)([Object(h.a)("user")],U.prototype,"readUser",null),Object(o.a)([Object(b.b)()],U.prototype,"useStandardizedQuery",void 0),Object(o.a)([Object(b.b)()],U.prototype,"useVectorBasemaps",void 0),Object(o.a)([Object(b.b)()],U.prototype,"vectorBasemapGalleryGroupQuery",void 0),U=S=Object(o.a)([Object(O.a)("esri.portal.Portal")],U)
const C=U},1466:function(t,e,r){"use strict"
r.d(e,"a",(function(){return y}))
var o,s=r(968),a=r(975),l=r(976),i=r(234),n=r(23),u=r(970),c=(r(971),r(969)),p=r(770),b=r(769),d=r(774)
const h=new l.a({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"})
let O=o=class extends a.a{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){"asc"!==t&&"desc"!==t||this._set("sortOrder",t)}clone(){return new o({categories:this.categories?Object(i.a)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let r=[]
this.categories&&(r=this.categories.map(t=>Array.isArray(t)?JSON.stringify(t):t))
let o=""
if(this.extent){const t=Object(d.project)(this.extent,b.default.WGS84)
Object(n.l)(t)&&(o=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let s=this.query
!this.disableExtraQuery&&t.extraQuery&&(s="("+s+")"+t.extraQuery)
const a={categories:r,bbox:o,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start}
return this.sortField&&(a.sortField=this.sortField.split(",").map(t=>h.toJSON(t.trim())).join(","),a.sortOrder=this.sortOrder),{query:{...e,...a}}}}
Object(s.a)([Object(u.b)()],O.prototype,"categories",void 0),Object(s.a)([Object(u.b)()],O.prototype,"disableExtraQuery",void 0),Object(s.a)([Object(u.b)({type:p.default})],O.prototype,"extent",void 0),Object(s.a)([Object(u.b)()],O.prototype,"filter",void 0),Object(s.a)([Object(u.b)()],O.prototype,"num",void 0),Object(s.a)([Object(u.b)()],O.prototype,"query",void 0),Object(s.a)([Object(u.b)()],O.prototype,"sortField",void 0),Object(s.a)([Object(u.b)()],O.prototype,"sortOrder",null),Object(s.a)([Object(u.b)()],O.prototype,"start",void 0),O=o=Object(s.a)([Object(c.a)("esri.portal.PortalQueryParams")],O)
const y=O},1542:function(t,e,r){"use strict"
r.r(e),r.d(e,"default",(function(){return d}))
var o=r(968),s=r(446),a=r(972),l=r(970),i=(r(971),r(445),r(969))
let n=class extends a.a{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.get("portal.restUrl")
return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new s.a("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}}
Object(o.a)([Object(l.b)({type:Date})],n.prototype,"created",void 0),Object(o.a)([Object(l.b)()],n.prototype,"id",void 0),Object(o.a)([Object(l.b)()],n.prototype,"portal",void 0),Object(o.a)([Object(l.b)()],n.prototype,"title",void 0),Object(o.a)([Object(l.b)({readOnly:!0})],n.prototype,"url",null),Object(o.a)([Object(l.b)()],n.prototype,"username",void 0),n=Object(o.a)([Object(i.a)("esri.portal.PortalFolder")],n)
const u=n
var c,p=r(2906)
let b=c=class extends a.a{constructor(...t){super(...t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail
return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.get("portal.restUrl")
return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.get("portal.restUrl")
return t?`${t}/community/users/${this.username}`:null}addItem(t){const e=t&&t.item,r=t&&t.data,o=t&&t.folder,s={method:"post"}
e&&(s.query=e.createPostQuery(),null!=r&&("string"==typeof r?s.query.text=r:"object"==typeof r&&(s.query.text=JSON.stringify(r))))
let a=this.userContentUrl
return o&&(a+="/"+("string"==typeof o?o:o.id)),this.portal.request(a+"/addItem",s).then(t=>(e.id=t.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}deleteItem(t){let e=this.userContentUrl
return t.ownerFolder&&(e+="/"+t.ownerFolder),this.portal.request(e+`/items/${t.id}/delete`,{method:"post"}).then(()=>{t.id=null,t.portal=null})}deleteItems(t){const e=this.userContentUrl+"/deleteItems",r=t.map(t=>t.id)
if(r.length){const o={method:"post",query:{items:r.join(",")}}
return this.portal.request(e,o).then(()=>{t.forEach(t=>{t.id=null,t.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){var t
return this.portal.request(null!=(t=this.userContentUrl)?t:"",{query:{num:1}}).then(t=>{let e
return e=t&&t.folders?t.folders.map(t=>{const e=u.fromJSON(t)
return e.portal=this.portal,e}):[],e})}fetchGroups(){var t
return this.portal.request(null!=(t=this.url)?t:"").then(t=>{let e
return e=t&&t.groups?t.groups.map(t=>{const e=p.default.fromJSON(t)
return e.portal=this.portal,e}):[],e})}fetchItems(t){var e
const o=null!=t?t:{}
let s,a=null!=(e=this.userContentUrl)?e:""
return o.folder&&(a+="/"+o.folder.id),r.e(87).then(r.bind(null,1154)).then(({default:t})=>{s=t
const e={folders:!1,num:o.num||10,start:o.start||1,sortField:o.sortField||"created",sortOrder:o.sortOrder||"asc"}
return this.portal.request(a,{query:e})}).then(t=>{let e
return t&&t.items?(e=t.items.map(t=>{const e=s.fromJSON(t)
return e.portal=this.portal,e}),Promise.all(e.map(t=>t.load())).catch(t=>t).then(()=>({items:e,nextStart:t.nextStart,total:t.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl
return e&&t&&(e+="&w="+t),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new p.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new s.a("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new s.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null
if(t.declaredClass)throw new Error("JSON object is already hydrated")
const e=new c
return e.sourceJSON=t,e.read(t),e}}
Object(o.a)([Object(l.b)()],b.prototype,"access",void 0),Object(o.a)([Object(l.b)({type:Date})],b.prototype,"created",void 0),Object(o.a)([Object(l.b)()],b.prototype,"culture",void 0),Object(o.a)([Object(l.b)()],b.prototype,"description",void 0),Object(o.a)([Object(l.b)()],b.prototype,"email",void 0),Object(o.a)([Object(l.b)()],b.prototype,"favGroupId",void 0),Object(o.a)([Object(l.b)()],b.prototype,"fullName",void 0),Object(o.a)([Object(l.b)({type:Date})],b.prototype,"modified",void 0),Object(o.a)([Object(l.b)()],b.prototype,"orgId",void 0),Object(o.a)([Object(l.b)()],b.prototype,"portal",void 0),Object(o.a)([Object(l.b)()],b.prototype,"preferredView",void 0),Object(o.a)([Object(l.b)()],b.prototype,"privileges",void 0),Object(o.a)([Object(l.b)()],b.prototype,"region",void 0),Object(o.a)([Object(l.b)()],b.prototype,"role",void 0),Object(o.a)([Object(l.b)()],b.prototype,"roleId",void 0),Object(o.a)([Object(l.b)()],b.prototype,"sourceJSON",void 0),Object(o.a)([Object(l.b)()],b.prototype,"thumbnail",void 0),Object(o.a)([Object(l.b)({readOnly:!0})],b.prototype,"thumbnailUrl",null),Object(o.a)([Object(l.b)()],b.prototype,"units",void 0),Object(o.a)([Object(l.b)({readOnly:!0})],b.prototype,"userContentUrl",null),Object(o.a)([Object(l.b)({readOnly:!0})],b.prototype,"url",null),Object(o.a)([Object(l.b)()],b.prototype,"username",void 0),Object(o.a)([Object(l.b)()],b.prototype,"userType",void 0),b=c=Object(o.a)([Object(i.a)("esri.portal.PortalUser")],b)
const d=b},2906:function(t,e,r){"use strict"
r.r(e),r.d(e,"default",(function(){return b}))
var o=r(968),s=r(446),a=r(972),l=r(23),i=r(970),n=r(971),u=(r(445),r(969)),c=r(1466)
let p=class extends a.a{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){var t
const e=this.url,r=this.thumbnail
return e&&r&&this.portal?null==(t=this.portal)?void 0:t.normalizeUrl(`${e}/info/${r}?f=json`):null}get url(){const t=this.get("portal.restUrl")
return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return Object(l.w)(this.portal).request(this.url+"/categorySchema",t).then(e=>{const r=e.categorySchema||[]
return r.some(t=>"contentCategorySetsGroupQuery.LivingAtlas"===t.source)?this._fetchCategorySchemaSet("LivingAtlas",t):r})}fetchMembers(t){return Object(l.w)(this.portal).request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl
return e&&t&&(e+="&w="+t),e}toJSON(){throw new s.a("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(t,e){let r=Object(n.m)(c.a,t)
const o=Object(l.w)(this.portal)
return parseFloat(o.currentVersion)>5?(r=r||new c.a,o.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",e)):(r=r?r.clone():new c.a,r.query="group:"+this.id+(r.query?" "+r.query:""),o.queryItems(r,e))}_fetchCategorySchemaSet(t,e){const r=Object(l.w)(this.portal)
return r.fetchSelf(r.authMode,!0,e).then(t=>{const o=t.contentCategorySetsGroupQuery
if(o){const t=new c.a
return t.disableExtraQuery=!0,t.num=1,t.query=o,r.queryGroups(t,e)}throw new s.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const o=r.results[0],s=new c.a
return s.num=1,s.query=`typekeywords:"${t}"`,o.queryItems(s,e)}throw new s.a("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(t=>t.total?t.results[0].fetchData("json",e).then(t=>{const e=t&&t.categorySchema
return e&&e.length?e:[]}):[])}}
Object(o.a)([Object(i.b)()],p.prototype,"access",void 0),Object(o.a)([Object(i.b)({type:Date})],p.prototype,"created",void 0),Object(o.a)([Object(i.b)()],p.prototype,"description",void 0),Object(o.a)([Object(i.b)()],p.prototype,"id",void 0),Object(o.a)([Object(i.b)()],p.prototype,"isInvitationOnly",void 0),Object(o.a)([Object(i.b)({type:Date})],p.prototype,"modified",void 0),Object(o.a)([Object(i.b)()],p.prototype,"owner",void 0),Object(o.a)([Object(i.b)()],p.prototype,"portal",void 0),Object(o.a)([Object(i.b)()],p.prototype,"snippet",void 0),Object(o.a)([Object(i.b)()],p.prototype,"sortField",void 0),Object(o.a)([Object(i.b)()],p.prototype,"sortOrder",void 0),Object(o.a)([Object(i.b)()],p.prototype,"tags",void 0),Object(o.a)([Object(i.b)()],p.prototype,"thumbnail",void 0),Object(o.a)([Object(i.b)({readOnly:!0})],p.prototype,"thumbnailUrl",null),Object(o.a)([Object(i.b)()],p.prototype,"title",void 0),Object(o.a)([Object(i.b)({readOnly:!0})],p.prototype,"url",null),p=Object(o.a)([Object(u.a)("esri.portal.PortalGroup")],p)
const b=p}}])
