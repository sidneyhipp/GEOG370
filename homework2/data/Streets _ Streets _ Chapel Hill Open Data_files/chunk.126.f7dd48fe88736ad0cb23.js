(window.webpackJsonp_ember_auto_import_=window.webpackJsonp_ember_auto_import_||[]).push([[126,0,5,7,10,16,18,20,21,22,23,24,30,33,37,40,87,116,134,141,161,179,183,193,202,226,229,273,276,303,310,320,321,326,386,459,461,467,474,475,476,763],{1001:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r=n(968),i=n(976),s=n(972),a=n(970),o=(n(971),n(445),n(969)),l=n(1113)
const c=new i.a({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0})
let u=class extends s.a{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[]
const t=new Set
return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}}
Object(r.a)([Object(a.b)({type:l.a,json:{write:!0}})],u.prototype,"authoringInfo",void 0),Object(r.a)([Object(a.b)({type:c.apiValues,readOnly:!0,json:{type:c.jsonValues,read:!1,write:{writer:c.write,ignoreOrigin:!0}}})],u.prototype,"type",void 0),u=Object(r.a)([Object(o.a)("esri.renderers.Renderer")],u)
const d=u},1002:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(968),i=n(975),s=n(1017),a=n(969)
class o{constructor(){this._emitter=new o.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this._target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(e,t){const n=this._listenersMap&&this._listenersMap.get(e)
if(!n)return!1
const r=this._target||this
return[...n].forEach(e=>{e.call(r,t)}),n.length>0}on(e,t){if(Array.isArray(e)){const n=e.map(e=>this.on(e,t))
return Object(s.b)(n)}if(e.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported")
this._listenersMap||(this._listenersMap=new Map)
const n=this._listenersMap.get(e)||[]
return n.push(t),this._listenersMap.set(e,n),{remove:()=>{const n=this._listenersMap&&this._listenersMap.get(e)||[],r=n.indexOf(t)
r>=0&&n.splice(r,1)}}}once(e,t){const n=this.on(e,e=>{n.remove(),t.call(null,e)})
return n}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e)
return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let n=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}
return n=Object(r.a)([Object(a.a)("esri.core.Evented")],n),n}
let n=class extends i.a{constructor(){super(...arguments),this._emitter=new o.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}
n=Object(r.a)([Object(a.a)("esri.core.Evented")],n),e.EventedAccessor=n}(o||(o={}))
const l=o},1004:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r=n(968),i=n(972),s=n(970),a=(n(971),n(445),n(977)),o=n(969),l=n(769)
let c=class extends i.a{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=l.default.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof l.default)return e
if(null!=e){const n=new l.default
return n.read(e,t),n}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}}
Object(r.a)([Object(s.b)()],c.prototype,"type",void 0),Object(r.a)([Object(s.b)({readOnly:!0})],c.prototype,"cache",null),Object(r.a)([Object(s.b)({readOnly:!0})],c.prototype,"extent",null),Object(r.a)([Object(s.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasM",void 0),Object(r.a)([Object(s.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasZ",void 0),Object(r.a)([Object(s.b)({type:l.default,json:{write:!0},value:l.default.WGS84})],c.prototype,"spatialReference",void 0),Object(r.a)([Object(a.a)("spatialReference")],c.prototype,"readSpatialReference",null),c=Object(r.a)([Object(o.a)("esri.geometry.Geometry")],c)
const u=c},1006:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o}))
var r,i,s=n(23);(i=r||(r={}))[i.DEFAULTS=0]="DEFAULTS",i[i.COMPUTED=1]="COMPUTED",i[i.SERVICE=2]="SERVICE",i[i.PORTAL_ITEM=3]="PORTAL_ITEM",i[i.WEB_SCENE=4]="WEB_SCENE",i[i.WEB_MAP=5]="WEB_MAP",i[i.USER=6]="USER"
const a=r.USER+1
function o(e){switch(e){case"defaults":return r.DEFAULTS
case"service":return r.SERVICE
case"portal-item":return r.PORTAL_ITEM
case"web-scene":return r.WEB_SCENE
case"web-map":return r.WEB_MAP
case"user":return r.USER
default:return null}}function l(e){switch(e){case r.DEFAULTS:return"defaults"
case r.SERVICE:return"service"
case r.PORTAL_ITEM:return"portal-item"
case r.WEB_SCENE:return"web-scene"
case r.WEB_MAP:return"web-map"
case r.USER:return"user"}return Object(s.d)(void 0)}function c(e){return l(e)}},1007:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(1335),i=n(23)
class s{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0
return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(Object(r.c)(e)){const n=this._getOrCreateGroup(t)
for(const t of e)this._isHandle(t)&&n.push(t)}else this._isHandle(e)&&this._getOrCreateGroup(t).push(e)
return this}forEach(e,t){if("function"==typeof e)this._groups.forEach(t=>t.forEach(e))
else{const n=this._getGroup(e)
n&&t&&n.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if("string"!=typeof e&&Object(r.c)(e)){for(const t of e)this.remove(t)
return this}return this.has(e)?(this._removeAllFromGroup(this._getGroup(e)),this._groups.delete(this._ensureGroupKey(e)),this):this}removeAll(){return this._groups.forEach(e=>this._removeAllFromGroup(e)),this._groups.clear(),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e)
const t=[]
return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return Object(i.d)(this._groups.get(this._ensureGroupKey(e)))}_ensureGroupKey(e){return e||"_default_"}_removeAllFromGroup(e){e.forEach(e=>e.remove())}}},1009:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b}))
var r,i=n(968),s=n(972),a=n(23),o=n(1059),l=n(970),c=(n(971),n(445),n(977)),u=n(969),d=n(974)
let h=r=class extends s.a{static get allTime(){return p}static get empty(){return f}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new r({end:this.end,start:this.start})}equals(e){if(!e)return!1
const t=Object(a.l)(this.start)?this.start.getTime():this.start,n=Object(a.l)(this.end)?this.end.getTime():this.end,r=Object(a.l)(e.start)?e.start.getTime():e.start,i=Object(a.l)(e.end)?e.end.getTime():e.end
return t===r&&n===i}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone()
const t=Object(a.b)(this.start,t=>Object(o.c)(t,e)),n=Object(a.b)(this.end,t=>{const n=Object(o.c)(t,e)
return t.getTime()===n.getTime()?n:Object(o.b)(n,1,e)})
return new r({start:t,end:n})}intersection(e){if(!e)return this.clone()
if(this.isEmpty||e.isEmpty)return r.empty
if(this.isAllTime)return e.clone()
if(e.isAllTime)return this.clone()
const t=Object(a.n)(this.start,-1/0,e=>e.getTime()),n=Object(a.n)(this.end,1/0,e=>e.getTime()),i=Object(a.n)(e.start,-1/0,e=>e.getTime()),s=Object(a.n)(e.end,1/0,e=>e.getTime())
let o,l
if(i>=t&&i<=n?o=i:t>=i&&t<=s&&(o=t),n>=i&&n<=s?l=n:s>=t&&s<=n&&(l=s),null!=o&&null!=l&&!isNaN(o)&&!isNaN(l)){const e=new r
return e.start=o===-1/0?null:new Date(o),e.end=l===1/0?null:new Date(l),e}return r.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone()
const n=new r,{start:i,end:s}=this
return Object(a.l)(i)&&(n.start=Object(o.b)(i,e,t)),Object(a.l)(s)&&(n.end=Object(o.b)(s,e,t)),n}union(e){if(!e||e.isEmpty)return this.clone()
if(this.isEmpty)return e.clone()
if(this.isAllTime||e.isAllTime)return p.clone()
const t=Object(a.l)(this.start)&&Object(a.l)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=Object(a.l)(this.end)&&Object(a.l)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null
return new r({start:t,end:n})}}
Object(i.a)([Object(l.b)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"end",void 0),Object(i.a)([Object(c.a)("end")],h.prototype,"readEnd",null),Object(i.a)([Object(d.a)("end")],h.prototype,"writeEnd",null),Object(i.a)([Object(l.b)({readOnly:!0,json:{read:!1}})],h.prototype,"isAllTime",null),Object(i.a)([Object(l.b)({readOnly:!0,json:{read:!1}})],h.prototype,"isEmpty",null),Object(i.a)([Object(l.b)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"start",void 0),Object(i.a)([Object(c.a)("start")],h.prototype,"readStart",null),Object(i.a)([Object(d.a)("start")],h.prototype,"writeStart",null),h=r=Object(i.a)([Object(u.a)("esri.TimeExtent")],h)
const p=new h,f=new h({start:void 0,end:void 0}),b=h},1010:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return c})),n(982)
var r=n(446),i=n(233),s=n(23),a=n(769)
const o=i.a.getLogger("esri.support.arcadeOnDemand")
let l
function c(){return l||(l=(async()=>{const e=await Promise.all([n.e(2),n.e(33),n.e(52),n.e(226)]).then(n.bind(null,1319))
return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),l}const u=(e,t,n)=>p.create(e,t,n,null,["$feature"]),d=(e,t,n)=>p.create(e,t,n,null,["$feature","$view"]),h=(e,t,n,r)=>p.create(e,t,n,r,["$feature","$view"])
class p{constructor(e,t,n,r,i,s,a){this.script=e,this.evaluate=r
const o=Array.isArray(s)?s:s.fields
this.fields=o,this._syntaxTree=n,this._arcade=t,this._arcadeFeature=i,this._spatialReference=a,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,n,i,l,u){const{arcade:d,Feature:h,Dictionary:f}=await c(),b=a.default.fromJSON(t)
let m
try{m=d.parseScript(e,u)}catch(t){return o.error(new r.a("arcade-bad-expression","Failed to parse arcade script",{script:e,error:t})),null}const y=l.reduce((e,t)=>({...e,[t]:null}),{})
let g=null
Object(s.l)(i)&&(g=new f(i),g.immutable=!0,y.$config=null)
const v=d.scriptUsesGeometryEngine(m),O=v&&d.enableGeometrySupport(),j=d.scriptUsesFeatureSet(m)&&d.enableFeatureSetSupport(),w=d.scriptIsAsync(m),_=w&&d.enableAsyncSupport(),S={vars:y,spatialReference:b,useAsync:!!_}
await Promise.all([O,j,_])
const x=new Set
await d.loadDependentModules(x,m,null,w,v)
const T=new f
T.immutable=!1,T.setField("scale",0)
const I=d.compileScript(m,S)
return new p(e,d,m,e=>("$view"in e&&e.$view&&(T.setField("scale","object"==typeof e.$view?e.$view.scale:void 0),e.$view=T),g&&(e.$config=g),I({vars:e,spatialReference:b})),new h,n,b)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}},1011:function(e,t,n){"use strict"
function r(){return[0,0,0,0]}function i(e){return[e[0],e[1],e[2],e[3]]}function s(e,t,n,r){return[e,t,n,r]}function a(e){const t=[0,0,0,0],n=Math.min(4,e.length)
for(let r=0;r<n;++r)t[r]=e[r]
return t}function o(e,t){return new Float64Array(e,t,4)}function l(){return s(1,1,1,1)}function c(){return s(1,0,0,0)}function u(){return s(0,1,0,0)}function d(){return s(0,0,1,0)}function h(){return s(0,0,0,1)}n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s}))
const p=[0,0,0,0],f=l(),b=c(),m=u(),y=d(),g=h()
Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_W:g,UNIT_X:b,UNIT_Y:m,UNIT_Z:y,ZEROS:p,clone:i,create:r,createView:o,fromArray:a,fromValues:s,ones:l,unitW:h,unitX:c,unitY:u,unitZ:d,zeros:function(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},1012:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return M}))
var r=n(1016)
function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function o(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function l(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function c(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function u(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function d(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3]
return Math.sqrt(n*n+r*r+i*i+s*s)}function h(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3]
return n*n+r*r+i*i+s*s}function p(e){const t=e[0],n=e[1],r=e[2],i=e[3]
return Math.sqrt(t*t+n*n+r*r+i*i)}function f(e){const t=e[0],n=e[1],r=e[2],i=e[3]
return t*t+n*n+r*r+i*i}function b(e,t){const n=t[0],r=t[1],i=t[2],s=t[3]
let a=n*n+r*r+i*i+s*s
return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=s*a),e}function m(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function y(e,t,n,r){const i=t[0],s=t[1],a=t[2],o=t[3]
return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e[2]=a+r*(n[2]-a),e[3]=o+r*(n[3]-o),e}function g(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3]
return e[0]=n[0]*r+n[4]*i+n[8]*s+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*s+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*s+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*s+n[15]*a,e}function v(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function O(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],o=t[0],l=t[1],c=t[2],u=t[3],d=Object(r.c)()
return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-c)<=d*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(a-u)<=d*Math.max(1,Math.abs(a),Math.abs(u))}const j=o,w=l,_=c,S=d,x=h,T=p,I=f,M=Object.freeze(Object.defineProperty({__proto__:null,add:a,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:i,dist:S,distance:d,div:_,divide:c,dot:m,equals:O,exactEquals:v,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:T,length:p,lerp:y,max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},mul:w,multiply:l,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:b,random:function(e,t){const n=r.a
let i,s,a,o,l,c
t=t||1
do{i=2*n()-1,s=2*n()-1,l=i*i+s*s}while(l>=1)
do{a=2*n()-1,o=2*n()-1,c=a*a+o*o}while(c>=1)
const u=Math.sqrt((1-l)/c)
return e[0]=t*i,e[1]=t*s,e[2]=t*a*u,e[3]=t*o*u,e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:u,scaleAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},set:s,sqrDist:x,sqrLen:I,squaredDistance:h,squaredLength:f,str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:j,subtract:o,transformMat4:g,transformQuat:function(e,t,n){const r=t[0],i=t[1],s=t[2],a=n[0],o=n[1],l=n[2],c=n[3],u=c*r+o*s-l*i,d=c*i+l*r-a*s,h=c*s+a*i-o*r,p=-a*r-o*i-l*s
return e[0]=u*c+p*-a+d*-l-h*-o,e[1]=d*c+p*-o+h*-a-u*-l,e[2]=h*c+p*-l+u*-o-d*-a,e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}))},1013:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return T})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return I})),n.d(t,"p",(function(){return L})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return s})),n.d(t,"t",(function(){return S})),n.d(t,"u",(function(){return M})),n.d(t,"v",(function(){return y})),n.d(t,"w",(function(){return p})),n.d(t,"x",(function(){return u})),n.d(t,"y",(function(){return d}))
var r=n(1016)
function i(e,t){return e[0]=t[0],e[1]=t[1],e}function s(e,t,n){return e[0]=t,e[1]=n,e}function a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function o(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function l(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function c(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function u(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function d(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function p(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function f(e,t){const n=t[0]-e[0],r=t[1]-e[1]
return Math.sqrt(n*n+r*r)}function b(e,t){const n=t[0]-e[0],r=t[1]-e[1]
return n*n+r*r}function m(e){const t=e[0],n=e[1]
return Math.sqrt(t*t+n*n)}function y(e){const t=e[0],n=e[1]
return t*t+n*n}function g(e,t){return e[0]=-t[0],e[1]=-t[1],e}function v(e,t){const n=t[0],r=t[1]
let i=n*n+r*r
return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function O(e,t){return e[0]*t[0]+e[1]*t[1]}function j(e,t,n){const r=t[0]*n[1]-t[1]*n[0]
return e[0]=e[1]=0,e[2]=r,e}function w(e,t,n,r){const i=t[0],s=t[1]
return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e}function _(e,t,n){const r=t[0],i=t[1]
return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function S(e,t,n){const r=t[0],i=t[1]
return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function x(e,t,n,r){const i=t[0]-n[0],s=t[1]-n[1],a=Math.sin(r),o=Math.cos(r)
return e[0]=i*o-s*a+n[0],e[1]=i*a+s*o+n[1],e}function T(e,t){return e[0]===t[0]&&e[1]===t[1]}function I(e,t){const n=e[0],i=e[1],s=t[0],a=t[1],o=Object(r.c)()
return Math.abs(n-s)<=o*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=o*Math.max(1,Math.abs(i),Math.abs(a))}function M(e,t,n,r,i){let s=t[0]-n[0],a=t[1]-n[1]
const o=(r[0]*s+r[1]*a)*(i-1)
return s=r[0]*o,a=r[1]*o,e[0]=t[0]+s,e[1]=t[1]+a,e}const E=m,k=o,C=l,A=c,L=f,R=b,P=y
Object.freeze(Object.defineProperty({__proto__:null,add:a,angle:function(e,t){const n=e[0],r=e[1],i=t[0],s=t[1]
let a=n*n+r*r
a>0&&(a=1/Math.sqrt(a))
let o=i*i+s*s
o>0&&(o=1/Math.sqrt(o))
const l=(n*i+r*s)*a*o
return l>1?0:l<-1?Math.PI:Math.acos(l)},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},copy:i,cross:j,dist:L,distance:f,div:A,divide:c,dot:O,equals:I,exactEquals:T,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},len:E,length:m,lerp:w,max:d,min:u,mul:C,multiply:l,negate:g,normalize:v,projectAndScale:M,random:function(e,t){t=t||1
const n=2*Object(r.a)()*Math.PI
return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},rotate:x,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:h,scaleAndAdd:p,set:s,sqrDist:R,sqrLen:P,squaredDistance:b,squaredLength:y,str:function(e){return"vec2("+e[0]+", "+e[1]+")"},sub:k,subtract:o,transformMat2:_,transformMat2d:S,transformMat3:function(e,t,n){const r=t[0],i=t[1]
return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},transformMat4:function(e,t,n){const r=t[0],i=t[1]
return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},Symbol.toStringTag,{value:"Module"}))},1014:function(e,t,n){"use strict"
n.d(t,"a",(function(){return I}))
var r,i=n(968),s=n(982),a=n(1009),o=n(976),l=n(972),c=n(234),u=n(23),d=n(970),h=n(987),p=n(979),f=n(969),b=n(974),m=n(971),y=n(983),g=n(1106),v=n(1273),O=n(1197),j=n(1123),w=n(769),_=n(992)
const S=new o.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),x=new o.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"})
let T=r=class extends l.a{static from(e){return Object(m.d)(r,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const n={}
for(const t in e){const r=e[t]
Array.isArray(r)?n[t]=r.map(e=>e instanceof Date?e.getTime():e):r instanceof Date?n[t]=r.getTime():n[t]=r}t.parameterValues=n}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new r(Object(c.a)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:Object(u.l)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}}
T.MAX_MAX_RECORD_COUNT_FACTOR=5,Object(i.a)([Object(d.b)({json:{write:!0}})],T.prototype,"aggregateIds",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{write:!0}})],T.prototype,"cacheHint",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"compactGeometryEnabled",void 0),Object(i.a)([Object(d.b)({json:{write:!0}})],T.prototype,"datumTransformation",void 0),Object(i.a)([Object(h.a)("datumTransformation")],T.prototype,"castDatumTransformation",null),Object(i.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"defaultSpatialReferenceEnabled",void 0),Object(i.a)([Object(d.b)({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],T.prototype,"distance",void 0),Object(i.a)([Object(d.b)({type:g.a,json:{write:!0}})],T.prototype,"dynamicDataSource",void 0),Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],T.prototype,"formatOf3DObjects",void 0),Object(i.a)([Object(d.b)({type:[v.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:Object(u.l)(this.fullText)&&this.fullText.length>0}}}}})],T.prototype,"fullText",void 0),Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],T.prototype,"gdbVersion",void 0),Object(i.a)([Object(d.b)({types:s.c,json:{read:y.a,write:!0}})],T.prototype,"geometry",void 0),Object(i.a)([Object(d.b)({type:Number,json:{write:!0}})],T.prototype,"geometryPrecision",void 0),Object(i.a)([Object(d.b)({type:[String],json:{write:!0}})],T.prototype,"groupByFieldsForStatistics",void 0),Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],T.prototype,"having",void 0),Object(i.a)([Object(d.b)({type:Date})],T.prototype,"historicMoment",void 0),Object(i.a)([Object(b.a)("historicMoment")],T.prototype,"writeHistoricMoment",null),Object(i.a)([Object(d.b)({type:Number,json:{write:!0}})],T.prototype,"maxAllowableOffset",void 0),Object(i.a)([Object(d.b)({type:Number,cast:e=>e<1?1:e>r.MAX_MAX_RECORD_COUNT_FACTOR?r.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],T.prototype,"maxRecordCountFactor",void 0),Object(i.a)([Object(d.b)({type:["xyFootprint"],json:{write:!0}})],T.prototype,"multipatchOption",void 0),Object(i.a)([Object(d.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0),Object(i.a)([Object(d.b)({json:{write:!0}})],T.prototype,"objectIds",void 0),Object(i.a)([Object(d.b)({type:[String],json:{write:!0}})],T.prototype,"orderByFields",void 0),Object(i.a)([Object(d.b)({type:[String],json:{write:!0}})],T.prototype,"outFields",void 0),Object(i.a)([Object(d.b)({type:w.default,json:{name:"outSR",write:!0}})],T.prototype,"outSpatialReference",void 0),Object(i.a)([Object(d.b)({type:[j.a],json:{write:{enabled:!0,overridePolicy(){return{enabled:Object(u.l)(this.outStatistics)&&this.outStatistics.length>0}}}}})],T.prototype,"outStatistics",void 0),Object(i.a)([Object(d.b)({json:{write:!0}})],T.prototype,"parameterValues",void 0),Object(i.a)([Object(b.a)("parameterValues")],T.prototype,"writeParameterValues",null),Object(i.a)([Object(d.b)({type:_.a,json:{write:!0}})],T.prototype,"pixelSize",void 0),Object(i.a)([Object(d.b)({type:O.a,json:{write:!0}})],T.prototype,"quantizationParameters",void 0),Object(i.a)([Object(d.b)({type:[Object],json:{write:!0}})],T.prototype,"rangeValues",void 0),Object(i.a)([Object(d.b)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],T.prototype,"relationParameter",void 0),Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],T.prototype,"resultType",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnCentroid",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnDistinctValues",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{default:!0,write:!0}})],T.prototype,"returnExceededLimitFeatures",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{write:!0}})],T.prototype,"returnGeometry",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnQueryGeometry",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnM",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],T.prototype,"returnZ",void 0),Object(i.a)([Object(d.b)({type:w.default,json:{write:!0}})],T.prototype,"sourceSpatialReference",void 0),Object(i.a)([Object(p.a)(S,{ignoreUnknown:!1,name:"spatialRel"})],T.prototype,"spatialRelationship",void 0),Object(i.a)([Object(d.b)({type:Number,json:{read:{source:"resultOffset"}}})],T.prototype,"start",void 0),Object(i.a)([Object(b.a)("start"),Object(b.a)("num")],T.prototype,"writeStart",null),Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],T.prototype,"sqlFormat",void 0),Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],T.prototype,"text",void 0),Object(i.a)([Object(d.b)({type:a.a,json:{write:!0}})],T.prototype,"timeExtent",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"timeReferenceUnknownClient",void 0),Object(i.a)([Object(p.a)(x,{ignoreUnknown:!1}),Object(d.b)({json:{write:{overridePolicy(e){return{enabled:!!e&&null!=this.distance&&this.distance>0}}}}})],T.prototype,"units",void 0),Object(i.a)([Object(d.b)({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||null!=this.start&&this.start>0}}}}})],T.prototype,"where",void 0),Object(i.a)([Object(b.a)("where")],T.prototype,"writeWhere",null),T=r=Object(i.a)([Object(f.a)("esri.rest.support.Query")],T)
const I=T},1016:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l}))
let r=1e-6
function i(){return r}const s=Math.random,a=Math.PI/180,o=180/Math.PI
function l(e){return e*a}function c(e){return e*o}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:s,equals:function(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))},getEpsilon:i,setEpsilon:function(e){r=e},toDegree:c,toRadian:l},Symbol.toStringTag,{value:"Module"}))},1017:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a}))
var r=n(23)
function i(e){return s(()=>e.forEach(e=>Object(r.l)(e)&&e.remove()))}function s(e){return{remove:()=>{e&&(e(),e=void 0)}}}function a(e){return s(()=>{const t=e()
Object(r.l)(t)&&t.remove()})}function o(e){return s(Object(r.l)(e)?()=>e.destroy():void 0)}},1018:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(1434),i=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},s=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n]
Array.isArray(a)?s(a,t):null!=a&&!1!==a&&(a.hasOwnProperty("vnodeSelector")||(a=i(a)),t.push(a))}}
function a(e,t,...n){return"function"!=typeof e||Object(r.a)(e)?function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]
if(1===n.length&&"string"==typeof n[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:n[0],domNode:null}
var i=[]
return s(n,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}}(e,t,...n):e(t,...n)}},1019:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}))
var r=n(110),i=n(771),s=n(446),a=n(233),o=n(374)
const l=a.a.getLogger("esri.assets")
function c(e,t){return Object(i.default)(u(e),t)}function u(e){if(!r.default.assetsPath)throw l.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s.a("assets:path-not-set","config.assetsPath is not set")
return Object(o.E)(r.default.assetsPath,e)}},1020:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}))
var r=n(995),i=n(1045),s=n(1147),a=n(1394),o=n(1218)
const l={types:r.i,json:{write:{writer:s.b},origins:{"web-scene":{types:r.j,write:{writer:s.b},read:{reader:Object(i.b)({types:r.j})}}}}},c={types:{base:a.a,key:"type",typeMap:{"simple-fill":r.e.typeMap["simple-fill"],"picture-fill":r.e.typeMap["picture-fill"],"polygon-3d":r.e.typeMap["polygon-3d"]}},json:{write:{writer:s.b},origins:{"web-scene":{type:o.a,write:{writer:s.b}}}}},u={cast:e=>null==e||"string"==typeof e||"number"==typeof e?e:""+e,json:{type:String,write:{writer:(e,t)=>{t.value=null==e?void 0:e.toString()}}}}},1021:function(e,t,n){"use strict"
n.d(t,"a",(function(){return m}))
var r,i=n(968),s=n(234),a=n(970),o=(n(971),n(969)),l=n(974),c=n(770),u=n(1004),d=n(992),h=n(769),p=n(1157),f=n(1105)
let b=r=class extends u.a{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let n,r,i=null,s=null
return e&&!Array.isArray(e)?(i=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),n=e.hasZ,r=e.hasM):i=e,i=i||[],t=t||h.default.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),s=i[0]&&i[0][0],s&&(void 0===n&&void 0===r?(n=s.length>2,r=!1):void 0===n?n=!r&&s.length>3:void 0===r&&(r=!n&&s.length>3)),{paths:i,spatialReference:t,hasZ:n,hasM:r}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Object(p.c)(this)
if(!t)return null
const n=new c.default(t)
return n.spatialReference=e,n}writePaths(e,t){t.paths=Object(s.a)(this.paths)}addPath(e){if(!e)return
const t=this.paths,n=t.length
if(function(e){return!Array.isArray(e[0])}(e)){const r=[]
for(let t=0,n=e.length;t<n;t++)r[t]=e[t].toArray()
t[n]=r}else t[n]=e.concat()
return this.notifyChange("paths"),this}clone(){const e=new r
return e.spatialReference=this.spatialReference,e.paths=Object(s.a)(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null
const n=this.paths[e][t],r=this.hasZ,i=this.hasM
return r&&!i?new d.a(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new d.a(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new d.a(n[0],n[1],n[2],n[3],this.spatialReference):new d.a(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(Object(f.a)(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e].splice(t,0,n),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null
const t=this.paths.splice(e,1)[0],n=this.spatialReference,r=t.map(e=>new d.a(e,n))
return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null
const n=new d.a(this.paths[e].splice(t,1)[0],this.spatialReference)
return this.notifyChange("paths"),n}setPoint(e,t,n){return this._validateInputs(e,t)?(Object(f.a)(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[e][t]=n,this.notifyChange("paths"),this):this}_validateInputs(e,t,n=!1){if(null==e||e<0||e>=this.paths.length)return!1
if(null!=t){const r=this.paths[e]
if(n&&(t<0||t>r.length))return!1
if(!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}}
Object(i.a)([Object(a.b)({readOnly:!0})],b.prototype,"cache",null),Object(i.a)([Object(a.b)({readOnly:!0})],b.prototype,"extent",null),Object(i.a)([Object(a.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0),Object(i.a)([Object(l.a)("paths")],b.prototype,"writePaths",null),b=r=Object(i.a)([Object(o.a)("esri.geometry.Polyline")],b),b.prototype.toJSON.isDefaultToJSON=!0
const m=b},1024:function(e,t,n){"use strict"
n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return I}))
var r=n(23),i=n(1214),s=n(1343),a=n(1056),o=n(973),l=n(1152)
class c{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class u{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let d=0,h=0
const p={time:Object(l.a)(0),deltaTime:Object(l.a)(0),elapsedFrameTime:Object(l.a)(0),frameDuration:Object(l.a)(0)},f=["prepare","preRender","render","postRender","update","finish"],b=[],m=new a.a
class y{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const g={frameTasks:m,willDispatch:!1,clearFrameTasks:function(e=!1){m.forAll(e=>{e.removed=!0}),e&&x()},dispatch:T,executeFrameTasks:function(e){const t=Object(l.a)(e-d)
d=e
const n=h>0?h:1e3/60,r=Math.max(0,t-n)
p.time=e,p.frameDuration=Object(l.a)(n-r)
for(let n=0;n<f.length;n++){const r=performance.now(),i=f[n]
m.forAll(r=>{var s
r.paused||r.removed||(0===n&&r.ticks++,r.phases[i]&&(p.elapsedFrameTime=Object(l.a)(performance.now()-e),p.deltaTime=0===r.ticks?Object(l.a)(0):t,null==(s=r.phases[i])||s.call(r,p)))}),M[n].record(performance.now()-r)}x(),E.record(performance.now()-e)}}
function v(e){const t=new u(e)
return b.push(t),g.willDispatch||(g.willDispatch=!0,Object(i.a)(T)),t}function O(e){const t=new c(e)
return m.push(t),null==j&&(d=performance.now(),j=requestAnimationFrame(_)),new y(t)}let j=null
function w(e){h=Math.max(0,e)}function _(){const e=performance.now()
j=null,j=m.length>0?requestAnimationFrame(_):null,g.executeFrameTasks(e)}const S=new a.a
function x(){m.forAll(e=>{e.removed&&S.push(e)}),m.removeUnorderedMany(S.data,S.length),S.clear()}function T(){for(;b.length;){const e=Object(r.d)(b.shift())
e.isActive&&e.callback()}g.willDispatch=!1}function I(e=1,t){const n=Object(o.e)(),r=()=>{Object(o.k)(t)?n.reject(Object(o.c)()):0===e?n():(--e,Object(i.a)(()=>r()))}
return r(),n.promise}const M=f.map(e=>new s.a(e)),E=new s.a("total")},1025:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}))
var r=n(968),i=n(975),s=n(1007),a=n(970),o=n(969),l=n(1138)
const c=e=>{let t=class extends e{destroy(){var e,t
this.destroyed||(null!=(e=this._get("handles"))&&e.destroy(),null==(t=this._get("updatingHandles"))||t.destroy())}get handles(){return this._get("handles")||new s.a}get updatingHandles(){return this._get("updatingHandles")||new l.a}}
return Object(r.a)([Object(a.b)({readOnly:!0})],t.prototype,"handles",null),Object(r.a)([Object(a.b)({readOnly:!0})],t.prototype,"updatingHandles",null),t=Object(r.a)([Object(o.a)("esri.core.HandleOwner")],t),t}
let u=class extends(c(i.a)){}
u=Object(r.a)([Object(o.a)("esri.core.HandleOwner")],u)},1026:function(e,t,n){"use strict"
function r(){return[0,0]}function i(e){return[e[0],e[1]]}function s(e,t){return[e,t]}function a(e){const t=[0,0],n=Math.min(2,e.length)
for(let r=0;r<n;++r)t[r]=e[r]
return t}function o(e,t){return new Float64Array(e,t,2)}function l(){return s(1,1)}function c(){return s(1,0)}function u(){return s(0,1)}n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s}))
const d=[0,0],h=l(),p=c(),f=u()
Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:p,UNIT_Y:f,ZEROS:d,clone:i,create:r,createView:o,fromArray:a,fromValues:s,ones:l,unitX:c,unitY:u,zeros:function(){return[0,0]}},Symbol.toStringTag,{value:"Module"}))},1027:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}))
var r=n(446),i=n(973),s=n(1005)
const a=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,o={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0}
function l(e){var t
return null!=(t=o[e])&&t}const c=[],u=new Map
function d(e){for(const t of u.keys())b(e.pattern,t)&&u.delete(t)}function h(e){return c.includes(e)||(d(e),c.unshift(e)),{remove(){const t=c.indexOf(e)
t>-1&&(c.splice(t,1),d(e))}}}async function p(e){const t=Object(s.b)()
u.has(e)||u.set(e,async function(e,t){const n=[]
for(const r of c)if(b(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(e){n.push(e)}if(n.length)throw new r.a("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:n})
throw new r.a("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}(e,t))
const n=u.get(e)
return n&&await m.add(n),n}function f(e){if(!a.test(e))return null
const t=a.exec(e)
if(null===t)return null
const[,n,r]=t,i=n+(r?"-"+r.toUpperCase():"")
return l(i)?i:l(n)?n:null}function b(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}Object(s.a)(()=>{u.clear()})
const m=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Object(i.d)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},1032:function(e,t,n){"use strict"
n.d(t,"a",(function(){return N}))
var r,i=n(968),s=n(23),a=n(970),o=n(971),l=(n(445),n(977)),c=n(969),u=n(974),d=n(989),h=n(1240),p=n(1040),f=n(1210)
let b=r=class extends p.a{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(e=>!!e)).sort((e,t)=>e.value-t.value),this._set("stops",e)}clone(){return new r({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}}
Object(i.a)([Object(a.b)({readOnly:!0})],b.prototype,"cache",null),Object(i.a)([Object(a.b)({type:["color"],json:{type:["colorInfo"]}})],b.prototype,"type",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0),Object(i.a)([Object(a.b)({type:[f.a],json:{write:!0}})],b.prototype,"stops",null),b=r=Object(i.a)([Object(c.a)("esri.renderers.visualVariables.ColorVariable")],b)
const m=b
var y,g=n(972),v=n(1119)
let O=y=class extends g.a{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Object(v.b)(t.transparency)}writeOpacity(e,t,n){t[n]=Object(v.a)(e)}clone(){return new y({label:this.label,opacity:this.opacity,value:this.value})}}
Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],O.prototype,"label",void 0),Object(i.a)([Object(a.b)({type:Number,json:{type:o.a,write:{target:"transparency"}}})],O.prototype,"opacity",void 0),Object(i.a)([Object(l.a)("opacity",["transparency"])],O.prototype,"readOpacity",null),Object(i.a)([Object(u.a)("opacity")],O.prototype,"writeOpacity",null),Object(i.a)([Object(a.b)({type:Number,json:{write:!0}})],O.prototype,"value",void 0),O=y=Object(i.a)([Object(c.a)("esri.renderers.visualVariables.support.OpacityStop")],O)
const j=O
var w
let _=w=class extends p.a{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(e=>!!e)).sort((e,t)=>e.value-t.value),this._set("stops",e)}clone(){return new w({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}}
Object(i.a)([Object(a.b)({readOnly:!0})],_.prototype,"cache",null),Object(i.a)([Object(a.b)({type:["opacity"],json:{type:["transparencyInfo"]}})],_.prototype,"type",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],_.prototype,"normalizationField",void 0),Object(i.a)([Object(a.b)({type:[j],json:{write:!0}})],_.prototype,"stops",null),_=w=Object(i.a)([Object(c.a)("esri.renderers.visualVariables.OpacityVariable")],_)
const S=_
var x=n(1169),T=n(1070),I=n(975),M=n(976),E=n(233),k=n(1044)
const C={color:m,size:T.a,opacity:S,rotation:x.a},A=new M.a({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),L=/^\[([^\]]+)\]$/i
let R=class extends I.a{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(e=>!!e))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t)
break
case"opacity":this.opacityVariables.push(t)
break
case"rotation":this.rotationVariables.push(t)
break
case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(e=>!!e.target)&&e.sort((e,t)=>{let n=null
return n=e.target===t.target?0:e.target?1:-1,n})
for(let t=0;t<e.length;t++)e[t].index=t
this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,n){const{rotationExpression:r,rotationType:i}=t,s=r&&r.match(L),a=s&&s[1]
if(a&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:a})),e)return e.map(e=>{const t=A.read(e.type),r=C[t]
r||(E.a.getLogger(this.declaredClass).warn("Unknown variable type: "+t),n&&n.messages&&n.messages.push(new k.a("visual-variable:unsupported",`visualVariable of type '${t}' is not supported`,{definition:e,context:n})))
const i=new r
return i.read(e,n),i})}writeVariables(e,t){const n=[]
for(const r of e){const e=r.toJSON(t)
e&&n.push(e)}return n}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}}
Object(i.a)([Object(a.b)()],R.prototype,"visualVariables",null),R=Object(i.a)([Object(c.a)("esri.renderers.visualVariables.VisualVariableFactory")],R)
const P=R,F={base:p.a,key:"type",typeMap:{opacity:S,color:m,rotation:x.a,size:T.a}},N=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new P}set visualVariables(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(e,t,n){return this._vvFactory.readVariables(e,t,n)}writeVisualVariables(e,t,n,r){t[n]=this._vvFactory.writeVariables(e,r)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1
for(const e of this.visualVariables)if(e.arcadeRequired)return!0
return!1}hasVisualVariables(e,t){return e?this.getVisualVariablesForType(e,t).length>0:this.getVisualVariablesForType("size",t).length>0||this.getVisualVariablesForType("color",t).length>0||this.getVisualVariablesForType("opacity",t).length>0||this.getVisualVariablesForType("rotation",t).length>0}getVisualVariablesForType(e,t){const n=this.visualVariables
return n?n.filter(n=>n.type===e&&("string"==typeof t?n.target===t:!1!==t||!n.target)):[]}async collectVVRequiredFields(e,t){let n=[]
this.visualVariables&&(n=n.concat(this.visualVariables))
for(const r of n)r&&(r.field&&Object(d.d)(e,t,r.field),r.normalizationField&&Object(d.d)(e,t,r.normalizationField),r.valueExpression&&(D(r.valueExpression,e,t)||await Object(d.a)(e,t,r.valueExpression)))}}
return Object(i.a)([Object(a.b)({types:[F],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),Object(i.a)([Object(l.a)("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),Object(i.a)([Object(u.a)("visualVariables")],t.prototype,"writeVisualVariables",null),t=Object(i.a)([Object(c.a)("esri.renderers.mixins.VisualVariablesMixin")],t),t}
function D(e,t,n){const r=Object(h.a)(e)
return!!Object(s.l)(r)&&(Object(d.d)(t,n,r),!0)}},1033:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r=n(968),i=n(976),s=n(972),a=n(970),o=(n(971),n(445),n(979)),l=n(969)
const c=new i.a({inherited:"inherited",codedValue:"coded-value",range:"range"})
let u=class extends s.a{constructor(e){super(e),this.name=null,this.type=null}}
Object(r.a)([Object(a.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(r.a)([Object(o.a)(c)],u.prototype,"type",void 0),u=Object(r.a)([Object(l.a)("esri.layers.support.Domain")],u)
const d=u},1034:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f}))
var r=n(968),i=n(975),s=n(23),a=n(973),o=n(970),l=(n(971),n(445),n(969))
function c(e,t,n){return Object(a.g)(e.map((e,r)=>t.apply(n,[e,r])))}async function u(e,t,n){return(await Object(a.g)(e.map((e,r)=>t.apply(n,[e,r])))).map(e=>e.value)}function d(e){return{ok:!0,value:e}}function h(e){return{ok:!1,error:e}}async function p(e){if(Object(s.k)(e))return{ok:!1,error:new Error("no promise provided")}
try{return d(await e)}catch(e){return h(e)}}async function f(e){try{return d(await e)}catch(e){return Object(a.p)(e),h(e)}}function b(e){if(!0===e.ok)return e.value
throw e.error}function m(e,t){return new y(e,t)}let y=class extends i.a{get value(){return e=this._result,Object(s.l)(e)&&!0===e.ok?e.value:null
var e}get error(){return e=this._result,Object(s.l)(e)&&!1===e.ok?e.error:null
var e}get finished(){return Object(s.l)(this._result)}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Object(s.a)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController
const{signal:n}=this._abortController
this.promise=e(n),this.promise.then(e=>{this._result=d(e),this._cleanup()},e=>{this._result=h(e),this._cleanup()}),this._abortHandle=Object(a.n)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Object(s.s)(this._abortHandle),this._abortController=null}}
Object(r.a)([Object(o.b)()],y.prototype,"value",null),Object(r.a)([Object(o.b)()],y.prototype,"error",null),Object(r.a)([Object(o.b)()],y.prototype,"finished",null),Object(r.a)([Object(o.b)()],y.prototype,"promise",void 0),Object(r.a)([Object(o.b)()],y.prototype,"_result",void 0),y=Object(r.a)([Object(l.a)("esri.core.asyncUtils.ReactiveTask")],y)},1035:function(e,t,n){"use strict"
n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return p}))
var r=n(1009),i=n(770),s=n(769),a=n(1054),o=n(778),l=n(1168),c=n(1119)
const u={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},d={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,n){t[n]=!e}}}},h={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}},p={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:a.i}}},f={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},b={value:null,type:l.a,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}}
function m(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const y={write:!0,read:!0},g={type:Number,json:{origins:{"web-document":y,"portal-item":{write:!0}}}},v={...g,json:{...g.json,origins:{"web-document":{...y,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,n)=>n&&"service"!==n.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?Object(c.b)(t.layerDefinition.drawingInfo.transparency):void 0:Object(c.b)(t.drawingInfo.transparency)}}},O={type:r.a,readOnly:!0,get(){var e,t
if(null==(e=this.layer)||!e.timeInfo)return null
const{datesInUnknownTimezone:n,timeOffset:r,useViewTime:i}=this.layer,s=null==(t=this.view)?void 0:t.timeExtent
let a=this.layer.timeExtent
n&&(a=Object(o.toLocalTimeExtent)(a))
let l=i?s&&a?s.intersection(a):s||a:a
if(!l||l.isEmpty||l.isAllTime)return l
r&&(l=l.offset(-r.value,r.unit)),n&&(l=Object(o.toUTCTimeExtent)(l))
const c=this._get("timeExtent")
return l.equals(c)?c:l}},j={type:i.default,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const n=i.default.fromJSON(e)
return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(n.spatialReference=s.default.fromJSON(t.spatialReference)),n}}}},read:!1}},w={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},_={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},S={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},x={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}}},1036:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))
var r=n(976)
const i=Object(r.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),s=Object(r.b)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},1037:function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return l}))
var r=n(196),i=n(771),s=n(23)
function a(e){const t=null==e?void 0:e.type
return"base-tile"===t||"tile"===t||"elevation"===t||"imagery-tile"===t||"base-elevation"===t||"open-street-map"===t||"wcs"===t||"web-tile"===t||"wmts"===t||"vector-tile"===t}function o(e){return null!=e&&"type"in e&&"group"===e.type}const l={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"}
function c(e){const t=null==e?void 0:e.type
return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function u(e){return"voxel"===(null==e?void 0:e.type)}function d(e){return"imagery-tile"===(null==e?void 0:e.type)}function h(e){return null!=e&&null!=e.parent&&"declaredClass"in e.parent&&"esri.Basemap"===e.parent.declaredClass&&e.parent.baseLayers.includes(e)}function p(e){var t
return"feature"===(null==e?void 0:e.type)&&!e.url&&"memory"===(null==(t=e.source)?void 0:t.type)}function f(e){var t
return"feature"===(null==e?void 0:e.type)&&"feature-layer"===(null==(t=e.source)?void 0:t.type)}function b(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet
if(t)return t
const n=e.activeLayer.tileMatrixSets
if(n)return n}return null}async function m(e,t){const n=null==r.b?void 0:r.b.findServerInfo(e)
if(null!=(null==n?void 0:n.currentVersion))return n.owningSystemUrl||null
const a=e.toLowerCase().indexOf("/rest/services")
if(-1===a)return null
const o=e.substring(0,a)+"/rest/info",l=Object(s.l)(t)?t.signal:null,{data:c}=await Object(i.default)(o,{query:{f:"json"},responseType:"json",signal:l})
return(null==c?void 0:c.owningSystemUrl)||null}function y(e){return function(e){if(!("capabilities"in e))return!1
switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0
default:return!1}}(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function g(e){return!!function(e){if(!("editingEnabled"in e))return!1
switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0
default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}},1038:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}))
var r=n(23),i=n(1005)
const s={ar:"ar-u-nu-latn"}
let a=new WeakMap,o={}
function l(e={}){const t={}
return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function c(e,t){return-0===e&&(e=0),function(e){const t=e||o
if(!a.has(t)){const n=Object(i.b)(),r=s[Object(i.b)()]||n
a.set(t,new Intl.NumberFormat(r,e))}return Object(r.d)(a.get(t))}(t).format(e)}Object(i.a)(()=>{a=new WeakMap,o={}})},1039:function(e,t,n){"use strict"
n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y}))
var r=n(976),i=n(1005)
const s={year:"numeric",month:"numeric",day:"numeric"},a={year:"numeric",month:"long",day:"numeric"},o={year:"numeric",month:"short",day:"numeric"},l={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},u={...c,second:"numeric"},d={"short-date":s,"short-date-short-time":{...s,...c},"short-date-short-time-24":{...s,...c,hour12:!1},"short-date-long-time":{...s,...u},"short-date-long-time-24":{...s,...u,hour12:!1},"short-date-le":s,"short-date-le-short-time":{...s,...c},"short-date-le-short-time-24":{...s,...c,hour12:!1},"short-date-le-long-time":{...s,...u},"short-date-le-long-time-24":{...s,...u,hour12:!1},"long-month-day-year":a,"long-month-day-year-short-time":{...a,...c},"long-month-day-year-short-time-24":{...a,...c,hour12:!1},"long-month-day-year-long-time":{...a,...u},"long-month-day-year-long-time-24":{...a,...u,hour12:!1},"day-short-month-year":o,"day-short-month-year-short-time":{...o,...c},"day-short-month-year-short-time-24":{...o,...c,hour12:!1},"day-short-month-year-long-time":{...o,...u},"day-short-month-year-long-time-24":{...o,...u,hour12:!1},"long-date":l,"long-date-short-time":{...l,...c},"long-date-short-time-24":{...l,...c,hour12:!1},"long-date-long-time":{...l,...u},"long-date-long-time-24":{...l,...u,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":u},h=Object(r.b)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),p=(h.apiValues,h.toJSON.bind(h),h.fromJSON.bind(h),{ar:"ar-u-nu-latn-ca-gregory"})
let f=new WeakMap,b=d["short-date-short-time"]
function m(e){return e?d[e]:null}function y(e,t){return function(e){const t=e||b
let n=f.get(t)
if(!n){const e=Object(i.b)(),r=p[Object(i.b)()]||e
n=new Intl.DateTimeFormat(r,t),f.set(t,n)}return n}(t).format(e)}Object(i.a)(()=>{f=new WeakMap,b=d["short-date-short-time"]})},1040:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f}))
var r=n(968),i=n(976),s=n(972),a=n(233),o=n(970),l=n(987),c=n(969),u=n(971),d=n(1159)
const h=new i.a({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"})
let p=class extends s.a{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:"function"==typeof e?(a.a.getLogger(this.declaredClass).error(".field: field must be a string value"),null):Object(u.l)(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}}
Object(r.a)([Object(o.b)()],p.prototype,"index",void 0),Object(r.a)([Object(o.b)({type:h.apiValues,readOnly:!0,json:{read:h.read,write:h.write}})],p.prototype,"type",void 0),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"field",void 0),Object(r.a)([Object(l.a)("field")],p.prototype,"castField",null),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"valueExpression",void 0),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"valueExpressionTitle",void 0),Object(r.a)([Object(o.b)({readOnly:!0})],p.prototype,"arcadeRequired",null),Object(r.a)([Object(o.b)({type:d.a,json:{write:!0}})],p.prototype,"legendOptions",void 0),p=Object(r.a)([Object(c.a)("esri.renderers.visualVariables.VisualVariable")],p)
const f=p},1041:function(e,t,n){"use strict"
n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return N})),n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return u})),n.d(t,"q",(function(){return d})),n.d(t,"r",(function(){return L})),n.d(t,"s",(function(){return R})),n.d(t,"t",(function(){return o})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return y})),n.d(t,"w",(function(){return _})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return P})),n.d(t,"z",(function(){return F})),n.d(t,"A",(function(){return x})),n.d(t,"B",(function(){return T})),n.d(t,"C",(function(){return k})),n.d(t,"D",(function(){return E})),n.d(t,"E",(function(){return M})),n.d(t,"F",(function(){return O})),n.d(t,"G",(function(){return l})),n.d(t,"H",(function(){return A})),n.d(t,"I",(function(){return b})),n.d(t,"J",(function(){return D}))
var r=n(23),i=n(770),s=n(996)
function a(e=G){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function o(e,t,n,r,i,s,o=a()){return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=i,o[5]=s,o}function l(e,t){const n=isFinite(e[2])||isFinite(e[5])
return new i.default(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function c(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function u(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function d(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function h(e,t,n=0,r=t.length/3){let i=e[0],s=e[1],a=e[2],o=e[3],l=e[4],c=e[5]
for(let e=0;e<r;e++)i=Math.min(i,t[n+3*e]),s=Math.min(s,t[n+3*e+1]),a=Math.min(a,t[n+3*e+2]),o=Math.max(o,t[n+3*e]),l=Math.max(l,t[n+3*e+1]),c=Math.max(c,t[n+3*e+2])
e[0]=i,e[1]=s,e[2]=a,e[3]=o,e[4]=l,e[5]=c}function p(e,t,n){const r=t.length
let i=e[0],s=e[1],a=e[2],o=e[3],l=e[4],c=e[5]
if(n)for(let e=0;e<r;e++){const n=t[e]
i=Math.min(i,n[0]),s=Math.min(s,n[1]),a=Math.min(a,n[2]),o=Math.max(o,n[0]),l=Math.max(l,n[1]),c=Math.max(c,n[2])}else for(let e=0;e<r;e++){const n=t[e]
i=Math.min(i,n[0]),s=Math.min(s,n[1]),o=Math.max(o,n[0]),l=Math.max(l,n[1])}e[0]=i,e[1]=s,e[2]=a,e[3]=o,e[4]=l,e[5]=c}function f(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1
return!0}function b(e){return e[0]>=e[3]?0:e[3]-e[0]}function m(e){return e[1]>=e[4]?0:e[4]-e[1]}function y(e){return e[2]>=e[5]?0:e[5]-e[2]}function g(e){const t=b(e),n=y(e),r=m(e)
return Math.sqrt(t*t+n*n+r*r)}function v(e,t=[0,0,0]){return t[0]=e[0]+b(e)/2,t[1]=e[1]+m(e)/2,t[2]=e[2]+y(e)/2,t}function O(e,t=[0,0,0]){return t[0]=b(e),t[1]=m(e),t[2]=y(e),t}function j(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function w(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[3]<=e[3]&&t[4]<=e[4]&&t[5]<=e[5]}function _(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function S(e,t){return!!Object(r.k)(t)||_(e,t)}function x(e,t,n,r,i=e){return i[0]=e[0]+t,i[1]=e[1]+n,i[2]=e[2]+r,i[3]=e[3]+t,i[4]=e[4]+n,i[5]=e[5]+r,i}function T(e,t,n=e){const r=e[0]+b(e)/2,i=e[1]+m(e)/2,s=e[2]+y(e)/2
return n[0]=r+(e[0]-r)*t,n[1]=i+(e[1]-i)*t,n[2]=s+(e[2]-s)*t,n[3]=r+(e[3]-r)*t,n[4]=i+(e[4]-i)*t,n[5]=s+(e[5]-s)*t,n}function I(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function M(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function E(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function k(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function C(e){return e?k(e,U):a(U)}function A(e,t){return t||(t=Object(s.m)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function L(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function R(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=i,e[5]=Number.POSITIVE_INFINITY,e}function P(e){return 6===e.length}function F(e){return 0===b(e)&&0===m(e)&&0===y(e)}function N(e,t,n){if(Object(r.k)(e)||Object(r.k)(t))return e===t
if(!P(e)||!P(t))return!1
if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1
return!0}function D(e,t,n,r,i,s){return o(e,t,n,r,i,s,z)}const V=[-1/0,-1/0,-1/0,1/0,1/0,1/0],U=[1/0,1/0,1/0,-1/0,-1/0,-1/0],G=[0,0,0,0,0,0],z=a()},1043:function(e,t,n){"use strict"
function r(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function i(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object")
if("on"in e)return e.on(t,n)
if(Array.isArray(t)){const r=t.slice()
for(const t of r)e.addEventListener(t,n)
return{remove(){for(const t of r)e.removeEventListener(t,n)}}}return e.addEventListener(t,n),{remove(){e.removeEventListener(t,n)}}}function s(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object")
if("once"in e)return e.once(t,n)
const s=i(e,t,t=>{s.remove(),n.call(e,t)})
return{remove(){s.remove()}}}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}))
const a={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"}
function o({key:e}){return a[e]||e}},1044:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(449)
class i extends r.a{constructor(e,t,n){if(super(e,t,n),!(this instanceof i))return new i(e,t,n)}}i.prototype.type="warning"},1045:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}))
var r=n(233),i=n(146),s=n(1044),a=n(1112),o=n(1353)
const l=r.a.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader")
function c(e,t,n){var r,s
e&&(!n&&!t.read||(null==(r=t.read)?void 0:r.reader)||!1===(null==(s=t.read)?void 0:s.enabled)||function(e){return"types"in e?m(e.types):b(e.type)}(e)&&Object(i.c)("read.reader",u(e),t))}function u(e){var t
const n=null!=(t=e.ndimArray)?t:0
if(n>1)return function(e){var t
const n=d(e),r=h.bind(null,n),i=null!=(t=e.ndimArray)?t:0
return(e,t,n)=>{if(null==e)return e
e=r(e,n,i)
let s=i,a=e
for(;s>0&&Array.isArray(a);)s--,a=a[0]
if(void 0!==a)for(let t=0;t<s;t++)e=[e]
return e}}(e)
if(1===n)return p(e)
if("type"in e&&f(e.type)){var r,i
const t=null==(r=e.type.prototype)||null==(i=r.itemType)?void 0:i.Type,n=p("function"==typeof t?{type:t}:{types:t})
return(t,r,i)=>{const s=n(t,r,i)
return s?new e.type(s):s}}return d(e)}function d(e){return"type"in e?function(e){return e.prototype.read?(t,n,r)=>{if(null==t)return t
const i=typeof t
if("object"!==i)return void l.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`)
const s=new e
return s.read(t,r),s}:e.fromJSON}(e.type):function(e){var t
let n=null
const r=null!=(t=e.errorContext)?t:"type"
return(t,i,o)=>{if(null==t)return t
const c=typeof t
if("object"!==c)return void l.error(`Expected JSON value of type 'object' to deserialize, but got '${c}'`)
n||(n=function(e){const t={}
for(const i in e.typeMap){var n,r
const s=e.typeMap[i],o=Object(a.a)(s.prototype)
if("function"==typeof e.key)continue
const l=o[e.key]
if(!l)continue;(null==(n=l.json)?void 0:n.type)&&Array.isArray(l.json.type)&&1===l.json.type.length&&"string"==typeof l.json.type[0]&&(t[l.json.type[0]]=s)
const c=null==(r=l.json)?void 0:r.write
if(!c||!c.writer){t[i]=s
continue}const u=c.target,d="string"==typeof u?u:e.key,h={}
c.writer(i,h,d),h[d]&&(t[h[d]]=s)}return t}(e))
const u=e.key
if("string"!=typeof u)return
const d=t[u],h=d?n[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0
if(!h){const e=`Type '${d||"unknown"}' is not supported`
return o&&o.messages&&t&&o.messages.push(new s.a(r+":unsupported",e,{definition:t,context:o})),void l.error(e)}const p=new h
return p.read(t,o),p}}(e.types)}function h(e,t,n,r){return 0!==r&&Array.isArray(t)?t.map(t=>h(e,t,n,r-1)):e(t,void 0,n)}function p(e){const t=d(e)
return(e,n,r)=>{if(null==e)return e
if(Array.isArray(e)){const n=[]
for(const i of e){const e=t(i,void 0,r)
void 0!==e&&n.push(e)}return n}const i=t(e,void 0,r)
return void 0!==i?[i]:void 0}}function f(e){if(!Object(o.a)(e))return!1
const t=e.prototype.itemType
return!(!t||!t.Type)&&("function"==typeof t.Type?b(t.Type):m(t.Type))}function b(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||f(e))}function m(e){for(const t in e.typeMap)if(!b(e.typeMap[t]))return!1
return!0}},1046:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f}))
var r=n(968),i=n(446),s=n(1058),a=n(973),o=n(1044),l=n(970),c=n(969)
const u="loaded",d=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(e=>{const t=this.load.bind(this)
this.load=n=>{const r=new Promise((e,t)=>{const r=Object(a.o)(n,t)
this.destroyed&&t(new i.a("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(e,t).finally(()=>{r&&r.remove()})})
if("not-loaded"===this.loadStatus){this._set("loadStatus","loading")
const e=this._loadController=new AbortController
t({signal:e.signal}),Object(a.n)(e.signal,()=>{this._promiseProps.abort()})}return e(),r}})),this.when(()=>{this._set("loadStatus",u),this._loadController=null},e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null})}get loaded(){return this.loadStatus===u}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var e
return this.isFulfilled()||(this._set("loadError",new i.a("load:cancelled","Cancelled")),null!=(e=this._loadController)&&e.abort()),this}}
return Object(r.a)([Object(l.b)({readOnly:!0})],t.prototype,"loaded",null),Object(r.a)([Object(l.b)({readOnly:!0})],t.prototype,"loadError",void 0),Object(r.a)([Object(l.b)({clonable:!1})],t.prototype,"loadStatus",void 0),Object(r.a)([Object(l.b)({type:[o.a],readOnly:!0})],t.prototype,"loadWarnings",null),t=Object(r.a)([Object(c.a)("esri.core.Loadable")],t),t}
let h=class extends(d(s.a)){}
var p
h=Object(r.a)([Object(c.a)("esri.core.Loadable")],h),(p=h||(h={})).LoadableMixin=d,p.isLoadable=function(e){return!(!e||!e.load)}
const f=h},1047:function(e,t,n){"use strict"
n.d(t,"a",(function(){return O}))
var r,i=n(968),s=n(982),a=n(772),o=n(976),l=n(972),c=n(234),u=n(23),d=n(970),h=(n(971),n(977)),p=n(969),f=n(974),b=n(769),m=n(983),y=n(1050)
const g=new o.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null})
let v=r=class extends l.a{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const n=b.default.fromJSON(t.spatialReference),r=[]
for(let t=0;t<e.length;t++){const s=e[t],o=a.default.fromJSON(s),l=s.geometry&&s.geometry.spatialReference
Object(u.l)(o.geometry)&&!l&&(o.geometry.spatialReference=n)
const c=s.aggregateGeometries,d=o.aggregateGeometries
if(c&&Object(u.l)(d))for(const e in d){var i
const t=d[e],r=null==(i=c[e])?void 0:i.spatialReference
Object(u.l)(t)&&!r&&(t.spatialReference=n)}r.push(o)}return r}writeGeometryType(e,t,n,r){if(e)return void g.write(e,t,n,r)
const{features:i}=this
if(i)for(const e of i)if(e&&Object(u.l)(e.geometry))return void g.write(e.geometry.type,t,n,r)}readQueryGeometry(e,t){if(!e)return null
const n=!!e.spatialReference,r=Object(m.a)(e)
return r&&!n&&t.spatialReference&&(r.spatialReference=b.default.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON())
const{features:n}=this
if(n)for(const e of n)if(e&&Object(u.l)(e.geometry)&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}clone(){return new r(this.cloneProperties())}cloneProperties(){return Object(c.a)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write()
if(t.features&&Array.isArray(e)&&e.length>0)for(let n=0;n<t.features.length;n++){const r=t.features[n]
if(r.geometry){const t=e&&e[n]
r.geometry=t&&t.toJSON()||r.geometry}}return t}quantize(e){const{scale:[t,n],translate:[r,i]}=e,s=this.features,a=this._getQuantizationFunction(this.geometryType,e=>Math.round((e-r)/t),e=>Math.round((i-e)/n))
for(let e=0,t=s.length;e<t;e++)(null==a?void 0:a(Object(u.u)(s[e].geometry)))||(s.splice(e,1),e--,t--)
return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:n}=this
if(!n)return this
const{translate:[r,i],scale:[s,a]}=n,o=this._getHydrationFunction(e,e=>e*s+r,e=>i-e*a)
for(const{geometry:e}of t)Object(u.l)(e)&&o&&o(e)
return this.transform=null,this}_quantizePoints(e,t,n){let r,i
const s=[]
for(let a=0,o=e.length;a<o;a++){const o=e[a]
if(a>0){const e=t(o[0]),a=n(o[1])
e===r&&a===i||(s.push([e-r,a-i]),r=e,i=a)}else r=t(o[0]),i=n(o[1]),s.push([r,i])}return s.length>0?s:null}_getQuantizationFunction(e,t,n){return"point"===e?e=>(e.x=t(e.x),e.y=n(e.y),e):"polyline"===e||"polygon"===e?e=>{const r=Object(m.g)(e)?e.rings:e.paths,i=[]
for(let e=0,s=r.length;e<s;e++){const s=r[e],a=this._quantizePoints(s,t,n)
a&&i.push(a)}return i.length>0?(Object(m.g)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?e=>{const r=this._quantizePoints(e.points,t,n)
return r&&r.length>0?(e.points=r,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,n){return"point"===e?e=>{e.x=t(e.x),e.y=n(e.y)}:"polyline"===e||"polygon"===e?e=>{const r=Object(m.g)(e)?e.rings:e.paths
let i,s
for(let e=0,a=r.length;e<a;e++){const a=r[e]
for(let e=0,r=a.length;e<r;e++){const r=a[e]
e>0?(i+=r[0],s+=r[1]):(i=r[0],s=r[1]),r[0]=t(i),r[1]=n(s)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax)}:"multipoint"===e?e=>{const r=e.points
let i,s
for(let e=0,a=r.length;e<a;e++){const a=r[e]
e>0?(i+=a[0],s+=a[1]):(i=a[0],s=a[1]),a[0]=t(i),a[1]=n(s)}}:null}}
Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],v.prototype,"displayFieldName",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"exceededTransferLimit",void 0),Object(i.a)([Object(d.b)({type:[a.default],json:{write:!0}})],v.prototype,"features",void 0),Object(i.a)([Object(h.a)("features")],v.prototype,"readFeatures",null),Object(i.a)([Object(d.b)({type:[y.a],json:{write:!0}})],v.prototype,"fields",void 0),Object(i.a)([Object(d.b)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],v.prototype,"geometryType",void 0),Object(i.a)([Object(f.a)("geometryType")],v.prototype,"writeGeometryType",null),Object(i.a)([Object(d.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"hasM",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],v.prototype,"hasZ",void 0),Object(i.a)([Object(d.b)({types:s.c,json:{write:!0}})],v.prototype,"queryGeometry",void 0),Object(i.a)([Object(h.a)("queryGeometry")],v.prototype,"readQueryGeometry",null),Object(i.a)([Object(d.b)({type:b.default,json:{write:!0}})],v.prototype,"spatialReference",void 0),Object(i.a)([Object(f.a)("spatialReference")],v.prototype,"writeSpatialReference",null),Object(i.a)([Object(d.b)({json:{write:!0}})],v.prototype,"transform",void 0),v=r=Object(i.a)([Object(p.a)("esri.rest.support.FeatureSet")],v),v.prototype.toJSON.isDefaultToJSON=!0
const O=v},1048:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}))
var r=n(1060),i=n(1368)
let s=!1
const a=[]
function o(e,t){let n=new i.a((function i(){if(!n||o)return
if(s)return void u(i)
const l=a
n.clear(),s=!0,o=!0,a=Object(r.b)(n,e),o=!1,s=!1,t(a,l),d()})),a=null,o=!1
return o=!0,a=Object(r.b)(n,e),o=!1,{remove:function(){n&&(n.destroy(),n=null,a=null)}}}function l(e,t){let n=new i.a((function(){t(s,a)})),s=null
function a(){return n?(n.clear(),s=Object(r.b)(n,e),s):null}return a(),{remove:function(){n&&(n.destroy(),n=null),s=null}}}function c(e){let t=new i.a((function i(){t&&!n&&(s?u(i):(t.clear(),s=!0,n=!0,Object(r.b)(t,e),n=!1,s=!1,d()))})),n=!1
return n=!0,Object(r.b)(t,e),n=!1,{remove:function(){t&&(t.destroy(),t=null)}}}function u(e){a.includes(e)||a.unshift(e)}function d(){for(;a.length;)a.pop()()}},1049:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
class r{constructor(e,t,n,r=1,i=0){if(this._ctor=e,this._acquireFunction=t,this._releaseFunction=n,this.allocationSize=r,this._pool=new Array(i),this._initialSize=i,this._ctor)for(let e=0;e<i;e++)this._pool[e]=new this._ctor
this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let t
if(r.test.disabled)t=new this._ctor
else{if(0===this._pool.length){const e=this.allocationSize
for(let t=0;t<e;t++)this._pool[t]=new this._ctor}t=this._pool.pop()}return this._acquireFunction?this._acquireFunction(t,...e):function(e){return e&&e.acquire&&"function"==typeof e.acquire}(t)&&t.acquire(...e),t}release(e){e&&!r.test.disabled&&(this._releaseFunction?this._releaseFunction(e):function(e){return e&&e.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t]
this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}r.test={disabled:!1}},1050:function(e,t,n){"use strict"
n.d(t,"a",(function(){return m}))
var r,i=n(968),s=n(976),a=n(972),o=n(970),l=n(971),c=(n(445),n(979)),u=n(977),d=n(969),h=n(1132),p=n(1149)
const f=new s.a({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"})
let b=r=class extends a.a{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){var n,r
let i=null
try{i=t?JSON.parse(t):null}catch(e){}return null!=(n=null==(r=i)?void 0:r.value)?n:null}readValueType(e,{description:t}){let n=null
try{n=t?JSON.parse(t):null}catch(e){}return n?f.fromJSON(n.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"alias",void 0),Object(i.a)([Object(o.b)({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0),Object(i.a)([Object(o.b)()],b.prototype,"description",void 0),Object(i.a)([Object(u.a)("description")],b.prototype,"readDescription",null),Object(i.a)([Object(o.b)({types:h.b,json:{read:{reader:h.a},write:!0}})],b.prototype,"domain",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0),Object(i.a)([Object(o.b)({type:l.a,json:{write:!0}})],b.prototype,"length",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"name",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0),Object(i.a)([Object(c.a)(p.a)],b.prototype,"type",void 0),Object(i.a)([Object(o.b)()],b.prototype,"valueType",void 0),Object(i.a)([Object(u.a)("valueType",["description"])],b.prototype,"readValueType",null),Object(i.a)([Object(o.b)({type:Boolean,json:{read:!1}})],b.prototype,"visible",void 0),b=r=Object(i.a)([Object(d.a)("esri.layers.support.Field")],b)
const m=b},1051:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return v}))
var r=n(23),i=n(374),s=n(1054)
const a={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},o=Object.values(a),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u=/(.*?)\/(?:layers\/)?(\d+)\/?$/i
function d(e){return!!l.test(e)}function h(e){if(Object(r.k)(e))return null
const t=Object(i.Q)(e),n=t.path.match(l)||t.path.match(c)
if(!n)return null
const[,s,o,u,d]=n,h=o.indexOf("/")
return{title:f(-1!==h?o.slice(h+1):o),serverType:a[u.toLowerCase()],sublayer:null!=d&&""!==d?parseInt(d,10):null,url:{path:s}}}function p(e){const t=Object(i.Q)(e).path.match(u)
return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function f(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function b(e,t){const n=[]
if(e){const t=h(e)
Object(r.l)(t)&&t.title&&n.push(t.title)}if(t){const e=f(t)
n.push(e)}if(2===n.length){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0]
if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function m(e){if(!e)return!1
const t=(e=e.toLowerCase()).includes(".arcgis.com/"),n=e.includes("//services")||e.includes("//tiles")||e.includes("//features")
return t&&n}function y(e,t){return e?Object(i.N)(Object(i.M)(e,t)):e}function g(e){let{url:t}=e
if(!t)return{url:t}
t=Object(i.M)(t,e.logger)
const n=Object(i.Q)(t),s=h(n.path)
let a
if(Object(r.l)(s))null!=s.sublayer&&null==e.layer.layerId&&(a=s.sublayer),t=s.url.path
else if(e.nonStandardUrlAllowed){const e=p(n.path)
Object(r.l)(e)&&(t=e.serviceUrl,a=e.sublayerId)}return{url:Object(i.N)(t),layerId:a}}function v(e,t,n,r,a){Object(s.i)(t,r,"url",a),r.url&&null!=e.layerId&&(r.url=Object(i.E)(r.url,n,e.layerId.toString()))}function O(e){if(!e)return!1
const t=e.toLowerCase(),n=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver")
return n&&(r||i||s)}function j(e){var t
if(!e)return!1
const n=null==(t=new i.a(Object(i.F)(e)).authority)?void 0:t.toLowerCase()
return"server.arcgisonline.com"===n||"services.arcgisonline.com"===n}},1052:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}))
class r{constructor(e,t,n,r){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=n
const i=1-this.flattening
this.semiMinorAxis=this.semiMajorAxis*i,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=r||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const i=new r(6378137,1/298.257223563,3e5,.006694379990137799),s=new r(3396190,1/169.8944472236118,23e4),a=new r(1737400,0,0)},1053:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(233)
class i{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1
if(0===this.keyModifiers.length)return!0
const t=e.modifiers
for(const e of this.keyModifiers)if(!t.has(e))return!1
return!0}}const s=r.a.getLogger("esri.views.input.InputHandler")
class a{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[]
for(const e in this._incoming){const t=this._incoming[e]
for(const e of t)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager?s.error("This InputHandler has already been registered with an InputManager"):(e.setEventCallback(e=>this._handleEvent(e)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,t,n){let r
"function"==typeof t?(n=t,r=[]):r=t||[]
const s="string"==typeof e?new i(e,r):e,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},l=e=>{const t=this._incoming[e.match.eventType]
if(t){const n=t.indexOf(e)
t.splice(n,1),a(),this._manager&&this._manager.updateDependencies()}},c=new o(s,n,{onPause:l,onRemove:l,onResume:e=>{const t=this._incoming[e.match.eventType]
t&&!t.includes(e)&&(t.push(e),a(),this._manager&&this._manager.updateDependencies())}})
let u=this._incoming[s.eventType]
return u||(u=[],this._incoming[s.eventType]=u),u.push(c),a(),this._manager&&this._manager.updateDependencies(),c}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e)
const t=new l(e,{onEmit:(e,t,n,r)=>{var i
null==(i=this._manager)||i.emit(e.eventType,t,n,r)},onRemove:e=>{var t
delete this._outgoing[e.eventType],null==(t=this._manager)||t.updateDependencies()}})
return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){var t
null==(t=this._manager)||t.setPointerCapture(e,!0)}stopCapturingPointer(e){var t
null==(t=this._manager)||t.setPointerCapture(e,!1)}refreshHasPendingInputs(){var e
null==(e=this._manager)||e.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):s.error("This InputHandler is not registered with an InputManager")}_handleEvent(e){const t=this._incoming[e.type]
if(t)for(const n of t)if(n.match.matches(e)&&(null!=n.callback&&n.callback(e),e.shouldStopPropagation()))break}}class o{constructor(e,t,n){this.match=e,this._callback=t,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class l{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}remove(){this._removed=!0,this._handler.onRemove(this)}}},1054:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return l}))
var r=n(23),i=n(374)
function s(e,t){const n=t&&t.url&&t.url.path
if(e&&n&&(e=Object(i.F)(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=Object(i.H)(e,t.portalItem.itemUrl)
null!=n&&u.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return f(e,t&&t.portal)}function a(e,t,n=b.YES){if(null==e)return e
!Object(i.x)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e)
let r=Object(i.F)(e)
if(t){const n=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path
if(n){const s=f(n,t.portal),a=f(r,t.portal)
r=Object(i.H)(a,s,s),null!=r&&r!==a&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=p(r,null==t?void 0:t.portal),Object(i.x)(r)&&(r=Object(i.I)(r)),null!=t&&t.resources&&null!=t&&t.portalItem&&!Object(i.x)(r)&&!Object(i.z)(r)&&n===b.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function o(e,t,n){return s(e,n)}function l(e,t,n,r){const i=a(e,r)
void 0!==i&&(t[n]=i)}const c=/\/items\/([^\/]+)\/resources\/(.*)/,u=/^\.\/resources\//
function d(e){var t,n,r
return null!=(t=null==(n=null!=(r=null==e?void 0:e.match(c))?r:null)?void 0:n[1])?t:null}function h(e){var t
const n=null!=(t=null==e?void 0:e.match(c))?t:null
if(null==n)return null
const s=n[2],a=s.lastIndexOf("/")
if(-1===a){const{path:e,extension:t}=Object(i.O)(s)
return{prefix:null,filename:e,extension:Object(r.u)(t)}}const{path:o,extension:l}=Object(i.O)(s.slice(a+1))
return{prefix:s.slice(0,a),filename:o,extension:Object(r.u)(l)}}function p(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Object(i.g)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function f(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e
const n=`${t.urlKey}.${t.customBaseUrl}`,r=Object(i.m)()
return Object(i.v)(r,`${r.scheme}://${n}`)?Object(i.g)(e,t.portalHostname,n):Object(i.g)(e,n,t.portalHostname)}var b,m;(m=b||(b={}))[m.YES=0]="YES",m[m.NO=1]="NO"
const y=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return b},ensureMainOnlineDomain:p,fromJSON:s,itemIdFromResourceUrl:d,prefixAndFilenameFromResourceUrl:h,read:o,toJSON:a,write:l},Symbol.toStringTag,{value:"Module"}))},1055:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b}))
var r,i=n(968),s=n(234),a=n(970),o=(n(971),n(969)),l=n(974),c=n(770),u=n(1004),d=n(992),h=n(1105)
function p(e){return(t,n)=>null==t?n:null==n?t:e(t,n)}let f=r=class extends u.a{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{}
const n={}
Array.isArray(e)?(n.points=e,n.spatialReference=t):function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?n.spatialReference=e:(e.points&&(n.points=e.points),e.spatialReference&&(n.spatialReference=e.spatialReference),e.hasZ&&(n.hasZ=e.hasZ),e.hasM&&(n.hasM=e.hasM))
const r=n.points&&n.points[0]
return r&&(void 0===n.hasZ&&void 0===n.hasM?(n.hasZ=r.length>2,n.hasM=!1):void 0===n.hasZ?n.hasZ=r.length>3:void 0===n.hasM&&(n.hasM=r.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points
if(!e.length)return null
const t=new c.default,n=this.hasZ,r=this.hasM,i=n?3:2,s=e[0],a=p(Math.min),o=p(Math.max)
let l,u,d,h,[f,b]=s,[m,y]=s
for(let t=0,s=e.length;t<s;t++){const s=e[t],[c,p]=s
if(f=a(f,c),b=a(b,p),m=o(m,c),y=o(y,p),n&&s.length>2){const e=s[2]
l=a(l,e),d=o(d,e)}if(r&&s.length>i){const e=s[i]
u=a(u,e),h=o(h,e)}}return t.xmin=f,t.ymin=b,t.xmax=m,t.ymax=y,t.spatialReference=this.spatialReference,n?(t.zmin=l,t.zmax=d):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=u,t.mmax=h):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=Object(s.a)(this.points)}addPoint(e){return Object(h.a)(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:Object(s.a)(this.points),spatialReference:this.spatialReference}
return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new r(e)}getPoint(e){if(!this._validateInputs(e))return null
const t=this.points[e],n={x:t[0],y:t[1],spatialReference:this.spatialReference}
let r=2
return this.hasZ&&(n.z=t[2],r=3),this.hasM&&(n.m=t[r]),new d.a(n)}removePoint(e){if(!this._validateInputs(e))return null
const t=new d.a(this.points.splice(e,1)[0],this.spatialReference)
return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Object(h.a)(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}}
Object(i.a)([Object(a.b)({readOnly:!0})],f.prototype,"cache",null),Object(i.a)([Object(a.b)()],f.prototype,"extent",null),Object(i.a)([Object(a.b)({type:[[Number]],json:{write:{isRequired:!0}}})],f.prototype,"points",void 0),Object(i.a)([Object(l.a)("points")],f.prototype,"writePoints",null),f=r=Object(i.a)([Object(o.a)("esri.geometry.Multipoint")],f),f.prototype.toJSON.isDefaultToJSON=!0
const b=f},1056:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r,i=n(445)
!function(e){const t=(e,t,n,r)=>{let i=t,s=t
const a=n>>>1,o=e[i-1]
for(;s<=a;){s=i<<1,s<n&&r(e[s-1],e[s])<0&&++s
const t=e[s-1]
if(r(t,o)<=0)break
e[i-1]=t,i=s}e[i-1]=o},n=(e,t)=>e<t?-1:e>t?1:0
e.sort=function(e,r,i,s){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===s&&(s=n)
for(let n=i>>>1;n>r;n--)t(e,n,i,s)
const a=r+1
for(let n=i-1;n>r;n--){const i=e[r]
e[r]=e[n],e[n]=i,t(e,a,n,s)}},e.iterableSort=function*(e,r,i,s){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===s&&(s=n)
for(let n=i>>>1;n>r;n--)t(e,n,i,s),yield
const a=r+1
for(let n=i-1;n>r;n--){const i=e[r]
e[r]=e[n],e[n]=i,t(e,a,n,s),yield}}}(r||(r={}))
const s=r
class a{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new i.a,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>o(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array
for(let n=0;n<this._length;n++){const r=this.data[n]
e(r)&&t.push(r)}return t}getItemAt(e){if(!(e<0||e>=this._length))return this.data[e]}includes(e,t){const n=this.data.indexOf(e,t)
return-1!==n&&n<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length])
return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t])
this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let n=0;n<t;n++)this.data[this._length++]=e[n]}fill(e,t){for(let n=0;n<t;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]))
const e=this.data[this._length]
return++this._length,e}unshift(e){this.data.unshift(e),this._length++,o(this)}pop(){if(0===this.length)return
const e=this.data[this.length-1]
return this.length=this.length-1,this._shrink(),e}remove(e){const t=Object(i.h)(this.data,e,this.length,this._hint)
if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(Object(i.h)(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,n){this.length=Object(i.n)(this.data,e,this.length,t,this._hint,n),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return
const n=this.data[e]
this.data[e]=this.data[t],this.data[t]=n}sort(e){s.sort(this.data,0,this.length,e)}iterableSort(e){return s.iterableSort(this.data,0,this.length,e)}some(e,t){for(let n=0;n<this.length;++n)if(e.call(t,this.data[n],n,this.data))return!0
return!1}find(e,t){for(let n=0;n<this.length;++n){const r=this.data[n]
if(e.call(t,r,n))return r}}filterInPlace(e,t){let n=0
for(let r=0;r<this._length;++r){const i=this.data[r]
e.call(t,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let e=n;e<this._length;e++)this.data[e]=this._deallocator(this.data[e])
return this._length=n,this._shrink(),this}forAll(e,t){const n=this.length,r=this.data
for(let i=0;i<n;++i)e.call(t,r[i],i,r)}forEach(e,t){for(let n=0;n<this.length;++n)e.call(t,this.data[n],n,this.data)}map(e,t){const n=new Array(this.length)
for(let r=0;r<this.length;++r)n[r]=e.call(t,this.data[r],r,this.data)
return n}reduce(e,t){let n=t
for(let t=0;t<this.length;++t)n=e(n,this.data[t],t,this.data)
return n}has(e){const t=this.length,n=this.data
for(let r=0;r<t;++r)if(n[r]===e)return!0
return!1}}function o(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}},1057:function(e,t,n){"use strict"
n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return te})),n.d(t,"c",(function(){return Z})),n.d(t,"d",(function(){return Y})),n.d(t,"e",(function(){return K})),n.d(t,"f",(function(){return B})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return q})),n.d(t,"i",(function(){return U})),n.d(t,"j",(function(){return J})),n.d(t,"k",(function(){return ee})),n.d(t,"l",(function(){return X})),n.d(t,"m",(function(){return P})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return G})),n.d(t,"p",(function(){return D})),n.d(t,"q",(function(){return pe})),n.d(t,"r",(function(){return se})),n.d(t,"s",(function(){return le})),n.d(t,"t",(function(){return he})),n.d(t,"u",(function(){return re})),n.d(t,"v",(function(){return ie})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return j})),n.d(t,"y",(function(){return ue})),n.d(t,"z",(function(){return ne})),n.d(t,"A",(function(){return ce}))
var r=n(446),i=n(233),s=n(23),a=n(1041),o=n(996),l=n(983),c=n(1153),u=n(1237),d=n(1062)
function h(e,t){return e?t?4:3:t?3:2}const p=i.a.getLogger("esri.layers.graphics.featureConversionUtils"),f={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},b=(e,t,n,r,i,s)=>{e[n]=i,e[n+1]=s},m=(e,t,n,r,i,s)=>{e[n]=i,e[n+1]=s,e[n+2]=t[r+2]},y=(e,t,n,r,i,s)=>{e[n]=i,e[n+1]=s,e[n+2]=t[r+3]},g=(e,t,n,r,i,s)=>{e[n]=i,e[n+1]=s,e[n+2]=t[r+2],e[n+3]=t[r+3]}
function v(e,t,n,r){if(e){if(n)return t&&r?g:m
if(t&&r)return y}else if(t&&r)return m
return b}function O({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function j({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function w({scale:e,translate:t},n,r){return n*e[r]+t[r]}function _(e,t,n){return e?t?n?k(e):T(e):n?M(e):S(e):null}function S(e){const t=e.coords
return{x:t[0],y:t[1]}}function x(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function T(e){const t=e.coords
return{x:t[0],y:t[1],z:t[2]}}function I(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function M(e){const t=e.coords
return{x:t[0],y:t[1],m:t[2]}}function E(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function k(e){const t=e.coords
return{x:t[0],y:t[1],z:t[2],m:t[3]}}function C(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function A(e,t){return e&&t?C:e?I:t?E:x}function L(e,t,n,r,i){const a=A(n,r)
for(const{geometry:n,attributes:r}of t){const t=Object(s.l)(n)?a(new d.a,n):null
e.push(new c.a(t,r,null,i?r[i]:void 0))}return e}function R(e,t,n=A(null!=t.z,null!=t.m)){return n(e,t)}function P(e,t,n){if(Object(s.k)(e))return null
const r=h(t,n),i=[]
for(let t=0;t<e.coords.length;t+=r){const n=[]
for(let i=0;i<r;i++)n.push(e.coords[t+i])
i.push(n)}return t?n?{points:i,hasZ:t,hasM:n}:{points:i,hasZ:t}:n?{points:i,hasM:n}:{points:i}}function F(e,t,n,r,i){const a=h(n,r)
for(const{geometry:n,attributes:r}of t){const t=Object(s.l)(n)?N(new d.a,n,a):null
e.push(new c.a(t,r,null,i?r[i]:void 0))}return e}function N(e,t,n=h(t.hasZ,t.hasM)){e.lengths[0]=t.points.length
const r=e.coords
let i=0
for(const e of t.points)for(let t=0;t<n;t++)r[i++]=e[t]
return e}function D(e,t,n){if(!e)return null
const r=h(t,n),{coords:i,lengths:s}=e,a=[]
let o=0
for(const e of s){const t=[]
for(let n=0;n<e;n++){const e=[]
for(let t=0;t<r;t++)e.push(i[o++])
t.push(e)}a.push(t)}return t?n?{paths:a,hasZ:t,hasM:n}:{paths:a,hasZ:t}:n?{paths:a,hasM:n}:{paths:a}}function V(e,t,n,r,i){const a=h(n,r)
for(const{geometry:n,attributes:r}of t){const t=Object(s.l)(n)?U(new d.a,n,a):null
e.push(new c.a(t,r,null,i?r[i]:void 0))}return e}function U(e,t,n=h(t.hasZ,t.hasM)){const{lengths:r,coords:i}=e
let s=0
for(const e of t.paths){for(const t of e)for(let e=0;e<n;e++)i[s++]=t[e]
r.push(e.length)}return e}function G(e,t,n){if(!e)return null
const r=h(t,n),{coords:i,lengths:s}=e,a=[]
let o=0
for(const e of s){const t=[]
for(let n=0;n<e;n++){const e=[]
for(let t=0;t<r;t++)e.push(i[o++])
t.push(e)}a.push(t)}return t?n?{rings:a,hasZ:t,hasM:n}:{rings:a,hasZ:t}:n?{rings:a,hasM:n}:{rings:a}}function z(e,t,n,r,i){for(const{geometry:a,centroid:o,attributes:l}of t){const t=Object(s.l)(a)?q(new d.a,a,n,r):null,u=i?l[i]:void 0
Object(s.l)(o)?e.push(new c.a(t,l,x(new d.a,o),u)):e.push(new c.a(t,l,null,u))}return e}function q(e,t,n=t.hasZ,r=t.hasM){return B(e,t.rings,n,r),e}function B(e,t,n,r){const i=h(n,r),{lengths:s,coords:a}=e
let o=0
fe(e)
for(const e of t){for(const t of e)for(let e=0;e<i;e++)a[o++]=t[e]
s.push(e.length)}return e}const $=[],H=[]
function W(e,t,n,r,i){$[0]=e
const[s]=Z(H,$,t,n,r,i)
return be($),be(H),s}function Z(e,t,n,i,s,a){if(be(e),!n){for(const n of t){const t=a?n.attributes[a]:void 0
e.push(new c.a(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return L(e,t,i,s,a)
case"esriGeometryMultipoint":return F(e,t,i,s,a)
case"esriGeometryPolyline":return V(e,t,i,s,a)
case"esriGeometryPolygon":return z(e,t,i,s,a)
default:p.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`)),be(e)}return e}function K(e,t,n,i,s,a){const o=e.length
switch(n){case"esriGeometryPoint":L(e,t,i,s,a)
break
case"esriGeometryMultipoint":F(e,t,i,s,a)
break
case"esriGeometryPolyline":V(e,t,i,s,a)
break
case"esriGeometryPolygon":z(e,t,i,s,a)
break
default:p.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}for(let r=0;r<t.length;r++)e[r+o].geometryType=n,e[r+o].insertAfter=t[r].insertAfter,e[r+o].groupId=t[r].groupId
return e}function J(e,t,n,r){H[0]=e,Q($,H,t,n,r)
const i=$[0]
return be($),be(H),i}function Y(e,t,n){if(Object(s.k)(e))return null
const i=new d.a
return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),Object(l.f)(e)?A(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(i,e):Object(l.g)(e)?q(i,e,t,n):Object(l.h)(e)?U(i,e,h(t,n)):Object(l.e)(e)?N(i,e,h(t,n)):void p.error("convertFromGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${e}'`))}function X(e,t,n,i){const a=e&&("coords"in e?e:e.geometry)
if(Object(s.k)(a))return null
switch(t){case"esriGeometryPoint":{let e=S
return n&&i?e=k:n?e=T:i&&(e=M),e(a)}case"esriGeometryMultipoint":return P(a,n,i)
case"esriGeometryPolyline":return D(a,n,i)
case"esriGeometryPolygon":return G(a,n,i)
default:return p.error("convertToGeometry:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${t}'`)),null}}function Q(e,t,n,i,a){if(be(e),Object(s.k)(n))return function(e,t){for(const n of t)e.push({attributes:n.attributes})
return e}(e,t)
switch(n){case"esriGeometryPoint":return function(e,t,n,r){let i=S
n&&r?i=k:n?i=T:r&&(i=M)
for(const n of t){const{geometry:t,attributes:r}=n,a=Object(s.l)(t)?i(t):null
e.push({attributes:r,geometry:a})}return e}(e,t,i,a)
case"esriGeometryMultipoint":return function(e,t,n,r){for(const{geometry:i,attributes:a}of t)e.push({attributes:a,geometry:Object(s.l)(i)?P(i,n,r):null})
return e}(e,t,i,a)
case"esriGeometryPolyline":return function(e,t,n,r){for(const{geometry:i,attributes:a}of t)e.push({attributes:a,geometry:Object(s.l)(i)?D(i,n,r):null})
return e}(e,t,i,a)
case"esriGeometryPolygon":return function(e,t,n,r){for(const{geometry:i,attributes:a,centroid:o}of t){const t=Object(s.l)(i)?G(i,n,r):null
if(Object(s.l)(o)){const n=S(o)
e.push({attributes:a,centroid:n,geometry:t})}else e.push({attributes:a,geometry:t})}return e}(e,t,i,a)
default:p.error("convertToFeatureSet:unknown-geometry",new r.a(`Unable to parse unknown geometry type '${n}'`))}return e}function ee(e){const{objectIdFieldName:t,spatialReference:n,transform:r,fields:i,hasM:s,hasZ:a,features:o,geometryType:l,exceededTransferLimit:c,uniqueIdField:u,queryGeometry:d,queryGeometryType:h}=e,p={features:Q([],o,l,a,s),fields:i,geometryType:l,objectIdFieldName:t,spatialReference:n,uniqueIdField:u,queryGeometry:X(d,h,!1,!1)}
return r&&(p.transform=r),c&&(p.exceededTransferLimit=c),s&&(p.hasM=s),a&&(p.hasZ=a),p}function te(e,t){var n
const i=new u.a,{hasM:s,hasZ:a,features:o,objectIdFieldName:l,spatialReference:c,geometryType:d,exceededTransferLimit:h,transform:f,fields:b}=e
return b&&(i.fields=b),i.geometryType=null!=d?d:null,i.objectIdFieldName=null!=(n=null!=l?l:t)?n:null,i.spatialReference=null!=c?c:null,i.objectIdFieldName?(o&&Z(i.features,o,d,a,s,i.objectIdFieldName),h&&(i.exceededTransferLimit=h),s&&(i.hasM=s),a&&(i.hasZ=a),f&&(i.transform=f),i):(p.error(new r.a("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),i)}function ne(e){const{transform:t,features:n,hasM:r,hasZ:i}=e
if(!t)return e
for(const e of n)Object(s.l)(e.geometry)&&ce(e.geometry,e.geometry,r,i,t),Object(s.l)(e.centroid)&&ce(e.centroid,e.centroid,r,i,t)
return e.transform=null,e}function re(e,t){const{geometryType:n,features:r,hasM:i,hasZ:s}=t
if(!e)return t
for(let t=0;t<r.length;t++){const a=r[t],o=a.weakClone()
o.geometry=new d.a,ie(o.geometry,a.geometry,i,s,n,e),a.centroid&&(o.centroid=new d.a,ie(o.centroid,a.centroid,i,s,"esriGeometryPoint",e)),r[t]=o}return t.transform=e,t}function ie(e,t,n,r,i,a,o=n,l=r){if(fe(e),Object(s.k)(t)||!t.coords.length)return null
const c=f[i],{coords:u,lengths:d}=t,p=h(n,r),b=h(n&&o,r&&l),m=v(n,r,o,l)
if(!d.length)return m(e.coords,u,0,0,O(a,u[0]),j(a,u[1])),fe(e,p,0),e
let y,g,w,_,S=0,x=0,T=x
for(const t of d){if(t<c)continue
let n=0
x=T,w=y=O(a,u[S]),_=g=j(a,u[S+1]),m(e.coords,u,x,S,w,_),n++,S+=p,x+=b
for(let r=1;r<t;r++,S+=p)w=O(a,u[S]),_=j(a,u[S+1]),w===y&&_===g||(m(e.coords,u,x,S,w-y,_-g),x+=b,n++,y=w,g=_)
n>=c&&(e.lengths.push(n),T=x)}return be(e.coords,T),e.coords.length?e:null}function se(e,t,n,r,i,s,a=n,o=r){if(fe(e),!t||!t.coords.length)return null
const l=f[i],{coords:c,lengths:u}=t,d=h(n,r),p=h(n&&a,r&&o),b=v(n,r,a,o)
if(!u.length)return b(e.coords,c,0,0,c[0],c[1]),fe(e,d,0),e
let m=0
const y=s*s
for(const t of u){if(t<l){m+=t*d
continue}const n=e.coords.length/p,r=m,i=m+(t-1)*d
b(e.coords,c,e.coords.length,r,c[r],c[r+1]),oe(e.coords,c,d,y,b,r,i),b(e.coords,c,e.coords.length,i,c[i],c[i+1])
const s=e.coords.length/p-n
s>=l?e.lengths.push(s):be(e.coords,n*p),m+=t*d}return e.coords.length?e:null}function ae(e,t,n,r){const i=e[t],s=e[t+1],a=e[n],o=e[n+1],l=e[r],c=e[r+1]
let u=a,d=o,h=l-u,p=c-d
if(0!==h||0!==p){const e=((i-u)*h+(s-d)*p)/(h*h+p*p)
e>1?(u=l,d=c):e>0&&(u+=h*e,d+=p*e)}return h=i-u,p=s-d,h*h+p*p}function oe(e,t,n,r,i,s,a){let o,l=r,c=0
for(let e=s+n;e<a;e+=n)o=ae(t,e,s,a),o>l&&(c=e,l=o)
l>r&&(c-s>n&&oe(e,t,n,r,i,s,c),i(e,t,e.length,c,t[c],t[c+1]),a-c>n&&oe(e,t,n,r,i,c,a))}function le(e,t,n,r){if(Object(s.k)(t)||!t.coords||!t.coords.length)return null
const i=h(n,r)
let l=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY
if(t&&t.coords){const e=t.coords
for(let t=0;t<e.length;t+=i){const n=e[t],r=e[t+1]
l=Math.min(l,n),u=Math.max(u,n),c=Math.min(c,r),d=Math.max(d,r)}}return Object(a.y)(e)?Object(a.s)(e,l,c,u,d):Object(o.u)(l,c,u,d,e),e}function ce(e,t,n,r,i){var a,o,l,c,u,d,p,f
const{coords:b,lengths:m}=t,y=h(n,r)
if(!b.length)return e!==t&&fe(e),e
Object(s.c)(i)
const{originPosition:g,scale:v,translate:O}=i,j=me
j.originPosition=g
const _=j.scale
_[0]=null!=(a=v[0])?a:1,_[1]=-(null!=(o=v[1])?o:1),_[2]=null!=(l=v[2])?l:1,_[3]=null!=(c=v[3])?c:1
const S=j.translate
if(S[0]=null!=(u=O[0])?u:0,S[1]=null!=(d=O[1])?d:0,S[2]=null!=(p=O[2])?p:0,S[3]=null!=(f=O[3])?f:0,!m.length){for(let t=0;t<y;++t)e.coords[t]=w(j,b[t],t)
return e!==t&&fe(e,y,0),e}let x=0
for(let t=0;t<m.length;t++){const n=m[t]
e.lengths[t]=n
for(let t=0;t<y;++t)e.coords[x+t]=w(j,b[x+t],t)
let r=e.coords[x],i=e.coords[x+1]
x+=y
for(let t=1;t<n;t++,x+=y){r+=b[x]*_[0],i+=b[x+1]*_[1],e.coords[x]=r,e.coords[x+1]=i
for(let t=2;t<y;++t)e.coords[x+t]=w(j,b[x+t],t)}}return e!==t&&fe(e,b.length,m.length),e}function ue(e,t,n,r,i,s){if(fe(e),e.lengths.push(...t.lengths),n===i&&r===s)for(let n=0;n<t.coords.length;n++)e.coords.push(t.coords[n])
else{const a=h(n,r),o=v(n,r,i,s),l=t.coords
for(let t=0;t<l.length;t+=a)o(e.coords,l,e.coords.length,t,l[t],l[t+1])}return e}function de(e,t,n,r){let i=0,s=e[r*t],a=e[r*(t+1)]
for(let o=1;o<n;o++){const n=s+e[r*(t+o)],l=a+e[r*(t+o)+1],c=(n-s)*(l+a)
s=n,a=l,i+=c}return.5*i}function he(e,t){const{coords:n,lengths:r}=e
let i=0,s=0
for(let e=0;e<r.length;e++){const a=r[e]
s+=de(n,i,a,t),i+=a}return Math.abs(s)}function pe(e,t){if(Object(s.k)(e))return null
const n=e.clone(),r=e.coords,i=e.lengths
let a=0
for(let e=0;e<i.length;e++){const s=i[e]
let o=r[t*a],l=r[t*a+1]
for(let e=1;e<s;e++){const i=o+r[t*(a+e)],s=l+r[t*(a+e)+1]
n.coords[t*(a+e)]=i,n.coords[t*(a+e)+1]=s,o=i,l=s}a+=s}return n}function fe(e,t=0,n=0){be(e.lengths,n),be(e.coords,t)}function be(e,t=0){e.length!==t&&(e.length=t)}const me={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},1058:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}))
var r,i,s=n(968),a=n(975),o=n(23),l=n(973),c=n(969);(i=r||(r={}))[i.PENDING=0]="PENDING",i[i.RESOLVED=1]="RESOLVED",i[i.REJECTED=2]="REJECTED"
class u{constructor(e){this.instance=e,this._resolver=Object(l.d)(),this._status=r.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=r.RESOLVED,this._cleanUp()},()=>{this._status=r.REJECTED,this._cleanUp()})}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===r.RESOLVED}isRejected(){return this._status===r.REJECTED}isFulfilled(){return this._status!==r.PENDING}abort(){this._resolver.reject(Object(l.c)())}when(e,t){return this._resolver.promise.then(e,t)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return
const e=Object(l.d)(),t=[...this._resolvingPromises,Object(o.d)(e.promise)],n=this._allPromise=Promise.all(t)
n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve(this.instance)},e=>{this.isFulfilled()||this._allPromise!==n||Object(l.j)(e)||this._resolver.reject(e)}),e.resolve()}}const d=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new u(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return new Promise((e,t)=>{this._promiseProps.when(e,t)}).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}}
return t=Object(s.a)([Object(c.a)("esri.core.Promise")],t),t}
let h=class extends(d(a.a)){}
h=Object(s.a)([Object(c.a)("esri.core.Promise")],h)},1059:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n(235)
const r={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}}
function s(e,t,n){const r=new Date(e.getTime())
if(t&&n){const e=i[n],{getter:s,setter:a,multiplier:o}=e
if("months"===n){const e=function(e,t){const n=new Date(e,t+1,1)
return n.setDate(0),n.getDate()}(r.getFullYear(),r.getMonth()+t)
r.getDate()>e&&r.setDate(e)}r[a](r[s]()+t*o)}return r}function a(e,t){switch(t){case"milliseconds":return new Date(e.getTime())
case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())
case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())
case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())
case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate())
case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay())
case"months":return new Date(e.getFullYear(),e.getMonth(),1)
case"years":return new Date(e.getFullYear(),0,1)
case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1)
case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1)
default:return new Date}}function o(e,t,n){return 0===e?0:e*r[t]/r[n]}},1060:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return v})),n(235)
var r=n(233),i=n(999),s=n(1263)
const a={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},o=[]
let l=a
function c(e){l.onObservableAccessed(e)}let u=!1,d=!1
function h(e,t,n){if(u)return f(e,t,n)
b(e)
const r=t.call(n)
return m(),r}function p(e,t){return h(a,e,t)}function f(e,t,n){const i=u
u=!0,b(e)
let s=null
try{s=t.call(n)}catch(e){d&&r.a.getLogger("esri.core.accessorSupport.tracking").error(e)}return m(),u=i,s}function b(e){l=e,o.push(e)}function m(){const e=o.length
if(e>1){const t=o.pop()
l=o[e-2],t.onTrackingEnd()}else if(1===e){const e=o.pop()
l=a,e.onTrackingEnd()}else l=a}function y(e,t){const n=t.observerObject
if(n.flags&s.a.DepTrackingInitialized)return
const r=d
d=!1,n.flags&s.a.AutoTracked?f(t,t.metadata.get,e):v(e,t),d=r}const g=[]
function v(e,t){const n=t.observerObject
n.flags&s.a.ExplicitlyTracking||(n.flags|=s.a.ExplicitlyTracking,f(t,()=>{const n=t.metadata.dependsOn||g
for(const t of n)if("string"!=typeof t||t.includes(".")){const n=Object(i.f)(t)
for(let t=0,r=e;t<n.length&&null!=r&&"object"==typeof r;++t)r=O(r,n[t],t!==n.length-1)}else O(e,t,!1)}),n.flags&=~s.a.ExplicitlyTracking)}function O(e,t,n){var r
const s="?"===t[t.length-1]?t.slice(0,-1):t
if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(s,10)
if(!isNaN(t))return Array.isArray(e)?e[t]:e.getItemAt(t)}const a=null==(r=Object(i.a)(e))?void 0:r.properties.get(s)
return a&&(c(a.observerObject),y(e,a)),n?e[s]:void 0}},1061:function(e,t,n){"use strict"
n.d(t,"a",(function(){return z}))
var r=n(968),i=(n(1083),n(1337)),s=n(1002),a=n(1043),o=n(1007),l=(n(235),n(234)),c=n(233),u=n(23),d=n(1058),h=n(973),p=n(978),f=n(1346),b=n(970),m=n(987),y=n(969),g=n(1060),v=n(1368),O=n(1432)
n(1347)
const j={handleInterceptedEvent:(e,t,n,r)=>(e.scheduleRender(),t.properties["on"+r.type].apply(t.properties.bind||n,[r]))},w={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{e.style[t]=n}},_=(e,t,n=!1)=>{let r=e
return t.forEach((e,i)=>{var s
const a=null!=(s=r)&&s.children?((e,t)=>e.find(t))(r.children,t=>t.domNode===e):void 0
n&&!a&&i!==t.length-1||(r=a)}),r}
var S=n(1217),x=n(1407)
function T(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=()=>e.contains(x.f)||e.contains(x.c)&&t?"dark":"light",r=e=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:e}})),i=e=>{s!==e&&r(e),s=e}
let s=n()
r(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>i(e.matches?"dark":"light")),new MutationObserver(()=>i(n())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}"undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document&&("interactive"===document.readyState?T():document.addEventListener("DOMContentLoaded",()=>T(),{once:!0}))
var I=n(1019),M=n(374)
let E
E="components/assets"
var k=n(1434),C=n(1435)
const A=new Set
var L,R=n(1433),P=n(998),F=n(1005),N=n(1027)
let D=0
const V=(e=>{let t
const n={...j,...e},r=(s=n,{...w,...s}),i=r.performanceLogger
var s
let a,o=!0,l=!1
const c=[],u=[],d=(e,s,a)=>{let o
r.eventHandlerInterceptor=(e,r,s,a)=>function(e){let r
i("domEvent",e)
const s=((e,t)=>{const n=[]
for(;e&&e!==t;)n.push(e),e=e.parentNode
return n})(e.currentTarget,o.domNode),a=s.some(e=>{var t
return customElements.get(null==e||null==(t=e.tagName)?void 0:t.toLowerCase())})
if(e.eventPhase!==Event.CAPTURING_PHASE&&a){const t=e.composedPath(),n=t.slice(t.indexOf(e.currentTarget),t.indexOf(o.domNode)).filter(e=>e.getRootNode()===e.ownerDocument).reverse()
r=_(o.getLastRender(),n,!0)}else s.reverse(),r=_(o.getLastRender(),s)
let l
return r&&(l=n.handleInterceptedEvent(t,r,this,e)),i("domEventProcessed",e),l},null==n.postProcessProjectionOptions||n.postProcessProjectionOptions(r)
const l=a()
o=e(s,l,r),c.push(o),u.push(a),n.afterFirstVNodeRendered&&n.afterFirstVNodeRendered(o,l)}
let h=()=>{if(a=void 0,o){o=!1,i("renderStart",void 0)
for(let e=0;e<c.length;e++){const t=u[e]()
i("rendered",void 0),c[e].update(t),i("patched",void 0)}i("renderDone",void 0),o=!0}}
return n.modifyDoRenderImplementation&&(h=n.modifyDoRenderImplementation(h,c,u)),t={renderNow:h,scheduleRender:()=>{a||l||(a=requestAnimationFrame(h))},stop:()=>{a&&(cancelAnimationFrame(a),a=void 0),l=!0},resume:()=>{l=!1,o=!0,t.scheduleRender()},append:(e,t)=>{d(O.b.append,e,t)},insertBefore:(e,t)=>{d(O.b.insertBefore,e,t)},merge:(e,t)=>{d(O.b.merge,e,t)},replace:(e,t)=>{d(O.b.replace,e,t)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0]
throw new Error("renderFunction was not found")}},t})({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,n=/capture$/i
e.eventHandlerInterceptor=(e,r,i,s)=>{const a=null==t?void 0:t(e,r,i,s),o=n.test(e)
if(!((e=e.replace(n,"")).toLowerCase()in i)||o){const t=e[2].toLowerCase()+e.slice(3),n=e=>null==a?void 0:a.call(i,e)
i.addEventListener(t,n,o)
const r=()=>i.removeEventListener(t,n,o),l=s.afterRemoved
s.afterRemoved=e=>{null!=l&&l(e),r()}}return a}},handleInterceptedEvent(e,t,n,r){const{eventPhase:i,type:s}=r,a=i===Event.CAPTURING_PHASE
let o=`on${s}${a?"capture":""}`
const l=t.properties;(l&&o in l||(o=`on${s[0].toUpperCase()}${s.slice(1)}${a?"Capture":""}`,l&&o in l))&&(Object(R.a)(),e.scheduleRender(),l[o].call(l.bind||n,r))}})
let U=!1,G=class extends(Object(d.b)(s.a.EventedAccessor)){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new o.a,this._projector=V,this._readyForTrueRender=!1,this.iconClass="esri-icon-checkbox-unchecked",this.key=this,this._loadLocale=Object(h.f)(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const e=await Object(h.g)(this._messageBundleProps.map(async({bundlePath:e,propertyName:t})=>{let n=await Object(N.a)(e)
this.uiStrings&&Object.keys(this.uiStrings)&&(n=function e(t,n){for(const r in n)null!=t[r]&&("object"==typeof t[r]&&"object"==typeof n[r]?e(t[r],null==n?void 0:n[r]):t[r]=n[r])
return t}(Object(l.a)(n),this.uiStrings)),this[t]=n}))
for(const t of e)t.error&&c.a.getLogger(this.declaredClass).error("widget-intl:locale-error",this.declaredClass,t.error)}await this.loadLocale()}),Object(S.k)(Object(M.F)(Object(I.b)("components/assets")))
const n="esri-widget-uid-"+Object(f.a)(),r=this.render.bind(this)
this._trackingTarget=new v.a(()=>this.scheduleRender())
const i=()=>{var e
if(!this._readyForTrueRender||this.destroyed)return null
if(!this.visible)return{vnodeSelector:"div",properties:{key:n,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}
const t=r()
let{properties:i}=t
i||(t.properties=i={})
let{key:s,styles:a}=i
s||(i.key=n),a||(i.styles=a={}),a.display||(a.display="")
let o=0
return null!=(e=t.children)&&e.forEach(e=>{if(Object(k.a)(e.vnodeSelector))return
let{properties:t}=e
t||(e.properties=t={}),t.key||(t.key=`${this.id}--${o++}`)}),Object(k.b)(this,t)}
var s
this.render=()=>{var e
if(U)return i()
let t=null!=(e=Object(R.c)(this))?e:null
if(t)return t
this._trackingTarget.clear(),U=!0
try{t=Object(g.b)(this._trackingTarget,i)}catch(e){throw console.error(e),e}finally{U=!1}return t&&Object(R.d)(this,t),t},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()})),s=this._resourcesFetch,A.add(s),s.finally(()=>A.delete(s))}normalizeCtorArgs(e,t){const n={...e}
return t&&(n.container=t),n}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(h.r)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(Object(u.e)(this._trackingTarget),Object(u.e)(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,Object(R.b)(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return Object(i.a)(e)}get domNode(){return this.container}set domNode(e){this.container=e}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+D++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(L=C.a,C.b)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Object(R.b)(this),this._projector.scheduleRender())}classes(...e){return P.a.apply(this,e)}renderNow(){Object(R.b)(this),this._projector.renderNow()}_postInitialize(){var e
if(this.destroyed)return
this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add(Object(p.f)(()=>this.viewModel,(e,t)=>{t&&this._internalHandles.remove("delegated-events"),e&&Object(a.b)(e)&&this._internalHandles.add(this._delegatedEventNames.map(t=>Object(a.c)(e,t,e=>{this.emit(t,e)})),"delegated-events")},p.a)),this.postInitialize()
const t=async()=>{await this._loadLocale().catch(h.r),this.scheduleRender()}
this._internalHandles.add([Object(F.c)(t),Object(p.f)(()=>this.uiStrings,t),Object(p.g)(()=>this.container,e=>{this.destroyed||this._attach(e)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var t
this._attached&&(this._projector.detach(this.render),this._attached=!1),null==e||null==(t=e.parentNode)||t.removeChild(e)}}
G[L]=!0,Object(r.a)([Object(b.b)()],G.prototype,"_readyForTrueRender",void 0),Object(r.a)([Object(b.b)({value:null})],G.prototype,"container",null),Object(r.a)([Object(m.a)("container")],G.prototype,"castContainer",null),Object(r.a)([Object(b.b)()],G.prototype,"iconClass",void 0),Object(r.a)([Object(b.b)()],G.prototype,"id",null),Object(r.a)([Object(b.b)()],G.prototype,"label",null),Object(r.a)([Object(b.b)()],G.prototype,"renderable",null),Object(r.a)([Object(b.b)()],G.prototype,"uiStrings",void 0),Object(r.a)([Object(b.b)()],G.prototype,"viewModel",void 0),Object(r.a)([Object(b.b)({value:!0})],G.prototype,"visible",null),Object(r.a)([Object(b.b)()],G.prototype,"key",void 0),Object(r.a)([Object(b.b)()],G.prototype,"children",void 0),Object(r.a)([Object(b.b)()],G.prototype,"afterCreate",void 0),Object(r.a)([Object(b.b)()],G.prototype,"afterUpdate",void 0),Object(r.a)([Object(b.b)()],G.prototype,"afterRemoved",void 0),G=Object(r.a)([Object(y.a)("esri.widgets.Widget")],G)
const z=G},1062:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
class r{constructor(e=[],t=[],n=!1){this.lengths=null!=e?e:[],this.coords=null!=t?t:[],this.hasIndeterminateRingOrder=n}static fromRect(e){const[t,n,i,s]=e,a=i-t,o=s-n
return new r([5],[t,n,a,0,0,o,-a,0,0,-o])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((e,t)=>e+t)}forEachVertex(e){let t=0
this.lengths.length||e(this.coords[0],this.coords[1])
for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n]
for(let n=0;n<r;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1])
t+=r}}clone(e){return e?(e.set(this.coords),new r(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new r(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},1063:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}))
var r=n(968),i=n(969)
let s=0
const a=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+s++})}}
return t=Object(r.a)([Object(i.a)("esri.core.Identifiable")],t),t},o=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:s++})}}
return t=Object(r.a)([Object(i.a)("esri.core.NumericIdentifiable")],t),t}
let l=class extends(a(class{})){}
l=Object(r.a)([Object(i.a)("esri.core.Identifiable")],l)},1066:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return v}))
var r=n(445),i=n(988)
function s(e){if(!e)return null
if(Array.isArray(e))return e
const t=e.hasZ,n=e.hasM
if("point"===e.type)return n&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:n?[e.x,e.y,e.m]:[e.x,e.y]
if("polygon"===e.type)return e.rings.slice(0)
if("polyline"===e.type)return e.paths.slice(0)
if("multipoint"===e.type)return e.points.slice(0)
if("extent"===e.type){const t=e.clone().normalize()
if(!t)return null
let n=!1,r=!1
return t.forEach(e=>{e.hasZ&&(n=!0),e.hasM&&(r=!0)}),t.map(e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]
if(n&&e.hasZ){const n=.5*(e.zmax-e.zmin)
for(let e=0;e<t.length;e++)t[e].push(n)}if(r&&e.hasM){const n=.5*(e.mmax-e.mmin)
for(let e=0;e<t.length;e++)t[e].push(n)}return t})}return null}function a(e,t){const n=t[0]-e[0],r=t[1]-e[1]
if(e.length>2&&t.length>2){const i=e[2]-t[2]
return Math.sqrt(n*n+r*r+i*i)}return Math.sqrt(n*n+r*r)}function o(e,t,n){const r=e[0]+n*(t[0]-e[0]),i=e[1]+n*(t[1]-e[1])
return e.length>2&&t.length>2?[r,i,e[2]+n*(t[2]-e[2])]:[r,i]}function l(e,t,n,r){const[i,s]=t,[a,o]=n[r],[l,c]=n[r+1],u=l-a,d=c-o,h=u*u+d*d,p=(i-a)*u+(s-o)*d,f=Math.min(1,Math.max(0,p/h))
return e[0]=a+u*f,e[1]=o+d*f,e}function c(e,t,n){const r=n.rings
let i,s,a=!1,o=1/0
for(let n=0;n<r.length;n++){const l=r[n]
for(let n=0,r=l.length-1;n<l.length;r=n++)i=l[n],s=l[r],i[1]>t!=s[1]>t&&e<(s[0]-i[0])*(t-i[1])/(s[1]-i[1])+i[0]&&(a=!a),o=Math.min(o,u(e,t,i,s))}return 0===o?0:(a?1:-1)*Math.sqrt(o)}function u(e,t,n,r){let i=n[0],s=n[1],a=r[0]-i,o=r[1]-s
if(0!==a||0!==o){const n=((e-i)*a+(t-s)*o)/(a*a+o*o)
n>1?(i=r[0],s=r[1]):n>0&&(i+=a*n,s+=o*n)}return a=e-i,o=t-s,a*a+o*o}function d(e,t){return o(e,t,.5)}function h(e){const t=e.length
let n=0
for(let r=0;r<t-1;++r)n+=a(e[r],e[r+1])
return n}function p(e,t){if(t<=0)return e[0]
const n=e.length
let r=0
for(let i=0;i<n-1;++i){const n=a(e[i],e[i+1])
if(t-r<n){const s=(t-r)/n
return o(e[i],e[i+1],s)}r+=n}return e[n-1]}function f(e,t,n){const r=e.length
let i=0,s=0,a=0
for(let o=0;o<r;o++){const l=e[o],c=e[(o+1)%r]
let u=2
i+=l[0]*c[1]-c[0]*l[1],l.length>2&&c.length>2&&n&&(s+=l[0]*c[2]-c[0]*l[2],u=3),l.length>u&&c.length>u&&t&&(a+=l[0]*c[u]-c[0]*l[u])}return i<=0&&s<=0&&a<=0}function b(e){const t=e.length
return t>2&&Object(r.e)(e[0],e[t-1])}function m(e){var t,n
if("rings"in e&&(y(e),e.rings.length>0&&!f(e.rings[0],null!=(t=e.hasM)&&t,null!=(n=e.hasZ)&&n)))for(const t of e.rings)t.reverse()}function y(e){if("rings"in e)for(const t of e.rings)b(t)||t.push(t[0].slice())}function g(e){return"polygon"!==e.type&&"polyline"!==e.type||v("polygon"===e.type?e.rings:e.paths,e.spatialReference),e}function v(e,t){const n=Object(i.e)(t)
if(!n)return
const r=n.valid[0],s=n.valid[1],a=s-r
for(const t of e){let e=1/0,n=-1/0
for(const i of t){const t=O(i[0],r,s)
e=Math.min(e,t),n=Math.max(n,t),i[0]=t}const i=n-e
a-i<i&&t.forEach(e=>{e[0]<0&&(e[0]+=a)})}}function O(e,t,n){const r=n-t
return e<t?n-(t-e)%r:e>n?t+(e-t)%r:e}function j(e){if(!e||e.length<3)return 0
let t=0
const n=e.length-1
for(let r=0;r<n;r++)t+=(e[r][0]-e[r+1][0])*(e[r][1]+e[r+1][1])
return t+=(e[n][0]-e[0][0])*(e[n][1]+e[0][1]),-.5*t}function w(e,t){if(e===t)return!0
if(e.type!==t.type)return!1
if("point"===e.type||"extent"===e.type)return!0
if("multipoint"===e.type)return e.points.length===t.points.length
const[n,r]="polyline"===e.type?[e.paths,t.paths]:[e.rings,t.rings]
return n.length===r.length&&n.every((e,t)=>e.length===r[t].length)}},1070:function(e,t,n){"use strict"
n.d(t,"a",(function(){return S}))
var r,i=n(968),s=n(446),a=n(976),o=n(233),l=n(980),c=n(970),u=n(987),d=n(977),h=n(969),p=n(974),f=n(1040),b=n(1183),m=n(1257),y=n(1108),g=n(1107)
const v=new a.a({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),O=new a.a({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"})
function j(e){if(null!=e)return"string"==typeof e||"number"==typeof e?Object(l.k)(e):"size"===e.type?Object(y.e)(e)?e:(delete(e={...e}).type,new _(e)):void 0}function w(e,t,n){if("object"!=typeof e)return e
const r=new _
return r.read(e,n),r}let _=r=class extends f.a{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&g.viewScaleRE.test(this.valueExpression)}}set expression(e){o.a.getLogger(this.declaredClass).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===e?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){Object(y.e)(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Object(y.e)(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return Object(y.c)(this)}set maxDataValue(e){e&&this.stops&&(o.a.getLogger(this.declaredClass).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(o.a.getLogger(this.declaredClass).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return j(e)}readMaxSize(e,t,n){return w(e,0,n)}set minDataValue(e){e&&this.stops&&(o.a.getLogger(this.declaredClass).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(o.a.getLogger(this.declaredClass).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return j(e)}readMinSize(e,t,n){return w(e,0,n)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter(e=>!!e)).sort((e,t)=>e.value-t.value):e&&(o.a.getLogger(this.declaredClass).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return Object(y.d)(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,n,r){if("$view.scale"===e){if(r&&r.messages){const e=this.index,t="string"==typeof e?e:`visualVariables[${e}]`
r.messages.push(new s.a("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:t+".valueExpression",context:r}))}}else t[n]=e}readValueUnit(e){return e?O.read(e):null}clone(){return new r({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Object(y.e)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Object(y.e)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===y.b.ClampedLinear){const{minSize:e,maxSize:t}=this
return this.minSize=t,this.maxSize=e,this}if(this.transformationType===y.b.Stops){const e=this.stops
if(!e)return this
const t=e.map(e=>e.size).reverse(),n=e.length
for(let r=0;r<n;r++)e[r].size=t[r]
return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}}
Object(i.a)([Object(c.b)({readOnly:!0})],_.prototype,"cache",null),Object(i.a)([Object(c.b)({type:v.apiValues,json:{type:v.jsonValues,origins:{"web-map":{read:!1}},read:v.read,write:v.write}})],_.prototype,"axis",void 0),Object(i.a)([Object(c.b)({type:String,value:null,json:{read:!1}})],_.prototype,"expression",null),Object(i.a)([Object(c.b)()],_.prototype,"index",null),Object(i.a)([Object(c.b)({type:String,readOnly:!0})],_.prototype,"inputValueType",null),Object(i.a)([Object(c.b)({type:m.a,json:{write:!0}})],_.prototype,"legendOptions",void 0),Object(i.a)([Object(c.b)({type:Number,value:null,json:{write:!0}})],_.prototype,"maxDataValue",null),Object(i.a)([Object(c.b)({type:Number,value:null,json:{write:!0}})],_.prototype,"maxSize",null),Object(i.a)([Object(u.a)("maxSize")],_.prototype,"castMaxSize",null),Object(i.a)([Object(d.a)("maxSize")],_.prototype,"readMaxSize",null),Object(i.a)([Object(c.b)({type:Number,value:null,json:{write:!0}})],_.prototype,"minDataValue",null),Object(i.a)([Object(c.b)({type:Number,value:null,json:{write:!0}})],_.prototype,"minSize",null),Object(i.a)([Object(u.a)("minSize")],_.prototype,"castMinSize",null),Object(i.a)([Object(d.a)("minSize")],_.prototype,"readMinSize",null),Object(i.a)([Object(c.b)({type:String,json:{write:!0}})],_.prototype,"normalizationField",void 0),Object(i.a)([Object(c.b)({readOnly:!0})],_.prototype,"arcadeRequired",null),Object(i.a)([Object(c.b)({type:String})],_.prototype,"scaleBy",void 0),Object(i.a)([Object(c.b)({type:[b.a],value:null,json:{write:!0}})],_.prototype,"stops",null),Object(i.a)([Object(c.b)({type:["outline"],json:{write:!0}})],_.prototype,"target",void 0),Object(i.a)([Object(c.b)({type:String,readOnly:!0})],_.prototype,"transformationType",null),Object(i.a)([Object(c.b)({type:["size"],json:{type:["sizeInfo"]}})],_.prototype,"type",void 0),Object(i.a)([Object(c.b)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],_.prototype,"useSymbolValue",void 0),Object(i.a)([Object(c.b)({type:String,json:{write:!0}})],_.prototype,"valueExpression",void 0),Object(i.a)([Object(d.a)("valueExpression",["valueExpression","expression"])],_.prototype,"readValueExpression",null),Object(i.a)([Object(p.a)("web-scene","valueExpression")],_.prototype,"writeValueExpressionWebScene",null),Object(i.a)([Object(c.b)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],_.prototype,"valueRepresentation",void 0),Object(i.a)([Object(c.b)({type:O.apiValues,json:{write:O.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],_.prototype,"valueUnit",void 0),Object(i.a)([Object(d.a)("valueUnit")],_.prototype,"readValueUnit",null),_=r=Object(i.a)([Object(h.a)("esri.renderers.visualVariables.SizeVariable")],_)
const S=_},1074:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n(110),n(196)
var r=n(234),i=n(374)
function s(e,t){return t?{...t,query:{...null!=e?e:{},...t.query}}:{query:e}}function a(e){return"string"==typeof e?Object(i.Q)(e):Object(r.a)(e)}function o(e,t,n){const r={}
for(const i in e){if("declaredClass"===i)continue
const s=e[i]
if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){r[i]=[]
for(let e=0;e<s.length;e++)r[i][e]=o(s[e])}else if("object"==typeof s)if(s.toJSON){const e=s.toJSON(n&&n[i])
r[i]=t?e:JSON.stringify(e)}else r[i]=t?s:JSON.stringify(s)
else r[i]=s}return r}n(1146)},1076:function(e,t,n){"use strict"
n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return T}))
var r,i,s=n(1117),a=n(234),o=n(1400),l=n(1024),c=n(1385),u=n(1156),d=n(1128),h=n(1048),p=n(999);(i=r||(r={}))[i.Untracked=0]="Untracked",i[i.Tracked=1]="Tracked"
class f{constructor(){this.uid=Object(u.b)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,t,n,i,s){return this.pool.acquire(r.Untracked,e,t,n,i,s,a.b)}static acquireTracked(e,t,n,i){return this.pool.acquire(r.Tracked,e,t,n,null,null,i)}notify(e,t){this.type===r.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t)}acquire(e,t,n,r,i,s,a){this.uid=Object(u.b)(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=n,this.getValue=r,this.target=i,this.path=s,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Object(u.b)(),this.removed=!0}}f.pool=new o.a(f)
const b=new s.a,m=new Set
let y
function g(e){m.delete(e),m.add(e),y||(y=Object(l.b)(j))}function v(e){if(e.removed)return
const t=e.oldValue,n=e.getValue()
e.equals(t,n)||(e.oldValue=n,e.notify(n,t))}function O(e){for(const t of m.values())t.target===e&&(t.removed=!0)}function j(){let e=10
for(;y&&e--;){y=null
const e=w(),t=b.acquire()
for(const n of e){const e=n.uid
v(n),e===n.uid&&n.removed&&t.push(n)}for(const e of m)e.removed&&(t.push(e),m.delete(e))
for(const e of t)f.pool.release(e)
b.release(t),b.release(e),_.forEach(e=>e())}}function w(){const e=b.acquire()
e.length=m.size
let t=0
for(const n of m)e[t]=n,++t
return m.clear(),e}const _=new Set
function S(e){return _.add(e),{remove(){_.delete(e)}}}function x(e,t,n,r=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:r?function(e,t,n){const r=Object(p.e)(e,t,n,(e,t,n)=>{let i=!1
return Object(h.b)(()=>Object(d.c)(e,t),(s,o)=>{e.__accessor__.destroyed?r.remove():i||(i=!0,Object(a.b)(o,s)||n.call(e,s,o,t,e),i=!1)})})
return r}(e,t,n):function(e,t,n){let r=Object(p.e)(e,t,n,(e,t,n)=>{let i,s,a=Object(h.c)(()=>Object(d.c)(e,t),(a,o)=>{e.__accessor__.destroyed||i&&i.uid!==s?r.remove():(i||(i=f.acquireUntracked(a,n,o,e,t),s=i.uid),g(i))})
return{remove:Object(p.d)(()=>{a.remove(),i&&(i.uid!==s||i.removed||(i.removed=!0,g(i)),i=null),r=a=null})}})
return r}(e,t,n)}function T(e,t,n=!1,r=a.c){return n?function(e,t,n){let r=!1
return Object(h.b)(e,(e,i)=>{r||(r=!0,n(i,e)||t(e,i),r=!1)})}(e,t,r):function(e,t,n){let r,i,s=Object(h.c)(e,(e,a)=>{r&&r.uid!==i?s.remove():(r||(r=f.acquireTracked(e,t,a,n),i=r.uid),g(r))})
return{remove:Object(p.d)(()=>{s.remove(),r&&(r.uid!==i||r.removed||(r.removed=!0,g(r)),r=null),s=null})}}(e,t,r)}function I(e){return Object(c.a)(m,t=>t.oldValue===e)}},1077:function(e,t,n){"use strict"
var r
function i(e){return"global"===e?r.Global:r.Local}function s(e){return e===r.Global?"global":"local"}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"}(r||(r={}))},1079:function(e,t,n){"use strict"
function r(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function i(e){return void 0!==e.points}function s(e){return void 0!==e.x&&void 0!==e.y}function a(e){return void 0!==e.paths}function o(e){return void 0!==e.rings}function l(e){return function(t,n){return null==t?n:null==n?t:e(t,n)}}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p}))
const c=l(Math.min),u=l(Math.max)
function d(e,t){return a(t)?p(e,t.paths,!1,!1):o(t)?p(e,t.rings,!1,!1):i(t)?b(e,t.points,!1,!1,!1,!1):r(t)?f(e,t):(s(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function h(e,t){return a(t)?p(e,t.paths,!0,!1):o(t)?p(e,t.rings,!0,!1):i(t)?b(e,t.points,!0,!1,!0,!1):r(t)?f(e,t,!0,!1,!0,!1):(s(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function p(e,t,n,r){const i=n?3:2
if(!t.length||!t[0].length)return null
let s,a,o,l,[d,h]=t[0][0],[p,f]=t[0][0]
for(let e=0;e<t.length;e++){const b=t[e]
for(let e=0;e<b.length;e++){const t=b[e],[m,y]=t
if(d=c(d,m),h=c(h,y),p=u(p,m),f=u(f,y),n&&t.length>2){const e=t[2]
s=c(s,e),a=u(a,e)}if(r&&t.length>i){const e=t[i]
o=c(s,e),l=u(a,e)}}}return n?r?(e[0]=d,e[1]=h,e[2]=s,e[3]=o,e[4]=p,e[5]=f,e[6]=a,e[7]=l,e.length=8,e):(e[0]=d,e[1]=h,e[2]=s,e[3]=p,e[4]=f,e[5]=a,e.length=6,e):r?(e[0]=d,e[1]=h,e[2]=o,e[3]=p,e[4]=f,e[5]=l,e.length=6,e):(e[0]=d,e[1]=h,e[2]=p,e[3]=f,e.length=4,e)}function f(e,t,n,r,i,s){const a=t.xmin,o=t.xmax,l=t.ymin,c=t.ymax
let u=t.zmin,d=t.zmax,h=t.mmin,p=t.mmax
return i?(u=u||0,d=d||0,s?(h=h||0,p=p||0,e[0]=a,e[1]=l,e[2]=u,e[3]=h,e[4]=o,e[5]=c,e[6]=d,e[7]=p,e):(e[0]=a,e[1]=l,e[2]=u,e[3]=o,e[4]=c,e[5]=d,e)):s?(h=h||0,p=p||0,e[0]=a,e[1]=l,e[2]=h,e[3]=o,e[4]=c,e[5]=p,e):(e[0]=a,e[1]=l,e[2]=o,e[3]=c,e)}function b(e,t,n,r,i,s){const a=n?3:2,o=r&&s,l=n&&i
if(!t.length||!t[0].length)return null
let d,h,p,f,[b,m]=t[0],[y,g]=t[0]
for(let e=0;e<t.length;e++){const n=t[e],[r,i]=n
if(b=c(b,r),m=c(m,i),y=u(y,r),g=u(g,i),l&&n.length>2){const e=n[2]
d=c(d,e),h=u(h,e)}if(o&&n.length>a){const e=n[a]
p=c(d,e),f=u(h,e)}}return i?(d=d||0,h=h||0,s?(p=p||0,f=f||0,e[0]=b,e[1]=m,e[2]=d,e[3]=p,e[4]=y,e[5]=g,e[6]=h,e[7]=f,e):(e[0]=b,e[1]=m,e[2]=d,e[3]=y,e[4]=g,e[5]=h,e)):s?(p=p||0,f=f||0,e[0]=b,e[1]=m,e[2]=p,e[3]=y,e[4]=g,e[5]=f,e):(e[0]=b,e[1]=m,e[2]=y,e[3]=g,e)}},1081:function(e,t,n){"use strict"
n.d(t,"a",(function(){return E}))
var r,i=n(968),s=n(995),a=n(976),o=n(234),l=n(233),c=n(23),u=n(970),d=n(987),h=n(979),p=n(977),f=n(969),b=n(974),m=n(971),y=n(989),g=n(1001),v=n(1032),O=n(1258),j=n(1020),w=n(1086),_=n(1010)
const S="percent-of-total",x="field",T=new a.a({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:S,esriNormalizeByField:x}),I=Object(m.m)(O.a)
let M=r=class extends(Object(v.a)(g.a)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,n){if(!Array.isArray(e))return
let r=t.minValue
return e.map(e=>{const t=new O.a
return t.read(e,n),null==t.minValue&&(t.minValue=r),null==t.maxValue&&(t.maxValue=t.minValue),r=t.maxValue,t})}writeClassBreakInfos(e,t,n,r){const i=e.map(e=>e.write({},r))
this._areClassBreaksConsecutive()&&i.forEach(e=>delete e.classMinValue),t[n]=i}castField(e){return null==e?e:"function"==typeof e?(l.a.getLogger(this.declaredClass).error(".field: field must be a string value"),null):Object(m.l)(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType")
const t=!!this.normalizationField,n=null!=this.normalizationTotal
return t||n?(e=(t?x:n&&S)||null,t&&n&&l.a.getLogger(this.declaredClass).warn("warning: both normalizationField and normalizationTotal are set!")):e!==x&&e!==S||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,n){let r=null
r="number"==typeof e?new O.a({minValue:e,maxValue:t,symbol:Object(s.a)(n)}):I(Object(o.a)(e)),this.classBreakInfos.push(r),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const n=this.classBreakInfos.length
for(let r=0;r<n;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue]
if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(r,1)
break}}}getBreakIndex(e,t){return this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade))&&l.a.getLogger(this.declaredClass).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let n=t
this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade))&&(n={...n,arcade:await Object(_.e)()})
const r=this.getBreakIndex(e,n)
return-1!==r?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade)))return void l.a.getLogger(this.declaredClass).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")
const n=this.getBreakIndex(e,t)
return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let n=t
if(this.valueExpression&&(Object(c.k)(t)||Object(c.k)(t.arcade))){const e=await Object(_.e)(),{arcadeUtils:t}=e
t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),n={...n,arcade:e}}const r=this.getBreakIndex(e,n)
return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}getSymbols(){const e=[]
return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`
return`${e}.${t}.${this.classBreakInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${n}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new r({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:Object(o.a)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:Object(o.a)(this.visualVariables),legendOptions:Object(o.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)]
await Promise.all(n)}async collectSymbolFields(e,t){const n=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),Object(y.a)(e,t,this.valueExpression)]
Object(y.d)(e,t,this.field),Object(y.d)(e,t,this.normalizationField),await Promise.all(n)}_getBreakIndexForExpression(e,t){const{viewingMode:n,scale:r,spatialReference:i,arcade:s}=Object(c.v)(t,{}),{valueExpression:a}=this
let o=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null
const l=Object(c.u)(s).arcadeUtils
if(!o){const e=l.createSyntaxTree(a)
o=l.createFunction(e),this._compiledValueExpression.compiledFunction=o}this._compiledValueExpression.valueExpression=a
const u=l.executeFunction(o,l.createExecContext(e,l.getViewInfo({viewingMode:n,scale:r,spatialReference:i})))
return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){const t=this.field,n=e.attributes,r=this.normalizationType
let i=parseFloat(n[t])
if(r){const e=this.normalizationTotal,t=parseFloat(this.normalizationField?n[this.normalizationField]:void 0)
if("log"===r)i=Math.log(i)*Math.LOG10E
else if(r!==S||null==e||isNaN(e)){if(r===x&&!isNaN(t)){if(isNaN(i)||isNaN(t))return-1
i/=t}}else i=i/e*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive
if(null!=e&&"number"==typeof e&&!isNaN(e))for(let n=0;n<this.classBreakInfos.length;n++){const r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue]
if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return n}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length
for(let n=1;n<t;n++)if(e[n-1].maxValue!==e[n].minValue)return!1
return!0}}
Object(i.a)([Object(u.b)(j.a)],M.prototype,"backgroundFillSymbol",void 0),Object(i.a)([Object(u.b)({type:[O.a]})],M.prototype,"classBreakInfos",void 0),Object(i.a)([Object(p.a)("classBreakInfos")],M.prototype,"readClassBreakInfos",null),Object(i.a)([Object(b.a)("classBreakInfos")],M.prototype,"writeClassBreakInfos",null),Object(i.a)([Object(u.b)({type:String,json:{write:!0}})],M.prototype,"defaultLabel",void 0),Object(i.a)([Object(u.b)(j.b)],M.prototype,"defaultSymbol",void 0),Object(i.a)([Object(u.b)({type:String,json:{write:!0}})],M.prototype,"field",void 0),Object(i.a)([Object(d.a)("field")],M.prototype,"castField",null),Object(i.a)([Object(u.b)({type:Boolean})],M.prototype,"isMaxInclusive",void 0),Object(i.a)([Object(u.b)({type:w.a,json:{write:!0}})],M.prototype,"legendOptions",void 0),Object(i.a)([Object(u.b)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],M.prototype,"minValue",null),Object(i.a)([Object(u.b)({type:String,json:{write:!0}})],M.prototype,"normalizationField",void 0),Object(i.a)([Object(u.b)({type:Number,cast:e=>Object(m.i)(e),json:{write:!0}})],M.prototype,"normalizationTotal",void 0),Object(i.a)([Object(u.b)({type:T.apiValues,value:null,json:{type:T.jsonValues,read:T.read,write:T.write}})],M.prototype,"normalizationType",null),Object(i.a)([Object(h.a)({classBreaks:"class-breaks"})],M.prototype,"type",void 0),Object(i.a)([Object(u.b)({type:String,json:{write:!0}})],M.prototype,"valueExpression",void 0),Object(i.a)([Object(u.b)({type:String,json:{write:!0}})],M.prototype,"valueExpressionTitle",void 0),M=r=Object(i.a)([Object(f.a)("esri.renderers.ClassBreaksRenderer")],M)
const E=M},1082:function(e,t,n){"use strict"
function r(e){return(t,n)=>{t[n]=e}}n.d(t,"a",(function(){return r}))},1083:function(e,t,n){"use strict"
n(1039),n(1038),n(1115),n(1005)
var r=n(1027),i=n(771),s=n(446),a=n(23)
async function o(e){if(Object(a.l)(l.fetchBundleAsset))return l.fetchBundleAsset(e)
const t=await Object(i.default)(e,{responseType:"text"})
return JSON.parse(t.data)}const l={}
var c,u=n(1019)
Object(r.c)((c={pattern:"esri/",location:u.b},new class{constructor({base:e="",pattern:t,location:n=new URL(window.location.href)}){let r
r="string"==typeof n?e=>new URL(e,new URL(n,window.location.href)).href:n instanceof URL?e=>new URL(e,n).href:n,this.pattern="string"==typeof t?new RegExp("^"+t):t,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`)}fetchMessageBundle(e,t){return async function(e,t,n,i){const a=t.exec(n)
if(!a)throw new s.a("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${t}"`)
const l=a[1]?a[1]+"/":"",c=a[2],u=Object(r.b)(i),d=`${l}${c}.json`,h=u?`${l}${c}_${u}.json`:d
let p
try{p=await o(e(h))}catch(t){if(h===d)throw new s.a("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:t})
try{p=await o(e(d))}catch(e){throw new s.a("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:e})}}return p}(this.getAssetUrl,this.matcher,e,t)}}(c)))},1084:function(e,t,n){"use strict"
n.d(t,"a",(function(){return $}))
var r=n(968),i=n(995),s=n(446),a=n(234),o=n(233),l=n(23),c=n(146),u=n(978),d=n(970),h=n(987),p=n(979),f=n(977),b=n(969),m=n(974),y=n(1143),g=n(971),v=n(989),O=n(1028),j=n(1001),w=n(1032),_=n(1020),S=n(1086),x=n(986),T=n(972)
n(445)
let I=class extends(Object(x.b)(T.a)){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}}
Object(r.a)([Object(d.b)(_.c)],I.prototype,"value",void 0),Object(r.a)([Object(d.b)(_.c)],I.prototype,"value2",void 0),Object(r.a)([Object(d.b)(_.c)],I.prototype,"value3",void 0),I=Object(r.a)([Object(b.a)("esri.renderers.support.UniqueValue")],I)
const M=I
let E=class extends(Object(x.b)(T.a)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(null==e)return null
const t=typeof(e=Array.isArray(e)?e:[e])[0]
return"string"===t||"number"===t?e.map(e=>new M({value:e})):"object"===t?e[0]instanceof M?e:e.map(e=>new M(e)):null}}
Object(r.a)([Object(d.b)({type:String,json:{write:!0}})],E.prototype,"description",void 0),Object(r.a)([Object(d.b)({type:String,json:{write:!0}})],E.prototype,"label",void 0),Object(r.a)([Object(d.b)(_.b)],E.prototype,"symbol",void 0),Object(r.a)([Object(d.b)({type:[M],json:{type:[[String]],read:{reader:e=>e?e.map(e=>new M({value:e[0],value2:e[1],value3:e[2]})):null},write:{writer:(e,t)=>{const n=[]
for(const t of e){const e=[t.value,t.value2,t.value3].filter(l.l).map(e=>e.toString())
n.push(e)}t.values=n}}}})],E.prototype,"values",void 0),Object(r.a)([Object(h.a)("values")],E.prototype,"castValues",null),E=Object(r.a)([Object(b.a)("esri.renderers.support.UniqueValueClass")],E)
const k=E
let C=class extends(Object(x.b)(T.a)){constructor(e){super(e),this.heading=null,this.classes=null}}
Object(r.a)([Object(d.b)({type:String,json:{write:!0}})],C.prototype,"heading",void 0),Object(r.a)([Object(d.b)({type:[k],json:{write:!0}})],C.prototype,"classes",void 0),C=Object(r.a)([Object(b.a)("esri.renderers.support.UniqueValueGroup")],C)
const A=C
var L,R=n(1264),P=n(1010),F=n(1054),N=n(1181),D=n(1145)
const V="esri.renderers.UniqueValueRenderer",U=o.a.getLogger(V),G="uvInfos-watcher",z="uvGroups-watcher",q=Object(g.m)(R.a)
let B=L=class extends(Object(w.a)(j.a)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return
if(!e||!t)return{type:"complete",oldValue:e,newValue:t}
let n=!1
const r={type:"collection",added:[],removed:[],changed:[],unchanged:[]}
for(let i=0;i<t.length;i++){const s=e.find(e=>e.value===t[i].value)
s?Object(y.a)(s,t[i])?(r.changed.push({type:"complete",oldValue:s,newValue:t[i]}),n=!0):r.unchanged.push({oldValue:s,newValue:t[i]}):(r.added.push(t[i]),n=!0)}for(let i=0;i<e.length;i++)t.find(t=>t.value===e[i].value)||(r.removed.push(e[i]),n=!0)
return n?r:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return null==e||"function"==typeof e?e:Object(g.l)(e)}writeField(e,t,n,r){"string"==typeof e?t[n]=e:r&&r.messages?r.messages.push(new s.a("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):U.error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,n){return n.portal||O.a.getDefault()}readStyleOrigin(e,t,n){if(t.styleName)return Object.freeze({styleName:t.styleName})
if(t.styleUrl){const e=Object(F.d)(t.styleUrl,n)
return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,n,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Object(F.h)(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?U.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?U.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var n
if(this.styleOrigin)return void U.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style")
let r
r="object"==typeof e?q(e):new R.a({value:e,symbol:Object(i.a)(t)}),null!=(n=this.uniqueValueInfos)&&n.push(r),this._valueInfoMap[r.value]=r,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void U.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style")
const t=this.uniqueValueInfos
if(t)for(let n=0;n<t.length;n++)if(t[n].value===e+""){delete this._valueInfoMap[e],t.splice(n,1)
break}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let n=t
return this.valueExpression&&(Object(l.k)(t)||Object(l.k)(t.arcade))&&(n={...n,arcade:await Object(P.e)()}),this._getUniqueValueInfo(e,n)}getSymbol(e,t){if(this.valueExpression&&(Object(l.k)(t)||Object(l.k)(t.arcade)))return void U.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")
const n=this._getUniqueValueInfo(e,t)
return n&&n.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let n=t
if(this.valueExpression&&(Object(l.k)(n)||Object(l.k)(n.arcade))){const e=await Object(P.e)(),{arcadeUtils:t}=e
t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),n={...n,arcade:e}}const r=this._getUniqueValueInfo(e,n)
return r&&r.symbol||this.defaultSymbol}getSymbols(){const e=[]
for(const n of null!=(t=this.uniqueValueInfos)?t:[]){var t
n.symbol&&e.push(n.symbol)}return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){var e
const t=JSON.stringify(this.backgroundFillSymbol),n=JSON.stringify(this.defaultSymbol),r=null==(e=this.uniqueValueInfos)?void 0:e.reduce((e,t)=>e+t.getMeshHash(),"")
return`${t}.${n}.${r}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const e=new L({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:Object(a.a)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:Object(a.a)(this.visualVariables),legendOptions:Object(a.a)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:Object(a.a)(this.backgroundFillSymbol)})
this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal)
const t=Object(a.a)(this.uniqueValueInfos),n=Object(a.a)(this.uniqueValueGroups)
return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(Object(a.a)(this.styleOrigin))),Object.freeze(t),Object.freeze(n)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",n),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const n=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)]
await Promise.all(n)}async collectSymbolFields(e,t){const n=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),Object(v.a)(e,t,this.valueExpression)]
Object(v.d)(e,t,this.field),Object(v.d)(e,t,this.field2),Object(v.d)(e,t,this.field3),await Promise.all(n)}populateFromStyle(){return Object(N.b)(this.styleOrigin,{portal:this.portal}).then(e=>{var t
const n=[]
return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(t=>{const r=new D.a({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:t.name})
this.defaultSymbol||t.name!==e.data.defaultItem||(this.defaultSymbol=r,this._isDefaultSymbolDerived=!0)
const i=new R.a({value:t.name,symbol:r})
n.push(i),this._valueInfoMap[t.name]=i}),this._set("uniqueValueInfos",Object.freeze(n)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&null!=(t=this.uniqueValueInfos)&&t.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={}
const{uniqueValueInfos:e}=this
if(e)for(const t of e)this._valueInfoMap[t.value+""]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(G)
const{uniqueValueInfos:e}=this
if(e){const t=[]
for(const n of e)t.push(Object(u.f)(()=>({symbol:n.symbol,value:n.value,label:n.label,description:n.description}),(e,t)=>{e!==t&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}))
this.addHandles(t,G)}}_watchUniqueValueGroups(){this.removeHandles(z)
const{uniqueValueGroups:e}=this
if(e){const n=[]
for(const r of e){n.push(Object(u.f)(()=>({classes:r.classes}),(e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))
for(const e of null!=(t=r.classes)?t:[]){var t
n.push(Object(u.f)(()=>({symbol:e.symbol,values:e.values,label:e.label,description:e.description}),(e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}}this.addHandles(n,z)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos()
const e=[],{field:t,field2:n,field3:r,fieldDelimiter:i,uniqueValueGroups:s,valueExpression:a}=this
if(!t&&!a)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos()
const o=!(!t||!n)
for(const t of s)for(const s of null!=(l=t.classes)?l:[]){var l
const{symbol:t,label:a,values:c,description:u}=s
for(const s of null!=c?c:[]){const{value:l,value2:c,value3:d}=s,h=[l]
n&&h.push(c),r&&h.push(d)
const p=o?h.join(i||""):h[0]
e.push(new R.a({symbol:t,label:a,value:p,description:u}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups()
const{field:t,field2:n,valueExpression:r,fieldDelimiter:i,uniqueValueInfos:s}=this
if(!t&&!r||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups()
const a=!(!t||!n),o=s.map(e=>{var t
const{symbol:n,label:r,value:s,description:o}=e,[l,c,u]=a?(null==s||null==(t=s.toString())?void 0:t.split(i||""))||[]:[s]
return new k({symbol:n,label:r,description:o,values:[new M({value:l,value2:c,value3:u})]})}),l=[new A({classes:o})]
e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:n,scale:r,spatialReference:i,arcade:s}=Object(l.v)(t,{})
let a=this._cache.compiledFunc
const o=Object(l.u)(s).arcadeUtils
if(!a){const e=o.createSyntaxTree(this.valueExpression)
a=o.createFunction(e),this._cache.compiledFunc=a}const c=o.executeFunction(a,o.createExecContext(e,o.getViewInfo({viewingMode:n,scale:r,spatialReference:i})))
return this._valueInfoMap[c+""]}_getUnqiueValueInfoForFields(e){const t=this.field,n=e.attributes
let r
if("function"!=typeof t&&this.field2){const e=this.field2,i=this.field3,s=[]
t&&s.push(n[t]),e&&s.push(n[e]),i&&s.push(n[i]),r=s.join(this.fieldDelimiter||"")}else"function"==typeof t?r=t(e):t&&(r=n[t])
return this._valueInfoMap[r+""]}static fromPortalStyle(e,t){const n=new L(t&&t.properties)
n._set("styleOrigin",Object.freeze({styleName:e})),n._set("portal",t&&t.portal||O.a.getDefault())
const r=n.populateFromStyle()
return r.catch(t=>{U.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",t)}),r}static fromStyleUrl(e,t){const n=new L(t&&t.properties)
n._set("styleOrigin",Object.freeze({styleUrl:e}))
const r=n.populateFromStyle()
return r.catch(t=>{U.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",t)}),r}}
Object(r.a)([Object(d.b)({readOnly:!0})],B.prototype,"_cache",null),Object(r.a)([Object(p.a)({uniqueValue:"unique-value"})],B.prototype,"type",void 0),Object(r.a)([Object(d.b)(_.a)],B.prototype,"backgroundFillSymbol",void 0),Object(r.a)([Object(d.b)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],B.prototype,"field",null),Object(r.a)([Object(h.a)("field")],B.prototype,"castField",null),Object(r.a)([Object(m.a)("field")],B.prototype,"writeField",null),Object(r.a)([Object(d.b)({type:String,value:null,json:{write:!0}})],B.prototype,"field2",null),Object(r.a)([Object(d.b)({type:String,value:null,json:{write:!0}})],B.prototype,"field3",null),Object(r.a)([Object(d.b)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],B.prototype,"orderByClassesEnabled",void 0),Object(r.a)([Object(d.b)({type:String,value:null,json:{write:!0}})],B.prototype,"valueExpression",null),Object(r.a)([Object(d.b)({type:String,json:{write:!0}})],B.prototype,"valueExpressionTitle",void 0),Object(r.a)([Object(d.b)({type:S.a,json:{write:!0}})],B.prototype,"legendOptions",void 0),Object(r.a)([Object(d.b)({type:String,json:{write:!0}})],B.prototype,"defaultLabel",void 0),Object(r.a)([Object(d.b)(Object(c.a)({..._.b},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],B.prototype,"defaultSymbol",null),Object(r.a)([Object(d.b)({type:String,value:null,json:{write:!0}})],B.prototype,"fieldDelimiter",null),Object(r.a)([Object(d.b)({type:O.a,readOnly:!0})],B.prototype,"portal",void 0),Object(r.a)([Object(f.a)("portal",["styleName"])],B.prototype,"readPortal",null),Object(r.a)([Object(d.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],B.prototype,"styleOrigin",void 0),Object(r.a)([Object(f.a)("styleOrigin",["styleName","styleUrl"])],B.prototype,"readStyleOrigin",null),Object(r.a)([Object(m.a)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],B.prototype,"writeStyleOrigin",null),Object(r.a)([Object(d.b)({type:[A],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,n)=>(t.uniqueValueGroups||function(e){const{field1:t,field2:n,field3:r,fieldDelimiter:i,uniqueValueInfos:s,valueExpression:a}=e,o=!(!t||!n)
return[{classes:(null!=s?s:[]).map(e=>{var s
const{symbol:l,label:c,value:u,description:d}=e,[h,p,f]=o?(null==u||null==(s=u.toString())?void 0:s.split(i||""))||[]:[u],b=[]
return(t||a)&&b.push(h),n&&b.push(p),r&&b.push(f),{symbol:l,label:c,values:[b],description:d}})}]}(t)).map(e=>A.fromJSON(e,n))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],B.prototype,"uniqueValueGroups",null),Object(r.a)([Object(d.b)({type:[R.a],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],B.prototype,"uniqueValueInfos",null),B=L=Object(r.a)([Object(b.a)(V)],B)
const $=B},1085:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return h}))
var r=n(23)
const i=[0,0]
function s(e,t){return!!Object(r.l)(t)&&u(e,t.x,t.y,t.z)}function a(e,t){if(!t.points||t.points.length)return!1
for(const n of t.points)if(!l(e,n))return!1
return!0}function o(e,t){const{xmin:n,ymin:r,zmin:i,xmax:s,ymax:a,zmax:o}=t
return e.hasZ&&t.hasZ?u(e,n,r,i)&&u(e,n,a,i)&&u(e,s,a,i)&&u(e,s,r,i)&&u(e,n,r,o)&&u(e,n,a,o)&&u(e,s,a,o)&&u(e,s,r,o):u(e,n,r)&&u(e,n,a)&&u(e,s,a)&&u(e,s,r)}function l(e,t){return u(e,t[0],t[1])}function c(e,t){return u(e,t[0],t[1],t[2])}function u(e,t,n,r){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax&&(null==r||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function d(e,t){return i[1]=t.y,i[0]=t.x,function(e,t){return h(e.rings,t)}(e,i)}function h(e,t){if(!e)return!1
if(function(e){return!Array.isArray(e[0][0])}(e))return p(!1,e,t)
let n=!1
for(let r=0,i=e.length;r<i;r++)n=p(n,e[r],t)
return n}function p(e,t,n){const[r,i]=n
let s=e,a=0
for(let e=0,n=t.length;e<n;e++){a++,a===n&&(a=0)
const[o,l]=t[e],[c,u]=t[a];(l<i&&u>=i||u<i&&l>=i)&&o+(i-l)/(u-l)*(c-o)<r&&(s=!s)}return s}},1086:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r,i=n(968),s=n(972),a=n(970),o=(n(971),n(445),n(969))
let l=r=class extends s.a{constructor(){super(...arguments),this.title=null}clone(){return new r({title:this.title})}}
Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"title",void 0),l=r=Object(i.a)([Object(o.a)("esri.renderers.support.LegendOptions")],l)},1087:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1165)
class i extends r.a{notify(){const e=this._observers
if(e&&e.length>0){const t=e.slice()
for(const e of t)e.onInvalidated(),e.onCommitted()}}}},1088:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l}))
var r,i,s=n(235),a=n(23)
function o(e,t,n={}){const r=l(e)
for(;r.length>1;){const e=c(t,r.shift(),n)
if(Object(a.l)(e))return e}return function(e,t,n={}){if(!window.WebGLRenderingContext)return u(e,d),null
const r=c(e,t,n)
return Object(a.k)(r)&&u(e,h),r}(t,r.shift(),n)}function l(e){const t=Object(s.a)("esri-force-webgl")
if(t===r.WEBGL1||t===r.WEBGL2)return[t]
switch(e){case"2d":return Object(s.a)("mac")&&Object(s.a)("chrome")?[r.WEBGL1,r.WEBGL2]:[r.WEBGL2,r.WEBGL1]
case"3d":return[r.WEBGL2,r.WEBGL1]}}function c(e,t,n={}){const i=t===r.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"]
let s=null
for(const t of i){try{s=e.getContext(t,n)}catch(e){}if(s)break}return s}function u(e,t){const n=e.parentNode
n&&(n.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(i=r||(r={}))[i.WEBGL1=1]="WEBGL1",i[i.WEBGL2=2]="WEBGL2"
const d='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',h='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'},1089:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h}))
var r=n(23),i=n(1052),s=n(988)
function a(e){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const o=a(i.a),l=a(i.b),c=a(i.c),u={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${i.a.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`}
function d(e){return Object(r.l)(e)&&(Object(s.i)(e)||Object(s.d)(e,l))?i.b:Object(r.l)(e)&&(Object(s.j)(e)||Object(s.d)(e,c))?i.c:i.a}function h(e){return Object(s.n)(e)?i.b:Object(s.o)(e)?i.c:i.a}},1090:function(e,t,n){"use strict"
function r(e){}function i(e){return()=>e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n(235)},1091:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}))
var r=n(1128),i=n(999),s=n(1176)
function a(e,t,n){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1
const i=e.read.source
if("string"==typeof i){if(i===t)return!0
if(i.includes(".")&&0===i.indexOf(t)&&Object(r.a)(i,n))return!0}else for(const e of i){if(e===t)return!0
if(e.includes(".")&&0===e.indexOf(t)&&Object(r.a)(e,n))return!0}return!1}function o(e,t,n,r,i){let o=Object(s.b)(t[n],i);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(o)&&(e[n]=!0)
for(const l of Object.getOwnPropertyNames(t))o=Object(s.b)(t[l],i),a(o,n,r)&&(e[l]=!0)}function l(e,t,n,r){const i=n.metadatas,a=Object(s.a)(i[t],"any",r),o=a&&a.default
if(void 0===o)return
const l="function"==typeof o?o.call(e,t,r):o
void 0!==l&&n.set(t,l)}const c={origin:"service"}
function u(e,t,n=c){if(!t||"object"!=typeof t)return
const a=Object(i.a)(e),u=a.metadatas,d={}
for(const e of Object.getOwnPropertyNames(t))o(d,u,e,t,n)
a.setDefaultOrigin(n.origin)
for(const i of Object.getOwnPropertyNames(d)){const o=Object(s.b)(u[i],n).read,l=o&&o.source
let c
c=l&&"string"==typeof l?Object(r.c)(t,l):t[i],o&&o.reader&&(c=o.reader.call(e,c,t,n)),void 0!==c&&a.set(i,c)}if(!n||!n.ignoreDefaults){a.setDefaultOrigin("defaults")
for(const t of Object.getOwnPropertyNames(u))d[t]||l(e,t,a,n)}a.setDefaultOrigin("user")}function d(e,t,n,r=c){var i
const s={...r,messages:[]}
n(s),null==(i=s.messages)||i.forEach(t=>{"warning"!==t.type||e.loaded?r&&r.messages&&r.messages.push(t):e.loadWarnings.push(t)})}},1092:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}))
var r=n(1044),i=n(1045),s=n(1103)
function a(e,t){return l(e,null,t)}const o=Object(i.b)({types:s.a})
function l(e,t,n){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(n&&n.messages&&n.messages.push(new r.a("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:n})),null):o(e,t,n):null}},1093:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(997),i=n(1052)
const s={inches:Object(r.e)(1,"meters","inches"),feet:Object(r.e)(1,"meters","feet"),"us-feet":Object(r.e)(1,"meters","us-feet"),yards:Object(r.e)(1,"meters","yards"),miles:Object(r.e)(1,"meters","miles"),"nautical-miles":Object(r.e)(1,"meters","nautical-miles"),millimeters:Object(r.e)(1,"meters","millimeters"),centimeters:Object(r.e)(1,"meters","centimeters"),decimeters:Object(r.e)(1,"meters","decimeters"),meters:Object(r.e)(1,"meters","meters"),kilometers:Object(r.e)(1,"meters","kilometers"),"decimal-degrees":1/Object(r.m)(1,"meters",i.a.radius)}},1094:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(968),i=n(972),s=n(970),a=(n(971),n(445),n(969))
let o=class extends i.a{constructor(e){super(e),this.type=null}}
Object(r.a)([Object(s.b)({readOnly:!0,json:{read:!1,write:!0}})],o.prototype,"type",void 0),o=Object(r.a)([Object(a.a)("esri.rest.support.ColorRamp")],o)
const l=o},1095:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l}))
var r=n(235)
const i=new Set
function s(e,t,n=!1){n&&i.has(t)||(n&&i.add(t),e.warn(" DEPRECATED - "+t))}function a(e,t,n={}){Object(r.a)("esri-deprecation-warnings")&&c(e,"Module: "+t,n)}function o(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{moduleName:r}=n
c(e,"Function: "+(r?r+"::":"")+t+"()",n)}}function l(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{moduleName:r}=n
c(e,"Property: "+(r?r+"::":"")+t,n)}}function c(e,t,n={}){if(Object(r.a)("esri-deprecation-warnings")){const{replacement:r,version:i,see:a,warnOnce:o}=n
let l=t
r&&(l+="\n\t Replacement: "+r),i&&(l+="\n\t Version: "+i),a&&(l+=`\n\t See ${a} for more details.`),s(e,l,o)}}},1096:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}))
var r=n(445),i=n(446),s=n(233),a=n(1006),o=n(999),l=n(1176)
function c(e,t,n,r,i){var s,a
const o={}
return null!=(s=t.write)&&null!=(a=s.writer)&&a.call(e,r,o,n,i),o}function u(e,t,n,o,l,c){if(!o||!o.write)return!1
const u=e.get(n)
if(!l&&o.write.overridePolicy){const t=o.write.overridePolicy.call(e,u,n,c)
void 0!==t&&(l=t)}if(l||(l=o.write),!l||!1===l.enabled)return!1
if((null===u&&!l.allowNull&&!l.writerEnsuresNonNull||void 0===u)&&l.isRequired){const t=new i.a("web-document-write:property-required",`Missing value for required property '${n}' on '${e.declaredClass}'`,{propertyName:n,target:e})
return t&&c&&c.messages?c.messages.push(t):t&&!c&&s.a.getLogger("esri.core.accessorSupport.write").error(t.name,t.message),!1}return!(void 0===u||null===u&&!l.allowNull&&!l.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(n)===a.a.DEFAULTS)&&function(e,t,n,i,s){const a=i.default
if(void 0===a)return!1
if(null!=i.defaultEquals)return i.defaultEquals(s)
if("function"==typeof a){if(Array.isArray(s)){const i=a.call(e,t,n)
return Object(r.e)(i,s)}return!1}return a===s}(e,n,c,o,u)||!l.ignoreOrigin&&c&&c.origin&&t.store.multipleOriginsSupported&&t.store.originOf(n)<Object(a.e)(c.origin))}function d(e,t,n,r){const i=Object(o.a)(e),s=i.metadatas,a=Object(l.c)(s[t],r)
return!!a&&u(e,i,t,a,n,r)}function h(e,t,n){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return Object(o.c)(t,e.toJSON(n))
const r=Object(o.a)(e),i=r.metadatas
for(const h in i){var s,d
const p=Object(l.c)(i[h],n)
if(!u(e,r,h,p,void 0,n))continue
const f=e.get(h),b=c(e,p,p.write&&"string"==typeof p.write.target?p.write.target:h,f,n)
Object.keys(b).length>0&&(t=Object(o.c)(t,b),null!=n&&null!=(s=n.resources)&&null!=(d=s.pendingOperations)&&d.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>Object(o.c)(t,b,()=>"replace-arrays"))),n&&n.writtenProperties&&n.writtenProperties.push({target:e,propName:h,oldOrigin:Object(a.d)(r.store.originOf(h)),newOrigin:n.origin}))}return t}},1097:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r,i=n(968),s=n(234),a=n(970),o=(n(971),n(979)),l=n(969),c=n(1001),u=n(1032),d=n(1020)
let h=r=class extends(Object(u.a)(c.a)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(n=>n.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new r({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:Object(s.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}}
Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],h.prototype,"description",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],h.prototype,"label",void 0),Object(i.a)([Object(a.b)(d.b)],h.prototype,"symbol",void 0),Object(i.a)([Object(o.a)({simple:"simple"})],h.prototype,"type",void 0),h=r=Object(i.a)([Object(l.a)("esri.renderers.SimpleRenderer")],h)
const p=h},1098:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f}))
var r,i=n(968),s=n(234),a=n(970),o=(n(971),n(969)),l=n(974),c=n(989),u=n(1001),d=n(1032),h=n(1254)
let p=r=class extends(Object(d.a)(u.a)){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new h.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,n,r){(null==r?void 0:r.origin)||super.writeVisualVariables(e,t,n,r)}clone(){return new r({config:Object(s.a)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:Object(s.a)(this.fieldMap),url:Object(s.a)(this.url),visualVariables:Object(s.a)(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Object(c.a)(e,t,this.scaleExpression)
for(const n in this.fieldMap){const r=this.fieldMap[n]
t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}}
Object(i.a)([Object(a.b)({type:h.DictionaryLoader})],p.prototype,"_loader",null),Object(i.a)([Object(a.b)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],p.prototype,"config",void 0),Object(i.a)([Object(a.b)({type:Object,json:{write:!0}})],p.prototype,"fieldMap",void 0),Object(i.a)([Object(a.b)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],p.prototype,"scaleExpression",void 0),Object(i.a)([Object(l.a)("scaleExpression")],p.prototype,"writeData",null),Object(i.a)([Object(a.b)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],p.prototype,"scaleExpressionTitle",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],p.prototype,"url",void 0),Object(i.a)([Object(l.a)("visualVariables")],p.prototype,"writeVisualVariables",null),p=r=Object(i.a)([Object(o.a)("esri.renderers.DictionaryRenderer")],p)
const f=p},1099:function(e,t,n){"use strict"
function r(e){return(t,n)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:n})}}n.d(t,"a",(function(){return r}))},1100:function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(968),i=n(990),s=(n(995),n(986)),a=n(23),o=n(980),l=n(970),c=(n(971),n(445),n(979)),u=n(969),d=n(989),h=n(1001),p=n(1032),f=n(1180),b=n(972)
let m=class extends(Object(s.b)(b.a)){constructor(){super(...arguments),this.color=new i.a([0,0,0,0]),this.label=null,this.threshold=0}}
Object(r.a)([Object(l.b)({type:i.a,json:{write:!0}})],m.prototype,"color",void 0),Object(r.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"label",void 0),Object(r.a)([Object(l.b)({type:Number,range:{min:0,max:1},json:{write:!0}})],m.prototype,"threshold",void 0),m=Object(r.a)([Object(u.a)("esri.renderers.support.OthersCategory")],m)
let y=class extends(Object(s.b)(b.a)){constructor(){super(...arguments),this.title=null}}
Object(r.a)([Object(l.b)({type:String,json:{write:!0}})],y.prototype,"title",void 0),y=Object(r.a)([Object(u.a)("esri.renderers.support.PieChartLegendOptions")],y)
var g=n(1078),v=n(1073),O=n(1065)
let j=class extends(Object(p.a)(Object(s.b)(h.a))){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new i.a([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new m,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){var e
return new g.a({size:this.size?this.size/2+((null==(e=this.outline)?void 0:e.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(a.l)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t)
for(const n of this.attributes)n.valueExpression&&await Object(d.a)(e,t,n.valueExpression),n.field&&e.add(n.field)}}
Object(r.a)([Object(l.b)({type:[f.a],json:{write:!0}})],j.prototype,"attributes",void 0),Object(r.a)([Object(l.b)({type:v.a,json:{default:null,write:!0}})],j.prototype,"backgroundFillSymbol",void 0),Object(r.a)([Object(l.b)({type:i.a,json:{write:!0}})],j.prototype,"defaultColor",void 0),Object(r.a)([Object(l.b)({type:String,json:{write:!0}})],j.prototype,"defaultLabel",void 0),Object(r.a)([Object(l.b)({type:Number,range:{min:0,max:1},json:{write:!0}})],j.prototype,"holePercentage",void 0),Object(r.a)([Object(l.b)({type:m,json:{write:!0}})],j.prototype,"othersCategory",void 0),Object(r.a)([Object(l.b)({type:y,json:{write:!0}})],j.prototype,"legendOptions",void 0),Object(r.a)([Object(l.b)({type:O.a,json:{default:null,write:!0}})],j.prototype,"outline",void 0),Object(r.a)([Object(l.b)({type:Number,cast:o.k,json:{write:!0}})],j.prototype,"size",void 0),Object(r.a)([Object(c.a)({pieChart:"pie-chart"})],j.prototype,"type",void 0),j=Object(r.a)([Object(u.a)("esri.renderers.PieChartRenderer")],j)
const w=j},1101:function(e,t,n){"use strict"
n.d(t,"a",(function(){return j}))
var r,i=n(968),s=n(990),a=n(234),o=n(970),l=(n(971),n(979)),c=n(969),u=n(989),d=n(1001),h=n(1032),p=n(1180),f=n(972)
n(445)
let b=r=class extends f.a{constructor(){super(...arguments),this.unit=null}clone(){return new r({unit:this.unit})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"unit",void 0),b=r=Object(i.a)([Object(c.a)("esri.renderers.support.DotDensityLegendOptions")],b)
const m=b
var y,g=n(1073),v=n(1065)
let O=y=class extends(Object(h.a)(d.a)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new s.a([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new v.a,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue
const t=e/this.referenceScale*this.dotValue
return t<1?1:t}getSymbol(){return new g.a({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){var e,t
return null!=(e=null==(t=this.attributes)?void 0:t.reduce((e,t)=>e+t.getAttributeHash(),""))?e:""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new y({attributes:Object(a.a)(this.attributes),backgroundColor:Object(a.a)(this.backgroundColor),dotBlendingEnabled:Object(a.a)(this.dotBlendingEnabled),dotShape:Object(a.a)(this.dotShape),dotSize:Object(a.a)(this.dotSize),dotValue:Object(a.a)(this.dotValue),legendOptions:Object(a.a)(this.legendOptions),outline:Object(a.a)(this.outline),referenceScale:Object(a.a)(this.referenceScale),visualVariables:Object(a.a)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){var e
return`${null==(e=this.attributes)?void 0:e.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t)
for(const r of null!=(n=this.attributes)?n:[]){var n
r.valueExpression&&await Object(u.a)(e,t,r.valueExpression),r.field&&e.add(r.field)}}}
Object(i.a)([Object(o.b)({type:[p.a],json:{write:!0}})],O.prototype,"attributes",void 0),Object(i.a)([Object(o.b)({type:s.a,json:{write:!0}})],O.prototype,"backgroundColor",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],O.prototype,"dotBlendingEnabled",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!1}})],O.prototype,"dotShape",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],O.prototype,"dotSize",void 0),Object(i.a)([Object(o.b)({type:m,json:{write:!0}})],O.prototype,"legendOptions",void 0),Object(i.a)([Object(o.b)({type:v.a,json:{default:null,write:!0}})],O.prototype,"outline",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],O.prototype,"dotValue",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],O.prototype,"referenceScale",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],O.prototype,"seed",void 0),Object(i.a)([Object(l.a)({dotDensity:"dot-density"})],O.prototype,"type",void 0),O=y=Object(i.a)([Object(c.a)("esri.renderers.DotDensityRenderer")],O)
const j=O},1102:function(e,t,n){"use strict"
n.d(t,"a",(function(){return M}))
var r=n(968),i=n(990),s=(n(995),n(1095)),a=n(234),o=n(233),l=n(1024),c=n(980),u=n(970),d=(n(971),n(999)),h=n(979),p=n(969),f=n(989),b=n(1001),m=n(1113),y=n(1245),g=n(986),v=n(972)
n(445)
let O=class extends(Object(g.b)(v.a)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}}
Object(r.a)([Object(u.b)({type:String,json:{write:!0}})],O.prototype,"minLabel",void 0),Object(r.a)([Object(u.b)({type:String,json:{write:!0}})],O.prototype,"maxLabel",void 0),Object(r.a)([Object(u.b)({type:String,json:{write:!0}})],O.prototype,"title",void 0),O=Object(r.a)([Object(p.a)("esri.renderers.support.HeatmapLegendOptions")],O)
var j,w=n(1203),_=n(1078)
const S="esri.renderers.HeatmapRenderer",x=o.a.getLogger(S)
function T(e){if(null!=e){const{maxDensity:t,minDensity:n,radius:r}=e
if(null!=t||null!=n||null!=r){const{blurRadius:t,maxPixelIntensity:n,minPixelIntensity:r,...i}=e
return i}}return e}let I=j=class extends b.a{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new y.a({ratio:0,color:new i.a("rgba(255, 140, 0, 0)")}),new y.a({ratio:.75,color:new i.a("rgba(255, 140, 0, 1)")}),new y.a({ratio:.9,color:new i.a("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return T(e)}get blurRadius(){return Object(w.h)(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,n=this.minPixelIntensity
this._set("radius",Object(w.f)(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",n*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(w.a**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){this._warnedProps[e]||"user"===Object(d.a)(this).getDefaultOrigin()&&(this._warnedProps[e]=!0,Object(l.b)(()=>{Object(s.d)(x,e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})}))}read(e,t){e=T(e),super.read(e,t)}getSymbol(){return new _.a}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const n=this.field,r=this.valueExpression
n&&"string"==typeof n&&await Object(f.d)(e,t,n),r&&"string"==typeof r&&await Object(f.a)(e,t,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new j({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:Object(a.a)(this.colorStops),field:this.field,legendOptions:Object(a.a)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}
Object(r.a)([Object(u.b)({type:m.a,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],I.prototype,"authoringInfo",void 0),Object(r.a)([Object(u.b)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],I.prototype,"blurRadius",null),Object(r.a)([Object(u.b)({type:[y.a],json:{write:!0}})],I.prototype,"colorStops",void 0),Object(r.a)([Object(u.b)({type:String,json:{write:!0}})],I.prototype,"field",void 0),Object(r.a)([Object(u.b)({type:Number,json:{write:{overridePolicy:(e,t,n)=>({enabled:null==n})},origins:{"web-scene":{write:!1}}}})],I.prototype,"fieldOffset",void 0),Object(r.a)([Object(u.b)({type:O,json:{write:!0}})],I.prototype,"legendOptions",void 0),Object(r.a)([Object(u.b)({type:Number,json:{write:!0}})],I.prototype,"maxDensity",void 0),Object(r.a)([Object(u.b)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],I.prototype,"maxPixelIntensity",null),Object(r.a)([Object(u.b)({type:Number,json:{write:!0}})],I.prototype,"minDensity",void 0),Object(r.a)([Object(u.b)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],I.prototype,"minPixelIntensity",null),Object(r.a)([Object(u.b)({type:Number,cast:c.k,json:{write:!0}})],I.prototype,"radius",void 0),Object(r.a)([Object(u.b)({type:Number,range:{min:0},json:{default:0,write:!0}})],I.prototype,"referenceScale",void 0),Object(r.a)([Object(h.a)({heatmap:"heatmap"})],I.prototype,"type",void 0),Object(r.a)([Object(u.b)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],I.prototype,"valueExpression",void 0),Object(r.a)([Object(u.b)({type:String})],I.prototype,"valueExpressionTitle",void 0),Object(r.a)([Object(u.b)({readOnly:!0})],I.prototype,"_pixelIntensityToDensity",null),I=j=Object(r.a)([Object(p.a)(S)],I)
const M=I},1103:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}))
var r=n(1081),i=n(1098),s=n(1101),a=n(1102),o=n(1100),l=n(1001),c=n(1097),u=n(1084)
const d={key:"type",base:l.a,typeMap:{heatmap:a.a,simple:c.a,"unique-value":u.a,"class-breaks":r.a,"dot-density":s.a,dictionary:i.a,"pie-chart":o.a},errorContext:"renderer"},h={key:"type",base:l.a,typeMap:{simple:c.a,"unique-value":u.a,"class-breaks":r.a,heatmap:a.a},errorContext:"renderer"}},1105:function(e,t,n){"use strict"
function r(e,t,n=!1){let{hasM:r,hasZ:i}=e
Array.isArray(t)?4!==t.length||r||i?3===t.length&&n&&!r?(i=!0,r=!1):3===t.length&&r&&i&&(r=!1,i=!1):(r=!0,i=!0):(i=!i&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=r}n.d(t,"a",(function(){return r}))},1106:function(e,t,n){"use strict"
n.d(t,"a",(function(){return A}))
var r,i=n(968),s=n(976),a=n(972),o=n(970),l=n(987),c=n(979),u=n(977),d=n(969),h=n(971),p=n(1045),f=n(1050),b=n(1278),m=(n(982),n(445),n(769)),y=n(1036)
let g=r=class extends a.a{constructor(e){super(e),this.type="query-table"}clone(){var e
const{workspaceId:t,query:n,oidFields:i,spatialReference:s,geometryType:a}=this,o={workspaceId:t,query:n,oidFields:i,spatialReference:null!=(e=null==s?void 0:s.clone())?e:void 0,geometryType:a}
return new r(o)}}
var v
Object(i.a)([Object(c.a)({queryTable:"query-table"})],g.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],g.prototype,"workspaceId",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],g.prototype,"query",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],g.prototype,"oidFields",void 0),Object(i.a)([Object(o.b)({type:m.default,json:{write:!0}})],g.prototype,"spatialReference",void 0),Object(i.a)([Object(c.a)(y.a)],g.prototype,"geometryType",void 0),g=r=Object(i.a)([Object(d.a)("esri.layers.support.source.QueryTableDataSource")],g)
let O=v=class extends a.a{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this
return new v({workspaceId:e,dataSourceName:t})}}
var j
Object(i.a)([Object(c.a)({raster:"raster"})],O.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],O.prototype,"dataSourceName",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],O.prototype,"workspaceId",void 0),O=v=Object(i.a)([Object(d.a)("esri.layers.support.source.RasterDataSource")],O)
let w=j=class extends a.a{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:n}=this
return new j({workspaceId:e,gdbVersion:t,dataSourceName:n})}}
var _,S
Object(i.a)([Object(c.a)({table:"table"})],w.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],w.prototype,"workspaceId",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],w.prototype,"gdbVersion",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],w.prototype,"dataSourceName",void 0),w=j=Object(i.a)([Object(d.a)("esri.layers.support.source.TableDataSource")],w)
const x=Object(s.b)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"})
let T=_=class extends a.a{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,n){return M()(e,t,n)}castLeftTableSource(e){return Object(h.k)(k(),e)}readRightTableSource(e,t,n){return M()(e,t,n)}castRightTableSource(e){return Object(h.k)(k(),e)}clone(){var e,t
const{leftTableKey:n,rightTableKey:r,leftTableSource:i,rightTableSource:s,joinType:a}=this,o={leftTableKey:n,rightTableKey:r,leftTableSource:null!=(e=null==i?void 0:i.clone())?e:void 0,rightTableSource:null!=(t=null==s?void 0:s.clone())?t:void 0,joinType:a}
return new _(o)}}
Object(i.a)([Object(c.a)({joinTable:"join-table"})],T.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],T.prototype,"leftTableKey",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],T.prototype,"rightTableKey",void 0),Object(i.a)([Object(o.b)({json:{write:!0}})],T.prototype,"leftTableSource",void 0),Object(i.a)([Object(u.a)("leftTableSource")],T.prototype,"readLeftTableSource",null),Object(i.a)([Object(l.a)("leftTableSource")],T.prototype,"castLeftTableSource",null),Object(i.a)([Object(o.b)({json:{write:!0}})],T.prototype,"rightTableSource",void 0),Object(i.a)([Object(u.a)("rightTableSource")],T.prototype,"readRightTableSource",null),Object(i.a)([Object(l.a)("rightTableSource")],T.prototype,"castRightTableSource",null),Object(i.a)([Object(c.a)(x)],T.prototype,"joinType",void 0),T=_=Object(i.a)([Object(d.a)("esri.layers.support.source.JoinTableDataSource")],T)
let I=null
function M(){return I||(I=Object(p.b)({types:k()})),I}let E=null
function k(){return E||(E={key:"type",base:null,typeMap:{"data-layer":A,"map-layer":b.a}}),E}const C={key:"type",base:null,typeMap:{"join-table":T,"query-table":g,raster:O,table:w}}
let A=S=class extends a.a{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this
return new S({fields:e,dataSource:t})}}
Object(i.a)([Object(c.a)({dataLayer:"data-layer"})],A.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:[f.a],json:{write:!0}})],A.prototype,"fields",void 0),Object(i.a)([Object(o.b)({types:C,json:{write:!0}})],A.prototype,"dataSource",void 0),A=S=Object(i.a)([Object(d.a)("esri.layers.support.source.DataLayerSource")],A),A.from=Object(h.m)(A)},1107:function(e,t,n){"use strict"
n.r(t),n.d(t,"getAllSizes",(function(){return S})),n.d(t,"getColor",(function(){return f})),n.d(t,"getOpacity",(function(){return b})),n.d(t,"getRotationAngle",(function(){return m})),n.d(t,"getSize",(function(){return y})),n.d(t,"getSizeForValue",(function(){return O})),n.d(t,"getSizeFromNumberOrVariable",(function(){return g})),n.d(t,"getSizeRangeAtScale",(function(){return j})),n.d(t,"getVisualVariableValues",(function(){return w})),n.d(t,"viewScaleRE",(function(){return p}))
var r=n(990),i=n(772),s=n(1090),a=n(233),o=n(23),l=n(1093),c=n(1108)
const u=a.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new i.default,h=Math.PI,p=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i
function f(e,t,n){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(e=>"color"===e.type):e
if(!i)return
if("esri.renderers.visualVariables.ColorVariable"!==i.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")
const s="number"==typeof t,a=s?null:t,l=a&&a.attributes
let c=s?t:null
const d=i.field,{ipData:h,hasExpression:p}=i.cache
let f=i.cache.compiledFunc
if(!d&&!p){const e=i.stops
return e&&e[0]&&e[0].color}if("number"!=typeof c)if(p){if(Object(o.k)(n)||Object(o.k)(n.arcade))return void u.error("Use of arcade expressions requires an arcade context")
const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,r=t.getViewInfo(e),s=t.createExecContext(a,r)
if(!f){const e=t.createSyntaxTree(i.valueExpression)
f=t.createFunction(e),i.cache.compiledFunc=f}c=t.executeFunction(f,s)}else l&&(c=l[d])
const b=i.normalizationField,m=null!=l&&null!=b?parseFloat(l[b]):void 0
if(null!=c&&(!b||s||!isNaN(m)&&0!==m)){isNaN(m)||s||(c/=m)
const e=_(c,h)
if(e){const t=e[0],s=e[1],a=t===s?i.stops[t].color:r.a.blendColors(i.stops[t].color,i.stops[s].color,e[2],Object(o.l)(n)?n.color:void 0)
return new r.a(a)}}}function b(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(e=>"opacity"===e.type):e
if(!r)return
if("esri.renderers.visualVariables.OpacityVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")
const i="number"==typeof t,s=i?null:t,a=s&&s.attributes
let l=i?t:null
const c=r.field,{ipData:d,hasExpression:h}=r.cache
let p=r.cache.compiledFunc
if(!c&&!h){const e=r.stops
return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(h){if(Object(o.k)(n)||Object(o.k)(n.arcade))return void u.error("Use of arcade expressions requires an arcade context")
const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),a=t.createExecContext(s,i)
if(!p){const e=t.createSyntaxTree(r.valueExpression)
p=t.createFunction(e),r.cache.compiledFunc=p}l=t.executeFunction(p,a)}else a&&(l=a[c])
const f=r.normalizationField,b=null!=a&&null!=f?parseFloat(a[f]):void 0
if(null!=l&&(!f||i||!isNaN(b)&&0!==b)){isNaN(b)||i||(l/=b)
const e=_(l,d)
if(e){const t=e[0],n=e[1]
if(t===n)return r.stops[t].opacity
{const i=r.stops[t].opacity
return i+(r.stops[n].opacity-i)*e[2]}}}}function m(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(e=>"rotation"===e.type):e
if(!r)return
if("esri.renderers.visualVariables.RotationVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")
const i=r.axis||"heading",s="heading"===i&&"arithmetic"===r.rotationType?90:0,a="heading"===i&&"arithmetic"===r.rotationType?-1:1,l="number"==typeof t?null:t,c=l&&l.attributes,d=r.field,{hasExpression:h}=r.cache
let p=r.cache.compiledFunc,f=0
if(!d&&!h)return f
if(h){if(Object(o.k)(n)||Object(o.k)(n.arcade))return void u.error("Use of arcade expressions requires an arcade context")
const e={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},t=n.arcade.arcadeUtils,i=t.getViewInfo(e),s=t.createExecContext(l,i)
if(!p){const e=t.createSyntaxTree(r.valueExpression)
p=t.createFunction(e),r.cache.compiledFunc=p}f=t.executeFunction(p,s)}else c&&(f=c[d]||0)
return f="number"!=typeof f||isNaN(f)?null:s+a*f,f}function y(e,t,n){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(e=>"size"===e.type):e
if(!r)return
if("esri.renderers.visualVariables.SizeVariable"!==r.declaredClass)return void u.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")
const i=O(function(e,t,n){const r="number"==typeof t,i=r?null:t,s=i&&i.attributes
let a=r?t:null
const{isScaleDriven:l}=e.cache
let d=e.cache.compiledFunc
if(l){const t=Object(o.l)(n)?n.scale:void 0,r=Object(o.l)(n)?n.view:void 0
a=null==t||"3d"===r?function(e){let t=null,n=null
const r=e.stops
return r?(t=r[0].value,n=r[r.length-1].value):(t=e.minDataValue||0,n=e.maxDataValue||0),(t+n)/2}(e):t}else if(!r)switch(e.inputValueType){case c.a.Expression:{if(Object(o.k)(n)||Object(o.k)(n.arcade))return void u.error("Use of arcade expressions requires an arcade context")
const t={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},r=n.arcade.arcadeUtils,s=r.getViewInfo(t),l=r.createExecContext(i,s)
if(!d){const t=r.createSyntaxTree(e.valueExpression)
d=r.createFunction(t),e.cache.compiledFunc=d}a=r.executeFunction(d,l)
break}case c.a.Field:s&&(a=s[e.field])
break
case c.a.Unknown:a=null}if(!Object(c.f)(a))return null
if(r||!e.normalizationField)return a
const h=s?parseFloat(s[e.normalizationField]):null
return Object(c.f)(h)&&0!==h?a/h:null}(r,t,n),r,t,n,r.cache.ipData)
return null==i||isNaN(i)?0:i}function g(e,t,n){return null==e?null:Object(c.e)(e)?y(e,t,n):Object(c.f)(e)?e:null}function v(e,t,n){return Object(c.f)(n)&&e>n?n:Object(c.f)(t)&&e<t?t:e}function O(e,t,n,r,i){switch(t.transformationType){case c.b.Additive:return function(e,t,n,r){var i
return e+(null!=(i=g(t.minSize,n,r)||t.minDataValue)?i:0)}(e,t,n,r)
case c.b.Constant:return function(e,t,n){const r=e.stops
let i=r&&r.length&&r[0].size
return null==i&&(i=e.minSize),g(i,t,n)}(t,n,r)
case c.b.ClampedLinear:return function(e,t,n,r){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=g(t.minSize,n,r),a=g(t.maxSize,n,r),l=Object(o.l)(r)?r.shape:void 0
if(e<=t.minDataValue)return s
if(e>=t.maxDataValue)return a
if(null==s||null==a)return null
if("area"===t.scaleBy&&l){const e="circle"===l,t=e?h*(s/2)**2:s*s,n=t+i*((e?h*(a/2)**2:a*a)-t)
return e?2*Math.sqrt(n/h):Math.sqrt(n)}return s+i*(a-s)}(e,t,n,r)
case c.b.Proportional:return function(e,t,n,r){const i=Object(o.l)(r)?r.shape:void 0,s=e/t.minDataValue,a=g(t.minSize,n,r),l=g(t.maxSize,n,r)
let c=null
return c="circle"===i?2*Math.sqrt(s*(a/2)**2):"square"===i||"diamond"===i||"image"===i?Math.sqrt(s*a**2):s*a,v(c,a,l)}(e,t,n,r)
case c.b.Stops:return function(e,t,n,r,i){var s
const[a,o,l]=_(e,i)
if(a===o)return g(null==(s=t.stops)?void 0:s[a].size,n,r)
{var c,u
const e=g(null==(c=t.stops)?void 0:c[a].size,n,r)
return e+(g(null==(u=t.stops)?void 0:u[o].size,n,r)-e)*l}}(e,t,n,r,i)
case c.b.RealWorldSize:return function(e,t,n,r){const i=(Object(o.l)(r)&&r.resolution?r.resolution:1)*l.a[t.valueUnit],s=g(t.minSize,n,r),a=g(t.maxSize,n,r),{valueRepresentation:c}=t
let u=null
return u="area"===c?2*Math.sqrt(e/h)/i:"radius"===c||"distance"===c?2*e/i:e/i,v(u,s,a)}(e,t,n,r)
case c.b.Identity:return e
case c.b.Unknown:return null}}function j(e,t,n){const{isScaleDriven:r}=e.cache
if(!(r&&"3d"===n||t))return null
const i={scale:t,view:n}
let s=g(e.minSize,d,i),a=g(e.maxSize,d,i)
if(null!=s||null!=a){if(s>a){const e=a
a=s,s=e}return{minSize:s,maxSize:a}}}function w(e,t,n){if(!e.visualVariables)return
const r=[],i=[],s=[],a=[],o=[]
for(const t of e.visualVariables)switch(t.type){case"color":i.push(t)
break
case"opacity":s.push(t)
break
case"rotation":o.push(t)
break
case"size":a.push(t)}return i.forEach(e=>{const i=f(e,t,n)
r.push({variable:e,value:i})}),s.forEach(e=>{const i=b(e,t,n)
r.push({variable:e,value:i})}),o.forEach(e=>{const i=m(e,t,n)
r.push({variable:e,value:i})}),a.forEach(e=>{const i=y(e,t,n)
r.push({variable:e,value:i})}),r.filter(e=>null!=e.value)}function _(e,t){if(!t)return
let n=0,r=t.length-1
return t.some((t,i)=>e<t?(r=i,!0):(n=i,!1)),[n,r,(e-t[n])/(t[r]-t[n])]}function S(e,t,n){const r=["proportional","proportional","proportional"]
for(const i of e){const e=i.useSymbolValue?"symbol-value":y(i,t,n)
switch(i.axis){case"width":r[0]=e
break
case"depth":r[1]=e
break
case"height":r[2]=e
break
case"width-and-depth":r[0]=e,r[1]=e
break
case"all":case void 0:case null:r[0]=e,r[1]=e,r[2]=e
break
default:Object(s.a)(i.axis)}}return r}},1108:function(e,t,n){"use strict"
var r,i
function s(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function o(e){return e.valueExpression?r.Expression:e.field&&"string"==typeof e.field?r.Field:r.Unknown}function l(e,t){const n=t||o(e),s=e.valueUnit||"unknown"
return n===r.Unknown?i.Constant:e.stops?i.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?i.ClampedLinear:"unknown"===s?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?i.Proportional:i.Additive:i.Identity:i.RealWorldSize}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return a})),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(r||(r={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(i||(i={}))},1109:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return s})),n.d(t,"p",(function(){return o}))
var r=n(1016)
function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function s(e,t,n,r,i,s,a,o,l,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=s,e[5]=a,e[6]=o,e[7]=l,e[8]=c,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function o(e,t){if(e===t){const n=t[1],r=t[2],i=t[5]
e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8]
return e}function l(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=u*a-o*c,h=-u*s+o*l,p=c*s-a*l
let f=n*d+r*h+i*p
return f?(f=1/f,e[0]=d*f,e[1]=(-u*r+i*c)*f,e[2]=(o*r-i*a)*f,e[3]=h*f,e[4]=(u*n-i*l)*f,e[5]=(-o*n+i*s)*f,e[6]=p*f,e[7]=(-c*n+r*l)*f,e[8]=(a*n-r*s)*f,e):null}function c(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8]
return e[0]=a*u-o*c,e[1]=i*c-r*u,e[2]=r*o-i*a,e[3]=o*l-s*u,e[4]=n*u-i*l,e[5]=i*s-n*o,e[6]=s*c-a*l,e[7]=r*l-n*c,e[8]=n*a-r*s,e}function u(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1],f=n[2],b=n[3],m=n[4],y=n[5],g=n[6],v=n[7],O=n[8]
return e[0]=h*r+p*a+f*c,e[1]=h*i+p*o+f*u,e[2]=h*s+p*l+f*d,e[3]=b*r+m*a+y*c,e[4]=b*i+m*o+y*u,e[5]=b*s+m*l+y*d,e[6]=g*r+v*a+O*c,e[7]=g*i+v*o+O*u,e[8]=g*s+v*l+O*d,e}function d(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1]
return e[0]=r,e[1]=i,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e[6]=h*r+p*a+c,e[7]=h*i+p*o+u,e[8]=h*s+p*l+d,e}function h(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=Math.sin(n),p=Math.cos(n)
return e[0]=p*r+h*a,e[1]=p*i+h*o,e[2]=p*s+h*l,e[3]=p*a-h*r,e[4]=p*o-h*i,e[5]=p*l-h*s,e[6]=c,e[7]=u,e[8]=d,e}function p(e,t,n){const r=n[0],i=n[1],s=n[2]
return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function f(e,t,n){const r=n[0],i=n[1]
return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function b(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function m(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=n+n,o=r+r,l=i+i,c=n*a,u=r*a,d=r*o,h=i*a,p=i*o,f=i*l,b=s*a,m=s*o,y=s*l
return e[0]=1-d-f,e[3]=u-y,e[6]=h+m,e[1]=u+y,e[4]=1-c-f,e[7]=p-b,e[2]=h-m,e[5]=p+b,e[8]=1-c-d,e}function y(e,t){const n=t[0],r=t[1],i=t[2],s=t[4],a=t[5],o=t[6],l=t[8],c=t[9],u=t[10],d=u*a-o*c,h=-u*s+o*l,p=c*s-a*l,f=n*d+r*h+i*p
if(!f)return null
const b=1/f
return e[0]=d*b,e[1]=(-u*r+i*c)*b,e[2]=(o*r-i*a)*b,e[3]=h*b,e[4]=(u*n-i*l)*b,e[5]=(-o*n+i*s)*b,e[6]=p*b,e[7]=(-c*n+r*l)*b,e[8]=(a*n-r*s)*b,e}function g(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],p=t[11],f=t[12],b=t[13],m=t[14],y=t[15],g=n*o-r*a,v=n*l-i*a,O=n*c-s*a,j=r*l-i*o,w=r*c-s*o,_=i*c-s*l,S=u*b-d*f,x=u*m-h*f,T=u*y-p*f,I=d*m-h*b,M=d*y-p*b,E=h*y-p*m
let k=g*E-v*M+O*I+j*T-w*x+_*S
return k?(k=1/k,e[0]=(o*E-l*M+c*I)*k,e[1]=(l*T-a*E-c*x)*k,e[2]=(a*M-o*T+c*S)*k,e[3]=(i*M-r*E-s*I)*k,e[4]=(n*E-i*T+s*x)*k,e[5]=(r*T-n*M-s*S)*k,e[6]=(b*_-m*w+y*j)*k,e[7]=(m*O-f*_-y*v)*k,e[8]=(f*w-b*O+y*g)*k,e):null}function v(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function O(e){const t=Object(r.c)(),n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8]
return Math.abs(1-(n*n+a*a+c*c))<=t&&Math.abs(1-(i*i+o*o+u*u))<=t&&Math.abs(1-(s*s+l*l+d*d))<=t}const j=u,w=v
Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},adjoint:c,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},determinant:function(e){const t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8]
return t*(c*s-a*l)+n*(-c*i+a*o)+r*(l*i-s*o)},equals:function(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=t[0],p=t[1],f=t[2],b=t[3],m=t[4],y=t[5],g=t[6],v=t[7],O=t[8],j=Object(r.c)()
return Math.abs(n-h)<=j*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=j*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(s-f)<=j*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-b)<=j*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-m)<=j*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(l-y)<=j*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-g)<=j*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(u-v)<=j*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(d-O)<=j*Math.max(1,Math.abs(d),Math.abs(O))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromMat4:i,fromQuat:m,fromRotation:function(e,t){const n=Math.sin(t),r=Math.cos(t)
return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromTranslation:b,identity:a,invert:l,isOrthoNormal:O,mul:j,multiply:u,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e},normalFromMat4:g,normalFromMat4Legacy:y,projection:function(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},rotate:h,scale:p,scaleByVec2:f,set:s,str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},sub:w,subtract:v,translate:d,transpose:o},Symbol.toStringTag,{value:"Module"}))},1110:function(e,t,n){"use strict"
function r(e,t){for(const[n,r]of e)if(t(r,n))return!0
return!1}function i(e,t){for(const[n,r]of e)if(t(r,n))return r
return null}function s(e,t,n){const r=e.get(t)
if(void 0!==r)return r
const i=n()
return e.set(t,i),i}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r}))},1111:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))
var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}
function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}}).call(this,n(50))},1112:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}))
var r=n(234),i=n(23),s=n(999)
function a(e){let t=e.constructor.__accessorMetadata__
const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__")
if(t){if(!n){t=Object.create(t)
for(const e in t)t[e]=Object(r.a)(t[e])
Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})
return Object(i.d)(e.constructor.__accessorMetadata__)}function o(e,t){const n=a(e)
let r=n[t]
return r||(r=n[t]={}),r}function l(e,t){return Object(s.c)(e,t,u)}const c=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/
function u(e){return c.test(e)?"replace":"merge"}},1113:function(e,t,n){"use strict"
n.d(t,"a",(function(){return A}))
var r,i=n(968),s=n(976),a=n(972),o=n(234),l=n(970),c=n(971),u=n(977),d=n(969)
n(445)
let h=r=class extends a.a{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new r({minValue:this.minValue,maxValue:this.maxValue})}}
var p
Object(i.a)([Object(l.b)({type:Number,json:{write:!0}})],h.prototype,"minValue",void 0),Object(i.a)([Object(l.b)({type:Number,json:{write:!0}})],h.prototype,"maxValue",void 0),h=r=Object(i.a)([Object(d.a)("esri.renderer.support.AuthoringInfoClassBreakInfo")],h)
let f=p=class extends a.a{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new p({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:Object(o.a)(this.classBreakInfos)})}}
Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],f.prototype,"field",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],f.prototype,"normalizationField",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],f.prototype,"label",void 0),Object(i.a)([Object(l.b)({type:[h],json:{write:!0}})],f.prototype,"classBreakInfos",void 0),f=p=Object(i.a)([Object(d.a)("esri.renderers.support.AuthoringInfoFieldInfo")],f)
var b,m=n(987)
const y=new s.a({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),g=new s.a({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),v={key:e=>"number"==typeof e?"number":"string",typeMap:{number:Number,string:String},base:null},O=["high-to-low","above-and-below","centered-on","extremes"],j=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],w=["seconds","minutes","hours","days","months","years"]
let _=b=class extends a.a{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return"string"==typeof e||"number"==typeof e?e:null}castStartTime(e){return"string"==typeof e||"number"==typeof e?e:null}get style(){return"color"===this.type?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new b({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}}
Object(i.a)([Object(l.b)({types:v,json:{write:!0}})],_.prototype,"endTime",void 0),Object(i.a)([Object(m.a)("endTime")],_.prototype,"castEndTime",null),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],_.prototype,"field",void 0),Object(i.a)([Object(l.b)({type:Number,json:{write:!0}})],_.prototype,"maxSliderValue",void 0),Object(i.a)([Object(l.b)({type:Number,json:{write:!0}})],_.prototype,"minSliderValue",void 0),Object(i.a)([Object(l.b)({types:v,json:{write:!0}})],_.prototype,"startTime",void 0),Object(i.a)([Object(m.a)("startTime")],_.prototype,"castStartTime",null),Object(i.a)([Object(l.b)({type:y.apiValues,value:null,json:{type:y.jsonValues,read:y.read,write:y.write}})],_.prototype,"style",null),Object(i.a)([Object(l.b)({type:j,value:null,json:{type:j,origins:{"web-scene":{type:O,write:{writer:(e,t)=>{O.includes(e)&&(t.theme=e)}}}},write:!0}})],_.prototype,"theme",null),Object(i.a)([Object(l.b)({type:g.apiValues,json:{type:g.jsonValues,read:g.read,write:g.write}})],_.prototype,"type",void 0),Object(i.a)([Object(l.b)({type:w,json:{type:w,write:!0}})],_.prototype,"units",void 0),_=b=Object(i.a)([Object(d.a)("esri.renderers.support.AuthoringInfoVisualVariable")],_)
const S=_
var x,T=n(1236)
const I=new s.a({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),M=new s.a({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),E=new s.a({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),k=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"]
let C=x=class extends a.a{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type
return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?Object(T.a)(e):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type
return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e
"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new x({classificationMethod:this.classificationMethod,colorRamp:Object(o.a)(this.colorRamp),fadeRatio:Object(o.a)(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:Object(o.a)(this.field1),field2:Object(o.a)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}}
Object(i.a)([Object(l.b)({type:I.apiValues,value:null,json:{type:I.jsonValues,read:I.read,write:I.write,origins:{"web-document":{default:"manual",type:I.jsonValues,read:I.read,write:I.write}}}})],C.prototype,"classificationMethod",null),Object(i.a)([Object(l.b)({types:T.b,json:{write:!0}})],C.prototype,"colorRamp",void 0),Object(i.a)([Object(u.a)("colorRamp")],C.prototype,"readColorRamp",null),Object(i.a)([Object(l.b)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],C.prototype,"fadeRatio",void 0),Object(i.a)([Object(l.b)({type:[String],value:null,json:{write:!0}})],C.prototype,"fields",null),Object(i.a)([Object(l.b)({type:f,value:null,json:{write:!0}})],C.prototype,"field1",null),Object(i.a)([Object(l.b)({type:f,value:null,json:{write:!0}})],C.prototype,"field2",null),Object(i.a)([Object(l.b)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],C.prototype,"flowTheme",null),Object(i.a)([Object(l.b)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],C.prototype,"focus",null),Object(i.a)([Object(l.b)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],C.prototype,"isAutoGenerated",void 0),Object(i.a)([Object(l.b)({type:Number,value:null,json:{type:c.a,write:!0}})],C.prototype,"numClasses",null),Object(i.a)([Object(l.b)({type:k,json:{type:k,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],C.prototype,"lengthUnit",void 0),Object(i.a)([Object(l.b)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],C.prototype,"maxSliderValue",void 0),Object(i.a)([Object(l.b)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],C.prototype,"minSliderValue",void 0),Object(i.a)([Object(l.b)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],C.prototype,"statistics",null),Object(i.a)([Object(l.b)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],C.prototype,"standardDeviationInterval",null),Object(i.a)([Object(l.b)({type:M.apiValues,value:null,json:{type:M.jsonValues,read:M.read,write:M.write,origins:{"web-scene":{type:E.jsonValues,write:{writer:E.write,overridePolicy:e=>({enabled:"flow"!==e})}}}}})],C.prototype,"type",null),Object(i.a)([Object(l.b)({type:[S],json:{write:!0}})],C.prototype,"visualVariables",void 0),Object(i.a)([Object(l.b)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],C.prototype,"univariateSymbolStyle",null),Object(i.a)([Object(l.b)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],C.prototype,"univariateTheme",null),C=x=Object(i.a)([Object(d.a)("esri.renderers.support.AuthoringInfo")],C)
const A=C},1114:function(e,t,n){"use strict"
var r
n.d(t,"a",(function(){return r})),function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"}(r||(r={}))},1115:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r=n(233),i=n(146),s=n(447),a=n(1039),o=n(1038)
const l=r.a.getLogger("esri.intl.substitute")
function c(e,t,n={}){const{format:r={}}=n
return Object(s.c)(e,e=>function(e,t,n){var r
let s,a
const o=e.indexOf(":")
if(-1===o?s=e.trim():(s=e.slice(0,o).trim(),a=e.slice(o+1).trim()),!s)return""
const l=Object(i.b)(s,t)
if(null==l)return""
const c=null!=(r=a?null==n?void 0:n[a]:null)?r:null==n?void 0:n[s]
return c?u(l,c):a?d(l,a):h(l)}(e,t,r))}function u(e,t){switch(t.type){case"date":return Object(a.b)(e,t.intlOptions)
case"number":return Object(o.b)(e,t.intlOptions)
default:return l.warn("missing format descriptor for key {key}"),h(e)}}function d(e,t){switch(t.toLowerCase()){case"dateformat":return Object(a.b)(e)
case"numberformat":return Object(o.b)(e)
default:return l.warn("inline format is unsupported since 4.12: "+t),/^(dateformat|datestring)/i.test(t)?Object(a.b)(e):/^numberformat/i.test(t)?Object(o.b)(e):h(e)}}function h(e){switch(typeof e){case"string":return e
case"number":return Object(o.b)(e)
case"boolean":return""+e
default:return e instanceof Date?Object(a.b)(e):""}}},1117:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(1049)
function i(e){e.length=0}class s{constructor(e=50,t=50){this._pool=new r.a(Array,void 0,i,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return a.acquire()}static release(e){return a.release(e)}static prune(){a.prune()}}const a=new s(100)},1118:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g}))
var r=n(1085)
function i(e,t){return Object(r.e)(e,t)}function s(e,t){const n=e.hasZ&&t.hasZ
let r,i,s
if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1
if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1
if(n&&t.hasZ)if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1
return!0}function a(e,t){const{points:n,hasZ:i}=t,s=i?r.b:r.a
for(const t of n)if(s(e,t))return!0
return!1}const o=[0,0],l=[0,0],c=[0,0],u=[0,0],d=[o,l,c,u],h=[[c,o],[o,l],[l,u],[u,c]]
function p(e,t){return function(e,t){o[0]=e.xmin,o[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin
for(const e of d)if(Object(r.h)(t,e))return!0
for(const n of t){if(!n.length)continue
let t=n[0]
if(Object(r.a)(e,t))return!0
for(let i=1;i<n.length;i++){const s=n[i]
if(Object(r.a)(e,s)||y(t,s,h))return!0
t=s}}return!1}(e,t.rings)}function f(e,t){o[0]=e.xmin,o[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin
const n=t.paths
for(const t of n){if(!n.length)continue
let i=t[0]
if(Object(r.a)(e,i))return!0
for(let n=1;n<t.length;n++){const s=t[n]
if(Object(r.a)(e,s)||y(i,s,h))return!0
i=s}}return!1}const b=[0,0]
function m(e){for(let t=0;t<e.length;t++){const n=e[t]
for(let r=0;r<n.length-1;r++){const i=n[r],s=n[r+1]
for(let n=t+1;n<e.length;n++)for(let t=0;t<e[n].length-1;t++){const r=e[n][t],a=e[n][t+1]
if(g(i,s,r,a,b)&&!(b[0]===i[0]&&b[1]===i[1]||b[0]===r[0]&&b[1]===r[1]||b[0]===s[0]&&b[1]===s[1]||b[0]===a[0]&&b[1]===a[1]))return!0}}const r=n.length
if(!(r<=4))for(let e=0;e<r-3;e++){let t=r-1
0===e&&(t=r-2)
const i=n[e],s=n[e+1]
for(let r=e+2;r<t;r++){const e=n[r],t=n[r+1]
if(g(i,s,e,t,b)&&!(b[0]===i[0]&&b[1]===i[1]||b[0]===e[0]&&b[1]===e[1]||b[0]===s[0]&&b[1]===s[1]||b[0]===t[0]&&b[1]===t[1]))return!0}}}return!1}function y(e,t,n){for(let r=0;r<n.length;r++)if(g(e,t,n[r][0],n[r][1]))return!0
return!1}function g(e,t,n,r,i){const[s,a]=e,[o,l]=t,[c,u]=n,[d,h]=r,p=d-c,f=s-c,b=o-s,m=h-u,y=a-u,g=l-a,v=m*b-p*g
if(0===v)return!1
const O=(p*y-m*f)/v,j=(b*y-g*f)/v
return O>=0&&O<=1&&j>=0&&j<=1&&(i&&(i[0]=s+O*(o-s),i[1]=a+O*(l-a)),!0)}function v(e){switch(e){case"esriGeometryEnvelope":case"extent":return s
case"esriGeometryMultipoint":case"multipoint":return a
case"esriGeometryPoint":case"point":return i
case"esriGeometryPolygon":case"polygon":return p
case"esriGeometryPolyline":case"polyline":return f}}},1120:function(e,t,n){"use strict"
n.d(t,"a",(function(){return g}))
var r=n(196),i=n(446),s=n(1043),a=n(23),o=n(973),l=n(1121),c=n(379)
const u={statsWorker:()=>n.e(296).then(n.bind(null,1321)),geometryEngineWorker:()=>Promise.all([n.e(11),n.e(374)]).then(n.bind(null,1622)),CSVSourceWorker:()=>Promise.all([n.e(1),n.e(9),n.e(14),n.e(15),n.e(218)]).then(n.bind(null,1636)),EdgeProcessingWorker:()=>Promise.all([n.e(61),n.e(460)]).then(n.bind(null,1624)),ElevationSamplerWorker:()=>Promise.all([n.e(1),n.e(31),n.e(283)]).then(n.bind(null,1625)),FeatureServiceSnappingSourceWorker:()=>Promise.all([n.e(1),n.e(9),n.e(14),n.e(15),n.e(192)]).then(n.bind(null,1635)),GeoJSONSourceWorker:()=>Promise.all([n.e(1),n.e(9),n.e(14),n.e(15),n.e(214)]).then(n.bind(null,1626)),LercWorker:()=>n.e(765).then(n.bind(null,1627)),MemorySourceWorker:()=>Promise.all([n.e(1),n.e(9),n.e(14),n.e(15),n.e(216)]).then(n.bind(null,1628)),PBFDecoderWorker:()=>n.e(239).then(n.bind(null,1637)),Pipeline:()=>Promise.all([n.e(1),n.e(9),n.e(14),n.e(15),n.e(181)]).then(n.bind(null,1633)),PointCloudWorker:()=>Promise.all([n.e(1),n.e(72),n.e(274)]).then(n.bind(null,1629)),RasterWorker:()=>Promise.all([n.e(1),n.e(213)]).then(n.bind(null,1630)),SceneLayerSnappingSourceWorker:()=>Promise.all([n.e(1),n.e(9),n.e(14),n.e(33),n.e(201)]).then(n.bind(null,1638)),SceneLayerWorker:()=>n.e(265).then(n.bind(null,1565)),WFSSourceWorker:()=>Promise.all([n.e(1),n.e(9),n.e(14),n.e(15),n.e(206)]).then(n.bind(null,1631)),WorkerTileHandler:()=>Promise.all([n.e(25),n.e(83),n.e(264)]).then(n.bind(null,1634))},{CLOSE:d,ABORT:h,INVOKE:p,RESPONSE:f,OPEN_PORT:b,ON:m}=l.a
class y{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===l.a.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null
for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e)
this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class g{static connect(e){const t=new MessageChannel
let n
n="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e
const r=new g(t.port1,{channel:t,client:n},()=>null)
return"object"==typeof n&&"remoteClient"in n&&(n.remoteClient=r),g.clients.set(r,n),t.port2}static loadWorker(e){const t=u[e]
return t?t():Promise.resolve(null)}constructor(e,t,n){this._port=e,this._getNextJob=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new y(e=>this._onInvokeMessage(e)),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:d}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,n){const r=n&&n.signal,s=n&&n.transferList
if(!this._port)return Promise.reject(new i.a("worker:port-closed",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}))
const c=Object(l.b)()
return new Promise((n,i)=>{if(Object(o.k)(r))return this._processWork(),void i(Object(o.c)())
const l=Object(o.n)(r,()=>{const e=this._outJobs.get(c)
e&&(this._outJobs.delete(c),this._processWork(),Object(a.s)(e.abortHandle),this._post({type:h,jobId:c}),i(Object(o.c)()))}),u={resolve:n,reject:i,abortHandle:l,debugInfo:e}
this._outJobs.set(c,u),this._post({type:p,jobId:c,methodName:e,abortable:null!=r},t,s)})}on(e,t){const n=new MessageChannel
function r(e){t(e.data)}return this._port.postMessage({type:l.a.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),{remove(){n.port1.postMessage({type:l.a.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}}}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel
return this._post({type:b,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=2)return
const e=this._getNextJob()
if(!e)return
const{methodName:t,data:n,invokeOptions:r,deferred:i}=e
this.invoke(t,n,r).then(e=>i.resolve(e)).catch(e=>i.reject(e))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{Object(a.s)(e.abortHandle),e.reject(Object(o.c)(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(e){Object(a.l)(this._schedule)?this._schedule(()=>this._processMessage(e)):this._processMessage(e)}_processMessage(e){const t=Object(l.d)(e)
if(t)switch(t.type){case f:this._onResponseMessage(t)
break
case p:this._invokeQueue.push(t)
break
case h:this._onAbortMessage(t)
break
case d:this._onCloseMessage()
break
case b:this._onOpenPortMessage(t)
break
case m:this._onOnMessage(t)}}_onAbortMessage(e){const t=this._inJobs,n=e.jobId,r=t.get(n)
this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(n))}_onCloseMessage(){const e=this._client
this._close(),e&&"destroy"in e&&g.clients.get(this)===e&&e.destroy(),g.clients.delete(this),e&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:n,data:r,abortable:i}=e,s=i?new AbortController:null,a=this._inJobs
let c,u=this._client,d=u[t]
try{if(!d&&t&&t.includes(".")){const e=t.split(".")
for(let t=0;t<e.length-1;t++)u=u[e[t]],d=u[e[t+1]]}if("function"!=typeof d)throw new TypeError(t+" is not a function")
c=d.call(u,r,{client:this,signal:s?s.signal:null})}catch(e){return void this._post({type:f,jobId:n,error:Object(l.e)(e)})}Object(o.l)(c)?(a.set(n,{controller:s,promise:c}),c.then(e=>{a.has(n)&&(a.delete(n),this._post({type:f,jobId:n},e))},e=>{a.has(n)&&(a.delete(n),Object(o.j)(e)||this._post({type:f,jobId:n,error:Object(l.e)(e||{message:"Error encountered at method "+t})}))})):this._post({type:f,jobId:n},c)}_onOpenPortMessage(e){new g(e.port,{client:this._client},()=>null)}_onOnMessage(e){const{port:t}=e,n=this._client.on(e.eventType,e=>{t.postMessage(e)}),r=Object(s.c)(e.port,"message",e=>{var i;(null==(i=Object(l.d)(e))?void 0:i.type)===l.a.CLOSE&&(r.remove(),n.remove(),t.close())})}_onResponseMessage(e){const{jobId:t,error:n,data:r}=e,s=this._outJobs
if(!s.has(t))return
const o=s.get(t)
s.delete(t),this._processWork(),Object(a.s)(o.abortHandle),n?o.reject(i.a.fromJSON(JSON.parse(n))):o.resolve(r)}_post(e,t,n){return Object(l.c)(this._port,e,t,n)}}g.kernelInfo={revision:c.b,version:r.d,buildDate:c.a},g.clients=new Map},1121:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o}))
var r,i=n(235)
!function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"}(r||(r={}))
let s=0
function a(){return s++}function o(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function l(e,t,n,s){if(t.type===r.OPEN_PORT)return void e.postMessage(t,[t.port])
if(t.type!==r.INVOKE&&t.type!==r.RESPONSE)return void e.postMessage(t)
let a
if(function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(n)?(a=u(n.transferList),t.data=n.result):(a=u(s),t.data=n),a){if(Object(i.a)("ff"))for(const n of a)if("byteLength"in n&&n.byteLength>267386880){const n="Worker call with large ArrayBuffer would crash Firefox"
switch(t.type){case r.INVOKE:throw n
case r.RESPONSE:return void l(e,{type:r.RESPONSE,jobId:t.jobId,error:o(n)})}}e.postMessage(t,a)}else e.postMessage(t)}function c(e){if(!e)return null
const t=e.data
return t?"string"==typeof t?JSON.parse(t):t:null}function u(e){if(!e||!e.length)return null
if(Object(i.a)("esri-workers-arraybuffer-transfer"))return e
const t=e.filter(e=>!function(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}(e))
return t.length?t:null}},1122:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}))
var r=n(1131)
function i(e,t){const n=e.length>t.length?e:t
return(e.length>t.length?t:e).every((e,t)=>e.type===n[t].type)}function s(e,t){const n=e.length>t.length?e:t,i=e.length>t.length?t:e
for(let e=i.length;e<n.length;e++)i.push(Object(r.g)(n[e]))}function a(e){const t=e[0]
return!!t&&"type"in t}},1123:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r,i=n(968),s=n(976),a=n(972),o=n(234),l=n(970),c=(n(971),n(969)),u=n(974)
const d=new s.a({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"})
let h=r=class extends a.a{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=Object(o.a)(e))}clone(){return new r({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Object(o.a)(this.statisticParameters)})}}
Object(i.a)([Object(l.b)({type:Number,json:{write:!0}})],h.prototype,"maxPointCount",void 0),Object(i.a)([Object(l.b)({type:Number,json:{write:!0}})],h.prototype,"maxRecordCount",void 0),Object(i.a)([Object(l.b)({type:Number,json:{write:!0}})],h.prototype,"maxVertexCount",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],h.prototype,"onStatisticField",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],h.prototype,"outStatisticFieldName",void 0),Object(i.a)([Object(l.b)({type:String,json:{read:{source:"statisticType",reader:d.read},write:{target:"statisticType",writer:d.write}}})],h.prototype,"statisticType",void 0),Object(i.a)([Object(l.b)({type:Object})],h.prototype,"statisticParameters",void 0),Object(i.a)([Object(u.a)("statisticParameters")],h.prototype,"writeStatisticParameters",null),h=r=Object(i.a)([Object(c.a)("esri.rest.support.StatisticDefinition")],h)
const p=h},1124:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
const r=(e,...t)=>{t.forEach(t=>{if("function"!=typeof e[t])throw new Error(`Cannot bind context. ${t} must be a function`)
e[t]=e[t].bind(e)})}},1125:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h}))
var r,i=n(968),s=n(234),a=n(970),o=(n(971),n(979)),l=n(969),c=n(1246),u=n(1033)
let d=r=class extends u.a{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null
if(this.codedValues){const n=String(e)
this.codedValues.some(e=>(String(e.code)===n&&(t=e.name),!!t))}return t}clone(){return new r({codedValues:Object(s.a)(this.codedValues),name:this.name})}}
Object(i.a)([Object(a.b)({type:[c.a],json:{write:!0}})],d.prototype,"codedValues",void 0),Object(i.a)([Object(o.a)({codedValue:"coded-value"})],d.prototype,"type",void 0),d=r=Object(i.a)([Object(l.a)("esri.layers.support.CodedValueDomain")],d)
const h=d},1126:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r,i=n(968),s=(n(233),n(971),n(445),n(446),n(235),n(979)),a=n(969),o=n(1033)
let l=r=class extends o.a{constructor(e){super(e),this.type="inherited"}clone(){return new r}}
Object(i.a)([Object(s.a)({inherited:"inherited"})],l.prototype,"type",void 0),l=r=Object(i.a)([Object(a.a)("esri.layers.support.InheritedDomain")],l)
const c=l},1127:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i=n(968),s=n(970),a=(n(971),n(445),n(979)),o=n(969),l=n(1033)
let c=r=class extends l.a{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}
Object(i.a)([Object(s.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,n){t[n]=[this.minValue||0,e]}}}})],c.prototype,"maxValue",void 0),Object(i.a)([Object(s.b)({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,n){t[n]=[e,this.maxValue||0]}}}})],c.prototype,"minValue",void 0),Object(i.a)([Object(a.a)({range:"range"})],c.prototype,"type",void 0),c=r=Object(i.a)([Object(o.a)("esri.layers.support.RangeDomain")],c)
const u=c},1128:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}))
var r=n(999)
function i(e,t){const n="?"===e[e.length-1]?e.slice(0,-1):e
if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(n,10)
if(!isNaN(e))return Array.isArray(t)?t[e]:t.getItemAt(e)}const i=Object(r.a)(t)
return Object(r.b)(i,n)?i.get(n):t[n]}function s(e,t,n=0){return"string"!=typeof t||t.includes(".")?function e(t,n,r){if(null==t)return t
const s=i(n[r],t)
return!s&&r<n.length-1?void 0:r===n.length-1?s:e(s,n,r+1)}(e,Object(r.f)(t),n):i(t,e)}function a(e,t){return s(e,t)}function o(e,t){return void 0!==s(t,e)}},1131:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return b}))
var r=n(1162),i=n(980),s=n(1213),a=n(1029)
class o{constructor(e,t,n){this.strength=e,this.radius=t,this.threshold=n,this.type="bloom"}interpolate(e,t,n){this.strength=p(e.strength,t.strength,n),this.radius=p(e.radius,t.radius,n),this.threshold=p(e.threshold,t.threshold,n)}clone(){return new o(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:f(this.radius),strength:this.strength,threshold:this.threshold}}}class l{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,n){this.radius=Math.round(p(e.radius,t.radius,n))}clone(){return new l(this.radius)}toJSON(){return{type:"blur",radius:f(this.radius)}}}class c{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.amount=p(e.amount,t.amount,n),this._updateMatrix()}clone(){return new c(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||Object(s.a)()
switch(this.type){case"brightness":this._colorMatrix=((e,t)=>{const n=Object(a.w)(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1)
return Object(a.x)(n,n)})(e,this.amount)
break
case"contrast":this._colorMatrix=((e,t)=>{const n=Object(a.w)(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1)
return Object(a.x)(n,n)})(e,this.amount)
break
case"grayscale":this._colorMatrix=((e,t)=>{const n=1-t,r=Object(a.w)(e,.2126+.7874*n,.7152-.7152*n,.0722-.0722*n,0,.2126-.2126*n,.7152+.2848*n,.0722-.0722*n,0,.2126-.2126*n,.7152-.7152*n,.0722+.9278*n,0,0,0,0,1)
return Object(a.x)(r,r)})(e,this.amount)
break
case"invert":this._colorMatrix=((e,t)=>{const n=1-2*t,r=Object(a.w)(e,n,0,0,t,0,n,0,t,0,0,n,t,0,0,0,1)
return Object(a.x)(r,r)})(e,this.amount)
break
case"saturate":this._colorMatrix=((e,t)=>{const n=Object(a.w)(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1)
return Object(a.x)(n,n)})(e,this.amount)
break
case"sepia":this._colorMatrix=((e,t)=>{const n=1-t,r=Object(a.w)(e,.393+.607*n,.769-.769*n,.189-.189*n,0,.349-.349*n,.686+.314*n,.168-.168*n,0,.272-.272*n,.534-.534*n,.131+.869*n,0,0,0,0,1)
return Object(a.x)(r,r)})(e,this.amount)}}}class u{constructor(e,t,n,r){this.offsetX=e,this.offsetY=t,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(e,t,n){this.offsetX=p(e.offsetX,t.offsetX,n),this.offsetY=p(e.offsetY,t.offsetY,n),this.blurRadius=p(e.blurRadius,t.blurRadius,n),this.color[0]=Math.round(p(e.color[0],t.color[0],n)),this.color[1]=Math.round(p(e.color[1],t.color[1],n)),this.color[2]=Math.round(p(e.color[2],t.color[2],n)),this.color[3]=p(e.color[3],t.color[3],n)}clone(){return new u(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color]
return e[3]*=255,{type:"drop-shadow",xoffset:f(this.offsetX),yoffset:f(this.offsetY),blurRadius:f(this.blurRadius),color:e}}}class d{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.angle=p(e.angle,t.angle,n),this._updateMatrix()}clone(){return new d(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||Object(s.a)()
this._colorMatrix=((e,t)=>{const n=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),i=Object(a.w)(e,.213+.787*r-.213*n,.715-.715*r-.715*n,.072-.072*r+.928*n,0,.213-.213*r+.143*n,.715+.285*r+.14*n,.072-.072*r-.283*n,0,.213-.213*r-.787*n,.715-.715*r+.715*n,.072+.928*r+.072*n,0,0,0,0,1)
return Object(a.x)(i,i)})(e,this.angle)}}class h{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,n){this.amount=p(e.amount,t.amount,n)}clone(){return new h(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function p(e,t,n){return e+(t-e)*n}function f(e){return Math.round(1e3*Object(i.i)(e))/1e3}function b(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new c(e.type,0)
case"saturate":case"brightness":case"contrast":return new c(e.type,1)
case"opacity":return new h(1)
case"hue-rotate":return new d(0)
case"blur":return new l(0)
case"drop-shadow":return new u(0,0,0,[...Object(r.a)("transparent")])
case"bloom":return new o(0,0,1)}}},1132:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o})),n(235)
var r=n(1125),i=n(1033),s=n(1126),a=n(1127)
const o={key:"type",base:i.a,typeMap:{range:a.a,"coded-value":r.a,inherited:s.a}}
function l(e){if(!e||!e.type)return null
switch(e.type){case"range":return a.a.fromJSON(e)
case"codedValue":return r.a.fromJSON(e)
case"inherited":return s.a.fromJSON(e)}return null}},1134:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}))
var r=n(446),i=n(146),s=n(1212),a=n(1122)
function o(e,t,n){try{return function(e){if(!e||0===e.length)return null
if(function(e){const t=e[0]
return!!t&&"scale"in t}(e)){const t=[]
for(const n of e)t.push({scale:n.scale,value:c(n.value)})
return t}return c(e)}(e)}catch(e){var r
null==n||null==(r=n.messages)||r.push(e)}return null}function l(e,t,n,r){try{const r=function(e){const t=Object(s.a)(e)
return t?Object(a.b)(t)?t.map(e=>e.toJSON()):t.map(({scale:e,effects:t})=>({scale:e,value:t.map(e=>e.toJSON())})):null}(e)
Object(i.c)(n,r,t)}catch(e){r.messages&&r.messages.push(e)}}function c(e){if(!e||!e.length)return""
const t=[]
for(const n of e){let e=[]
switch(n.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":e=[u(n,"amount")]
break
case"blur":e=[u(n,"radius","pt")]
break
case"hue-rotate":e=[u(n,"angle","deg")]
break
case"drop-shadow":e=[u(n,"xoffset","pt"),u(n,"yoffset","pt"),u(n,"blurRadius","pt"),d(n,"color")]
break
case"bloom":e=[u(n,"strength"),u(n,"radius","pt"),u(n,"threshold")]}const r=`${n.type}(${e.filter(Boolean).join(" ")})`
Object(s.a)(r),t.push(r)}return t.join(" ")}function u(e,t,n){if(null==e[t])throw new r.a("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e})
return n?e[t]+n:""+e[t]}function d(e,t){if(null==e[t])throw new r.a("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e})
const n=e[t]
return`rgba(${n[0]||0}, ${n[1]||0}, ${n[2]||0}, ${n[3]/255||0})`}},1135:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r=n(968),i=n(986),s=n(972),a=n(23),o=n(970),l=(n(971),n(445),n(977)),c=n(969),u=n(974),d=n(1283)
let h=class extends(Object(i.b)(s.a)){constructor(e){super(e),this.legacy=null,this.timeZone="system"}readLegacy(e,t){const{timeZone:n,respectsDaylightSaving:r}=t
return{timeZone:n,respectsDaylightSaving:r}}readTimeZone(e,t){return"timeZoneIANA"in t?t.timeZoneIANA:Object(d.a)(t)}writeTimeZone(e,t){t.timeZoneIANA=e}equals(e){return!(Object(a.k)(e)||Object(a.k)(this.timeZone)||Object(a.k)(e.timeZone))&&this.timeZone===e.timeZone}}
Object(r.a)([Object(o.b)()],h.prototype,"legacy",void 0),Object(r.a)([Object(l.a)("legacy",["timeZone"])],h.prototype,"readLegacy",null),Object(r.a)([Object(o.b)({type:String,nonNullable:!0})],h.prototype,"timeZone",void 0),Object(r.a)([Object(l.a)("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],h.prototype,"readTimeZone",null),Object(r.a)([Object(u.a)("timeZone")],h.prototype,"writeTimeZone",null),h=Object(r.a)([Object(c.a)("esri.time.TimeReference")],h)
const p=h},1138:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r=n(968),i=n(975),s=n(1007),a=n(23),o=n(978),l=n(1024),c=n(970),u=n(969)
let d=class extends i.a{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new s.a,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(e,t,n={}){return this._installWatch(e,t,n,o.f)}addWhen(e,t,n={}){return this._installWatch(e,t,n,o.g)}addOnCollectionChange(e,t,{initial:n=!1,final:r=!1}={}){const i=++this._handleId
return this._handles.add([Object(o.b)(e,"after-changes",this._createSyncUpdatingCallback(),o.d),Object(o.b)(e,"change",t,{onListenerAdd:n?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:r?e=>t({added:[],removed:e.toArray()}):void 0})],i),{remove:()=>this._handles.remove(i)}}addPromise(e){if(Object(a.k)(e))return e
const t=++this._handleId
this._handles.add({remove:()=>{this._pendingPromises.delete(e)&&(0!==this._pendingPromises.size||this._handles.has(h)||this._set("updating",!1))}},t),this._pendingPromises.add(e),this._set("updating",!0)
const n=()=>this._handles.remove(t)
return e.then(n,n),e}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,n={},r){const i=++this._handleId
n.sync||this._installSyncUpdatingWatch(e,i)
const s=r(e,t,n)
return this._handles.add(s,i),{remove:()=>this._handles.remove(i)}}_installSyncUpdatingWatch(e,t){const n=this._createSyncUpdatingCallback(),r=Object(o.f)(e,n,{sync:!0,equals:()=>!1})
return this._handles.add(r,t),r}_createSyncUpdatingCallback(){return()=>{this._handles.remove(h),++this._scheduleHandleId
const e=this._scheduleHandleId
this._get("updating")||this._set("updating",!0),this._handles.add(Object(l.b)(()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(h))}),h)}}}
Object(r.a)([Object(c.b)({readOnly:!0})],d.prototype,"updating",void 0),d=Object(r.a)([Object(u.a)("esri.core.support.WatchUpdatingTracking")],d)
const h=-42},1139:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r,i=n(968),s=n(972),a=n(234),o=n(970),l=(n(971),n(969)),c=n(1271)
let u=r=class extends s.a{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new r({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:Object(a.a)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}}
Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],u.prototype,"isAutoGenerated",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"name",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"alias",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"onStatisticField",void 0),Object(i.a)([Object(o.b)({type:c.a,json:{write:!0}})],u.prototype,"onStatisticExpression",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],u.prototype,"statisticType",void 0),u=r=Object(i.a)([Object(l.a)("esri.layers.support.AggregateField")],u)
const d=u},1141:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a}))
var r=n(23),i=n(1056)
const s=-3
var a,o;(o=a||(a={}))[o.ALL=0]="ALL",o[o.SOME=1]="SOME"
class l{constructor(e,t,n){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,n,r=0){this._storage.put(this._namespace+e,t,n,r)}get(e){const t=this._storage.get(this._namespace+e)
return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e)
return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,n){this._storage.updateSize(this._namespace+e,t,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class c{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new i.a,this._users=new i.a}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace(t=>t[0]!==e)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,n,r){const i=this._db.get(e)
if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemove(e,i.entry,a.ALL)),n>this._maxSize)return void this._notifyRemove(e,t,a.ALL)
if(void 0===t)return void console.warn("Refusing to cache undefined entry ")
if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n)
const o=1+Math.max(r,s)-s
this._db.set(e,{entry:t,size:n,lifetime:o,lives:o}),this._size+=n,this._checkSizeLimit()}updateSize(e,t,n){const i=this._db.get(e)
if(i&&i.entry===t){for(this._size-=i.size;n>this._maxSize;){const i=this._notifyRemove(e,t,a.SOME)
if(!(Object(r.l)(i)&&i>0))return void this._db.delete(e)
n=i}i.size=n,this._size+=n,this._checkSizeLimit()}}pop(e){const t=this._db.get(e)
if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e)
if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},n=new Array
this._db.forEach((e,r)=>{const i=e.lifetime
n[i]=(n[i]||0)+e.size,this._users.forAll(n=>{const i=n.namespace
if(r.startsWith(i)){const n=t[i]||0
t[i]=n+e.size}})})
const r={}
this._users.forAll(e=>{const n=e.namespace
if(!isNaN(e.hitRate)&&e.hitRate>0){const i=t[n]||0
t[n]=i,r[n]=Math.round(100*e.hitRate)+"%"}else r[n]="0%"})
const i=Object.keys(t)
i.sort((e,n)=>t[n]-t[e]),i.forEach(n=>e[n]=Math.round(t[n]/2**20)+"MB / "+r[n])
for(let t=n.length-1;t>=0;--t){const r=n[t]
r&&(e["Priority "+(t+s-1)]=Math.round(r/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll(e=>e.resetHitRate())}clear(e){this._db.forEach((t,n)=>{n.startsWith(e)&&(this._size-=t.size,this._db.delete(n),this._notifyRemove(n,t.entry,a.ALL))})}clearAll(){this._db.forEach((e,t)=>this._notifyRemove(t,e.entry,a.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,n){let r
return this._removeFuncs.some(i=>{if(e.startsWith(i[0])){const e=i[1](t,n)
return"number"==typeof e&&(r=e),!0}return!1}),r}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db){if(this._db.delete(e),t.lives<=1){this._size-=t.size
const n=this._notifyRemove(e,t.entry,a.SOME)
Object(r.l)(n)&&n>0&&(this._size+=n,t.lives=t.lifetime,t.size=n,this._db.set(e,t))}else--t.lives,this._db.set(e,t)
if(this._size<=.9*this.maxSize)return}}}},1142:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return l}))
var r=n(1066)
function i(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function s(e){var t
return e?a(e.rings,null!=(t=e.hasZ)&&t):null}function a(e,t){if(!e||!e.length)return null
const n=[],i=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0]
for(let n=0,r=e.length;n<r;n++){const r=o(e[n],t,s)
r&&i.push(r)}if(i.sort((e,n)=>{let r=e[2]-n[2]
return 0===r&&t&&(r=e[4]-n[4]),r}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],t&&(n[2]=i[0][3]),(n[0]<s[0]||n[0]>s[1]||n[1]<s[2]||n[1]>s[3]||t&&(n[2]<s[4]||n[2]>s[5]))&&(n.length=0)),!n.length){const i=e[0]&&e[0].length?function(e,t){const n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0]
let s=0,a=0,o=0,l=0
for(let c=0,u=e.length;c<u-1;c++){const u=e[c],d=e[c+1]
if(u&&d){n[0]=u[0],n[1]=u[1],i[0]=d[0],i[1]=d[1],t&&u.length>2&&d.length>2&&(n[2]=u[2],i[2]=d[2])
const e=Object(r.e)(n,i)
if(e){s+=e
const n=Object(r.f)(u,d)
a+=e*n[0],o+=e*n[1],t&&n.length>2&&(l+=e*n[2])}}}return s>0?t?[a/s,o/s,l/s]:[a/s,o/s]:e.length?e[0]:null}(e[0],t):null
if(!i)return null
n[0]=i[0],n[1]=i[1],t&&i.length>2&&(n[2]=i[2])}return n}function o(e,t,n){let r=0,i=0,s=0,a=0,o=0
const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0
for(let d=0;d<e.length;d++){const h=e[d],p=e[(d+1)%e.length],[f,b,m]=h,y=f-l,g=b-c,[v,O,j]=p,w=v-l,_=O-c,S=y*_-w*g
if(a+=S,r+=(y+w)*S,i+=(g+_)*S,t&&h.length>2&&p.length>2){const e=m-u,t=j-u,n=y*t-w*e
s+=(e+t)*n,o+=n}f<n[0]&&(n[0]=f),f>n[1]&&(n[1]=f),b<n[2]&&(n[2]=b),b>n[3]&&(n[3]=b),t&&(m<n[4]&&(n[4]=m),m>n[5]&&(n[5]=m))}if(a>0&&(a*=-1),o>0&&(o*=-1),!a)return null
a*=.5,o*=.5
const d=[r/(6*a)+l,i/(6*a)+c,a]
return t&&(n[4]===n[5]||0===o?(d[3]=(n[4]+n[5])/2,d[4]=0):(d[3]=s/(6*o)+u,d[4]=o)),d}function l(e){if(!e||!e.rings)return null
const{rings:t}=e
let n=0
for(let e=0;e<t.length;e++)n+=Object(r.i)(t[e])
if(n<1e-6)return a(t,!1)
const i=[0,0],s=t[0][0]
for(let e=0;e<t.length;e++)c(i,s,t[e])
return i[0]*=1/n,i[1]*=1/n,i[0]+=s[0],i[1]+=s[1],i}function c(e,t,n){if(!e||!n||n.length<3)return null
const i=n[0],s=[0,0],a=[n[1][0]-i[0],n[1][1]-i[1]]
let o
for(let t=2;t<n.length;t++)s[0]=n[t][0]-i[0],s[1]=n[t][1]-i[1],o=1/3*.5*(s[0]*a[1]-s[1]*a[0]),e[0]+=o*(a[0]+s[0]),e[1]+=o*(a[1]+s[1]),a[0]=s[0],a[1]=s[1]
const l=Object(r.i)(n),c=[i[0],i[1]]
return c[0]-=t[0],c[1]-=t[1],c[0]*=l,c[1]*=l,e[0]+=c[0],e[1]+=c[1],e}},1143:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b}))
var r=n(975),i=n(993),s=n(23),a=n(999)
const o=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]
function l(e){return e instanceof r.a}function c(e){return e instanceof i.a?Object.keys(e.items):l(e)?Object(a.a)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof i.a?e.items[t]:e[t]}function d(e){return e?e.declaredClass:null}function h(e,t){if(Object(s.k)(e))return!1
const n=t.split(".")
let r=e
for(const e of n){if("complete"===r.type)return!0
if("partial"!==r.type)return!1
{const t=r.diff[e]
if(!t)return!1
r=t}}return!0}function p(e,t){for(const n of t)if(h(e,n))return!0
return!1}function f(e,t){if(!("function"==typeof e||"function"==typeof t||Object(s.k)(e)&&Object(s.k)(t)))return Object(s.k)(e)||Object(s.k)(t)||"object"==typeof e&&"object"==typeof t&&d(e)!==d(t)?{type:"complete",oldValue:e,newValue:t}:function e(t,n){const r=t.diff
if(r&&"function"==typeof r)return r(t,n)
const i=c(t),a=c(n)
if(0===i.length&&0===a.length)return
if(!i.length||!a.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(t,n))return{type:"complete",oldValue:t,newValue:n}
const h=a.filter(e=>!i.includes(e)),p=i.filter(e=>!a.includes(e)),f=i.filter(e=>a.includes(e)&&u(t,e)!==u(n,e)).concat(h,p).sort(),b=d(t)
if(b&&o.includes(b)&&f.length)return{type:"complete",oldValue:t,newValue:n}
let m
const y=l(t)&&l(n)
for(const i of f){const a=u(t,i),o=u(n,i)
let l
if((y||"function"!=typeof a&&"function"!=typeof o)&&a!==o&&(null!=a||null!=o)){if(r&&r[i]&&"function"==typeof r[i])l=r[i](a,o)
else if(a instanceof Date&&o instanceof Date){if(a.getTime()===o.getTime())continue
l={type:"complete",oldValue:a,newValue:o}}else l="object"==typeof a&&"object"==typeof o&&d(a)===d(o)?e(a,o):{type:"complete",oldValue:a,newValue:o}
Object(s.l)(l)&&(Object(s.l)(m)?m.diff[i]=l:m={type:"partial",diff:{[i]:l}})}}return m}(e,t)}function b(e){if(Object(s.k)(e))return!0
switch(e.type){case"complete":return!1
case"collection":{const t=e
for(const e of t.added)if(!b(e))return!1
for(const e of t.removed)if(!b(e))return!1
for(const e of t.changed)if(!b(e))return!1
return!0}case"partial":for(const t in e.diff)if(!b(e.diff[t]))return!1
return!0}}},1144:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i}))
var r=n(1093)
function i(e){return!!e&&null!=r.a[e]}function s(e){return 1/(r.a[e]||1)}const a=function(){const e=Object.keys(r.a)
return e.sort(),e}()},1146:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(374)
const i=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]
function s(e){const t=Object(r.p)(e,!0)
return!!t&&t.endsWith(".arcgis.com")&&!i.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},1147:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}))
var r=n(995),i=n(446),s=n(23),a=n(1037),o=n(1401),l=n(1241),c=n(1145)
function u(e,t,n,r){const i=p(e,{},{context:r,isLabelSymbol:!1})
Object(s.l)(i)&&(t[n]=i)}function d(e,t,n,r){const i=p(e,{},{context:r,isLabelSymbol:!0})
Object(s.l)(i)&&(t[n]=i)}function h(e){return e instanceof o.a||e instanceof c.a}function p(e,t,n){if(Object(s.k)(e))return null
const{context:r,isLabelSymbol:o}=n,c=null==r?void 0:r.origin,u=null==r?void 0:r.messages
if("web-scene"===c&&!h(e)){const n=Object(l.b)(e,{retainCIM:!0,hasLabelingContext:o})
return Object(s.l)(n.symbol)?n.symbol.write(t,r):(null!=u&&u.push(new i.a("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:n.error})),null)}return("web-map"===c||"portal-item"===c&&!Object(a.j)(null==r?void 0:r.layer))&&h(e)?(null!=u&&u.push(new i.a("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function f(e,t){return Object(r.d)(e,null,t)}},1148:function(e,t,n){"use strict"
n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return M}))
var r,i,s,a=n(1007),o=(n(235),n(233)),l=n(23),c=n(1343),u=n(1056),d=n(973),h=n(978),p=n(1152),f=n(1302),b=n(1469),m=n(1491),y=n(1376)
function g(){return new T.Scheduler}(s=r||(r={}))[s.YIELD=1]="YIELD",function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e[e.TEST_PRIO=1]="TEST_PRIO"}(i||(i={}))
const v=new Map([[i.RESOURCE_CONTROLLER_IMMEDIATE,0],[i.RESOURCE_CONTROLLER,4],[i.SLIDE,0],[i.STREAM_DATA_LOADER,0],[i.ELEVATION_QUERY,0],[i.TERRAIN_SURFACE,1],[i.SURFACE_GEOMETRY_UPDATES,1],[i.LOD_RENDERER,2],[i.GRAPHICS_CORE,2],[i.I3S_CONTROLLER,2],[i.POINT_CLOUD_LAYER,2],[i.FEATURE_TILE_FETCHER,2],[i.OVERLAY,4],[i.STAGE,4],[i.GRAPHICS_DECONFLICTOR,4],[i.FILTER_VISIBILITY,4],[i.SCALE_VISIBILITY,4],[i.FRUSTUM_VISIBILITY,4],[i.CLOUDS_GENERATOR,4],[i.POINT_OF_INTEREST_FREQUENT,6],[i.POINT_OF_INTEREST_INFREQUENT,30],[i.LABELER,8],[i.FEATURE_QUERY_ENGINE,8],[i.FEATURE_TILE_TREE,16],[i.FEATURE_TILE_TREE_ACTIVE,0],[i.ELEVATION_ALIGNMENT,12],[i.TEXT_TEXTURE_ATLAS,12],[i.TEXTURE_UNLOAD,12],[i.LINE_OF_SIGHT_TOOL,16],[i.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[i.SNAPPING,0],[i.SHADOW_ACCUMULATOR,30]])
function O(e){return v.has(e)?v.get(e):"number"==typeof e?e:1}const j=Object(p.a)(6.5),w=Object(p.a)(1),_=Object(p.a)(30),S=Object(p.a)(1e3/30),x=Object(p.a)(100)
var T,I
!function(e){e.Scheduler=class{get updating(){return this._updating.get()}_updatingChanged(){this._updating.set(this._tasks.some(e=>e.needsUpdate))}constructor(){this._updating=new f.a(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new c.a("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=y.a.INTERACTING,this._tasks=new u.a,this._runQueue=new u.a,this._load=0,this._idleStateCallbacks=new u.a,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=Object(h.f)(()=>m.a.SCHEDULER_LOG_SLOW_TASKS,e=>this._debug=e,h.a)
for(const e of Object.keys(i))this.performanceInfo.tasks.set(i[e],new c.a(i[e]))
const e=this
this._test={FRAME_SAFETY_BUDGET:j,INTERACTING_BUDGET:S,IDLE_BUDGET:x,get availableBudget(){return e._budget.budget},usedBudget:0,getBudget:()=>e._budget,setBudget:t=>e._budget=t,updateTask:e=>this._updateTask(e),getState:e=>this._getState(e),getRuntime:e=>this._getRuntime(e),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(e=>e.remove()),this._tasks.clear(),Object(l.s)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this.frame())}))}registerTask(e,n){const r=O(e),i=new t(this,e,n,r)
return this._tasks.push(i),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new c.a(e)),i}registerIdleStateCallbacks(e,t){const n={idleBegin:e,idleEnd:t}
this._idleStateCallbacks.push(n),this.state===y.a.IDLE&&this._idleUpdatesStartFired&&n.idleBegin()
const r=this
return{remove:()=>this._removeIdleStateCallbacks(n),set idleBegin(e){r._idleUpdatesStartFired&&(n.idleEnd(),r._state===y.a.IDLE&&e()),n.idleBegin=e},set idleEnd(e){n.idleEnd=e}}}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,this.state!==y.a.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(e=>e.idleEnd())))}get state(){return this._state}updateBudget(e){this._test.usedBudget=0,++this._frameNumber
let t=j,n=e.frameDuration,r=w
switch(this.state){case y.a.IDLE:t=Object(p.a)(0),n=Object(p.a)(Math.max(x,e.frameDuration)),r=_
break
case y.a.INTERACTING:n=Object(p.a)(Math.max(S,e.frameDuration))
case y.a.ANIMATING:}return n=Object(p.a)(n-e.elapsedFrameTime-t),this.state!==y.a.IDLE&&n<w&&!this._forceTask?(this._forceTask=!0,!1):(n=Object(p.a)(Math.max(n,r)),this._budget.reset(n,this.state),this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case y.a.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(e=>e.idleBegin())),this._runIdle()
break
case y.a.INTERACTING:this._runInteracting()
break
default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(Object(p.a)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e),this._updatingChanged()}_updateTask(e){this._tasks.forAll(t=>{t.name===e&&t.setPriority(e)})}_getState(e){if(this._runQueue.some(t=>t.name===e))return I.SCHEDULED
let t=I.IDLE
return this._tasks.forAll(n=>{n.name===e&&n.needsUpdate&&(n.schedulePriority<=1?t=I.READY:t!==I.READY&&(t=I.WAITING))}),t}_getRuntime(e){let t=0
return this._tasks.forAll(n=>{n.name===e&&(t+=n.runtime)}),t}_resetRuntimes(){this._tasks.forAll(e=>e.runtime=0)}_getRunning(){const e=new Map
if(this._tasks.forAll(t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)}),0===e.size)return null
let t=""
return e.forEach((e,n)=>{t+=e>1?` ${e}x ${n}`:" "+n}),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce((e,t)=>t.needsUpdate?++e:e,0)
this._load=.9*this._load+e*(1-.9)}_schedule(){for(this._runQueue.filterInPlace(e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1)),this._tasks.forAll(e=>{0===e.basePriority&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)});0===this._runQueue.length;){let e=!1,t=0
if(this._tasks.forAll(n=>{n.needsUpdate&&0!==n.schedulePriority&&0!==n.basePriority&&n.blockFrame!==this._frameNumber&&(e=!0,t=Math.max(t,n.basePriority),1===n.schedulePriority?(n.schedulePriority=0,this._runQueue.push(n)):--n.schedulePriority)}),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){const e=this._budget.now()
this._startFrameTaskTimes()
do{for(;this._runQueue.length>0;){const t=this._budget.now(),n=this._runQueue.pop()
this._budget.resetProgress()
try{n.task.runTask(this._budget)===r.YIELD&&(n.blockFrame=this._frameNumber)}catch(e){o.a.getLogger("esri.views.support.Scheduler").error(`Exception in task "${n.name}"`,e)}!this._budget.hasProgressed&&n.blockFrame!==this._frameNumber&&n.needsUpdate&&(n.name,i.I3S_CONTROLLER,n.blockFrame=this._frameNumber),n.schedulePriority=n.basePriority
const s=this._budget.now()-t
if(n.runtime+=s,this._frameTaskTimes.set(n.priority,this._frameTaskTimes.get(n.priority)+s),this._debug&&s>2*this._budget.budget&&console.log("Task",n.name,"used",s,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this._updatingChanged(),void this._recordFrameTaskTimes(this._budget.now()-e)}}while(this._schedule())
this._updatingChanged(),this._recordFrameTaskTimes(this._budget.now()-e)}_startFrameTaskTimes(){for(const e of Object.keys(i))this._frameTaskTimes.set(i[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach((e,t)=>this.performanceInfo.tasks.get(t).record(e)),this.performanceInfo.total.record(e)}get test(){return this._test}}
class t{get task(){return this._task.get()}get updating(){return this._queue.running}constructor(e,t,n,r){this._scheduler=e,this.name=t,this._basePriority=r,this.blockFrame=0,this.runtime=0,this._queue=new b.a,this._handles=new a.a,this.schedulePriority=this._basePriority,this._task=new f.a(Object(l.l)(n)?n:this._queue),this._handles.add(Object(h.g)(()=>this.task.running,t=>e.taskRunningChanged(t)))}remove(){this.processQueue(M),this._scheduler.removeTask(this),this.schedule=E.schedule,this.reschedule=E.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){this.name=e
const t=O(e)
0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,n){return this._queue.push(e,t,n)}reschedule(e,t,n){return this._queue.unshift(e,t,n)}processQueue(e){this._queue.runTask(e)}}class n{constructor(){this._begin="undefined"!=typeof performance?performance.now():0,this._budget=0,this._state=y.a.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e,t){this._begin=this.now(),this._budget=e,this._state=t,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return performance.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=n}(T||(T={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(I||(I={}))
const M=(()=>{const e=new T.Budget
return e.enabled=!1,e})(),E=new class{remove(){}processQueue(){}schedule(e,t,n){try{if(Object(d.k)(t)){const e=Object(d.c)()
return n?Promise.resolve(n(e)):Promise.reject(e)}return Object(d.u)(e(M))}catch(e){return Promise.reject(e)}}reschedule(e,t,n){return this.schedule(e,t,n)}}},1149:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
const r=new(n(976).a)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},1150:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1049)
class i{static getId(e,t,n,r){return"object"==typeof e?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${t}/${n}/${r}`}constructor(e,t,n,r){this.set(e,t,n,r)}get key(){return this}get id(){return this.toString()}set id(e){this.set(e)}get hash(){const e=4095&this.row,t=4095&this.col,n=63&this.level
return(3&this.world)<<30|t<<22|e<<8|n}acquire(e,t,n,r){this.set(e,t,n,r)}contains(e){const t=e.level-this.level
return t>=0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new i(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,t,n,r){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0
else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0
else if("string"==typeof e){const[t,n,r,i]=e.split("/")
this.level=parseFloat(t),this.row=parseFloat(n),this.col=parseFloat(r),this.world=parseFloat(i)}else this.level=+e,this.row=+t,this.col=+n,this.world=+r||0
return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new i(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const e=this.level+1,t=this.row<<1,n=this.col<<1,r=this.world
return[new i(e,t,n,r),new i(e,t,n+1,r),new i(e,t+1,n,r),new i(e,t+1,n+1,r)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}i.pool=new r.a(i,null,null,25,50)},1151:function(e,t,n){"use strict"
function r(){const e=new Float32Array(9)
return e[0]=1,e[4]=1,e[8]=1,e}function i(e){const t=new Float32Array(9)
return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(e,t,n,r,i,s,a,o,l){const c=new Float32Array(9)
return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=s,c[6]=a,c[7]=o,c[8]=l,c}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),Object.freeze(Object.defineProperty({__proto__:null,clone:i,create:r,createView:function(e,t){return new Float32Array(e,t,9)},fromValues:s},Symbol.toStringTag,{value:"Module"}))},1152:function(e,t,n){"use strict"
function r(e){return e}function i(e){return 1e3*e}function s(e){return e}function a(e){return.001*e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}))},1153:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}))
var r=n(23)
class i{constructor(e=null,t={},n,r){this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const e=new i(this.geometry,this.attributes,this.centroid,this.objectId)
return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function s(e){return!(Object(r.k)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class a extends i{}},1154:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return M}))
var r=n(968),i=n(1019),s=n(446),a=n(972),o=n(234),l=n(1046),c=n(23),u=n(374),d=n(970),h=n(971),p=n(977),f=n(969),b=n(770),m=n(1028),y=n(975),g=n(233),v=n(987)
n(445)
let O=class extends y.a{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this._normalizePath(e.path,e.portalItem)}:e}set path(e){Object(c.l)(e)&&Object(u.x)(e)?g.a.getLogger(this.declaredClass).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?"./resources/"+this.path:null}fetch(e="json",t){const n=this.url
if(Object(c.k)(n))throw new s.a("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path")
return this.portalItem.portal.request(n,{responseType:e,query:{token:this.portalItem.apiKey},signal:Object(c.j)(t,"signal")})}async update(e,t){return(await n.e(34).then(n.bind(null,1935))).addOrUpdateResource(this,"update",e,t)}hasPath(){return Object(c.l)(this.path)}_normalizePath(e,t){var n
return Object(c.k)(e)?e:(e=e.replace(/^\/+/,""),Object(c.l)(t)&&Object(u.x)(e)&&(e=Object(u.H)(e,t.itemUrl)),null==(n=e)?void 0:n.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}}
Object(r.a)([Object(d.b)()],O.prototype,"portalItem",void 0),Object(r.a)([Object(d.b)({type:String,value:null})],O.prototype,"path",null),Object(r.a)([Object(v.a)("path")],O.prototype,"_castPath",null),Object(r.a)([Object(d.b)({type:String,readOnly:!0})],O.prototype,"url",null),Object(r.a)([Object(d.b)({type:String,readOnly:!0})],O.prototype,"itemRelativeUrl",null),O=Object(r.a)([Object(f.a)("esri.portal.PortalItemResource")],O)
const j=O
let w=class extends y.a{constructor(e){super(e),this.created=null,this.rating=null}}
Object(r.a)([Object(d.b)()],w.prototype,"created",void 0),Object(r.a)([Object(d.b)()],w.prototype,"rating",void 0),w=Object(r.a)([Object(f.a)("esri.portal.PortalRating")],w)
const _=w
var S
const x=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),T=new Set(["KML","GeoJson","CSV"])
let I=S=class extends(Object(a.b)(l.a)){static from(e){return Object(h.d)(S,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[]
let n=e
return"Feature Service"===e||"Feature Collection"===e?n=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?n=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?n="Scene Layer":"Video Service"===e?n="Video Layer":"Scene Package"===e?n="Scene Layer Package":"Stream Service"===e?n="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?n=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===e?n="Locator":"Geoenrichment Service"===e?n="GeoEnrichment Service":"Microsoft Powerpoint"===e?n="Microsoft PowerPoint":"GeoJson"===e?n="GeoJSON":"Globe Service"===e?n="Globe Layer":"Vector Tile Service"===e?n="Tile Layer":"netCDF"===e?n="NetCDF":"Map Service"===e?n=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?n=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?n="Big Data File Share":"Compact Tile Package"===e?n="Tile Package (tpkx)":"OGCFeatureServer"===e?n="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?n="Instant App":"Insights Page"===e&&(n="Insights Report"),n}readExtent(e){return e&&e.length?new b.default(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[]
let n,r=!1,s=!1,a=!1,o=!1,l=!1,c=!1
return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(r=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(s=t.includes("Table"),a=t.includes("Route Layer"),o=t.includes("Markup"),l=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),n=l&&s?"spatiotemporaltable":s?"table":a?"routelayer":o?"markup":l?"spatiotemporal":r?"featureshosted":c?"utilitynetwork":"features"):n="map service"===e||"wms"===e||"wmts"===e?r||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"video service"===e?"mediaservice":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e?t.includes("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"geodata service"===e?"geodataservice":"layers"):n="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?"instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"hub project"===e?"hubproject":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"pro report template"===e?"proreporttemplate":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"experience builder widget"===e?"experiencebuilderwidget":"experience builder widget package"===e?"experiencebuilderwidgetpackage":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"apache parquet"===e?"apacheparquet":"notebook code snippets"===e||"notebook code snippet library"===e?"notebookcodesnippets":"suitability model"===e?"suitabilitymodel":"esri classifier definition"===e?"classifierdefinition":"esri classification schema"===e?"classificationschema":"insights data engineering workbook"===e?"dataengineeringworkbook":"insights data engineering model"===e?"dataengineeringmodel":"deep learning studio project"===e?"deeplearningproject":"discussion"===e?"discussion":"allsource project"===e?"allsourceproject":"api key"===e?"apikey":"maps",n?Object(i.b)("esri/images/portal/"+n+"16.png"):null}get isLayer(){return null!=this.type&&x.has(this.type)}get itemPageUrl(){var e
const t=null==(e=this.portal)?void 0:e.itemPageUrl
return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){var e
const t=null==(e=this.portal)?void 0:e.restUrl
return t&&this.id?`${t}/content/items/${this.id}`:null}get thumbnailUrl(){var e,t
const n=this.itemUrl,r=this.thumbnail
return n&&r&&null!=(e=null==(t=this.portal)?void 0:t.normalizeUrl(`${n}/info/${r}?f=json`))?e:null}get userItemUrl(){const e=this.get("portal.restUrl")
if(!e)return null
const t=this.owner||this.get("portal.user.username")
return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){var t
const n=null!=(t=this.portal)?t:this.portal=m.a.getDefault(),r=n.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?n.request(this.itemUrl,{signal:Object(c.l)(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(e=>{this.sourceJSON=e,this.read(e)})
return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}}
return e instanceof _&&(e=e.rating),null==e||isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new _({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:Object(o.a)(this.applicationProxies),avgRating:this.avgRating,categories:Object(o.a)(this.categories),created:Object(o.a)(this.created),culture:this.culture,description:this.description,extent:Object(o.a)(this.extent),groupCategories:Object(o.a)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Object(o.a)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Object(o.a)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:Object(o.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(o.a)(this.typeKeywords),url:this.url}
this.loaded&&(e.loadStatus="loaded")
const t=new S({sourceJSON:this.sourceJSON}).set(e)
return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON()
for(const t of["tags","typeKeywords","categories"])e[t]&&(e[t]=e[t].join(", "))
const{extent:t}=e
return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await Object(c.w)(this.portal).request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return Object(c.w)(this.portal).request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await Object(c.w)(this.portal).request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e})
return null!=t.rating?(t.created=new Date(t.created),new _(t)):null}fetchRelatedItems(e,t){return Object(c.w)(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},S)}getThumbnailUrl(e){let t=this.thumbnailUrl
return t&&e&&(t+="&w="+e),t}reload(){var e
return Object(c.w)(this.portal).request(null!=(e=this.itemUrl)?e:"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>Object(c.w)(this.portal).signIn()).then(()=>{const t=e&&e.data,n={method:"post"}
n.query=this.createPostQuery()
for(const e in n.query)null===n.query[e]&&(n.query[e]="")
return n.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?n.query.text=t:"object"==typeof t&&(n.query.text=JSON.stringify(t))),this.portal.request(this.userItemUrl+"/update",n).then(()=>this.reload())}):Promise.reject(new s.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new s.a("portal:item-does-not-exist","The item does not exist yet")
await this.load()
const{portal:t,itemUrl:n}=this
await Object(c.w)(t).signIn()
const{copyResources:r,folder:i,tags:a,title:o}=e||{},l={method:"post",query:{copyPrivateResources:"all"===r,folder:"string"==typeof i?i:null==i?void 0:i.id,includeResources:!!r,tags:null==a?void 0:a.join(","),title:o}},{itemId:u}=await t.request(n+"/copy",l)
return new S({id:u,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,n=e.filename,r={method:"post"}
if("string"==typeof t)Object(u.z)(t)?r.query={data:t}:r.query={url:Object(u.F)(t)},Object(c.l)(n)&&(r.query.filename=n)
else{const e=new FormData
Object(c.l)(n)?e.append("file",t,n):e.append("file",t),r.body=e}return this.portal.request(this.userItemUrl+"/updateThumbnail",r).then(()=>this.reload())}):Promise.reject(new s.a("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await n.e(34).then(n.bind(null,1935))).fetchResources(this,e,t)}async addResource(e,t,r){const i=await n.e(34).then(n.bind(null,1935))
return e.portalItem=this,i.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await n.e(34).then(n.bind(null,1935))
if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new s.a("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item")
return r.removeResource(this,e,t)}async removeAllResources(e){return(await n.e(34).then(n.bind(null,1935))).removeAllResources(this,e)}resourceFromPath(e){return new j({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:Object(o.a)(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:Object(o.a)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Object(o.a)(this.typeKeywords),url:this.url}
return Object(o.d)(t)}static fromJSON(e){if(!e)return null
if(e.declaredClass)throw new Error("JSON object is already hydrated")
return new S({sourceJSON:e})}_getPostQuery(){const e=this.toJSON()
for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]))
return e}}
Object(r.a)([Object(d.b)({type:["private","shared","org","public"]})],I.prototype,"access",void 0),Object(r.a)([Object(d.b)()],I.prototype,"accessInformation",void 0),Object(r.a)([Object(d.b)({type:String})],I.prototype,"apiKey",void 0),Object(r.a)([Object(d.b)({json:{read:{source:"appProxies"}}})],I.prototype,"applicationProxies",void 0),Object(r.a)([Object(d.b)()],I.prototype,"avgRating",void 0),Object(r.a)([Object(d.b)()],I.prototype,"categories",void 0),Object(r.a)([Object(d.b)({type:Date})],I.prototype,"created",void 0),Object(r.a)([Object(d.b)()],I.prototype,"culture",void 0),Object(r.a)([Object(d.b)()],I.prototype,"description",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],I.prototype,"displayName",null),Object(r.a)([Object(d.b)({type:b.default})],I.prototype,"extent",void 0),Object(r.a)([Object(p.a)("extent")],I.prototype,"readExtent",null),Object(r.a)([Object(d.b)()],I.prototype,"groupCategories",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],I.prototype,"iconUrl",null),Object(r.a)([Object(d.b)()],I.prototype,"id",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],I.prototype,"isLayer",null),Object(r.a)([Object(d.b)({type:Boolean,readOnly:!0})],I.prototype,"isOrgItem",void 0),Object(r.a)([Object(d.b)()],I.prototype,"itemControl",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],I.prototype,"itemPageUrl",null),Object(r.a)([Object(d.b)({readOnly:!0})],I.prototype,"itemUrl",null),Object(r.a)([Object(d.b)()],I.prototype,"licenseInfo",void 0),Object(r.a)([Object(d.b)({type:Date})],I.prototype,"modified",void 0),Object(r.a)([Object(d.b)()],I.prototype,"name",void 0),Object(r.a)([Object(d.b)()],I.prototype,"numComments",void 0),Object(r.a)([Object(d.b)()],I.prototype,"numRatings",void 0),Object(r.a)([Object(d.b)()],I.prototype,"numViews",void 0),Object(r.a)([Object(d.b)()],I.prototype,"owner",void 0),Object(r.a)([Object(d.b)()],I.prototype,"ownerFolder",void 0),Object(r.a)([Object(d.b)({type:m.a})],I.prototype,"portal",void 0),Object(r.a)([Object(d.b)()],I.prototype,"screenshots",void 0),Object(r.a)([Object(d.b)()],I.prototype,"size",void 0),Object(r.a)([Object(d.b)()],I.prototype,"snippet",void 0),Object(r.a)([Object(d.b)()],I.prototype,"sourceJSON",void 0),Object(r.a)([Object(d.b)({type:String})],I.prototype,"sourceUrl",void 0),Object(r.a)([Object(d.b)({type:String})],I.prototype,"spatialReference",void 0),Object(r.a)([Object(d.b)()],I.prototype,"tags",void 0),Object(r.a)([Object(d.b)()],I.prototype,"thumbnail",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],I.prototype,"thumbnailUrl",null),Object(r.a)([Object(d.b)()],I.prototype,"title",void 0),Object(r.a)([Object(d.b)()],I.prototype,"type",void 0),Object(r.a)([Object(d.b)()],I.prototype,"typeKeywords",void 0),Object(r.a)([Object(d.b)({type:String,json:{read(e,t){if(T.has(t.type)){var n
const t=null==(n=this.portal)?void 0:n.restUrl
e||(e=t&&this.id?`${t}/content/items/${this.id}/data`:null)}return e}}})],I.prototype,"url",void 0),Object(r.a)([Object(d.b)({readOnly:!0})],I.prototype,"userItemUrl",null),I=S=Object(r.a)([Object(f.a)("esri.portal.PortalItem")],I)
const M=I},1155:function(e,t,n){"use strict"
n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return _}))
var r=n(110),i=n(446),s=n(233),a=n(23),o=n(773),l=n(1021),c=n(1255),u=n(988),d=n(774),h=(n(982),n(771)),p=n(983),f=n(1074),b=n(374),m=n(1259)
const y=s.a.getLogger("esri.geometry.support.normalizeUtils")
function g(e){return"polygon"===e[0].type}function v(e){return"polyline"===e[0].type}function O(e,t,n){if(t){const t=function(e,t){if(!(e instanceof l.a||e instanceof o.default)){const e="straightLineDensify: the input geometry is neither polyline nor polygon"
throw y.error(e),new i.a(e)}const n=Object(c.b)(e),r=[]
for(const e of n){const n=[]
r.push(n),n.push([e[0][0],e[0][1]])
for(let r=0;r<e.length-1;r++){const i=e[r][0],s=e[r][1],a=e[r+1][0],o=e[r+1][1],l=Math.sqrt((a-i)*(a-i)+(o-s)*(o-s)),c=(o-s)/l,u=(a-i)/l,d=l/t
if(d>1){for(let e=1;e<=d-1;e++){const r=e*t,a=u*r+i,o=c*r+s
n.push([a,o])}const e=(l+Math.floor(d-1)*t)/2,r=u*e+i,a=c*e+s
n.push([r,a])}n.push([a,o])}}return function(e){return"polygon"===e.type}(e)?new o.default({rings:r,spatialReference:e.spatialReference}):new l.a({paths:r,spatialReference:e.spatialReference})}(e,1e6)
e=Object(d.webMercatorToGeographic)(t,!0)}return n&&(e=Object(c.d)(e,n)),e}function j(e,t,n){if(Array.isArray(e)){const r=e[0]
if(r>t){const n=Object(c.c)(r,t)
e[0]=r+n*(-2*t)}else if(r<n){const t=Object(c.c)(r,n)
e[0]=r+t*(-2*n)}}else{const r=e.x
if(r>t){const n=Object(c.c)(r,t)
e=e.clone().offset(n*(-2*t),0)}else if(r<n){const t=Object(c.c)(r,n)
e=e.clone().offset(t*(-2*n),0)}}return e}async function w(e,t,n){var i
if(!Array.isArray(e))return w([e],t)
t&&"string"!=typeof t&&y.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead")
const s="string"==typeof t?t:null!=(i=null==t?void 0:t.url)?i:r.default.geometryServiceUrl
let _,S,x,T,I,M,E,k,C=0
const A=[],L=[]
for(const t of e)if(Object(a.k)(t))L.push(t)
else if(_||(_=t.spatialReference,S=Object(u.e)(_),x=_.isWebMercator,M=x?102100:4326,T=c.a[M].maxX,I=c.a[M].minX,E=c.a[M].plus180Line,k=c.a[M].minus180Line),S)if("mesh"===t.type)L.push(t)
else if("point"===t.type)L.push(j(t.clone(),T,I))
else if("multipoint"===t.type){const e=t.clone()
e.points=e.points.map(e=>j(e,T,I)),L.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,S)
L.push(e.rings?new o.default(e):e)}else if(t.extent){const e=t.extent,n=Object(c.c)(e.xmin,I)*(2*T)
let r=0===n?t.clone():Object(c.d)(t.clone(),n)
e.offset(n,0),e.intersects(E)&&e.xmax!==T?(C=e.xmax>C?e.xmax:C,r=O(r,x),A.push(r),L.push("cut")):e.intersects(k)&&e.xmin!==I?(C=e.xmax*(2*T)>C?e.xmax*(2*T):C,r=O(r,x,360),A.push(r),L.push("cut")):L.push(r)}else L.push(t.clone())
else L.push(t)
let R=Object(c.c)(C,T),P=-90
const F=R,N=new l.a
for(;R>0;){const e=360*R-180
N.addPath([[e,P],[e,-1*P]]),P*=-1,R--}if(A.length>0&&F>0){const t=function(e,t){let n=-1
for(let r=0;r<t.cutIndexes.length;r++){const i=t.cutIndexes[r],s=t.geometries[r],a=Object(c.b)(s)
for(let e=0;e<a.length;e++){const t=a[e]
t.some(n=>{if(n[0]<180)return!0
{let n=0
for(let e=0;e<t.length;e++){const r=t[e][0]
n=r>n?r:n}n=Number(n.toFixed(9))
const r=-360*Object(c.c)(n,180)
for(let n=0;n<t.length;n++){const t=s.getPoint(e,n)
s.setPoint(e,n,t.clone().offset(r,0))}return!0}})}if(i===n){if(g(e))for(const t of Object(c.b)(s))e[i]=e[i].addRing(t)
else if(v(e))for(const t of Object(c.b)(s))e[i]=e[i].addPath(t)}else n=i,e[i]=s}return e}(A,await async function(e,t,n,r){const i=Object(f.c)(e),s=t[0].spatialReference,a={...r,query:{...i.query,f:"json",sr:JSON.stringify(s),target:JSON.stringify({geometryType:Object(p.c)(t[0]),geometries:t}),cutter:JSON.stringify(n)}},o=await Object(h.default)(i.path+"/cut",a),{cutIndexes:l,geometries:c=[]}=o.data
return{cutIndexes:l,geometries:c.map(e=>{const t=Object(p.a)(e)
return t.spatialReference=s,t})}}(s,A,N,n)),r=[],i=[]
for(let n=0;n<L.length;n++){const s=L[n]
if("cut"!==s)i.push(s)
else{const s=t.shift(),o=e[n]
Object(a.l)(o)&&"polygon"===o.type&&o.rings&&o.rings.length>1&&s.rings.length>=o.rings.length?(r.push(s),i.push("simplify")):i.push(x?Object(d.geographicToWebMercator)(s):s)}}if(!r.length)return i
const o=await async function(e,t,n){const r="string"==typeof e?Object(b.Q)(e):e,i=t[0].spatialReference,s=Object(p.c)(t[0]),a={...n,query:{...r.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify(Object(m.b)(t))}},{data:o}=await Object(h.default)(r.path+"/simplify",a)
return Object(m.a)(o.geometries,s,i)}(s,r,n),l=[]
for(let e=0;e<i.length;e++){const t=i[e]
"simplify"!==t?l.push(t):l.push(x?Object(d.geographicToWebMercator)(o.shift()):o.shift())}return l}const D=[]
for(let e=0;e<L.length;e++){const t=L[e]
if("cut"!==t)D.push(t)
else{const e=A.shift()
D.push(!0===x?Object(d.geographicToWebMercator)(e):e)}}return D}function _(e,t){const n=Object(u.e)(t)
if(n){const[t,r]=n.valid,i=r-t
if(e<t)for(;e<t;)e+=i
if(e>r)for(;e>r;)e-=i}return e}},1156:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))
let r=0
const i=0
function s(){return++r}},1157:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}))
var r=n(1079)
const i=[]
function s(e,t,n,r){return{xmin:e,ymin:t,xmax:n,ymax:r}}function a(e,t,n,r,i,s){return{xmin:e,ymin:t,zmin:n,xmax:r,ymax:i,zmax:s}}function o(e,t,n,r,i,s){return{xmin:e,ymin:t,mmin:n,xmax:r,ymax:i,mmax:s}}function l(e,t,n,r,i,s,a,o){return{xmin:e,ymin:t,zmin:n,mmin:r,xmax:i,ymax:s,zmax:a,mmax:o}}function c(e,t=!1,n=!1){return t?n?l(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):a(e[0],e[1],e[2],e[3],e[4],e[5]):n?o(e[0],e[1],e[2],e[3],e[4],e[5]):s(e[0],e[1],e[2],e[3])}function u(e){return e?function(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}(e)?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?function(e){const{x:t,y:n,z:r,m:i}=e,c=null!=i
return null!=r?c?l(t,n,r,i,t,n,r,i):a(t,n,r,t,n,r):c?o(t,n,i,t,n,i):s(t,n,t,n)}(e):function(e){return void 0!==e.rings}(e)?d(e):function(e){return void 0!==e.paths}(e)?h(e):function(e){return void 0!==e.points}(e)?function(e){const{hasZ:t,hasM:n,points:s}=e
return c(Object(r.c)(i,s,null!=t&&t,null!=n&&n),t,n)}(e):null:null}function d(e){const{hasZ:t,hasM:n,rings:s}=e,a=Object(r.d)(i,s,null!=t&&t,null!=n&&n)
return a?c(a,t,n):null}function h(e){const{hasZ:t,hasM:n,paths:s}=e,a=Object(r.d)(i,s,null!=t&&t,null!=n&&n)
return a?c(a,t,n):null}},1158:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r,i=n(968),s=n(990),a=n(234),o=n(970),l=n(971),c=n(979),u=n(969),d=n(1094)
let h=r=class extends d.a{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new r({fromColor:Object(a.a)(this.fromColor),toColor:Object(a.a)(this.toColor),algorithm:this.algorithm})}}
Object(i.a)([Object(c.a)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],h.prototype,"algorithm",void 0),Object(i.a)([Object(o.b)({type:s.a,json:{type:[l.a],write:!0}})],h.prototype,"fromColor",void 0),Object(i.a)([Object(o.b)({type:s.a,json:{type:[l.a],write:!0}})],h.prototype,"toColor",void 0),Object(i.a)([Object(o.b)({type:["algorithmic"]})],h.prototype,"type",void 0),h=r=Object(i.a)([Object(u.a)("esri.rest.support.AlgorithmicColorRamp")],h)
const p=h},1159:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r,i=n(968),s=n(970),a=(n(971),n(445),n(969)),o=n(1086)
let l=r=class extends o.a{constructor(){super(...arguments),this.showLegend=null}clone(){return new r({title:this.title,showLegend:this.showLegend})}}
Object(i.a)([Object(s.b)({type:Boolean,json:{write:!0}})],l.prototype,"showLegend",void 0),l=r=Object(i.a)([Object(a.a)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],l)
const c=l},1161:function(e,t,n){"use strict"
n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return L})),n.d(t,"i",(function(){return A})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return _}))
var r=n(1453),i=n(147),s=n(34),a=n(1311),o=n(1384),l=n(132),c=n(1190),u=n(375),d=n(1307),h=n(236),p=n(197),f=n(381),b=n(16)
class m extends Error{constructor(e,t,n){t=t||"UNKNOWN_ERROR",n=Object(l.a)(n,"rootCause",n),super(t),this.operation=e,this.name="OperationError",this.rootCause=n,Object.setPrototypeOf(this,m.prototype),this.stack=Object(l.a)(n,"stack",(new Error).stack)}}const y=e=>t=>e.reduce((e,n)=>e.then(n).catch(e=>{if("OperationError"===e.name)return Promise.reject(e)
{const e="IPipeableFn did not reject with an OperationError \n Operation Stack: \n "+t.stack.toString(),n=new m("pipeline execution error",e)
return n.operationStack=t.stack.serialize(),Promise.reject(n)}}),Promise.resolve(t))
var g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])
return e}).apply(this,arguments)}
const v={location:"location.json"},O=async(e,t)=>{let n
try{const r="string"==typeof e?await Object(u.g)(e,t):e
if(r.url){let e=Object(d.a)(r.url)
if("public"!==r.access&&t.authentication){const n=await t.authentication.getToken(r.url,t)
n&&(e=`${e}?token=${n}`)}const{status:i}=await fetch(e)
n=200!==i}else n=!0}catch(e){n=!0}return n}
function j(){const e=Object.keys(v),t=[]
return["access","created","culture","description","extent","id","itemControl","modified","owner","tags","categories","type","typeKeywords","thumbnail","url","orgId","protected"].forEach(e=>{t.push({entityKey:e,storeKey:"item."+e})}),["display","geometry","view"].forEach(e=>{t.push({entityKey:e,storeKey:"data."+e})}),e.forEach(e=>{t.push({entityKey:e,storeKey:"resources."+e})}),t.push({entityKey:"slug",storeKey:"item.properties.slug"}),t.push({entityKey:"summary",storeKey:"item.snippet"}),t.push({entityKey:"schemaVersion",storeKey:"item.properties.schemaVersion"}),t.push({entityKey:"orgUrlKey",storeKey:"item.properties.orgUrlKey"}),t.push({entityKey:"name",storeKey:"item.title"}),t.push({entityKey:"boundary",storeKey:"item.properties.boundary"}),t}function w(e){var t
return!(null!==(t=e.typeKeywords)&&void 0!==t?t:[]).includes(r.a)}function _(e,t){const n=e.filter(e=>e!==r.a)
return t||n.push(r.a),n}class S{constructor(e){this.mappings=e}storeToEntity(e,t){const n=function(e,t,n){if(Object(s.a)(e,"item")){const n=Object(s.a)(e,"item")
Object(a.a)("isDiscussable",w(n),t)}return x(e,"storeKey",t,"entityKey",n)}(e,t,this.mappings)
if(Object(s.a)(e,"item")){const t=Object(s.a)(e,"item")
Object(a.a)("canEdit",["admin","update"].includes(t.itemControl),n),Object(a.a)("canDelete","admin"===t.itemControl,n)}return n}entityToStore(e,t){return function(e,t,n){if(Object(s.a)(t,"item")){const n=Object(s.a)(t,"item")
n.typeKeywords&&(n.typeKeywords=Object(s.a)(e,"isDiscussable")?n.typeKeywords.filter(e=>e!==r.a):[...n.typeKeywords,r.a],Object(a.a)("item.typeKeywords",n.typeKeywords,t))}return x(e,"entityKey",t,"storeKey",n)}(e,t,this.mappings)}}function x(e,t,n,r,a){const l=Object(i.c)(n)
return a.forEach(n=>{const i=Object(s.a)(n,t),a=Object(s.a)(n,r),c=Object(s.a)(e,i)
null!=c&&Object(o.a)(l,a,c,!0)}),l}class T{constructor(){this.operations=[]}startOperation(e){const t=Object(i.c)(e)
t.startedAt=(new Date).getTime(),t.state="working",this.operations.push(t)}start(e,t){const n={type:e,id:Object(l.a)(t,"id",Object(i.a)(e+"_")),inputs:Object(l.a)(t,"inputs",{}),cleanup:Object(l.a)(t,"cleanup","n/a"),startedAt:(new Date).getTime(),state:"working"}
return this.operations.push(n),n.id}getOperation(e){return this.operations.find(t=>t.id===e)}getOperations(){return this.operations}finish(e,t){const n=this.getOperation(e)
if(!n)throw new Error(`No operation with id ${e} present in stack`)
n.duration=(new Date).getTime()-n.startedAt,n.state="completed",t&&(n.output=Object(i.c)(t))}merge(e){this.operations=[...this.operations,...e.operations]}getCompleted(){return Object(i.c)(this.operations.filter(e=>"completed"===e.state))}getWorking(){return Object(i.c)(this.operations.filter(e=>"working"===e.state))}toString(){return this.operations.sort((e,t)=>e.startedAt<t.startedAt?-1:t.startedAt<e.startedAt?1:0).map(I).join("\n")}serialize(){return{operations:Object(i.c)(this.getOperations())}}}function I(e){let t=`${e.startedAt} : Operation ${e.id} started with inputs ${JSON.stringify(e.inputs)} but was not completed`
return"completed"===e.state&&(t=`${e.startedAt} : Operation ${e.id} took ${e.duration} ms with inputs ${JSON.stringify(e.inputs)} and output ${e.output?JSON.stringify(e.output):"n/a"}`),t}function M(e,t){const n=Object(s.a)(t,"portal")||Object(s.a)(t,"authentication.portal")||"www.arcgis.com",r=Object(p.c)(n)+"/sharing/rest"
return Object(p.b)(e,Object.assign(Object.assign({},t),{portal:r}))}async function E(e,t){try{const r=await Object(u.c)(e,t)
return await async function(e){const{parse:t}=await n.e(748).then(n.bind(null,2732)).then((function(e){return e.p}))
return t(e,{ignoreAttributes:!1,attributeNamePrefix:"@_",textNodeName:"#value"})}(r)}catch(e){return null}}const k=(e,t,n)=>{const{data:r,stack:i,requestOptions:s}=t
return i.finish(n,{error:e}),{data:Object.assign(Object.assign({},r),{errors:A(e,r.errors)}),stack:i,requestOptions:s}},C={groupIds:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichGroupIds")
return Object(u.a)(t.item.id,r).then(e=>{const{admin:s,member:a,other:o}=e,l=[...s,...a,...o].map(e=>e.id)
return n.finish(i),{data:Object.assign(Object.assign({},t),{groupIds:l}),stack:n,requestOptions:r}}).catch(t=>k(t,e,i))},metadata:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichMetadata")
return E(t.item.id,r).then(e=>(n.finish(i),{data:Object.assign(Object.assign({},t),{metadata:e}),stack:n,requestOptions:r}))},ownerUser:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichOwner"),s=Object.assign({username:t.item.owner},r)
return Object(h.a)(s).then(e=>(n.finish(i),{data:Object.assign(Object.assign({},t),{ownerUser:e}),stack:n,requestOptions:r})).catch(t=>k(t,e,i))},org:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichOrg"),s=Object(c.h)(t.item,t.ownerUser)
return(s?M(s,r):Promise.resolve(void 0)).then(e=>(n.finish(i),{data:Object.assign(Object.assign({},t),{org:e}),stack:n,requestOptions:r})).catch(t=>k(t,e,i))},data:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichData")
return Object(u.b)(t.item.id,r).then(e=>(n.finish(i),{data:Object.assign(Object.assign({},t),{data:e}),stack:n,requestOptions:r})).catch(t=>k(t,e,i))},server:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichServer"),s=Object(d.a)(t.item.url),a=Object.assign(Object.assign({},r),{url:s})
return Promise.all([Object(f.a)(a),O(t.item,r)]).then(([e,s])=>(n.finish(i),{data:Object.assign(Object.assign({},t),{server:Object.assign(Object.assign({},e),{servicesDirectoryDisabled:s})}),stack:n,requestOptions:r})).catch(t=>k(t,e,i))},layers:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichLayers"),s=t.item.url
return function(e){var t=e.url,n=function(e,t){var n={}
for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r])
if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0
for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["url"]),r=Object(d.a)(t)+"/layers"
return Object(b.e)(r,n)}(Object.assign(Object.assign({},r),{url:s})).then(e=>[...e.layers,...e.tables].filter(e=>"Group Layer"!==e.type)).then(e=>(n.finish(i),{data:Object.assign(Object.assign({},t),{layers:e}),stack:n,requestOptions:r})).catch(t=>k(t,e,i))}},A=(e,t=[])=>[...t,{type:"Other",message:"string"==typeof e?e:e.message}],L=(e,t,n)=>{const r=t.reduce((e,t)=>{const n=C[t]
return n&&e.push(n),e},[])
return y(r)({data:{item:e},stack:new T,requestOptions:n}).then(e=>e.data)}},1163:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(23),i=n(997),s=n(988)
function a(e,t,n){if(Object(r.k)(t)||Object(r.k)(n)||n.vcsWkid||Object(s.d)(t,n))return null
const a=Object(i.h)(t)/Object(i.h)(n)
if(1===a)return null
switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){e&&null!=e.z&&(e.z*=t)}(e,a)
case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}(e,a)
case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}(e,a)
case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}(e,a)
case"extent":case"esriGeometryExtent":return e=>function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,a)
default:return null}}},1165:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(445)
class i{constructor(e,t){this._observers=e,this._observer=t}remove(){Object(r.l)(this._observers,this._observer)}}class s{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return a
null==this._observers&&(this._observers=[])
const t=this._observers
let n=!1,r=!1
const s=t.length
for(let i=0;i<s;++i){const s=t[i]
if(s.destroyed)r=!0
else if(s===e){n=!0
break}}return n||(t.push(e),r&&this._removeDestroyedObservers()),new i(t,e)}_removeDestroyedObservers(){const e=this._observers
if(!e||0===e.length)return
const t=e.length
let n=0
for(let r=0;r<t;++r){for(;r+n<t&&e[r+n].destroyed;)++n
if(n>0){if(!(r+n<t))break
e[r]=e[r+n]}}e.length=t-n}destroy(){if(this.destroyed)return
this.destroyed=!0
const e=this._observers
if(null!=e){for(const t of e)t.onCommitted()
this._observers=null}}}const a={remove:()=>{}}},1166:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
const r=function(e){return{setTimeout:(t,n)=>{const r=e.setTimeout(t,n)
return{remove:()=>e.clearTimeout(r)}}}}(globalThis)},1168:function(e,t,n){"use strict"
n.d(t,"a",(function(){return O}))
var r,i=n(968),s=n(976),a=n(972),o=n(23),l=n(970),c=(n(971),n(445),n(977)),u=n(969),d=n(974),h=n(989)
let p=r=class extends a.a{constructor(e){super(e)}async collectRequiredFields(e,t){return Object(h.a)(e,t,this.expression)}clone(){return new r({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}}
Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],p.prototype,"expression",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],p.prototype,"title",void 0),p=r=Object(i.a)([Object(u.a)("esri.layers.support.FeatureExpressionInfo")],p)
const f=p
var b,m=n(1144)
const y=Object(s.b)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),g=new s.a({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"})
let v=b=class extends a.a{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,n,r){t[n]=e.write({},r),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this
return this._isOverridden("mode")?this._get("mode"):Object(o.l)(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new b({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Object(o.g)(this.featureExpressionInfo,e.featureExpressionInfo)}}
Object(i.a)([Object(l.b)({type:f,json:{write:!0}})],v.prototype,"featureExpressionInfo",void 0),Object(i.a)([Object(c.a)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],v.prototype,"readFeatureExpressionInfo",null),Object(i.a)([Object(d.a)("featureExpressionInfo",{featureExpressionInfo:{type:f},"featureExpression.value":{type:[0]}})],v.prototype,"writeFeatureExpressionInfo",null),Object(i.a)([Object(l.b)({type:y.apiValues,nonNullable:!0,json:{type:y.jsonValues,read:y.read,write:{writer:y.write,isRequired:!0}}})],v.prototype,"mode",null),Object(i.a)([Object(l.b)({type:Number,json:{write:!0}})],v.prototype,"offset",void 0),Object(i.a)([Object(l.b)({type:m.b,json:{type:String,read:g.read,write:g.write}})],v.prototype,"unit",null),v=b=Object(i.a)([Object(u.a)("esri.layers.support.ElevationInfo")],v)
const O=v},1169:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r,i=n(968),s=n(446),a=n(970),o=(n(971),n(445),n(969)),l=n(974),c=n(1040)
let u=r=class extends c.a{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,n,r){if(r&&r.messages){const e=`visualVariables[${this.index}]`
r.messages.push(new s.a("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:e+".valueExpressionTitle",context:r}))}}clone(){return new r({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}}
Object(i.a)([Object(a.b)({readOnly:!0})],u.prototype,"cache",null),Object(i.a)([Object(a.b)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],u.prototype,"axis",void 0),Object(i.a)([Object(a.b)({type:["rotation"],json:{type:["rotationInfo"]}})],u.prototype,"type",void 0),Object(i.a)([Object(a.b)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],u.prototype,"rotationType",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],u.prototype,"valueExpressionTitle",void 0),Object(i.a)([Object(l.a)("web-scene","valueExpressionTitle")],u.prototype,"writeValueExpressionTitleWebScene",null),u=r=Object(i.a)([Object(o.a)("esri.renderers.visualVariables.RotationVariable")],u)
const d=u},1173:function(e,t,n){"use strict"
function r(){return new Float32Array(2)}function i(e,t){const n=new Float32Array(2)
return n[0]=e,n[1]=t,n}function s(){return r()}function a(){return i(1,1)}function o(){return i(1,0)}function l(){return i(0,1)}n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i}))
const c=s(),u=a(),d=o(),h=l()
Object.freeze(Object.defineProperty({__proto__:null,ONES:u,UNIT_X:d,UNIT_Y:h,ZEROS:c,clone:function(e){const t=new Float32Array(2)
return t[0]=e[0],t[1]=e[1],t},create:r,createView:function(e,t){return new Float32Array(e,t,2)},fromValues:i,ones:a,unitX:o,unitY:l,zeros:s},Symbol.toStringTag,{value:"Module"}))},1176:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return b}))
var r=n(971),i=n(1045)
function s(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function a(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function o(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var l=n(1364)
function c(e,t){return d(e,"read",t)}function u(e,t){return d(e,"write",t)}function d(e,t,n){let r=e&&e.json
if(e&&e.json&&e.json.origins&&n){const i=n.origin&&e.json.origins[n.origin]
i&&("any"===t||t in i)&&(r=i)}return r}function h(e){return e.type?p(e):f(e)}function p(e){if(!e.type)return
let t=0,n=e.type
for(;Array.isArray(n)&&!Object(r.o)(n);)n=n[0],t++
return{type:n,ndimArray:t}}function f(e){if(!e.types)return
let t=0,n=e.types
for(;Array.isArray(n);)n=n[0],t++
return{types:n,ndimArray:t}}function b(e){(function(e){if(e.json||(e.json={}),a(e.json),o(e.json),s(e.json),e.json.origins)for(const t in e.json.origins)a(e.json.origins[t]),o(e.json.origins[t]),s(e.json.origins[t])
return!0})(e)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,n={"web-document":["web-scene","web-map"]}
for(const e in n)if(t[e]){const r=t[e]
n[e].forEach(e=>{t[e]=r}),delete t[e]}}}(e),function(e){const t=function(e){return e.json.types?f(e.json):e.type?p(e):f(e)}(e)
if(e.json.origins)for(const n in e.json.origins){const r=e.json.origins[n],s=r.types?h(r):t
Object(i.a)(s,r,!1),r.types&&!r.write&&e.json.write&&e.json.write.enabled&&(r.write={...e.json.write}),Object(l.a)(s,r)}Object(i.a)(t,e.json,!0),Object(l.a)(t,e.json)}(e))}},1178:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1006)
function i(e,t,n){t.keys().forEach(e=>{n.set(e,t.get(e),r.a.DEFAULTS)})
const i=e.metadatas
Object.keys(i).forEach(t=>{e.internalGet(t)&&n.set(t,e.internalGet(t),r.a.DEFAULTS)})}},1180:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r,i=n(968),s=n(990),a=n(972),o=n(233),l=n(970),c=n(987),u=(n(445),n(969)),d=n(971)
let h=r=class extends a.a{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(o.a.getLogger(this.declaredClass).error(".field: field must be a string value"),null):Object(d.l)(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new r({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}
Object(i.a)([Object(l.b)({type:s.a,json:{type:[Number],write:!0}})],h.prototype,"color",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],h.prototype,"field",void 0),Object(i.a)([Object(c.a)("field")],h.prototype,"castField",null),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],h.prototype,"label",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],h.prototype,"valueExpression",void 0),Object(i.a)([Object(l.b)({type:String,json:{write:!0}})],h.prototype,"valueExpressionTitle",void 0),h=r=Object(i.a)([Object(u.a)("esri.renderers.support.AttributeColorInfo")],h)
const p=h},1181:function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return f}))
var r=n(771),i=n(446),s=n(23),a=n(973),o=n(374),l=n(1028),c=n(1466),u=n(1219)
let d={}
function h(e,t,n){return e&&Object(s.l)(e.styleUrl)?async function(e,t){try{return{data:(await b(e,t)).data,baseUrl:Object(o.L)(e),styleUrl:e}}catch(e){return Object(a.p)(e),null}}(e.styleUrl,n):e&&Object(s.l)(e.styleName)?function(e,t,n){const r=Object(s.l)(t.portal)?t.portal:l.a.getDefault()
let a
const o=`${r.url} - ${r.user&&r.user.username} - ${e}`
return d[o]||(d[o]=function(e,t,n){return t.load(n).then(()=>{const r=new c.a({disableExtraQuery:!0,query:`owner:${m} AND type:${y} AND typekeywords:"${e}"`})
return t.queryItems(r,n)}).then(({results:t})=>{let r=null
const s=e.toLowerCase()
if(t&&Array.isArray(t))for(const e of t){var a
if((null==(a=e.typeKeywords)?void 0:a.some(e=>e.toLowerCase()===s))&&e.type===y&&e.owner===m){r=e
break}}if(!r)throw new i.a("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e})
return r.load(n)})}(e,r,n).then(e=>(a=e,e.fetchData())).then(t=>{var n
return{data:t,baseUrl:null!=(n=a.itemUrl)?n:"",styleName:e}})),d[o]}(e.styleName,t,n):Promise.reject(new i.a("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function p(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function f(e,t){if("cimRef"===t)return e.cimRef
if(e.formatInfos&&!Object(u.b)())for(const t of e.formatInfos)if("gltf"===t.type)return t.href
return e.webRef}function b(e,t){const n={responseType:"json",query:{f:"json"},...t}
return Object(r.default)(Object(o.I)(e),n)}const m="esri_en",y="Style",g="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},1183:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i=n(968),s=n(972),a=n(980),o=n(970),l=(n(971),n(445),n(969))
let c=r=class extends s.a{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new r({label:this.label,size:this.size,value:this.value})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],c.prototype,"label",void 0),Object(i.a)([Object(o.b)({type:Number,cast:a.k,json:{write:!0}})],c.prototype,"size",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],c.prototype,"value",void 0),c=r=Object(i.a)([Object(l.a)("esri.renderers.visualVariables.support.SizeStop")],c)
const u=c},1184:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(989)
function i(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function s(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}class a{constructor(e=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!e)return
this.fields=e
const t=[]
for(const a of e){const e=null==a?void 0:a.name,c=l(null==a?void 0:a.name)
if(e&&c){const l=o(e)
this._fieldsMap.set(e,a),this._fieldsMap.set(l,a),this._normalizedFieldsMap.set(c,a),t.push(l),"date"===(n=a).type||"esriFieldTypeDate"===n.type?(this.dateFields.push(a),this._dateFieldsSet.add(a)):Object(r.q)(a)&&(this._numericFieldsSet.add(a),this.numericFields.push(a)),i(a)||s(a)||(a.editable=null==a.editable||!!a.editable,a.nullable=null==a.nullable||!!a.nullable)}}var n
t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[]
for(const e of this.fields)i(e)||s(e)||e.nullable||void 0!==Object(r.o)(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){var t
if(!e)return
let n=this._fieldsMap.get(e)
return n||(n=null!=(t=this._fieldsMap.get(o(e)))?t:this._normalizedFieldsMap.get(l(e)),n&&this._fieldsMap.set(e,n),n)}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){var t
const n=this.get(e)
if(n)return null!=(t=n.name)?t:void 0}}function o(e){return e.trim().toLowerCase()}function l(e){var t,n
return null!=(t=null==(n=Object(r.t)(e))?void 0:n.toLowerCase())?t:""}},1186:function(e,t,n){"use strict"
n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return O}))
var r=n(968),i=n(975),s=n(23),a=n(1178),o=n(234),l=n(1006)
class c{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(l.b),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const t=new c,n=this._originStores[l.a.DEFAULTS]
n&&n.forEach((e,n)=>{t.set(n,Object(o.a)(e),l.a.DEFAULTS)})
for(let n=l.a.SERVICE;n<l.b;n++){const r=this._originStores[n]
r&&r.forEach((r,i)=>{e&&e.has(i)||t.set(i,Object(o.a)(r),n)})}return t}get(e,t){const n=void 0===t?this._values:this._originStores[t]
return n?n.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e]
return t?[...t.keys()]:[]}set(e,t,n=l.a.USER){let r=this._originStores[n]
if(r||(r=new Map,this._originStores[n]=r),r.set(e,t),!this._values.has(e)||Object(s.d)(this._propertyOriginMap.get(e))<=n){const r=this._values.get(e)
return this._values.set(e,t),this._propertyOriginMap.set(e,n),r!==t}return!1}delete(e,t=l.a.USER){const n=this._originStores[t]
if(!n)return
const r=n.get(e)
if(n.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e)
for(let n=t-1;n>=0;n--){const t=this._originStores[n]
if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,n)
break}}}return r}has(e,t){const n=void 0===t?this._values:this._originStores[t]
return!!n&&n.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t
const n=this._originStores[t],r=n&&n.get(e),i=this._values.get(e)
return this._values.set(e,r),this._propertyOriginMap.set(e,t),i!==r}originOf(e){return this._propertyOriginMap.get(e)||l.a.DEFAULTS}forEach(e){this._values.forEach(e)}}var u=n(1091),d=n(999),h=n(969)
const p=e=>{let t=class extends e{constructor(...e){super(...e)
const t=Object(s.d)(Object(d.a)(this)),n=t.store,r=new c
t.store=r,Object(a.a)(t,n,r)}read(e,t){Object(u.a)(this,e,t)}getAtOrigin(e,t){const n=f(this),r=Object(l.e)(t)
if("string"==typeof e)return n.get(e,r)
const i={}
return e.forEach(e=>{i[e]=n.get(e,r)}),i}originOf(e){return Object(l.c)(this.originIdOf(e))}originIdOf(e){return f(this).originOf(e)}revert(e,t){const n=f(this),r=Object(l.e)(t),i=Object(d.a)(this)
let s
s="string"==typeof e?"*"===e?n.keys(r):[e]:e,s.forEach(e=>{i.invalidate(e),n.revert(e,r),i.commit(e)})}}
return t=Object(r.a)([Object(h.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t}
function f(e){return Object(d.a)(e).store}let b=class extends(p(i.a)){}
b=Object(r.a)([Object(h.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],b)
var m=n(1096)
const y=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return g(this).delete(e,Object(l.e)(t))}write(e={},t){return Object(m.b)(this,e=e||{},t),e}setAtOrigin(e,t,n){Object(d.a)(this).setAtOrigin(e,t,Object(l.e)(n))}removeOrigin(e){const t=g(this),n=Object(l.e)(e),r=t.keys(n)
for(const e of r)t.originOf(e)===n&&t.set(e,t.get(e,n),l.a.USER)}updateOrigin(e,t){const n=g(this),r=Object(l.e)(t),i=this.get(e)
for(let t=r+1;t<l.b;++t)n.delete(e,t)
n.set(e,i,r)}toJSON(e){return this.write({},e)}}
return t=Object(r.a)([Object(h.a)("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t}
function g(e){return Object(d.a)(e).store}const v=e=>{let t=class extends(y(p(e))){constructor(...e){super(...e)}}
return t=Object(r.a)([Object(h.a)("esri.core.MultiOriginJSONSupport")],t),t}
let O=class extends(v(i.a)){}
O=Object(r.a)([Object(h.a)("esri.core.MultiOriginJSONSupport")],O)},1188:function(e,t,n){"use strict"
let r
n.d(t,"a",(function(){return i}))
const i={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2}
for(r=2e3;r<=2045;r++)i[r]=0
for(r=2056;r<=2065;r++)i[r]=0
for(r=2067;r<=2135;r++)i[r]=0
for(r=2137;r<=2154;r++)i[r]=0
for(r=2161;r<=2170;r++)i[r]=0
for(r=2172;r<=2193;r++)i[r]=0
for(r=2195;r<=2198;r++)i[r]=0
for(r=2200;r<=2203;r++)i[r]=0
for(r=2205;r<=2217;r++)i[r]=0
for(r=2222;r<=2224;r++)i[r]=1
for(r=2225;r<=2250;r++)i[r]=2
for(r=2251;r<=2253;r++)i[r]=1
for(r=2257;r<=2264;r++)i[r]=2
for(r=2274;r<=2279;r++)i[r]=2
for(r=2280;r<=2282;r++)i[r]=1
for(r=2283;r<=2289;r++)i[r]=2
for(r=2290;r<=2292;r++)i[r]=0
for(r=2308;r<=2313;r++)i[r]=0
for(r=2315;r<=2491;r++)i[r]=0
for(r=2494;r<=2866;r++)i[r]=0
for(r=2867;r<=2869;r++)i[r]=1
for(r=2870;r<=2888;r++)i[r]=2
for(r=2891;r<=2895;r++)i[r]=2
for(r=2896;r<=2898;r++)i[r]=1
for(r=2902;r<=2908;r++)i[r]=2
for(r=2915;r<=2920;r++)i[r]=2
for(r=2921;r<=2923;r++)i[r]=1
for(r=2924;r<=2930;r++)i[r]=2
for(r=2931;r<=2962;r++)i[r]=0
for(r=2964;r<=2968;r++)i[r]=2
for(r=2969;r<=2973;r++)i[r]=0
for(r=2975;r<=2991;r++)i[r]=0
for(r=2995;r<=3051;r++)i[r]=0
for(r=3054;r<=3079;r++)i[r]=0
for(r=3081;r<=3088;r++)i[r]=0
for(r=3092;r<=3101;r++)i[r]=0
for(r=3106;r<=3138;r++)i[r]=0
for(r=3146;r<=3151;r++)i[r]=0
for(r=3153;r<=3166;r++)i[r]=0
for(r=3168;r<=3172;r++)i[r]=0
for(r=3174;r<=3203;r++)i[r]=0
for(r=3294;r<=3358;r++)i[r]=0
for(r=3367;r<=3403;r++)i[r]=0
for(r=3408;r<=3416;r++)i[r]=0
for(r=3417;r<=3438;r++)i[r]=2
for(r=3441;r<=3446;r++)i[r]=2
for(r=3447;r<=3450;r++)i[r]=0
for(r=3451;r<=3459;r++)i[r]=2
for(r=3460;r<=3478;r++)i[r]=0
for(r=3554;r<=3559;r++)i[r]=0
for(r=3560;r<=3570;r++)i[r]=2
for(r=3571;r<=3581;r++)i[r]=0
for(r=3594;r<=3597;r++)i[r]=0
for(r=3601;r<=3604;r++)i[r]=0
for(r=3637;r<=3639;r++)i[r]=0
for(r=3665;r<=3667;r++)i[r]=0
for(r=3693;r<=3695;r++)i[r]=0
for(r=3701;r<=3727;r++)i[r]=0
for(r=3728;r<=3739;r++)i[r]=2
for(r=3740;r<=3751;r++)i[r]=0
for(r=3753;r<=3760;r++)i[r]=2
for(r=3761;r<=3773;r++)i[r]=0
for(r=3775;r<=3777;r++)i[r]=0
for(r=3779;r<=3781;r++)i[r]=0
for(r=3783;r<=3785;r++)i[r]=0
for(r=3788;r<=3791;r++)i[r]=0
for(r=3797;r<=3802;r++)i[r]=0
for(r=3814;r<=3816;r++)i[r]=0
for(r=3825;r<=3829;r++)i[r]=0
for(r=3832;r<=3841;r++)i[r]=0
for(r=3844;r<=3852;r++)i[r]=0
for(r=3873;r<=3885;r++)i[r]=0
for(r=3890;r<=3893;r++)i[r]=0
for(r=3907;r<=3912;r++)i[r]=0
for(r=3942;r<=3950;r++)i[r]=0
for(r=3968;r<=3970;r++)i[r]=0
for(r=3973;r<=3976;r++)i[r]=0
for(r=3986;r<=3989;r++)i[r]=0
for(r=3994;r<=3997;r++)i[r]=0
for(r=4048;r<=4051;r++)i[r]=0
for(r=4056;r<=4063;r++)i[r]=0
for(r=4093;r<=4096;r++)i[r]=0
for(r=4390;r<=4398;r++)i[r]=0
for(r=4399;r<=4413;r++)i[r]=2
for(r=4418;r<=4433;r++)i[r]=2
for(r=4455;r<=4457;r++)i[r]=2
for(r=4484;r<=4489;r++)i[r]=0
for(r=4491;r<=4554;r++)i[r]=0
for(r=4568;r<=4589;r++)i[r]=0
for(r=4652;r<=4656;r++)i[r]=0
for(r=4766;r<=4800;r++)i[r]=0
for(r=5014;r<=5016;r++)i[r]=0
for(r=5069;r<=5072;r++)i[r]=0
for(r=5105;r<=5130;r++)i[r]=0
for(r=5173;r<=5188;r++)i[r]=0
for(r=5253;r<=5259;r++)i[r]=0
for(r=5269;r<=5275;r++)i[r]=0
for(r=5292;r<=5311;r++)i[r]=0
for(r=5329;r<=5331;r++)i[r]=0
for(r=5343;r<=5349;r++)i[r]=0
for(r=5355;r<=5357;r++)i[r]=0
for(r=5387;r<=5389;r++)i[r]=0
for(r=5459;r<=5463;r++)i[r]=0
for(r=5479;r<=5482;r++)i[r]=0
for(r=5518;r<=5520;r++)i[r]=0
for(r=5530;r<=5539;r++)i[r]=0
for(r=5550;r<=5552;r++)i[r]=0
for(r=5562;r<=5583;r++)i[r]=0
for(r=5623;r<=5625;r++)i[r]=2
for(r=5631;r<=5639;r++)i[r]=0
for(r=5649;r<=5653;r++)i[r]=0
for(r=5663;r<=5680;r++)i[r]=0
for(r=5682;r<=5685;r++)i[r]=0
for(r=5875;r<=5877;r++)i[r]=0
for(r=5896;r<=5899;r++)i[r]=0
for(r=5921;r<=5940;r++)i[r]=0
for(r=6050;r<=6125;r++)i[r]=0
for(r=6244;r<=6275;r++)i[r]=0
for(r=6328;r<=6348;r++)i[r]=0
for(r=6350;r<=6356;r++)i[r]=0
for(r=6366;r<=6372;r++)i[r]=0
for(r=6381;r<=6387;r++)i[r]=0
for(r=6393;r<=6404;r++)i[r]=0
for(r=6480;r<=6483;r++)i[r]=0
for(r=6511;r<=6514;r++)i[r]=0
for(r=6579;r<=6581;r++)i[r]=0
for(r=6619;r<=6624;r++)i[r]=0
for(r=6625;r<=6627;r++)i[r]=2
for(r=6628;r<=6632;r++)i[r]=0
for(r=6634;r<=6637;r++)i[r]=0
for(r=6669;r<=6692;r++)i[r]=0
for(r=6707;r<=6709;r++)i[r]=0
for(r=6720;r<=6723;r++)i[r]=0
for(r=6732;r<=6738;r++)i[r]=0
for(r=6931;r<=6933;r++)i[r]=0
for(r=6956;r<=6959;r++)i[r]=0
for(r=7005;r<=7007;r++)i[r]=0
for(r=7057;r<=7070;r++)i[r]=2
for(r=7074;r<=7082;r++)i[r]=0
for(r=7109;r<=7118;r++)i[r]=0
for(r=7119;r<=7127;r++)i[r]=1
for(r=7374;r<=7376;r++)i[r]=0
for(r=7528;r<=7586;r++)i[r]=0
for(r=7587;r<=7645;r++)i[r]=2
for(r=7692;r<=7696;r++)i[r]=0
for(r=7755;r<=7787;r++)i[r]=0
for(r=7791;r<=7795;r++)i[r]=0
for(r=7799;r<=7801;r++)i[r]=0
for(r=7803;r<=7805;r++)i[r]=0
for(r=7825;r<=7831;r++)i[r]=0
for(r=7845;r<=7859;r++)i[r]=0
for(r=8013;r<=8032;r++)i[r]=0
for(r=8065;r<=8068;r++)i[r]=1
for(r=8518;r<=8529;r++)i[r]=2
for(r=8533;r<=8536;r++)i[r]=2
for(r=8538;r<=8540;r++)i[r]=2
for(r=8677;r<=8679;r++)i[r]=0
for(r=8836;r<=8840;r++)i[r]=0
for(r=8857;r<=8859;r++)i[r]=0
for(r=8908;r<=8910;r++)i[r]=0
for(r=9154;r<=9159;r++)i[r]=0
for(r=9205;r<=9218;r++)i[r]=0
for(r=9271;r<=9273;r++)i[r]=0
for(r=9295;r<=9297;r++)i[r]=0
for(r=9356;r<=9360;r++)i[r]=0
for(r=9404;r<=9407;r++)i[r]=0
for(r=9476;r<=9482;r++)i[r]=0
for(r=9487;r<=9494;r++)i[r]=0
for(r=9697;r<=9699;r++)i[r]=0
for(r=9821;r<=9865;r++)i[r]=0
for(r=20002;r<=20032;r++)i[r]=0
for(r=20047;r<=20049;r++)i[r]=0
for(r=20062;r<=20092;r++)i[r]=0
for(r=20135;r<=20138;r++)i[r]=0
for(r=20248;r<=20258;r++)i[r]=0
for(r=20348;r<=20358;r++)i[r]=0
for(r=20436;r<=20440;r++)i[r]=0
for(r=20822;r<=20824;r++)i[r]=0
for(r=20904;r<=20932;r++)i[r]=0
for(r=20934;r<=20936;r++)i[r]=0
for(r=21004;r<=21032;r++)i[r]=0
for(r=21035;r<=21037;r++)i[r]=0
for(r=21095;r<=21097;r++)i[r]=0
for(r=21148;r<=21150;r++)i[r]=0
for(r=21207;r<=21264;r++)i[r]=0
for(r=21307;r<=21364;r++)i[r]=0
for(r=21413;r<=21423;r++)i[r]=0
for(r=21453;r<=21463;r++)i[r]=0
for(r=21473;r<=21483;r++)i[r]=0
for(r=21780;r<=21782;r++)i[r]=0
for(r=21891;r<=21894;r++)i[r]=0
for(r=21896;r<=21899;r++)i[r]=0
for(r=22171;r<=22177;r++)i[r]=0
for(r=22181;r<=22187;r++)i[r]=0
for(r=22191;r<=22197;r++)i[r]=0
for(r=22207;r<=22222;r++)i[r]=0
for(r=22234;r<=22236;r++)i[r]=0
for(r=22243;r<=22250;r++)i[r]=0
for(r=22262;r<=22265;r++)i[r]=0
for(r=22307;r<=22322;r++)i[r]=0
for(r=22348;r<=22357;r++)i[r]=0
for(r=22407;r<=22422;r++)i[r]=0
for(r=22462;r<=22465;r++)i[r]=0
for(r=22521;r<=22525;r++)i[r]=0
for(r=22607;r<=22622;r++)i[r]=0
for(r=22641;r<=22646;r++)i[r]=0
for(r=22648;r<=22657;r++)i[r]=0
for(r=22707;r<=22722;r++)i[r]=0
for(r=22762;r<=22765;r++)i[r]=0
for(r=22991;r<=22994;r++)i[r]=0
for(r=23028;r<=23038;r++)i[r]=0
for(r=23830;r<=23853;r++)i[r]=0
for(r=23866;r<=23872;r++)i[r]=0
for(r=23877;r<=23884;r++)i[r]=0
for(r=23886;r<=23894;r++)i[r]=0
for(r=23946;r<=23948;r++)i[r]=0
for(r=24311;r<=24313;r++)i[r]=0
for(r=24342;r<=24347;r++)i[r]=0
for(r=24370;r<=24374;r++)i[r]=10
for(r=24375;r<=24381;r++)i[r]=0
for(r=24718;r<=24721;r++)i[r]=0
for(r=24817;r<=24821;r++)i[r]=0
for(r=24877;r<=24882;r++)i[r]=0
for(r=24891;r<=24893;r++)i[r]=0
for(r=25391;r<=25395;r++)i[r]=0
for(r=25828;r<=25838;r++)i[r]=0
for(r=26191;r<=26195;r++)i[r]=0
for(r=26391;r<=26393;r++)i[r]=0
for(r=26701;r<=26722;r++)i[r]=0
for(r=26729;r<=26799;r++)i[r]=2
for(r=26801;r<=26803;r++)i[r]=2
for(r=26811;r<=26813;r++)i[r]=2
for(r=26847;r<=26870;r++)i[r]=2
for(r=26891;r<=26899;r++)i[r]=0
for(r=26901;r<=26923;r++)i[r]=0
for(r=26929;r<=26946;r++)i[r]=0
for(r=26948;r<=26998;r++)i[r]=0
for(r=27037;r<=27040;r++)i[r]=0
for(r=27205;r<=27232;r++)i[r]=0
for(r=27258;r<=27260;r++)i[r]=0
for(r=27391;r<=27398;r++)i[r]=0
for(r=27561;r<=27564;r++)i[r]=0
for(r=27571;r<=27574;r++)i[r]=0
for(r=27581;r<=27584;r++)i[r]=0
for(r=27591;r<=27594;r++)i[r]=0
for(r=28191;r<=28193;r++)i[r]=0
for(r=28348;r<=28358;r++)i[r]=0
for(r=28402;r<=28432;r++)i[r]=0
for(r=28462;r<=28492;r++)i[r]=0
for(r=29118;r<=29122;r++)i[r]=0
for(r=29168;r<=29172;r++)i[r]=0
for(r=29177;r<=29185;r++)i[r]=0
for(r=29187;r<=29195;r++)i[r]=0
for(r=29900;r<=29903;r++)i[r]=0
for(r=30161;r<=30179;r++)i[r]=0
for(r=30491;r<=30494;r++)i[r]=0
for(r=30729;r<=30732;r++)i[r]=0
for(r=31251;r<=31259;r++)i[r]=0
for(r=31265;r<=31268;r++)i[r]=0
for(r=31275;r<=31279;r++)i[r]=0
for(r=31281;r<=31297;r++)i[r]=0
for(r=31461;r<=31469;r++)i[r]=0
for(r=31491;r<=31495;r++)i[r]=0
for(r=31917;r<=31922;r++)i[r]=0
for(r=31965;r<=32e3;r++)i[r]=0
for(r=32001;r<=32003;r++)i[r]=2
for(r=32005;r<=32031;r++)i[r]=2
for(r=32033;r<=32060;r++)i[r]=2
for(r=32064;r<=32067;r++)i[r]=2
for(r=32074;r<=32077;r++)i[r]=2
for(r=32081;r<=32086;r++)i[r]=0
for(r=32107;r<=32130;r++)i[r]=0
for(r=32133;r<=32159;r++)i[r]=0
for(r=32164;r<=32167;r++)i[r]=2
for(r=32180;r<=32199;r++)i[r]=0
for(r=32201;r<=32260;r++)i[r]=0
for(r=32301;r<=32360;r++)i[r]=0
for(r=32601;r<=32662;r++)i[r]=0
for(r=32664;r<=32667;r++)i[r]=2
for(r=32701;r<=32761;r++)i[r]=0
for(r=53001;r<=53004;r++)i[r]=0
for(r=53008;r<=53019;r++)i[r]=0
for(r=53021;r<=53032;r++)i[r]=0
for(r=53034;r<=53037;r++)i[r]=0
for(r=53042;r<=53046;r++)i[r]=0
for(r=53074;r<=53080;r++)i[r]=0
for(r=54001;r<=54004;r++)i[r]=0
for(r=54008;r<=54019;r++)i[r]=0
for(r=54021;r<=54032;r++)i[r]=0
for(r=54034;r<=54037;r++)i[r]=0
for(r=54042;r<=54046;r++)i[r]=0
for(r=54048;r<=54053;r++)i[r]=0
for(r=54074;r<=54080;r++)i[r]=0
for(r=54098;r<=54101;r++)i[r]=0
for(r=102001;r<=102040;r++)i[r]=0
for(r=102042;r<=102063;r++)i[r]=0
for(r=102065;r<=102067;r++)i[r]=0
for(r=102070;r<=102117;r++)i[r]=0
for(r=102122;r<=102216;r++)i[r]=0
for(r=102221;r<=102377;r++)i[r]=0
for(r=102382;r<=102388;r++)i[r]=0
for(r=102389;r<=102398;r++)i[r]=2
for(r=102399;r<=102444;r++)i[r]=0
for(r=102445;r<=102447;r++)i[r]=2
for(r=102448;r<=102458;r++)i[r]=0
for(r=102459;r<=102468;r++)i[r]=2
for(r=102469;r<=102499;r++)i[r]=0
for(r=102500;r<=102519;r++)i[r]=1
for(r=102520;r<=102524;r++)i[r]=0
for(r=102525;r<=102529;r++)i[r]=2
for(r=102530;r<=102588;r++)i[r]=0
for(r=102590;r<=102598;r++)i[r]=0
for(r=102601;r<=102603;r++)i[r]=0
for(r=102605;r<=102628;r++)i[r]=0
for(r=102629;r<=102646;r++)i[r]=2
for(r=102648;r<=102700;r++)i[r]=2
for(r=102701;r<=102703;r++)i[r]=0
for(r=102707;r<=102730;r++)i[r]=2
for(r=102733;r<=102758;r++)i[r]=2
for(r=102767;r<=102900;r++)i[r]=0
for(r=102901;r<=102933;r++)i[r]=2
for(r=102934;r<=102950;r++)i[r]=13
for(r=102951;r<=102955;r++)i[r]=0
for(r=102961;r<=102963;r++)i[r]=0
for(r=102965;r<=102969;r++)i[r]=0
for(r=102971;r<=102973;r++)i[r]=0
for(r=102975;r<=102989;r++)i[r]=0
for(r=102990;r<=102992;r++)i[r]=1
for(r=102997;r<=103002;r++)i[r]=0
for(r=103003;r<=103008;r++)i[r]=2
for(r=103009;r<=103011;r++)i[r]=0
for(r=103012;r<=103014;r++)i[r]=2
for(r=103019;r<=103021;r++)i[r]=0
for(r=103022;r<=103024;r++)i[r]=2
for(r=103029;r<=103031;r++)i[r]=0
for(r=103032;r<=103034;r++)i[r]=2
for(r=103065;r<=103068;r++)i[r]=0
for(r=103074;r<=103076;r++)i[r]=0
for(r=103077;r<=103079;r++)i[r]=1
for(r=103080;r<=103082;r++)i[r]=0
for(r=103083;r<=103085;r++)i[r]=2
for(r=103090;r<=103093;r++)i[r]=0
for(r=103097;r<=103099;r++)i[r]=0
for(r=103100;r<=103102;r++)i[r]=2
for(r=103107;r<=103109;r++)i[r]=0
for(r=103110;r<=103112;r++)i[r]=2
for(r=103113;r<=103116;r++)i[r]=0
for(r=103117;r<=103120;r++)i[r]=2
for(r=103153;r<=103157;r++)i[r]=0
for(r=103158;r<=103162;r++)i[r]=2
for(r=103163;r<=103165;r++)i[r]=0
for(r=103166;r<=103168;r++)i[r]=1
for(r=103169;r<=103171;r++)i[r]=2
for(r=103186;r<=103188;r++)i[r]=0
for(r=103189;r<=103191;r++)i[r]=2
for(r=103192;r<=103195;r++)i[r]=0
for(r=103196;r<=103199;r++)i[r]=2
for(r=103200;r<=103224;r++)i[r]=0
for(r=103225;r<=103227;r++)i[r]=1
for(r=103232;r<=103237;r++)i[r]=0
for(r=103238;r<=103243;r++)i[r]=2
for(r=103244;r<=103246;r++)i[r]=0
for(r=103247;r<=103249;r++)i[r]=2
for(r=103254;r<=103256;r++)i[r]=0
for(r=103257;r<=103259;r++)i[r]=2
for(r=103264;r<=103266;r++)i[r]=0
for(r=103267;r<=103269;r++)i[r]=2
for(r=103300;r<=103375;r++)i[r]=0
for(r=103381;r<=103383;r++)i[r]=0
for(r=103384;r<=103386;r++)i[r]=1
for(r=103387;r<=103389;r++)i[r]=0
for(r=103390;r<=103392;r++)i[r]=2
for(r=103397;r<=103399;r++)i[r]=0
for(r=103400;r<=103471;r++)i[r]=2
for(r=103476;r<=103478;r++)i[r]=0
for(r=103479;r<=103481;r++)i[r]=2
for(r=103486;r<=103488;r++)i[r]=0
for(r=103489;r<=103491;r++)i[r]=2
for(r=103492;r<=103495;r++)i[r]=0
for(r=103496;r<=103499;r++)i[r]=2
for(r=103528;r<=103543;r++)i[r]=0
for(r=103544;r<=103548;r++)i[r]=2
for(r=103549;r<=103551;r++)i[r]=0
for(r=103552;r<=103554;r++)i[r]=1
for(r=103555;r<=103557;r++)i[r]=2
for(r=103558;r<=103560;r++)i[r]=0
for(r=103571;r<=103573;r++)i[r]=0
for(r=103574;r<=103576;r++)i[r]=2
for(r=103577;r<=103580;r++)i[r]=0
for(r=103581;r<=103583;r++)i[r]=2
for(r=103595;r<=103694;r++)i[r]=0
for(r=103696;r<=103699;r++)i[r]=0
for(r=103700;r<=103793;r++)i[r]=2
for(r=103794;r<=103890;r++)i[r]=0
for(r=103891;r<=103896;r++)i[r]=2
for(r=103900;r<=103971;r++)i[r]=2
for(r=103972;r<=103977;r++)i[r]=0
for(r=112e3;r<=112101;r++)i[r]=0},1189:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1141)
class i{constructor(e,t){this._storage=new r.c,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t,n){this._storage.put(e,t,n,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}}},1190:function(e,t,n){"use strict"
n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return j}))
var r,i=n(1262),s=n(378),a=n(376),o=n(34),l=n(1307)
function c(e,t){return`${Object(i.a)(t)}/home/item.html?id=${e}`}!function(e){e.CitationContact="metadata.resource.citation.contact",e.ResourceContact="metadata.resource.contact",e.MetadataContact="metadata.contact",e.ItemOwner="item.owner",e.None="none"}(r||(r={}))
const u=e=>{var t
const n=e.extent,r=Object(s.g)(n),i=(null===(t=e.properties)||void 0===t?void 0:t.boundary)||(r?"item":void 0),a={geometry:null,provenance:i}
if("item"===i&&r){const e=Object(s.b)(n),t=Object(s.f)(e)
a.center=[t.x,t.y],a.geometry=Object.assign(Object.assign({},Object(s.e)(e)),{type:"polygon"}),a.spatialReference=a.geometry.spatialReference}return a},d=e=>e&&e.isPortal,h=(e,t)=>!!e&&"public"===e.access&&!d(t),p=(e,t)=>!d(t)&&"public"===e.access&&"CSV"===e.type&&e.size<=5e6,f=(e,t,n)=>{let r=m(e,t,n)||y(e,t,n)
if(!r){const i=Object(a.c)(e),s=["app","dataset","document","map","template","project","discussion"]
let o="/content"
"feedback"===i?o="/feedback/surveys":b(e,n)?o="/pages":s.indexOf(i)>-1&&(o=`/${i}s`),r=`${o}/${t}`}return r},b=(e,t=[])=>["Hub Page","Site Page"].includes(e)||t.includes("hubPage"),m=(e,t,n)=>{let r
return"Solution"===e?r=(null==n?void 0:n.indexOf("Deployed"))>-1?`/content/${t}/about`:`/templates/${t}/about`:"Web Mapping Application"===e&&(null==n?void 0:n.indexOf("hubSolutionTemplate"))>-1&&(r=`/templates/${t}/about`),r},y=(e,t,n)=>{if("Hub Initiative"===e&&(null==n?void 0:n.indexOf("hubInitiativeTemplate"))>-1||"Hub Initiative Template"===e)return`/initiatives/templates/${t}/about`}
function g(e){return{updateFrequency:"metadata.dataIdInfo.resMaint.maintFreq.MaintFreqCd.@_value",reviseDate:"metadata.dataIdInfo.idCitation.date.reviseDate",pubDate:"metadata.dataIdInfo.idCitation.date.pubDate",createDate:"metadata.dataIdInfo.idCitation.date.createDate",metadataUpdateFrequency:"metadata.mdMaint.maintFreq.MaintFreqCd.@_value",metadataUpdatedDate:"metadata.mdDateSt"}[e]}function v(e,t){const n=g(t)
return n&&Object(o.a)(e,n)}var O
function j(e){let t,n
if(/^\d{4}$/.test(e=""+e))t=new Date(+e,0,1),n=O.Year
else if(/^\d{4}-\d{1,2}$/.test(e)){const r=e.split("-")
t=new Date(+r[0],+r[1]-1,1),n=O.Month}else if(/^\d{4}-\d{1,2}-\d{1,2}$/.test(e)){const r=e.split("-")
t=new Date(+r[0],+r[1]-1,+r[2]),n=O.Day}else Number.isNaN(Date.parse(e))||(t=new Date(e),n=e.includes("T")?O.Time:O.Day)
return t&&n&&{date:t,precision:n}}!function(e){e.Year="year",e.Month="month",e.Day="day",e.Time="time"}(O||(O={}))
const w=e=>{const t=e.spatialReference
if(!t||"object"==typeof t)return t
const n=parseInt(t+"",10)
return isNaN(n)?null:{wkid:n}},_=(e,t,n)=>{const r=S(t)
return r&&r.map(t=>({name:t.orName,url:I(t,e,n),isDataSource:T(t,e)}))},S=e=>{const t=[]
return x(Object(o.a)(e,"metadata.distInfo")||[]).forEach(e=>{x(e.distTranOps||[]).forEach(e=>{x(e.onLineSrc||[]).forEach(e=>{t.push(e)})})}),t.length?t:null},x=e=>Array.isArray(e)?e:[e],T=(e,t)=>{const n=t.url&&Object(l.a)(t.url)
return n&&e.linkage&&e.linkage.includes(n)},I=(e,t,n)=>{let r=e.linkage
const i=Object(o.a)(n,"authentication.token")
if(i&&T(e,t)){const t=new URL(e.linkage),n=new URLSearchParams(t.search)
n.set("token",i),t.search=n.toString(),r=t.toString()}return r},M=(e,t,n)=>{const r=Object(s.g)(e.extent)?e.extent:void 0,i=Object(s.g)(null==t?void 0:t.coordinates)?t.coordinates:void 0,a=4326===Object(o.a)(n,"extent.spatialReference.wkid")?Object(s.a)(n.extent):void 0
return r||i||a},E=(e,t)=>{const n=Object(o.a)(e,t)||{},{rpIndName:r,rpOrgName:i}=Array.isArray(n)?n[0]:n
return{individualName:r,organizationName:i}},k=(e,t)=>e.orgId||(null==t?void 0:t.orgId),C=(e,t,n,i)=>{const s={nameSource:r.None,organizationSource:r.None},a=E(t,"metadata.dataIdInfo.idCitation.citRespParty"),l=E(t,"metadata.dataIdInfo.idPoC"),c=E(t,"metadata.mdContact"),u=Object(o.a)(i,"fullName")
a.individualName?(s.name=a.individualName,s.nameSource=r.CitationContact):l.individualName?(s.name=l.individualName,s.nameSource=r.ResourceContact):c.individualName?(s.name=c.individualName,s.nameSource=r.MetadataContact):u&&(s.name=u,s.username=i.username,s.nameSource=r.ItemOwner)
const d=Object(o.a)(n,"name")
return a.organizationName?(s.organization=a.organizationName,s.organizationSource=r.CitationContact):l.organizationName?(s.organization=l.organizationName,s.organizationSource=r.ResourceContact):c.organizationName?(s.organization=c.organizationName,s.organizationSource=r.MetadataContact):d&&(s.organization=d,s.orgId=k(e,i),s.organizationSource=r.ItemOwner),s.isExternal=s.organizationSource===r.None&&"public"!==e.access,s},A=e=>e.reduce((e,t)=>{const n=t.split("/"),r=n[n.length-1]
return r&&e.push(r),e},[])},1191:function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return x}))
var r=n(990),i=n(995),s=n(1034),a=(n(235),n(23)),o=n(980),l=n(981),c=n(1134),u=n(1275),d=n(1666)
const h=new r.a("white")
function p(e){var t
if(!e)return 0
if(Object(i.c)(e)){const t=function(e){const t=e.symbolLayers&&e.symbolLayers.length
if(!t)return
const n=e.symbolLayers.getItemAt(t-1)
return"outline"in n?Object(a.j)(n,"outline","size"):void 0}(e)
return Object(a.l)(t)?t:0}return Object(o.i)(null==(t=Object(u.e)(e))?void 0:t.width)}function f(e){if(Object(a.k)(e)||!("symbolLayers"in e)||Object(a.k)(e.symbolLayers))return!1
switch(e.type){case"point-3d":return e.symbolLayers.some(e=>"object"===e.type)
case"line-3d":return e.symbolLayers.some(e=>"path"===e.type)
case"polygon-3d":return e.symbolLayers.some(e=>"object"===e.type||"extrude"===e.type)
default:return!1}}function b(e){return Object(a.w)(e.resource).href}function m(e,t){if(!e)return null
let n=null
return Object(i.c)(e)?n=function(e){const t=e.symbolLayers
if(!t)return null
let n=null
return t.forEach(e=>{var t
"object"===e.type&&null!=(null==(t=e.resource)?void 0:t.href)||(n="water"===e.type?Object(a.u)(e.color):Object(a.l)(e.material)?Object(a.u)(e.material.color):null)}),n?new r.a(n):null}(e):Object(i.b)(e)&&(n=e.color?new r.a(e.color):null),n?y(n,t):null}function y(e,t){if(null==t||null==e)return e
const n=e.toRgba()
return n[3]=n[3]*t,new r.a(n)}function g(e,t,n){var s,o,l,c
e&&(t||null!=n)&&(t&&(t=new r.a(t)),Object(i.c)(e)?function(e,t,n){const r=e.symbolLayers
if(!r)return
const i=e=>{var r,i
const s=Object(a.l)(e)?e:null
return y(t=null!=(r=null!=(i=t)?i:s)?r:null!=n?h:null,n)}
r.forEach(e=>{var r
if("object"!==e.type||null==(null==(r=e.resource)?void 0:r.href)||t)if("water"===e.type)e.color=i(e.color)
else{const t=Object(a.l)(e.material)?e.material.color:null,r=i(t)
Object(a.k)(e.material)?e.material=new d.a({color:r}):e.material.color=r,null!=n&&"outline"in e&&Object(a.l)(e.outline)&&Object(a.l)(e.outline.color)&&(e.outline.color=y(e.outline.color,n))}})}(e,t,n):Object(i.b)(e)&&(s=e,l=n,(o=null!=(c=o=t)?c:s.color)&&(s.color=y(o,l)),null!=l&&"outline"in s&&s.outline&&s.outline.color&&(s.outline.color=y(s.outline.color,l))))}function v(e){for(const t of e)if("number"==typeof t)return t
return null}function O(e,t,n){for(let r=0;r<3;r++){const i=e[r]
switch(i){case"symbol-value":{const e=n[r]
return null!=e?e/t[r]:1}case"proportional":break
default:if(i&&t[r])return i/t[r]}}return 1}function j(e,t,n,r){switch(e){case"proportional":return n*r
case"symbol-value":return null!=t?t:n
default:return e}}async function w(e,t){if(e&&t)return Object(i.c)(e)?async function(e,t){const r=e.symbolLayers
r&&await Object(s.c)(r,async e=>async function(e,t){switch(e.type){case"extrude":!function(e,t){e.size="number"==typeof t[2]?t[2]:0}(e,t)
break
case"icon":case"line":case"text":!function(e,t){const n=v(t)
Object(a.l)(n)&&(e.size=n)}(e,t)
break
case"path":!function(e,t){const n=O(t,l.a,[e.width,void 0,e.height])
e.width=j(t[0],e.width,1,n),e.height=j(t[2],e.height,1,n)}(e,t)
break
case"object":await async function(e,t){const{resourceSize:r,symbolSize:i}=await async function(e){const t=await n.e(771).then(n.bind(null,1802)),r=await t.computeObjectLayerResourceSize(e,10),{width:i,height:s,depth:a}=e,o=[i,a,s]
let l=1
for(let e=0;e<3;e++){const t=o[e]
if(null!=t){l=t/r[e]
break}}for(let e=0;e<3;e++)null==o[e]&&(o[e]=r[e]*l)
return{resourceSize:r,symbolSize:o}}(e),s=O(t,r,i)
e.width=j(t[0],i[0],r[0],s),e.depth=j(t[1],i[1],r[1],s),e.height=j(t[2],i[2],r[2],s)}(e,t)}}(e,t))}(e,t):void(Object(i.b)(e)&&function(e,t){const n=v(t)
if(!Object(a.k)(n))switch(e.type){case"simple-marker":e.size=n
break
case"picture-marker":{const t=e.width/e.height
t>1?(e.width=n,e.height=n*t):(e.width=n*t,e.height=n)
break}case"simple-line":e.width=n
break
case"text":e.font.size=n}}(e,t))}function _(e,t,n){if(e&&null!=t)if(Object(i.c)(e)){const r=e.symbolLayers
r&&r.forEach(e=>{if(e&&"object"===e.type)switch(n){case"tilt":e.tilt=t
break
case"roll":e.roll=t
break
default:e.heading=t}})}else Object(i.b)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle=t))}function S(e){if(!e)return null
const t=e.effects.filter(e=>"bloom"!==e.type).map(e=>e.toJSON())
return Object(c.a)(t)}function x(e){return Object(a.l)(e)&&"polygon-3d"===e.type&&e.symbolLayers.some(e=>"extrude"===e.type)}async function T(e,t){return await e.fetchSymbol(t)||e.fetchCIMSymbol(t)}},1192:function(e,t,n){"use strict"
function r(){const e=new Float32Array(6)
return e[0]=1,e[3]=1,e}function i(e,t,n,r){const i=t[r],s=t[r+1]
e[r]=n[0]*i+n[2]*s+n[4],e[r+1]=n[1]*i+n[3]*s+n[5]}function s(e,t,n,r=0,s=0,a=2){const o=s||t.length/a
for(let s=r;s<o;s++)i(e,t,n,s*a)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){const t=new Float32Array(6)
return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},create:r,createView:function(e,t){return new Float32Array(e,t,6)},fromValues:function(e,t,n,r,i,s){const a=new Float32Array(6)
return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=s,a},transform:i,transformMany:s},Symbol.toStringTag,{value:"Module"}))},1193:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}))
var r=n(968),i=n(446),s=n(374),a=n(970),o=(n(971),n(445),n(969)),l=n(974),c=n(1091),u=n(1096)
const d={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}}
var h=n(1035)
const p=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(e,t,n,r){(r&&"ground"===r.layerContainerType||e&&Object(u.a)(this,n,{},r))&&(t[n]=e)}writeOperationalLayerType(e,t,n,r){!e||r&&"tables"===r.layerContainerType||(t.layerType=e)}writeTitle(e,t){t.title=null!=e?e:"Layer"}read(e,t){t&&(t.layer=this),Object(c.b)(this,e,t=>super.read(e,t),t)}write(e,t){var n
if(null!=t&&t.origin){var r
const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,n=d[e]
let s=n&&n[this.operationalLayerType]
if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(s=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(s=!1),!s)return null!=(r=t.messages)&&r.push(new i.a("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const a=super.write(e,{...t,layer:this}),o=!!t&&!!t.messages&&!!t.messages.filter(e=>e instanceof i.a&&"web-document-write:property-required"===e.name).length
return Object(s.y)(null==a?void 0:a.url)?(null!=t&&null!=(n=t.messages)&&n.push(new i.a("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:a}beforeSave(){}}
return Object(r.a)([Object(a.b)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),Object(r.a)([Object(a.b)(h.f)],t.prototype,"listMode",void 0),Object(r.a)([Object(l.a)("listMode")],t.prototype,"writeListMode",null),Object(r.a)([Object(a.b)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),Object(r.a)([Object(l.a)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),Object(r.a)([Object(a.b)(h.i)],t.prototype,"opacity",void 0),Object(r.a)([Object(a.b)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),Object(r.a)([Object(l.a)("title"),Object(l.a)(["web-scene"],"title")],t.prototype,"writeTitle",null),Object(r.a)([Object(a.b)({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=Object(r.a)([Object(o.a)("esri.layers.mixins.OperationalLayer")],t),t}
function f(e){return"operationalLayerType"in e}},1194:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r=n(968),i=n(972),s=n(970),a=(n(971),n(445),n(969))
let o=class extends i.a{constructor(){super(...arguments),this.type=null}}
Object(r.a)([Object(s.b)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],o.prototype,"type",void 0),o=Object(r.a)([Object(a.a)("esri.layers.support.FeatureReduction")],o)},1195:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h}))
var r=n(968),i=n(986),s=n(972),a=n(1059),o=n(970),l=(n(971),n(445),n(979)),c=n(969),u=n(1206)
let d=class extends(Object(i.b)(s.a)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return Object(a.a)(this.value,this.unit,"milliseconds")}}
Object(r.a)([Object(l.a)(u.a,{nonNullable:!0})],d.prototype,"unit",void 0),Object(r.a)([Object(o.b)({type:Number,json:{write:!0},nonNullable:!0})],d.prototype,"value",void 0),d=Object(r.a)([Object(c.a)("esri.TimeInterval")],d)
const h=d},1197:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r,i=n(968),s=(n(982),n(976)),a=n(972),o=n(234),l=n(970),c=(n(971),n(969)),u=n(770)
const d=new s.a({upperLeft:"upper-left",lowerLeft:"lower-left"})
let h=r=class extends a.a{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new r(Object(o.a)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}}
Object(i.a)([Object(l.b)({type:u.default,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"extent",void 0),Object(i.a)([Object(l.b)({type:["view","edit"],json:{write:!0}})],h.prototype,"mode",void 0),Object(i.a)([Object(l.b)({type:String,json:{read:d.read,write:d.write}})],h.prototype,"originPosition",void 0),Object(i.a)([Object(l.b)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],h.prototype,"tolerance",void 0),h=r=Object(i.a)([Object(c.a)("esri.rest.support.QuantizationParameters")],h)
const p=h},1198:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))
var r=n(23)
async function i(e,t){const{WhereClause:r}=await Promise.all([n.e(9),n.e(33),n.e(750)]).then(n.bind(null,1363))
return r.create(e,t)}function s(e,t){return Object(r.l)(e)?Object(r.l)(t)?`(${e}) AND (${t})`:e:t}},1199:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y}))
var r,i=n(968),s=n(982),a=n(1009),o=n(976),l=n(972),c=n(234),u=n(23),d=n(970),h=(n(971),n(969)),p=n(1014)
const f=new o.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),b=new o.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"})
let m=r=class extends l.a{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:n,spatialRelationship:r,timeExtent:i,objectIds:s,units:a,distance:o}=this
return new p.a({geometry:Object(c.a)(n),objectIds:Object(c.a)(s),spatialRelationship:r,timeExtent:Object(c.a)(i),where:t,units:a,distance:o,...e})}clone(){const{where:e,geometry:t,spatialRelationship:n,timeExtent:i,objectIds:s,units:a,distance:o}=this
return new r({geometry:Object(c.a)(t),objectIds:Object(c.a)(s),spatialRelationship:n,timeExtent:Object(c.a)(i),where:e,units:a,distance:o})}}
Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],m.prototype,"where",void 0),Object(i.a)([Object(d.b)({types:s.c,json:{write:!0}})],m.prototype,"geometry",void 0),Object(i.a)([Object(d.b)({type:f.apiValues,json:{name:"spatialRel",read:{reader:f.read},write:{allowNull:!1,writer:f.write,overridePolicy(){return{enabled:Object(u.l)(this.geometry)}}}}})],m.prototype,"spatialRelationship",void 0),Object(i.a)([Object(d.b)({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,"distance",void 0),Object(i.a)([Object(d.b)({type:[Number],json:{write:!0}})],m.prototype,"objectIds",void 0),Object(i.a)([Object(d.b)({type:b.apiValues,json:{read:b.read,write:{writer:b.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],m.prototype,"units",void 0),Object(i.a)([Object(d.b)({type:a.a,json:{write:!0}})],m.prototype,"timeExtent",void 0),m=r=Object(i.a)([Object(h.a)("esri.layers.support.FeatureFilter")],m)
const y=m},1200:function(e,t,n){"use strict"
function r(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,void 0,"symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e
var n=e[Symbol.toPrimitive]
if(void 0!==n){var r=n.call(e,t)
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i,"string"))?s:String(s)),r)}var i,s}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return(u=c()?Reflect.construct.bind():function(e,t,n){var r=[null]
r.push.apply(r,t)
var i=new(Function.bind.apply(e,r))
return n&&l(i,n.prototype),i}).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0
return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e
var n
if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function")
if(void 0!==t){if(t.has(e))return t.get(e)
t.set(e,r)}function r(){return u(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function h(e,t){if(null==e)return{}
var n,r,i={},s=Object.keys(e)
for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n])
return i}function p(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(n)return(n=n.call(e)).next.bind(n)
if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n)
var r=0
return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0})
var b=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t}(d(Error)),m=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return a(t,e),t}(b),y=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return a(t,e),t}(b),g=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return a(t,e),t}(b),v=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t}(b),O=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return a(t,e),t}(b),j=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t}(b),w=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return a(t,e),t}(b),_="numeric",S="short",x="long",T={year:_,month:_,day:_},I={year:_,month:S,day:_},M={year:_,month:S,day:_,weekday:S},E={year:_,month:x,day:_},k={year:_,month:x,day:_,weekday:x},C={hour:_,minute:_},A={hour:_,minute:_,second:_},L={hour:_,minute:_,second:_,timeZoneName:S},R={hour:_,minute:_,second:_,timeZoneName:x},P={hour:_,minute:_,hourCycle:"h23"},F={hour:_,minute:_,second:_,hourCycle:"h23"},N={hour:_,minute:_,second:_,hourCycle:"h23",timeZoneName:S},D={hour:_,minute:_,second:_,hourCycle:"h23",timeZoneName:x},V={year:_,month:_,day:_,hour:_,minute:_},U={year:_,month:_,day:_,hour:_,minute:_,second:_},G={year:_,month:S,day:_,hour:_,minute:_},z={year:_,month:S,day:_,hour:_,minute:_,second:_},q={year:_,month:S,day:_,weekday:S,hour:_,minute:_},B={year:_,month:x,day:_,hour:_,minute:_,timeZoneName:S},$={year:_,month:x,day:_,hour:_,minute:_,second:_,timeZoneName:S},H={year:_,month:x,day:_,weekday:x,hour:_,minute:_,timeZoneName:x},W={year:_,month:x,day:_,weekday:x,hour:_,minute:_,second:_,timeZoneName:x},Z=function(){function e(){}var t=e.prototype
return t.offsetName=function(e,t){throw new w},t.formatOffset=function(e,t){throw new w},t.offset=function(e){throw new w},t.equals=function(e){throw new w},i(e,[{key:"type",get:function(){throw new w}},{key:"name",get:function(){throw new w}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new w}},{key:"isValid",get:function(){throw new w}}]),e}(),K=null,J=function(e){function t(){return e.apply(this,arguments)||this}a(t,e)
var n=t.prototype
return n.offsetName=function(e,t){return Be(e,t.format,t.locale)},n.formatOffset=function(e,t){return Ze(this.offset(e),t)},n.offset=function(e){return-new Date(e).getTimezoneOffset()},n.equals=function(e){return"system"===e.type},i(t,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===K&&(K=new t),K}}]),t}(Z),Y={},X={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},Q={},ee=function(e){function t(n){var r
return(r=e.call(this)||this).zoneName=n,r.valid=t.isValidZone(n),r}a(t,e),t.create=function(e){return Q[e]||(Q[e]=new t(e)),Q[e]},t.resetCache=function(){Q={},Y={}},t.isValidSpecifier=function(e){return this.isValidZone(e)},t.isValidZone=function(e){if(!e)return!1
try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}
var n=t.prototype
return n.offsetName=function(e,t){return Be(e,t.format,t.locale,this.name)},n.formatOffset=function(e,t){return Ze(this.offset(e),t)},n.offset=function(e){var t=new Date(e)
if(isNaN(t))return NaN
var n,r=(n=this.name,Y[n]||(Y[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Y[n]),i=r.formatToParts?function(e,t){for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var s=n[i],a=s.type,o=s.value,l=X[a]
"era"===a?r[l]=o:Te(l)||(r[l]=parseInt(o,10))}return r}(r,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),i=r[1],s=r[2]
return[r[3],i,s,r[4],r[5],r[6],r[7]]}(r,t),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6]
"BC"===l&&(s=1-Math.abs(s))
var h=+t,p=h%1e3
return(Ge({year:s,month:a,day:o,hour:24===c?0:c,minute:u,second:d,millisecond:0})-(h-=p>=0?p:1e3+p))/6e4},n.equals=function(e){return"iana"===e.type&&e.name===this.name},i(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(Z),te=["base"],ne=["padTo","floor"],re={},ie={}
function se(e,t){void 0===t&&(t={})
var n=JSON.stringify([e,t]),r=ie[n]
return r||(r=new Intl.DateTimeFormat(e,t),ie[n]=r),r}var ae={},oe={},le=null
function ce(e,t,n,r,i){var s=e.listingMode(n)
return"error"===s?null:"en"===s?r(t):i(t)}var ue=function(){function e(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1,n.padTo,n.floor
var r=h(n,ne)
if(!t||Object.keys(r).length>0){var i=s({useGrouping:!1},n)
n.padTo>0&&(i.minimumIntegerDigits=n.padTo),this.inf=function(e,t){void 0===t&&(t={})
var n=JSON.stringify([e,t]),r=ae[n]
return r||(r=new Intl.NumberFormat(e,t),ae[n]=r),r}(e,i)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e
return this.inf.format(t)}return Le(this.floor?Math.floor(e):Ne(e,3),this.padTo)},e}(),de=function(){function e(e,t,n){this.opts=n
var r=void 0
if(e.zone.isUniversal){var i=e.offset/60*-1,a=i>=0?"Etc/GMT+"+i:"Etc/GMT"+i
0!==e.offset&&ee.create(a).valid?(r=a,this.dt=e):(r="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:ur.fromMillis(e.ts+60*e.offset*1e3))}else"system"===e.zone.type?this.dt=e:(this.dt=e,r=e.zone.name)
var o=s({},this.opts)
o.timeZone=o.timeZone||r,this.dtf=se(t,o)}var t=e.prototype
return t.format=function(){return this.dtf.format(this.dt.toJSDate())},t.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},t.resolvedOptions=function(){return this.dtf.resolvedOptions()},e}(),he=function(){function e(e,t,n){this.opts=s({style:"long"},n),!t&&Ee()&&(this.rtf=function(e,t){void 0===t&&(t={})
var n=t
n.base
var r=h(n,te),i=JSON.stringify([e,r]),s=oe[i]
return s||(s=new Intl.RelativeTimeFormat(e,t),oe[i]=s),s}(e,n))}var t=e.prototype
return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n,r){void 0===n&&(n="always"),void 0===r&&(r=!1)
var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(e)
if("auto"===n&&s){var a="days"===e
switch(t){case 1:return a?"tomorrow":"next "+i[e][0]
case-1:return a?"yesterday":"last "+i[e][0]
case 0:return a?"today":"this "+i[e][0]}}var o=Object.is(t,-0)||t<0,l=Math.abs(t),c=1===l,u=i[e],d=r?c?u[1]:u[2]||u[1]:c?i[e][0]:e
return o?l+" "+d+" ago":"in "+l+" "+d}(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),pe=function(){function e(e,t,n,r){var i=function(e){var t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t))
var n,r,i=e.indexOf("-u-")
if(-1===i)return[e]
try{n=se(e).resolvedOptions(),r=e}catch(t){var s=e.substring(0,i)
n=se(s).resolvedOptions(),r=s}var a=n
return[r,a.numberingSystem,a.calendar]}(e),s=i[0],a=i[1],o=i[2]
this.locale=s,this.numberingSystem=t||a||null,this.outputCalendar=n||o||null,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+="-ca-"+n),t&&(e+="-nu-"+t),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,n,r,i){void 0===i&&(i=!1)
var s=t||xe.defaultLocale
return new e(s||(i?"en-US":le||(le=(new Intl.DateTimeFormat).resolvedOptions().locale)),n||xe.defaultNumberingSystem,r||xe.defaultOutputCalendar,s)},e.resetCache=function(){le=null,ie={},ae={},oe={}},e.fromObject=function(t){var n=void 0===t?{}:t,r=n.locale,i=n.numberingSystem,s=n.outputCalendar
return e.create(r,i,s)}
var t=e.prototype
return t.listingMode=function(){var e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)
return e&&t?"en":"intl"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(s({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(s({},e,{defaultToEN:!1}))},t.months=function(e,t,n){var r=this
return void 0===t&&(t=!1),void 0===n&&(n=!0),ce(this,e,n,Qe,(function(){var n=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone"
return r.monthsCache[i][e]||(r.monthsCache[i][e]=function(e){for(var t=[],n=1;n<=12;n++){var r=ur.utc(2016,n,1)
t.push(e(r))}return t}((function(e){return r.extract(e,n,"month")}))),r.monthsCache[i][e]}))},t.weekdays=function(e,t,n){var r=this
return void 0===t&&(t=!1),void 0===n&&(n=!0),ce(this,e,n,rt,(function(){var n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone"
return r.weekdaysCache[i][e]||(r.weekdaysCache[i][e]=function(e){for(var t=[],n=1;n<=7;n++){var r=ur.utc(2016,11,13+n)
t.push(e(r))}return t}((function(e){return r.extract(e,n,"weekday")}))),r.weekdaysCache[i][e]}))},t.meridiems=function(e){var t=this
return void 0===e&&(e=!0),ce(this,void 0,e,(function(){return it}),(function(){if(!t.meridiemCache){var e={hour:"numeric",hourCycle:"h12"}
t.meridiemCache=[ur.utc(2016,11,13,9),ur.utc(2016,11,13,19)].map((function(n){return t.extract(n,e,"dayperiod")}))}return t.meridiemCache}))},t.eras=function(e,t){var n=this
return void 0===t&&(t=!0),ce(this,e,t,lt,(function(){var t={era:e}
return n.eraCache[e]||(n.eraCache[e]=[ur.utc(-40,1,1),ur.utc(2017,1,1)].map((function(e){return n.extract(e,t,"era")}))),n.eraCache[e]}))},t.extract=function(e,t,n){var r=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}))
return r?r.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new ue(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new de(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new he(this.intl,this.isEnglish(),e)},t.listFormatter=function(e){return void 0===e&&(e={}),function(e,t){void 0===t&&(t={})
var n=JSON.stringify([e,t]),r=re[n]
return r||(r=new Intl.ListFormat(e,t),re[n]=r),r}(this.intl,e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},i(e,[{key:"fastNumbers",get:function(){var e
return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}(),fe=null,be=function(e){function t(t){var n
return(n=e.call(this)||this).fixed=t,n}a(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i)
if(n)return new t($e(n[1],n[2]))}return null}
var n=t.prototype
return n.offsetName=function(){return this.name},n.formatOffset=function(e,t){return Ze(this.fixed,t)},n.offset=function(){return this.fixed},n.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},i(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+Ze(this.fixed,"narrow")}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT"+Ze(-this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===fe&&(fe=new t(0)),fe}}]),t}(Z),me=function(e){function t(t){var n
return(n=e.call(this)||this).zoneName=t,n}a(t,e)
var n=t.prototype
return n.offsetName=function(){return null},n.formatOffset=function(){return""},n.offset=function(){return NaN},n.equals=function(){return!1},i(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(Z)
function ye(e,t){if(Te(e)||null===e)return t
if(e instanceof Z)return e
if("string"==typeof e){var n=e.toLowerCase()
return"default"===n?t:"local"===n||"system"===n?J.instance:"utc"===n||"gmt"===n?be.utcInstance:be.parseSpecifier(n)||ee.create(e)}return Ie(e)?be.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new me(e)}var ge,ve=function(){return Date.now()},Oe="system",je=null,we=null,_e=null,Se=60,xe=function(){function e(){}return e.resetCaches=function(){pe.resetCache(),ee.resetCache()},i(e,null,[{key:"now",get:function(){return ve},set:function(e){ve=e}},{key:"defaultZone",get:function(){return ye(Oe,J.instance)},set:function(e){Oe=e}},{key:"defaultLocale",get:function(){return je},set:function(e){je=e}},{key:"defaultNumberingSystem",get:function(){return we},set:function(e){we=e}},{key:"defaultOutputCalendar",get:function(){return _e},set:function(e){_e=e}},{key:"twoDigitCutoffYear",get:function(){return Se},set:function(e){Se=e%100}},{key:"throwOnInvalid",get:function(){return ge},set:function(e){ge=e}}]),e}()
function Te(e){return void 0===e}function Ie(e){return"number"==typeof e}function Me(e){return"number"==typeof e&&e%1==0}function Ee(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function ke(e,t,n){if(0!==e.length)return e.reduce((function(e,r){var i=[t(r),r]
return e&&n(e[0],i[0])===e[0]?e:i}),null)[1]}function Ce(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ae(e,t,n){return Me(e)&&e>=t&&e<=n}function Le(e,t){return void 0===t&&(t=2),e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function Re(e){return Te(e)||null===e||""===e?void 0:parseInt(e,10)}function Pe(e){return Te(e)||null===e||""===e?void 0:parseFloat(e)}function Fe(e){if(!Te(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e)
return Math.floor(t)}}function Ne(e,t,n){void 0===n&&(n=!1)
var r=Math.pow(10,t)
return(n?Math.trunc:Math.round)(e*r)/r}function De(e){return e%4==0&&(e%100!=0||e%400==0)}function Ve(e){return De(e)?366:365}function Ue(e,t){var n=function(e,t){return e-12*Math.floor(e/12)}(t-1)+1
return 2===n?De(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Ge(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond)
return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function ze(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7
return 4===t||3===r?53:52}function qe(e){return e>99?e:e>xe.twoDigitCutoffYear?1900+e:2e3+e}function Be(e,t,n,r){void 0===r&&(r=null)
var i=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}
r&&(a.timeZone=r)
var o=s({timeZoneName:t},a),l=new Intl.DateTimeFormat(n,o).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}))
return l?l.value:null}function $e(e,t){var n=parseInt(e,10)
Number.isNaN(n)&&(n=0)
var r=parseInt(t,10)||0
return 60*n+(n<0||Object.is(n,-0)?-r:r)}function He(e){var t=Number(e)
if("boolean"==typeof e||""===e||Number.isNaN(t))throw new j("Invalid unit value "+e)
return t}function We(e,t){var n={}
for(var r in e)if(Ce(e,r)){var i=e[r]
if(null==i)continue
n[t(r)]=He(i)}return n}function Ze(e,t){var n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-"
switch(t){case"short":return""+i+Le(n,2)+":"+Le(r,2)
case"narrow":return""+i+n+(r>0?":"+r:"")
case"techie":return""+i+Le(n,2)+Le(r,2)
default:throw new RangeError("Value format "+t+" is out of range for property format")}}function Ke(e){return function(e,t){return["hour","minute","second","millisecond"].reduce((function(t,n){return t[n]=e[n],t}),{})}(e)}var Je=["January","February","March","April","May","June","July","August","September","October","November","December"],Ye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Xe=["J","F","M","A","M","J","J","A","S","O","N","D"]
function Qe(e){switch(e){case"narrow":return[].concat(Xe)
case"short":return[].concat(Ye)
case"long":return[].concat(Je)
case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"]
case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]
default:return null}}var et=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],tt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],nt=["M","T","W","T","F","S","S"]
function rt(e){switch(e){case"narrow":return[].concat(nt)
case"short":return[].concat(tt)
case"long":return[].concat(et)
case"numeric":return["1","2","3","4","5","6","7"]
default:return null}}var it=["AM","PM"],st=["Before Christ","Anno Domini"],at=["BC","AD"],ot=["B","A"]
function lt(e){switch(e){case"narrow":return[].concat(ot)
case"short":return[].concat(at)
case"long":return[].concat(st)
default:return null}}function ct(e,t){for(var n,r="",i=f(e);!(n=i()).done;){var s=n.value
s.literal?r+=s.val:r+=t(s.val)}return r}var ut={D:T,DD:I,DDD:E,DDDD:k,t:C,tt:A,ttt:L,tttt:R,T:P,TT:F,TTT:N,TTTT:D,f:V,ff:G,fff:B,ffff:H,F:U,FF:z,FFF:$,FFFF:W},dt=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,n){return void 0===n&&(n={}),new e(t,n)},e.parseFormat=function(e){for(var t=null,n="",r=!1,i=[],s=0;s<e.length;s++){var a=e.charAt(s)
"'"===a?(n.length>0&&i.push({literal:r,val:n}),t=null,n="",r=!r):r||a===t?n+=a:(n.length>0&&i.push({literal:!1,val:n}),n=a,t=a)}return n.length>0&&i.push({literal:r,val:n}),i},e.macroTokenToFormatOpts=function(e){return ut[e]}
var t=e.prototype
return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,s({},this.opts,t)).format()},t.formatDateTime=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,s({},this.opts,t)).format()},t.formatDateTimeParts=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,s({},this.opts,t)).formatToParts()},t.formatInterval=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e.start,s({},this.opts,t)).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())},t.resolvedOptions=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,s({},this.opts,t)).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return Le(e,t)
var n=s({},this.opts)
return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)},t.formatDateTimeFromString=function(t,n){var r=this,i="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,a=function(e,n){return r.loc.extract(t,e,n)},o=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},l=function(e,n){return i?function(e,t){return Qe(t)[e.month-1]}(t,e):a(n?{month:e}:{month:e,day:"numeric"},"month")},c=function(e,n){return i?function(e,t){return rt(t)[e.weekday-1]}(t,e):a(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},u=function(e){return i?function(e,t){return lt(t)[e.year<0?0:1]}(t,e):a({era:e},"era")}
return ct(e.parseFormat(n),(function(n){switch(n){case"S":return r.num(t.millisecond)
case"u":case"SSS":return r.num(t.millisecond,3)
case"s":return r.num(t.second)
case"ss":return r.num(t.second,2)
case"uu":return r.num(Math.floor(t.millisecond/10),2)
case"uuu":return r.num(Math.floor(t.millisecond/100))
case"m":return r.num(t.minute)
case"mm":return r.num(t.minute,2)
case"h":return r.num(t.hour%12==0?12:t.hour%12)
case"hh":return r.num(t.hour%12==0?12:t.hour%12,2)
case"H":return r.num(t.hour)
case"HH":return r.num(t.hour,2)
case"Z":return o({format:"narrow",allowZ:r.opts.allowZ})
case"ZZ":return o({format:"short",allowZ:r.opts.allowZ})
case"ZZZ":return o({format:"techie",allowZ:r.opts.allowZ})
case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:r.loc.locale})
case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:r.loc.locale})
case"z":return t.zoneName
case"a":return i?function(e){return it[e.hour<12?0:1]}(t):a({hour:"numeric",hourCycle:"h12"},"dayperiod")
case"d":return s?a({day:"numeric"},"day"):r.num(t.day)
case"dd":return s?a({day:"2-digit"},"day"):r.num(t.day,2)
case"c":return r.num(t.weekday)
case"ccc":return c("short",!0)
case"cccc":return c("long",!0)
case"ccccc":return c("narrow",!0)
case"E":return r.num(t.weekday)
case"EEE":return c("short",!1)
case"EEEE":return c("long",!1)
case"EEEEE":return c("narrow",!1)
case"L":return s?a({month:"numeric",day:"numeric"},"month"):r.num(t.month)
case"LL":return s?a({month:"2-digit",day:"numeric"},"month"):r.num(t.month,2)
case"LLL":return l("short",!0)
case"LLLL":return l("long",!0)
case"LLLLL":return l("narrow",!0)
case"M":return s?a({month:"numeric"},"month"):r.num(t.month)
case"MM":return s?a({month:"2-digit"},"month"):r.num(t.month,2)
case"MMM":return l("short",!1)
case"MMMM":return l("long",!1)
case"MMMMM":return l("narrow",!1)
case"y":return s?a({year:"numeric"},"year"):r.num(t.year)
case"yy":return s?a({year:"2-digit"},"year"):r.num(t.year.toString().slice(-2),2)
case"yyyy":return s?a({year:"numeric"},"year"):r.num(t.year,4)
case"yyyyyy":return s?a({year:"numeric"},"year"):r.num(t.year,6)
case"G":return u("short")
case"GG":return u("long")
case"GGGGG":return u("narrow")
case"kk":return r.num(t.weekYear.toString().slice(-2),2)
case"kkkk":return r.num(t.weekYear,4)
case"W":return r.num(t.weekNumber)
case"WW":return r.num(t.weekNumber,2)
case"o":return r.num(t.ordinal)
case"ooo":return r.num(t.ordinal,3)
case"q":return r.num(t.quarter)
case"qq":return r.num(t.quarter,2)
case"X":return r.num(Math.floor(t.ts/1e3))
case"x":return r.num(t.ts)
default:return function(n){var i=e.macroTokenToFormatOpts(n)
return i?r.formatWithSystemDefault(t,i):n}(n)}}))},t.formatDurationFromString=function(t,n){var r,i=this,s=function(e){switch(e[0]){case"S":return"millisecond"
case"s":return"second"
case"m":return"minute"
case"h":return"hour"
case"d":return"day"
case"w":return"week"
case"M":return"month"
case"y":return"year"
default:return null}},a=e.parseFormat(n),o=a.reduce((function(e,t){var n=t.literal,r=t.val
return n?e:e.concat(r)}),[]),l=t.shiftTo.apply(t,o.map(s).filter((function(e){return e})))
return ct(a,(r=l,function(e){var t=s(e)
return t?i.num(r.get(t),e.length):e}))},e}(),ht=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),pt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/
function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r=t.reduce((function(e,t){return e+t.source}),"")
return RegExp("^"+r+"$")}function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
return function(e){return t.reduce((function(t,n){var r=t[0],i=t[1],a=t[2],o=n(e,a),l=o[0],c=o[1],u=o[2]
return[s({},r,l),c||i,u]}),[{},null,1]).slice(0,2)}}function mt(e){if(null==e)return[null,null]
for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
for(var i=0,s=n;i<s.length;i++){var a=s[i],o=a[0],l=a[1],c=o.exec(e)
if(c)return l(c)}return[null,null]}function yt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
return function(e,n){var r,i={}
for(r=0;r<t.length;r++)i[t[r]]=Re(e[n+r])
return[i,null,n+r]}}var gt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,vt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ot=RegExp(vt.source+"(?:"+gt.source+"?(?:\\[("+pt.source+")\\])?)?"),jt=RegExp("(?:T"+Ot.source+")?"),wt=yt("weekYear","weekNumber","weekDay"),_t=yt("year","ordinal"),St=RegExp(vt.source+" ?(?:"+gt.source+"|("+pt.source+"))?"),xt=RegExp("(?: "+St.source+")?")
function Tt(e,t,n){var r=e[t]
return Te(r)?n:Re(r)}function It(e,t){return[{hours:Tt(e,t,0),minutes:Tt(e,t+1,0),seconds:Tt(e,t+2,0),milliseconds:Fe(e[t+3])},null,t+4]}function Mt(e,t){var n=!e[t]&&!e[t+1],r=$e(e[t+1],e[t+2])
return[{},n?null:be.instance(r),t+3]}function Et(e,t){return[{},e[t]?ee.create(e[t]):null,t+1]}var kt=RegExp("^T?"+vt.source+"$"),Ct=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/
function At(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u="-"===t[0],d=l&&"-"===l[0],h=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&u)?-e:e}
return[{years:h(Pe(n)),months:h(Pe(r)),weeks:h(Pe(i)),days:h(Pe(s)),hours:h(Pe(a)),minutes:h(Pe(o)),seconds:h(Pe(l),"-0"===l),milliseconds:h(Fe(c),d)}]}var Lt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480}
function Rt(e,t,n,r,i,s,a){var o={year:2===t.length?qe(Re(t)):Re(t),month:Ye.indexOf(n)+1,day:Re(r),hour:Re(i),minute:Re(s)}
return a&&(o.second=Re(a)),e&&(o.weekday=e.length>3?et.indexOf(e)+1:tt.indexOf(e)+1),o}var Pt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/
function Ft(e){var t,n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=Rt(n,s,i,r,a,o,l)
return t=c?Lt[c]:u?0:$e(d,h),[p,new be(t)]}var Nt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Dt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Vt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/
function Ut(e){var t=e[1],n=e[2],r=e[3]
return[Rt(t,e[4],r,n,e[5],e[6],e[7]),be.utcInstance]}function Gt(e){var t=e[1],n=e[2],r=e[3],i=e[4],s=e[5],a=e[6]
return[Rt(t,e[7],n,r,i,s,a),be.utcInstance]}var zt=ft(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,jt),qt=ft(/(\d{4})-?W(\d\d)(?:-?(\d))?/,jt),Bt=ft(/(\d{4})-?(\d{3})/,jt),$t=ft(Ot),Ht=bt((function(e,t){return[{year:Tt(e,t),month:Tt(e,t+1,1),day:Tt(e,t+2,1)},null,t+3]}),It,Mt,Et),Wt=bt(wt,It,Mt,Et),Zt=bt(_t,It,Mt,Et),Kt=bt(It,Mt,Et),Jt=bt(It),Yt=ft(/(\d{4})-(\d\d)-(\d\d)/,xt),Xt=ft(St),Qt=bt(It,Mt,Et),en={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},tn=s({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},en),nn=s({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},en),rn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],sn=rn.slice(0).reverse()
function an(e,t,n){void 0===n&&(n=!1)
var r={values:n?t.values:s({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix}
return new ln(r)}function on(e,t,n,r,i){var s=e[i][n],a=t[n]/s,o=Math.sign(a)!==Math.sign(r[i])&&0!==r[i]&&Math.abs(a)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(a):Math.trunc(a)
r[i]+=o,t[n]-=o*s}var ln=function(){function e(e){var t="longterm"===e.conversionAccuracy||!1,n=t?nn:tn
e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||pe.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}e.fromMillis=function(t,n){return e.fromObject({milliseconds:t},n)},e.fromObject=function(t,n){if(void 0===n&&(n={}),null==t||"object"!=typeof t)throw new j("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t))
return new e({values:We(t,e.normalizeUnit),loc:pe.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})},e.fromDurationLike=function(t){if(Ie(t))return e.fromMillis(t)
if(e.isDuration(t))return t
if("object"==typeof t)return e.fromObject(t)
throw new j("Unknown duration argument "+t+" of type "+typeof t)},e.fromISO=function(t,n){var r=function(e){return mt(e,[Ct,At])}(t)[0]
return r?e.fromObject(r,n):e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.fromISOTime=function(t,n){var r=function(e){return mt(e,[kt,Jt])}(t)[0]
return r?e.fromObject(r,n):e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new j("need to specify a reason the Duration is invalid")
var r=t instanceof ht?t:new ht(t,n)
if(xe.throwOnInvalid)throw new g(r)
return new e({invalid:r})},e.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e]
if(!t)throw new O(e)
return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1}
var t=e.prototype
return t.toFormat=function(e,t){void 0===t&&(t={})
var n=s({},t,{floor:!1!==t.round&&!1!==t.floor})
return this.isValid?dt.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"},t.toHuman=function(e){var t=this
void 0===e&&(e={})
var n=rn.map((function(n){var r=t.values[n]
return Te(r)?null:t.loc.numberFormatter(s({style:"unit",unitDisplay:"long"},e,{unit:n.slice(0,-1)})).format(r)})).filter((function(e){return e}))
return this.loc.listFormatter(s({type:"conjunction",style:e.listStyle||"narrow"},e)).format(n)},t.toObject=function(){return this.isValid?s({},this.values):{}},t.toISO=function(){if(!this.isValid)return null
var e="P"
return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ne(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null
var t=this.toMillis()
if(t<0||t>=864e5)return null
e=s({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e)
var n=this.shiftTo("hours","minutes","seconds","milliseconds"),r="basic"===e.format?"hhmm":"hh:mm"
e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(r+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(r+=".SSS"))
var i=n.toFormat(r)
return e.includePrefix&&(i="T"+i),i},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(t){if(!this.isValid)return this
for(var n=e.fromDurationLike(t),r={},i=0,s=rn;i<s.length;i++){var a=s[i];(Ce(n.values,a)||Ce(this.values,a))&&(r[a]=n.get(a)+this.get(a))}return an(this,{values:r},!0)},t.minus=function(t){if(!this.isValid)return this
var n=e.fromDurationLike(t)
return this.plus(n.negate())},t.mapUnits=function(e){if(!this.isValid)return this
for(var t={},n=0,r=Object.keys(this.values);n<r.length;n++){var i=r[n]
t[i]=He(e(this.values[i],i))}return an(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){return this.isValid?an(this,{values:s({},this.values,We(t,e.normalizeUnit))}):this},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,i=t.conversionAccuracy,s=t.matrix
return an(this,{loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:s,conversionAccuracy:i})},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this
var e=this.toObject()
return function(e,t){sn.reduce((function(n,r){return Te(t[r])?n:(n&&on(e,t,n,t,r),r)}),null)}(this.matrix,e),an(this,{values:e},!0)},t.rescale=function(){return this.isValid?an(this,{values:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],s=i[0],a=i[1]
0!==a&&(t[s]=a)}return t}(this.normalize().shiftToAll().toObject())},!0):this},t.shiftTo=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
if(!this.isValid)return this
if(0===n.length)return this
n=n.map((function(t){return e.normalizeUnit(t)}))
for(var i,s={},a={},o=this.toObject(),l=0,c=rn;l<c.length;l++){var u=c[l]
if(n.indexOf(u)>=0){i=u
var d=0
for(var h in a)d+=this.matrix[h][u]*a[h],a[h]=0
Ie(o[u])&&(d+=o[u])
var p=Math.trunc(d)
for(var f in s[u]=p,a[u]=(1e3*d-1e3*p)/1e3,o)rn.indexOf(f)>rn.indexOf(u)&&on(this.matrix,o,f,s,u)}else Ie(o[u])&&(a[u]=o[u])}for(var b in a)0!==a[b]&&(s[i]+=b===i?a[b]:a[b]/this.matrix[i][b])
return an(this,{values:s},!0).normalize()},t.shiftToAll=function(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this},t.negate=function(){if(!this.isValid)return this
for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var r=n[t]
e[r]=0===this.values[r]?0:-this.values[r]}return an(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1
if(!this.loc.equals(e.loc))return!1
for(var t=0,n=rn;t<n.length;t++){var r=n[t]
if(i=this.values[r],s=e.values[r],!(void 0===i||0===i?void 0===s||0===s:i===s))return!1}var i,s
return!0},i(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),cn="Invalid Interval"
var un=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new j("need to specify a reason the Interval is invalid")
var r=t instanceof ht?t:new ht(t,n)
if(xe.throwOnInvalid)throw new y(r)
return new e({invalid:r})},e.fromDateTimes=function(t,n){var r=dr(t),i=dr(n),s=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?un.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:un.invalid("missing or invalid end"):un.invalid("missing or invalid start")}(r,i)
return null==s?new e({start:r,end:i}):s},e.after=function(t,n){var r=ln.fromDurationLike(n),i=dr(t)
return e.fromDateTimes(i,i.plus(r))},e.before=function(t,n){var r=ln.fromDurationLike(n),i=dr(t)
return e.fromDateTimes(i.minus(r),i)},e.fromISO=function(t,n){var r=(t||"").split("/",2),i=r[0],s=r[1]
if(i&&s){var a,o,l,c
try{o=(a=ur.fromISO(i,n)).isValid}catch(s){o=!1}try{c=(l=ur.fromISO(s,n)).isValid}catch(s){c=!1}if(o&&c)return e.fromDateTimes(a,l)
if(o){var u=ln.fromISO(s,n)
if(u.isValid)return e.after(a,u)}else if(c){var d=ln.fromISO(i,n)
if(d.isValid)return e.before(l,d)}}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.isInterval=function(e){return e&&e.isLuxonInterval||!1}
var t=e.prototype
return t.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN
var t=this.start.startOf(e),n=this.end.startOf(e)
return Math.floor(n.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&this.s<=e&&this.e>e},t.set=function(t){var n=void 0===t?{}:t,r=n.start,i=n.end
return this.isValid?e.fromDateTimes(r||this.s,i||this.e):this},t.splitAt=function(){var t=this
if(!this.isValid)return[]
for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
for(var s=r.map(dr).filter((function(e){return t.contains(e)})).sort(),a=[],o=this.s,l=0;o<this.e;){var c=s[l]||this.e,u=+c>+this.e?this.e:c
a.push(e.fromDateTimes(o,u)),o=u,l+=1}return a},t.splitBy=function(t){var n=ln.fromDurationLike(t)
if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[]
for(var r,i=this.s,s=1,a=[];i<this.e;){var o=this.start.plus(n.mapUnits((function(e){return e*s})))
r=+o>+this.e?this.e:o,a.push(e.fromDateTimes(i,r)),i=r,s+=1}return a},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e==+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e==+this.s},t.engulfs=function(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e},t.equals=function(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)},t.intersection=function(t){if(!this.isValid)return this
var n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e
return n>=r?null:e.fromDateTimes(n,r)},t.union=function(t){if(!this.isValid)return this
var n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e
return e.fromDateTimes(n,r)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=e[0],r=e[1]
return r?r.overlaps(t)||r.abutsStart(t)?[n,r.union(t)]:[n.concat([r]),t]:[n,t]}),[[],null]),n=t[0],r=t[1]
return r&&n.push(r),n},e.xor=function(t){for(var n,r,i=null,s=0,a=[],o=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=f((n=Array.prototype).concat.apply(n,o).sort((function(e,t){return e.time-t.time})));!(r=l()).done;){var c=r.value
1===(s+="s"===c.type?1:-1)?i=c.time:(i&&+i!=+c.time&&a.push(e.fromDateTimes(i,c.time)),i=null)}return e.merge(a)},t.difference=function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return e.xor([this].concat(r)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?"["+this.s.toISO()+"  "+this.e.toISO()+")":cn},t.toLocaleString=function(e,t){return void 0===e&&(e=T),void 0===t&&(t={}),this.isValid?dt.create(this.s.loc.clone(t),e).formatInterval(this):cn},t.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):cn},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():cn},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):cn},t.toFormat=function(e,t){var n=(void 0===t?{}:t).separator,r=void 0===n?"  ":n
return this.isValid?""+this.s.toFormat(e)+r+this.e.toFormat(e):cn},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):ln.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},i(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),dn=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=xe.defaultZone)
var t=ur.now().setZone(e).set({month:12})
return!e.isUniversal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return ee.isValidZone(e)},e.normalizeZone=function(e){return ye(e,xe.defaultZone)},e.months=function(e,t){void 0===e&&(e="long")
var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s,o=n.locObj,l=void 0===o?null:o,c=n.outputCalendar,u=void 0===c?"gregory":c
return(l||pe.create(i,a,u)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long")
var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s,o=n.locObj,l=void 0===o?null:o,c=n.outputCalendar,u=void 0===c?"gregory":c
return(l||pe.create(i,a,u)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long")
var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s,o=n.locObj
return((void 0===o?null:o)||pe.create(i,a,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long")
var n=void 0===t?{}:t,r=n.locale,i=void 0===r?null:r,s=n.numberingSystem,a=void 0===s?null:s,o=n.locObj
return((void 0===o?null:o)||pe.create(i,a,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,n=void 0===t?null:t
return pe.create(n).meridiems()},e.eras=function(e,t){void 0===e&&(e="short")
var n=(void 0===t?{}:t).locale,r=void 0===n?null:n
return pe.create(r,null,"gregory").eras(e)},e.features=function(){return{relative:Ee()}},e}()
function hn(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=n(t)-n(e)
return Math.floor(ln.fromMillis(r).as("days"))}var pn={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},fn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},bn=pn.hanidec.replace(/[\[|\]]/g,"").split("")
function mn(e,t){var n=e.numberingSystem
return void 0===t&&(t=""),new RegExp(""+pn[n||"latn"]+t)}function yn(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var n=e[0]
return t(function(e){var t=parseInt(e,10)
if(isNaN(t)){t=""
for(var n=0;n<e.length;n++){var r=e.charCodeAt(n)
if(-1!==e[n].search(pn.hanidec))t+=bn.indexOf(e[n])
else for(var i in fn){var s=fn[i],a=s[0],o=s[1]
r>=a&&r<=o&&(t+=r-a)}}return parseInt(t,10)}return t}(n))}}}var gn="[ "+String.fromCharCode(160)+"]",vn=new RegExp(gn,"g")
function On(e){return e.replace(/\./g,"\\.?").replace(vn,gn)}function jn(e){return e.replace(/\./g,"").replace(vn," ").toLowerCase()}function wn(e,t){return null===e?null:{regex:RegExp(e.map(On).join("|")),deser:function(n){var r=n[0]
return e.findIndex((function(e){return jn(r)===jn(e)}))+t}}}function _n(e,t){return{regex:e,deser:function(e){return $e(e[1],e[2])},groups:t}}function Sn(e){return{regex:e,deser:function(e){return e[0]}}}var xn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}},Tn=null
function In(e,t){var n
return(n=Array.prototype).concat.apply(n,e.map((function(e){return function(e,t){if(e.literal)return e
var n=En(dt.macroTokenToFormatOpts(e.val),t)
return null==n||n.includes(void 0)?e:n}(e,t)})))}function Mn(e,t,n){var r=In(dt.parseFormat(n),e),i=r.map((function(t){return n=t,i=mn(r=e),s=mn(r,"{2}"),a=mn(r,"{3}"),o=mn(r,"{4}"),l=mn(r,"{6}"),c=mn(r,"{1,2}"),u=mn(r,"{1,3}"),d=mn(r,"{1,6}"),h=mn(r,"{1,9}"),p=mn(r,"{2,4}"),f=mn(r,"{4,6}"),b=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return e[0]},literal:!0}
var t},(m=function(e){if(n.literal)return b(e)
switch(e.val){case"G":return wn(r.eras("short",!1),0)
case"GG":return wn(r.eras("long",!1),0)
case"y":return yn(d)
case"yy":return yn(p,qe)
case"yyyy":return yn(o)
case"yyyyy":return yn(f)
case"yyyyyy":return yn(l)
case"M":return yn(c)
case"MM":return yn(s)
case"MMM":return wn(r.months("short",!0,!1),1)
case"MMMM":return wn(r.months("long",!0,!1),1)
case"L":return yn(c)
case"LL":return yn(s)
case"LLL":return wn(r.months("short",!1,!1),1)
case"LLLL":return wn(r.months("long",!1,!1),1)
case"d":return yn(c)
case"dd":return yn(s)
case"o":return yn(u)
case"ooo":return yn(a)
case"HH":return yn(s)
case"H":return yn(c)
case"hh":return yn(s)
case"h":return yn(c)
case"mm":return yn(s)
case"m":case"q":return yn(c)
case"qq":return yn(s)
case"s":return yn(c)
case"ss":return yn(s)
case"S":return yn(u)
case"SSS":return yn(a)
case"u":return Sn(h)
case"uu":return Sn(c)
case"uuu":return yn(i)
case"a":return wn(r.meridiems(),0)
case"kkkk":return yn(o)
case"kk":return yn(p,qe)
case"W":return yn(c)
case"WW":return yn(s)
case"E":case"c":return yn(i)
case"EEE":return wn(r.weekdays("short",!1,!1),1)
case"EEEE":return wn(r.weekdays("long",!1,!1),1)
case"ccc":return wn(r.weekdays("short",!0,!1),1)
case"cccc":return wn(r.weekdays("long",!0,!1),1)
case"Z":case"ZZ":return _n(new RegExp("([+-]"+c.source+")(?::("+s.source+"))?"),2)
case"ZZZ":return _n(new RegExp("([+-]"+c.source+")("+s.source+")?"),2)
case"z":return Sn(/[a-z_+-/]{1,256}?/i)
default:return b(e)}}(n)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"}).token=n,m
var n,r,i,s,a,o,l,c,u,d,h,p,f,b,m})),s=i.find((function(e){return e.invalidReason}))
if(s)return{input:t,tokens:r,invalidReason:s.invalidReason}
var a=function(e){return["^"+e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"")+"$",e]}(i),o=a[0],l=a[1],c=RegExp(o,"i"),u=function(e,t,n){var r=e.match(t)
if(r){var i={},s=1
for(var a in n)if(Ce(n,a)){var o=n[a],l=o.groups?o.groups+1:1
!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+l))),s+=l}return[r,i]}return[r,{}]}(t,c,l),d=u[0],h=u[1],p=h?function(e){var t,n=null
return Te(e.z)||(n=ee.create(e.z)),Te(e.Z)||(n||(n=new be(e.Z)),t=e.Z),Te(e.q)||(e.M=3*(e.q-1)+1),Te(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Te(e.u)||(e.S=Fe(e.u)),[Object.keys(e).reduce((function(t,n){var r=function(e){switch(e){case"S":return"millisecond"
case"s":return"second"
case"m":return"minute"
case"h":case"H":return"hour"
case"d":return"day"
case"o":return"ordinal"
case"L":case"M":return"month"
case"y":return"year"
case"E":case"c":return"weekday"
case"W":return"weekNumber"
case"k":return"weekYear"
case"q":return"quarter"
default:return null}}(n)
return r&&(t[r]=e[n]),t}),{}),n,t]}(h):[null,null,void 0],f=p[0],b=p[1],m=p[2]
if(Ce(h,"a")&&Ce(h,"H"))throw new v("Can't include meridiem when specifying 24-hour format")
return{input:t,tokens:r,regex:c,rawMatches:d,matches:h,result:f,zone:b,specificOffset:m}}function En(e,t){return e?dt.create(t,e).formatDateTimeParts((Tn||(Tn=ur.fromMillis(1555555555555)),Tn)).map((function(t){return function(e,t){var n=e.type,r=e.value
if("literal"===n)return{literal:!0,val:r}
var i=t[n],s=xn[n]
return"object"==typeof s&&(s=s[i]),s?{literal:!1,val:s}:void 0}(t,e)})):null}var kn=[0,31,59,90,120,151,181,212,243,273,304,334],Cn=[0,31,60,91,121,152,182,213,244,274,305,335]
function An(e,t){return new ht("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function Ln(e,t,n){var r=new Date(Date.UTC(e,t-1,n))
e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900)
var i=r.getUTCDay()
return 0===i?7:i}function Rn(e,t,n){return n+(De(e)?Cn:kn)[t-1]}function Pn(e,t){var n=De(e)?Cn:kn,r=n.findIndex((function(e){return e<t}))
return{month:r+1,day:t-n[r]}}function Fn(e){var t,n=e.year,r=e.month,i=e.day,a=Rn(n,r,i),o=Ln(n,r,i),l=Math.floor((a-o+10)/7)
return l<1?l=ze(t=n-1):l>ze(n)?(t=n+1,l=1):t=n,s({weekYear:t,weekNumber:l,weekday:o},Ke(e))}function Nn(e){var t,n=e.weekYear,r=e.weekNumber,i=e.weekday,a=Ln(n,1,4),o=Ve(n),l=7*r+i-a-3
l<1?l+=Ve(t=n-1):l>o?(t=n+1,l-=Ve(n)):t=n
var c=Pn(t,l)
return s({year:t,month:c.month,day:c.day},Ke(e))}function Dn(e){var t=e.year
return s({year:t,ordinal:Rn(t,e.month,e.day)},Ke(e))}function Vn(e){var t=e.year,n=Pn(t,e.ordinal)
return s({year:t,month:n.month,day:n.day},Ke(e))}function Un(e){var t=Me(e.year),n=Ae(e.month,1,12),r=Ae(e.day,1,Ue(e.year,e.month))
return t?n?!r&&An("day",e.day):An("month",e.month):An("year",e.year)}function Gn(e){var t=e.hour,n=e.minute,r=e.second,i=e.millisecond,s=Ae(t,0,23)||24===t&&0===n&&0===r&&0===i,a=Ae(n,0,59),o=Ae(r,0,59),l=Ae(i,0,999)
return s?a?o?!l&&An("millisecond",i):An("second",r):An("minute",n):An("hour",t)}var zn="Invalid DateTime"
function qn(e){return new ht("unsupported zone",'the zone "'+e.name+'" is not supported')}function Bn(e){return null===e.weekData&&(e.weekData=Fn(e.c)),e.weekData}function $n(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid}
return new ur(s({},n,t,{old:n}))}function Hn(e,t,n){var r=e-60*t*1e3,i=n.offset(r)
if(t===i)return[r,t]
r-=60*(i-t)*1e3
var s=n.offset(r)
return i===s?[r,i]:[e-60*Math.min(i,s)*1e3,Math.max(i,s)]}function Wn(e,t){var n=new Date(e+=60*t*1e3)
return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Zn(e,t,n){return Hn(Ge(e),t,n)}function Kn(e,t){var n=e.o,r=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a=s({},e.c,{year:r,month:i,day:Math.min(e.c.day,Ue(r,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),o=ln.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=Hn(Ge(a),n,e.zone),c=l[0],u=l[1]
return 0!==o&&(c+=o,u=e.zone.offset(c)),{ts:c,o:u}}function Jn(e,t,n,r,i,a){var o=n.setZone,l=n.zone
if(e&&0!==Object.keys(e).length){var c=t||l,u=ur.fromObject(e,s({},n,{zone:c,specificOffset:a}))
return o?u:u.setZone(l)}return ur.invalid(new ht("unparsable",'the input "'+i+"\" can't be parsed as "+r))}function Yn(e,t,n){return void 0===n&&(n=!0),e.isValid?dt.create(pe.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Xn(e,t){var n=e.c.year>9999||e.c.year<0,r=""
return n&&e.c.year>=0&&(r+="+"),r+=Le(e.c.year,n?6:4),t?(r+="-",r+=Le(e.c.month),r+="-",r+=Le(e.c.day)):(r+=Le(e.c.month),r+=Le(e.c.day)),r}function Qn(e,t,n,r,i,s){var a=Le(e.c.hour)
return t?(a+=":",a+=Le(e.c.minute),0===e.c.second&&n||(a+=":")):a+=Le(e.c.minute),0===e.c.second&&n||(a+=Le(e.c.second),0===e.c.millisecond&&r||(a+=".",a+=Le(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!s?a+="Z":e.o<0?(a+="-",a+=Le(Math.trunc(-e.o/60)),a+=":",a+=Le(Math.trunc(-e.o%60))):(a+="+",a+=Le(Math.trunc(e.o/60)),a+=":",a+=Le(Math.trunc(e.o%60)))),s&&(a+="["+e.zone.ianaName+"]"),a}var er={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},tr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},nr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},rr=["year","month","day","hour","minute","second","millisecond"],ir=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],sr=["year","ordinal","hour","minute","second","millisecond"]
function ar(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()]
if(!t)throw new O(e)
return t}function or(e,t){var n,r,i=ye(t.zone,xe.defaultZone),s=pe.fromObject(t),a=xe.now()
if(Te(e.year))n=a
else{for(var o=0,l=rr;o<l.length;o++){var c=l[o]
Te(e[c])&&(e[c]=er[c])}var u=Un(e)||Gn(e)
if(u)return ur.invalid(u)
var d=Zn(e,i.offset(a),i)
n=d[0],r=d[1]}return new ur({ts:n,zone:i,loc:s,o:r})}function lr(e,t,n){var r=!!Te(n.round)||n.round,i=function(e,i){return e=Ne(e,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,i)},s=function(r){return n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)}
if(n.unit)return i(s(n.unit),n.unit)
for(var a,o=f(n.units);!(a=o()).done;){var l=a.value,c=s(l)
if(Math.abs(c)>=1)return i(c,l)}return i(e>t?-0:0,n.units[n.units.length-1])}function cr(e){var t,n={}
return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}var ur=function(){function e(e){var t=e.zone||xe.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new ht("invalid input"):null)||(t.isValid?null:qn(t))
this.ts=Te(e.ts)?xe.now():e.ts
var r=null,i=null
if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var s=[e.old.c,e.old.o]
r=s[0],i=s[1]}else{var a=t.offset(this.ts)
r=Wn(this.ts,a),r=(n=Number.isNaN(r.year)?new ht("invalid input"):null)?null:r,i=n?null:a}this._zone=t,this.loc=e.loc||pe.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(){var e=cr(arguments),t=e[0],n=e[1],r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],c=n[6]
return or({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:c},t)},e.utc=function(){var e=cr(arguments),t=e[0],n=e[1],r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],c=n[6]
return t.zone=be.utcInstance,or({year:r,month:i,day:s,hour:a,minute:o,second:l,millisecond:c},t)},e.fromJSDate=function(t,n){void 0===n&&(n={})
var r,i=(r=t,"[object Date]"===Object.prototype.toString.call(r)?t.valueOf():NaN)
if(Number.isNaN(i))return e.invalid("invalid input")
var s=ye(n.zone,xe.defaultZone)
return s.isValid?new e({ts:i,zone:s,loc:pe.fromObject(n)}):e.invalid(qn(s))},e.fromMillis=function(t,n){if(void 0===n&&(n={}),Ie(t))return t<-864e13||t>864e13?e.invalid("Timestamp out of range"):new e({ts:t,zone:ye(n.zone,xe.defaultZone),loc:pe.fromObject(n)})
throw new j("fromMillis requires a numerical input, but received a "+typeof t+" with value "+t)},e.fromSeconds=function(t,n){if(void 0===n&&(n={}),Ie(t))return new e({ts:1e3*t,zone:ye(n.zone,xe.defaultZone),loc:pe.fromObject(n)})
throw new j("fromSeconds requires a numerical input")},e.fromObject=function(t,n){void 0===n&&(n={}),t=t||{}
var r=ye(n.zone,xe.defaultZone)
if(!r.isValid)return e.invalid(qn(r))
var i=xe.now(),s=Te(n.specificOffset)?r.offset(i):n.specificOffset,a=We(t,ar),o=!Te(a.ordinal),l=!Te(a.year),c=!Te(a.month)||!Te(a.day),u=l||c,d=a.weekYear||a.weekNumber,h=pe.fromObject(n)
if((u||o)&&d)throw new v("Can't mix weekYear/weekNumber units with year/month/day or ordinals")
if(c&&o)throw new v("Can't mix ordinal dates with month/day")
var p,b,m=d||a.weekday&&!u,y=Wn(i,s)
m?(p=ir,b=tr,y=Fn(y)):o?(p=sr,b=nr,y=Dn(y)):(p=rr,b=er)
for(var g,O=!1,j=f(p);!(g=j()).done;){var w=g.value
Te(a[w])?a[w]=O?b[w]:y[w]:O=!0}var _=(m?function(e){var t=Me(e.weekYear),n=Ae(e.weekNumber,1,ze(e.weekYear)),r=Ae(e.weekday,1,7)
return t?n?!r&&An("weekday",e.weekday):An("week",e.week):An("weekYear",e.weekYear)}(a):o?function(e){var t=Me(e.year),n=Ae(e.ordinal,1,Ve(e.year))
return t?!n&&An("ordinal",e.ordinal):An("year",e.year)}(a):Un(a))||Gn(a)
if(_)return e.invalid(_)
var S=Zn(m?Nn(a):o?Vn(a):a,s,r),x=new e({ts:S[0],zone:r,o:S[1],loc:h})
return a.weekday&&u&&t.weekday!==x.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+a.weekday+" and a date of "+x.toISO()):x},e.fromISO=function(e,t){void 0===t&&(t={})
var n=function(e){return mt(e,[zt,Ht],[qt,Wt],[Bt,Zt],[$t,Kt])}(e)
return Jn(n[0],n[1],t,"ISO 8601",e)},e.fromRFC2822=function(e,t){void 0===t&&(t={})
var n=function(e){return mt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Pt,Ft])}(e)
return Jn(n[0],n[1],t,"RFC 2822",e)},e.fromHTTP=function(e,t){void 0===t&&(t={})
var n=function(e){return mt(e,[Nt,Ut],[Dt,Ut],[Vt,Gt])}(e)
return Jn(n[0],n[1],t,"HTTP",t)},e.fromFormat=function(t,n,r){if(void 0===r&&(r={}),Te(t)||Te(n))throw new j("fromFormat requires an input string and a format")
var i=r,s=i.locale,a=void 0===s?null:s,o=i.numberingSystem,l=void 0===o?null:o,c=function(e,t,n){var r=Mn(e,t,n)
return[r.result,r.zone,r.specificOffset,r.invalidReason]}(pe.fromOpts({locale:a,numberingSystem:l,defaultToEN:!0}),t,n),u=c[0],d=c[1],h=c[2],p=c[3]
return p?e.invalid(p):Jn(u,d,r,"format "+n,t,h)},e.fromString=function(t,n,r){return void 0===r&&(r={}),e.fromFormat(t,n,r)},e.fromSQL=function(e,t){void 0===t&&(t={})
var n=function(e){return mt(e,[Yt,Ht],[Xt,Qt])}(e)
return Jn(n[0],n[1],t,"SQL",e)},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new j("need to specify a reason the DateTime is invalid")
var r=t instanceof ht?t:new ht(t,n)
if(xe.throwOnInvalid)throw new m(r)
return new e({invalid:r})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1},e.parseFormatForOpts=function(e,t){void 0===t&&(t={})
var n=En(e,pe.fromObject(t))
return n?n.map((function(e){return e?e.val:null})).join(""):null},e.expandFormat=function(e,t){return void 0===t&&(t={}),In(dt.parseFormat(e),pe.fromObject(t)).map((function(e){return e.val})).join("")}
var t=e.prototype
return t.get=function(e){return this[e]},t.resolvedLocaleOptions=function(e){void 0===e&&(e={})
var t=dt.create(this.loc.clone(e),e).resolvedOptions(this)
return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(be.instance(e),t)},t.toLocal=function(){return this.setZone(xe.defaultZone)},t.setZone=function(t,n){var r=void 0===n?{}:n,i=r.keepLocalTime,s=void 0!==i&&i,a=r.keepCalendarTime,o=void 0!==a&&a
if((t=ye(t,xe.defaultZone)).equals(this.zone))return this
if(t.isValid){var l=this.ts
if(s||o){var c=t.offset(this.ts)
l=Zn(this.toObject(),c,t)[0]}return $n(this,{ts:l,zone:t})}return e.invalid(qn(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,r=t.numberingSystem,i=t.outputCalendar
return $n(this,{loc:this.loc.clone({locale:n,numberingSystem:r,outputCalendar:i})})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this
var t,n=We(e,ar),r=!Te(n.weekYear)||!Te(n.weekNumber)||!Te(n.weekday),i=!Te(n.ordinal),a=!Te(n.year),o=!Te(n.month)||!Te(n.day),l=a||o,c=n.weekYear||n.weekNumber
if((l||i)&&c)throw new v("Can't mix weekYear/weekNumber units with year/month/day or ordinals")
if(o&&i)throw new v("Can't mix ordinal dates with month/day")
r?t=Nn(s({},Fn(this.c),n)):Te(n.ordinal)?(t=s({},this.toObject(),n),Te(n.day)&&(t.day=Math.min(Ue(t.year,t.month),t.day))):t=Vn(s({},Dn(this.c),n))
var u=Zn(t,this.o,this.zone)
return $n(this,{ts:u[0],o:u[1]})},t.plus=function(e){return this.isValid?$n(this,Kn(this,ln.fromDurationLike(e))):this},t.minus=function(e){return this.isValid?$n(this,Kn(this,ln.fromDurationLike(e).negate())):this},t.startOf=function(e){if(!this.isValid)return this
var t={},n=ln.normalizeUnit(e)
switch(n){case"years":t.month=1
case"quarters":case"months":t.day=1
case"weeks":case"days":t.hour=0
case"hours":t.minute=0
case"minutes":t.second=0
case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){var r=Math.ceil(this.month/3)
t.month=3*(r-1)+1}return this.set(t)},t.endOf=function(e){var t
return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?dt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):zn},t.toLocaleString=function(e,t){return void 0===e&&(e=T),void 0===t&&(t={}),this.isValid?dt.create(this.loc.clone(t),e).formatDateTime(this):zn},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?dt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){var t=void 0===e?{}:e,n=t.format,r=void 0===n?"extended":n,i=t.suppressSeconds,s=void 0!==i&&i,a=t.suppressMilliseconds,o=void 0!==a&&a,l=t.includeOffset,c=void 0===l||l,u=t.extendedZone,d=void 0!==u&&u
if(!this.isValid)return null
var h="extended"===r,p=Xn(this,h)
return p+="T",p+Qn(this,h,s,o,c,d)},t.toISODate=function(e){var t=(void 0===e?{}:e).format,n=void 0===t?"extended":t
return this.isValid?Xn(this,"extended"===n):null},t.toISOWeekDate=function(){return Yn(this,"kkkk-'W'WW-c")},t.toISOTime=function(e){var t=void 0===e?{}:e,n=t.suppressMilliseconds,r=void 0!==n&&n,i=t.suppressSeconds,s=void 0!==i&&i,a=t.includeOffset,o=void 0===a||a,l=t.includePrefix,c=void 0!==l&&l,u=t.extendedZone,d=void 0!==u&&u,h=t.format,p=void 0===h?"extended":h
return this.isValid?(c?"T":"")+Qn(this,"extended"===p,s,r,o,d):null},t.toRFC2822=function(){return Yn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return Yn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return this.isValid?Xn(this,!0):null},t.toSQLTime=function(e){var t=void 0===e?{}:e,n=t.includeOffset,r=void 0===n||n,i=t.includeZone,s=void 0!==i&&i,a=t.includeOffsetSpace,o="HH:mm:ss.SSS"
return(s||r)&&((void 0===a||a)&&(o+=" "),s?o+="z":r&&(o+="ZZ")),Yn(this,o,!0)},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():zn},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{}
var t=s({},this.c)
return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,n){if(void 0===t&&(t="milliseconds"),void 0===n&&(n={}),!this.isValid||!e.isValid)return ln.invalid("created by diffing an invalid DateTime")
var r,i=s({locale:this.locale,numberingSystem:this.numberingSystem},n),a=(r=t,Array.isArray(r)?r:[r]).map(ln.normalizeUnit),o=e.valueOf()>this.valueOf(),l=function(e,t,n,r){var i,s=function(e,t,n){for(var r,i,s={},a=e,o=0,l=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter+4*(t.year-e.year)}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=hn(e,t)
return(n-n%7)/7}],["days",hn]];o<l.length;o++){var c=l[o],u=c[0],d=c[1]
n.indexOf(u)>=0&&(r=u,s[u]=d(e,t),(i=a.plus(s))>t?(s[u]--,e=a.plus(s)):e=i)}return[e,s,i,r]}(e,t,n),a=s[0],o=s[1],l=s[2],c=s[3],u=t-a,d=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}))
0===d.length&&(l<t&&(l=a.plus(((i={})[c]=1,i))),l!==a&&(o[c]=(o[c]||0)+u/(l-a)))
var h,p=ln.fromObject(o,r)
return d.length>0?(h=ln.fromMillis(u,r)).shiftTo.apply(h,d).plus(p):p}(o?this:e,o?e:this,a,i)
return o?l.negate():l},t.diffNow=function(t,n){return void 0===t&&(t="milliseconds"),void 0===n&&(n={}),this.diff(e.now(),t,n)},t.until=function(e){return this.isValid?un.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1
var n=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0})
return r.startOf(t)<=n&&n<=r.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null
var n=t.base||e.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],a=t.unit
return Array.isArray(t.unit)&&(i=t.unit,a=void 0),lr(n,this.plus(r),s({},t,{numeric:"always",units:i,unit:a}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?lr(t.base||e.fromObject({},{zone:this.zone}),this,s({},t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
if(!n.every(e.isDateTime))throw new j("min requires all arguments be DateTimes")
return ke(n,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
if(!n.every(e.isDateTime))throw new j("max requires all arguments be DateTimes")
return ke(n,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,n){void 0===n&&(n={})
var r=n,i=r.locale,s=void 0===i?null:i,a=r.numberingSystem,o=void 0===a?null:a
return Mn(pe.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0}),e,t)},e.fromStringExplain=function(t,n,r){return void 0===r&&(r={}),e.fromFormatExplain(t,n,r)},i(e,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Bn(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Bn(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Bn(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Dn(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?dn.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?dn.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?dn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?dn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return De(this.year)}},{key:"daysInMonth",get:function(){return Ue(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Ve(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?ze(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return T}},{key:"DATE_MED",get:function(){return I}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return M}},{key:"DATE_FULL",get:function(){return E}},{key:"DATE_HUGE",get:function(){return k}},{key:"TIME_SIMPLE",get:function(){return C}},{key:"TIME_WITH_SECONDS",get:function(){return A}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return L}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return R}},{key:"TIME_24_SIMPLE",get:function(){return P}},{key:"TIME_24_WITH_SECONDS",get:function(){return F}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return N}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return D}},{key:"DATETIME_SHORT",get:function(){return V}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return U}},{key:"DATETIME_MED",get:function(){return G}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return z}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return q}},{key:"DATETIME_FULL",get:function(){return B}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return $}},{key:"DATETIME_HUGE",get:function(){return H}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return W}}]),e}()
function dr(e){if(ur.isDateTime(e))return e
if(e&&e.valueOf&&Ie(e.valueOf()))return ur.fromJSDate(e)
if(e&&"object"==typeof e)return ur.fromObject(e)
throw new j("Unknown datetime argument: "+e+", of type "+typeof e)}t.DateTime=ur,t.Duration=ln,t.FixedOffsetZone=be,t.IANAZone=ee,t.Info=dn,t.Interval=un,t.InvalidZone=me,t.Settings=xe,t.SystemZone=J,t.VERSION="3.2.1",t.Zone=Z},1201:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(968),i=n(970),s=(n(971),n(445),n(969))
const a=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent
t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange)
const n=this._get("effectiveScaleRange")
return n&&n.minScale===e.minScale&&n.maxScale===e.maxScale?n:e}}
return Object(r.a)([Object(i.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),Object(r.a)([Object(i.b)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),Object(r.a)([Object(i.b)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=Object(r.a)([Object(s.a)("esri.layers.mixins.ScaleRangeLayer")],t),t}},1203:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return c}))
var r=n(991),i=n(980),s=n(1012),a=n(1011)
const o=2.4
function l(e){return Object(i.i)(e*o)}function c(e){return Object(i.h)(e)/o}function u(e,t,n,i){let{color:a,ratio:o}=t,{color:l,ratio:c}=n
if(c===o){const e=1e-6
1===c?o-=e:c+=e}const u=Object(r.f)((i-o)/(c-o),0,1)
Object(s.j)(e,a.toArray(),l.toArray(),u)}function d(e){const t=new Uint8ClampedArray(2048)
if((e=e.filter(({ratio:e})=>e>=0&&e<=1).sort((e,t)=>e.ratio-t.ratio).map(({color:e,ratio:t})=>({color:e,ratio:Math.max(t,.001)}))).length<1)return t
let n=e[0],r=e[0],i=1
const s=Object(a.e)()
for(let a=0;a<512;a++){const o=(a+.5)/512
for(;o>r.ratio&&i<e.length;)n=r,r=e[i++]
u(s,n,r,o),t.set(s,4*a)}return t}function h(e,t,n,r){const{radius:s,fieldOffset:a,field:o}=t,l=Math.round(Object(i.h)(s)),c=new Float64Array(n*r)
let u,d=Number.NEGATIVE_INFINITY
const h=function(e,t){return null!=e?"string"==typeof t?t=>-1*+t.readAttribute(e):n=>+n.readAttribute(e)+t:e=>1}(o,a),p=new Set
for(const t of e){const e=t.getCursor()
for(;e.next();){const t=e.getObjectId()
if(p.has(t))continue
p.add(t)
const i=e.readLegacyPointGeometry(),s=128
if(i.x<-s||i.x>=n+s||i.y<-s||i.y>r+s)continue
const a=+h(e),o=Math.max(0,Math.round(i.x)-l),b=Math.max(0,Math.round(i.y)-l),m=Math.min(r,Math.round(i.y)+l),y=Math.min(n,Math.round(i.x)+l)
for(let e=b;e<m;e++)for(let t=o;t<y;t++){const r=e*n+t,s=f(i.x-t,i.y-e,l)
u=c[r]+=s*a,u>d&&(d=u)}}}return{matrix:c.buffer,max:d}}function p(e,t,n,i,s,a){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t)
const o=e.getImageData(0,0,t,t)
n&&i&&o.data.set(new Uint8ClampedArray(function(e,t,n,i,s){const a=new Uint32Array(e*e),o="buffer"in t?t:new Float64Array(t),l="buffer"in n?new Uint32Array(n.buffer):new Uint32Array(new Uint8Array(n).buffer),c=l.length/(s-i)
for(let e=0;e<o.length;e++){const t=o[e],n=Math.floor((t-i)*c)
a[e]=l[Object(r.f)(n,0,l.length-1)]}return a.buffer}(t,n,i,s,a))),e.putImageData(o,0,0)}function f(e,t,n){const r=Math.sqrt(e**2+t**2)/n
return r>1?0:3/(Math.PI*n**2)*(1-r**2)**2}function b(e,t){return"function"==typeof e?e:e?"string"==typeof t?t=>-1*+t[e]:n=>+n[e]+t:()=>1}},1205:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(998)
function i(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`)
return{value:s(e[t])}}}function s(e){return function(t,...n){!function(e){const t=null==e?void 0:e.type
return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...n):Object(r.d)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())}}},1206:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(976)
const i=Object(r.b)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},1207:function(e,t,n){"use strict"
function r(e){return 32+e.length}function i(e){return 16}function s(e){if(!e)return 0
let t=c
for(const n in e)if(e.hasOwnProperty(n)){const i=e[n]
switch(typeof i){case"string":t+=r(i)
break
case"number":t+=16
break
case"boolean":t+=4}}return t}function a(e){if(!e)return 0
if(Array.isArray(e))return function(e){const t=e.length
if(0===t||"number"==typeof e[0])return 32+8*t
let n=u
for(let r=0;r<t;r++)n+=o(e[r])
return n}(e)
let t=c
for(const n in e)e.hasOwnProperty(n)&&(t+=o(e[n]))
return t}function o(e){switch(typeof e){case"object":return a(e)
case"string":return r(e)
case"number":return 16
case"boolean":return 4
default:return 8}}function l(e,t){return u+e.length*t}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return r}))
const c=32,u=32
var d
!function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(d||(d={}))},1208:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(23)
class i{constructor(e=(e=>e.values().next().value)){this._peeker=e,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(0===this._items.size)return
let e
for(e of this._items);return e}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(e){this.contains(e)||this._items.add(e)}contains(e){return this._items.has(e)}pop(){if(0===this.length)return
const e=this.peek()
return this._items.delete(Object(r.d)(e)),e}popLast(){if(0===this.length)return
const e=this.last()
return this._items.delete(Object(r.d)(e)),e}remove(e){this._items.delete(e)}filter(e){return this._items.forEach(t=>{e(t)||this._items.delete(t)}),this}}},1209:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return u}))
var r=n(447)
const i="__begin__",s="__end__",a=new RegExp(i,"ig"),o=new RegExp(s,"ig"),l=new RegExp("^"+i,"i"),c=new RegExp(s+"$","i")
function u(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function d(e){const t={expression:"",type:"none"}
return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function h(e){const t=d(e)
if(!t)return null
switch(t.type){case"conventional":return f(t.expression)
case"arcade":return t.expression}return null}function p(e){const t=d(e)
if(!t)return null
switch(t.type){case"conventional":return function(e){const t=null==e?void 0:e.match(b)
return t&&t[1].trim()||null}(t.expression)
case"arcade":return v(t.expression)}return null}function f(e){let t
return e?(t=Object(r.c)(e,e=>i+'$feature["'+e+'"]'+s),t=l.test(t)?t.replace(l,""):'"'+t,t=c.test(t)?t.replace(c,""):t+'"',t=t.replace(a,'" + ').replace(o,' + "')):t='""',t}const b=/^\s*\{([^}]+)\}\s*$/i,m=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,g=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i
function v(e){if(!e)return null
let t=m.exec(e)||y.exec(e)
return t?t[1]||t[3]:(t=g.exec(e),t?t[2]:null)}},1210:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h}))
var r,i=n(968),s=n(990),a=n(972),o=n(970),l=n(971),c=(n(445),n(969)),u=n(974)
let d=r=class extends a.a{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,n){t[n]=null!=e?e:0}clone(){return new r({color:this.color&&this.color.clone(),label:this.label,value:this.value})}}
Object(i.a)([Object(o.b)({type:s.a,json:{type:[l.a],write:!0}})],d.prototype,"color",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],d.prototype,"label",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],d.prototype,"value",void 0),Object(i.a)([Object(u.a)("value")],d.prototype,"writeValue",null),d=r=Object(i.a)([Object(c.a)("esri.renderers.visualVariables.support.ColorStop")],d)
const h=d},1211:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))
const r="calcite-mode-"
function i(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replace(/\s|'|"/g,"").startsWith("dark")}function s(){return`${r}${i()?"dark":"light"}`}function a(e){(function(e){Array.from(e.classList).forEach(t=>{t.startsWith(r)&&e.classList.remove(t)})})(e),e.classList.add(s())}},1212:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i,s=n(1162),a=n(446),o=n(1131),l=(n(1111),n(1122)),c={}
function u(e){if(!e||0===e.length)return null
if("string"==typeof e){const t=d(e)
return t&&0!==t.length?t:null}const t=e.map(e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new a.a("effect:invalid-scale","scale must be finite and greater than 0",{stop:e})
return{scale:e.scale,effects:d(e.value)}})
t.sort((e,t)=>t.effects.length-e.effects.length)
for(let e=0;e<t.length-1;e++){if(!Object(l.a)(t[e].effects,t[e+1].effects))throw new a.a("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[e].effects,b:t[e+1].effects})
Object(l.c)(t[e].effects,t[e+1].effects)}return t.sort((e,t)=>t.scale-e.scale),t}function d(e){let t
if(!e)return[]
try{t=c.parse(e)}catch(t){throw new a.a("effect:invalid-syntax","Invalid effect syntax",{value:e,error:t})}return t.map(e=>function(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function(e){let t=1
return h(e.parameters,1),1===e.parameters.length&&(t=y(e.parameters[0])),new o.c(e.name,t)}(e)
case"opacity":return function(e){let t=1
return h(e.parameters,1),1===e.parameters.length&&(t=y(e.parameters[0])),new o.f(t)}(e)
case"hue-rotate":return function(e){let t=0
return h(e.parameters,1),1===e.parameters.length&&(t=function(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=b[e.unit]))throw new a.a("effect:type-error","Expected <angle>, Actual: "+p(e),{term:e})}(e),e.value*b[e.unit]||0}(e.parameters[0])),new o.e(t)}(e)
case"blur":return function(e){let t=0
return h(e.parameters,1),1===e.parameters.length&&(t=g(e.parameters[0]),f(t,e.parameters[0])),new o.b(t)}(e)
case"drop-shadow":return function(e){const t=[]
let n=null
for(const r of e.parameters)if("color"===r.type){if(t.length&&Object.freeze(t),n)throw new a.a("effect:type-error","Accepts only one color",{})
n=v(r)}else{const e=g(r)
if(Object.isFrozen(t))throw new a.a("effect:type-error","<length> parameters not consecutive",{lengths:t})
t.push(e),3===t.length&&f(e,r)}if(t.length<2||t.length>3)throw new a.a("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t})
return new o.d(t[0],t[1],t[2]||0,n||O("black"))}(e)
case"bloom":return function(e){let t=1,n=0,r=0
return h(e.parameters,3),e.parameters[0]&&(t=y(e.parameters[0])),e.parameters[1]&&(n=g(e.parameters[1]),f(n,e.parameters[1])),e.parameters[2]&&(r=y(e.parameters[2])),new o.a(t,n,r)}(e)}}catch(t){throw t.details.filter=e,t}throw new a.a("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}(e))}function h(e,t){if(e.length>t)throw new a.a("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function p(e){if("color"===e.type)return"<color>"
if(e.unit){if(m[e.unit])return"<length>"
if(b[e.unit])return"<angle>"
if("%"===e.unit)return"<percentage>"}return"<double>"}function f(e,t){if(e<0)throw new a.a("effect:type-error","Negative values are not allowed, Actual: "+e,{term:t})}i=function(){function e(t,n,r,i){var s=Error.call(this,t)
return Object.setPrototypeOf&&Object.setPrototypeOf(s,e.prototype),s.expected=n,s.found=r,s.location=i,s.name="SyntaxError",s}function t(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),e.prototype.format=function(e){var n="Error: "+this.message
if(this.location){var r,i=null
for(r=0;r<e.length;r++)if(e[r].source===this.location.source){i=e[r].text.split(/\r\n|\n|\r/g)
break}var s=this.location.start,a=this.location.source+":"+s.line+":"+s.column
if(i){var o=this.location.end,l=t("",s.line.toString().length," "),c=i[s.line-1],u=(s.line===o.line?o.column:c.length+1)-s.column||1
n+="\n --\x3e "+a+"\n"+l+" |\n"+s.line+" | "+c+"\n"+l+" | "+t("",s.column-1," ")+t("",u,"^")}else n+="\n at "+a}return n},e.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?s(e[0])+"-"+s(e[1]):s(e)}))
return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}}
function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(a)
if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++)
r.length=n}switch(r.length){case 1:return r[0]
case 2:return r[0]+" or "+r[1]
default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,n){var r,i={},s=(n=void 0!==n?n:{}).grammarSource,a={start:oe},o=oe,l="none",c="grad",u="turn",d=/^[ \t\n\r]/,h=/^[a-z\-]/,p=/^[0-9a-fA-F]/,f=/^[+\-]/,b=/^[0-9]/,m=re("none"),y=te("none",!1),g=te(")",!1),v=te(",",!1),O=re("whitespace"),j=ne([" ","\t","\n","\r"],!1,!1),w=re("function"),_=te("(",!1),S=re("identifier"),x=ne([["a","z"],"-"],!1,!1),T=re("percentage"),I=te("%",!1),M=re("length"),E=te("px",!1),k=te("cm",!1),C=te("mm",!1),A=te("in",!1),L=te("pt",!1),R=te("pc",!1),P=re("angle"),F=te("deg",!1),N=te("rad",!1),D=te("grad",!1),V=te("turn",!1),U=re("number"),G=re("color"),z=te("#",!1),q=ne([["0","9"],["a","f"],["A","F"]],!1,!1),B=ne(["+","-"],!1,!1),$=ne([["0","9"]],!1,!1),H=te(".",!1),W=te("e",!1),Z=0,K=0,J=[{line:1,column:1}],Y=0,X=[],Q=0
if("startRule"in n){if(!(n.startRule in a))throw new Error("Can't start parsing from rule \""+n.startRule+'".')
o=a[n.startRule]}function ee(){return t.substring(K,Z)}function te(e,t){return{type:"literal",text:e,ignoreCase:t}}function ne(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function re(e){return{type:"other",description:e}}function ie(e){var n,r=J[e]
if(r)return r
for(n=e-1;!J[n];)n--
for(r={line:(r=J[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++
return J[e]=r,r}function se(e,t){var n=ie(e),r=ie(t)
return{source:s,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function ae(e){Z<Y||(Z>Y&&(Y=Z,X=[]),X.push(e))}function oe(){var e
return(e=function(){var e,n
return Q++,e=Z,ue(),t.substr(Z,4)===l?(n=l,Z+=4):(n=i,0===Q&&ae(y)),n!==i?(ue(),K=e,e=[]):(Z=e,e=i),Q--,e===i&&0===Q&&ae(m),e}())===i&&(e=function(){var e,t
if(e=[],(t=le())!==i)for(;t!==i;)e.push(t),t=le()
else e=i
return e}()),e}function le(){var e,n,r,s
return e=Z,ue(),(n=function(){var e,n,r
return Q++,e=Z,(n=de())!==i?(40===t.charCodeAt(Z)?(r="(",Z++):(r=i,0===Q&&ae(_)),r!==i?(K=e,e=n):(Z=e,e=i)):(Z=e,e=i),Q--,e===i&&(n=i,0===Q&&ae(w)),e}())!==i?(ue(),(r=function(){var e,n,r,s,a,o,l,c
if(e=Z,(n=ce())!==i){for(r=[],s=Z,a=ue(),44===t.charCodeAt(Z)?(o=",",Z++):(o=i,0===Q&&ae(v)),o===i&&(o=null),l=ue(),(c=ce())!==i?s=a=[a,o,l,c]:(Z=s,s=i);s!==i;)r.push(s),s=Z,a=ue(),44===t.charCodeAt(Z)?(o=",",Z++):(o=i,0===Q&&ae(v)),o===i&&(o=null),l=ue(),(c=ce())!==i?s=a=[a,o,l,c]:(Z=s,s=i)
K=e,e=function(e,t){return t.length>0?function(e,t,n){return[e].concat(function(e,t){return e.map((function(e){return e[3]}))}(t))}(e,t):[e]}(n,r)}else Z=e,e=i
return e}())===i&&(r=null),ue(),41===t.charCodeAt(Z)?(s=")",Z++):(s=i,0===Q&&ae(g)),s!==i?(ue(),K=e,e=function(e,t){return{type:"function",name:e,parameters:t||[]}}(n,r)):(Z=e,e=i)):(Z=e,e=i),e}function ce(){var e,t
return e=Z,(t=he())===i&&(t=pe())===i&&(t=fe())===i&&(t=function(){var e,t
return Q++,e=Z,ue(),(t=me())!==i?(K=e,e=function(e){return{value:e,unit:null}}(t)):(Z=e,e=i),Q--,e===i&&0===Q&&ae(U),e}()),t!==i&&(K=e,t=function(e){return{type:"quantity",value:e.value,unit:e.unit}}(t)),(e=t)===i&&(e=Z,(t=be())!==i&&(K=e,t=function(e){return{type:"color",colorType:e.type,value:e.value}}(t)),e=t),e}function ue(){var e,n
for(Q++,e=[],d.test(t.charAt(Z))?(n=t.charAt(Z),Z++):(n=i,0===Q&&ae(j));n!==i;)e.push(n),d.test(t.charAt(Z))?(n=t.charAt(Z),Z++):(n=i,0===Q&&ae(j))
return Q--,n=i,0===Q&&ae(O),e}function de(){var e,n,r
if(Q++,e=Z,n=[],h.test(t.charAt(Z))?(r=t.charAt(Z),Z++):(r=i,0===Q&&ae(x)),r!==i)for(;r!==i;)n.push(r),h.test(t.charAt(Z))?(r=t.charAt(Z),Z++):(r=i,0===Q&&ae(x))
else n=i
return n!==i&&(K=e,n=ee()),Q--,(e=n)===i&&(n=i,0===Q&&ae(S)),e}function he(){var e,n,r
return Q++,e=Z,ue(),(n=me())!==i?(37===t.charCodeAt(Z)?(r="%",Z++):(r=i,0===Q&&ae(I)),r!==i?(K=e,e=function(e){return{value:e,unit:"%"}}(n)):(Z=e,e=i)):(Z=e,e=i),Q--,e===i&&0===Q&&ae(T),e}function pe(){var e,n,r
return Q++,e=Z,ue(),(n=me())!==i?("px"===t.substr(Z,2)?(r="px",Z+=2):(r=i,0===Q&&ae(E)),r!==i?(K=e,e=function(e){return{value:e,unit:"px"}}(n)):(Z=e,e=i)):(Z=e,e=i),e===i&&(e=Z,ue(),(n=me())!==i?("cm"===t.substr(Z,2)?(r="cm",Z+=2):(r=i,0===Q&&ae(k)),r!==i?(K=e,e=function(e){return{value:e,unit:"cm"}}(n)):(Z=e,e=i)):(Z=e,e=i),e===i&&(e=Z,ue(),(n=me())!==i?("mm"===t.substr(Z,2)?(r="mm",Z+=2):(r=i,0===Q&&ae(C)),r!==i?(K=e,e=function(e){return{value:e,unit:"mm"}}(n)):(Z=e,e=i)):(Z=e,e=i),e===i&&(e=Z,ue(),(n=me())!==i?("in"===t.substr(Z,2)?(r="in",Z+=2):(r=i,0===Q&&ae(A)),r!==i?(K=e,e=function(e){return{value:e,unit:"in"}}(n)):(Z=e,e=i)):(Z=e,e=i),e===i&&(e=Z,ue(),(n=me())!==i?("pt"===t.substr(Z,2)?(r="pt",Z+=2):(r=i,0===Q&&ae(L)),r!==i?(K=e,e=function(e){return{value:e,unit:"pt"}}(n)):(Z=e,e=i)):(Z=e,e=i),e===i&&(e=Z,ue(),(n=me())!==i?("pc"===t.substr(Z,2)?(r="pc",Z+=2):(r=i,0===Q&&ae(R)),r!==i?(K=e,e=function(e){return{value:e,unit:"pc"}}(n)):(Z=e,e=i)):(Z=e,e=i)))))),Q--,e===i&&0===Q&&ae(M),e}function fe(){var e,n,r
return Q++,e=Z,(n=me())!==i?("deg"===t.substr(Z,3)?(r="deg",Z+=3):(r=i,0===Q&&ae(F)),r!==i?(K=e,e=function(e){return{value:e,unit:"deg"}}(n)):(Z=e,e=i)):(Z=e,e=i),e===i&&(e=Z,(n=me())!==i?("rad"===t.substr(Z,3)?(r="rad",Z+=3):(r=i,0===Q&&ae(N)),r!==i?(K=e,e=function(e){return{value:e,unit:"rad"}}(n)):(Z=e,e=i)):(Z=e,e=i),e===i&&(e=Z,(n=me())!==i?(t.substr(Z,4)===c?(r=c,Z+=4):(r=i,0===Q&&ae(D)),r!==i?(K=e,e=function(e){return{value:e,unit:"grad"}}(n)):(Z=e,e=i)):(Z=e,e=i),e===i&&(e=Z,(n=me())!==i?(t.substr(Z,4)===u?(r=u,Z+=4):(r=i,0===Q&&ae(V)),r!==i?(K=e,e=function(e){return{value:e,unit:"turn"}}(n)):(Z=e,e=i)):(Z=e,e=i)))),Q--,e===i&&(n=i,0===Q&&ae(P)),e}function be(){var e,n,r,s
if(Q++,e=Z,35===t.charCodeAt(Z)?(n="#",Z++):(n=i,0===Q&&ae(z)),n!==i){if(r=[],p.test(t.charAt(Z))?(s=t.charAt(Z),Z++):(s=i,0===Q&&ae(q)),s!==i)for(;s!==i;)r.push(s),p.test(t.charAt(Z))?(s=t.charAt(Z),Z++):(s=i,0===Q&&ae(q))
else r=i
r!==i?(K=e,e={type:"hex",value:ee()}):(Z=e,e=i)}else Z=e,e=i
return e===i&&(e=Z,(n=le())!==i&&(K=e,n=function(e){return{type:"function",value:e}}(n)),(e=n)===i&&(e=Z,(n=de())!==i&&(K=e,n={type:"named",value:ee()}),e=n)),Q--,e===i&&(n=i,0===Q&&ae(G)),e}function me(){var e,n,r,s,a,o,l
for(e=Z,f.test(t.charAt(Z))?(t.charAt(Z),Z++):0===Q&&ae(B),n=Z,r=[],b.test(t.charAt(Z))?(s=t.charAt(Z),Z++):(s=i,0===Q&&ae($));s!==i;)r.push(s),b.test(t.charAt(Z))?(s=t.charAt(Z),Z++):(s=i,0===Q&&ae($))
if(46===t.charCodeAt(Z)?(s=".",Z++):(s=i,0===Q&&ae(H)),s!==i){if(a=[],b.test(t.charAt(Z))?(o=t.charAt(Z),Z++):(o=i,0===Q&&ae($)),o!==i)for(;o!==i;)a.push(o),b.test(t.charAt(Z))?(o=t.charAt(Z),Z++):(o=i,0===Q&&ae($))
else a=i
a!==i?n=r=[r,s,a]:(Z=n,n=i)}else Z=n,n=i
if(n===i)if(n=[],b.test(t.charAt(Z))?(r=t.charAt(Z),Z++):(r=i,0===Q&&ae($)),r!==i)for(;r!==i;)n.push(r),b.test(t.charAt(Z))?(r=t.charAt(Z),Z++):(r=i,0===Q&&ae($))
else n=i
if(n!==i){if(r=Z,101===t.charCodeAt(Z)?(s="e",Z++):(s=i,0===Q&&ae(W)),s!==i){if(f.test(t.charAt(Z))?(a=t.charAt(Z),Z++):(a=i,0===Q&&ae(B)),a===i&&(a=null),o=[],b.test(t.charAt(Z))?(l=t.charAt(Z),Z++):(l=i,0===Q&&ae($)),l!==i)for(;l!==i;)o.push(l),b.test(t.charAt(Z))?(l=t.charAt(Z),Z++):(l=i,0===Q&&ae($))
else o=i
o!==i?r=s=[s,a,o]:(Z=r,r=i)}else Z=r,r=i
r===i&&(r=null),K=e,e=parseFloat(ee())}else Z=e,e=i
return e}if((r=o())!==i&&Z===t.length)return r
throw r!==i&&Z<t.length&&ae({type:"end"}),function(t,n,r){return new e(e.buildMessage(t,n),t,n,r)}(X,Y<t.length?t.charAt(Y):null,Y<t.length?se(Y,Y+1):se(Y,Y))}}},(r={get exports(){return c},set exports(e){c=e}}).exports&&(r.exports=i())
const b={deg:1,grad:.9,rad:180/Math.PI,turn:360},m={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72}
function y(e){!function(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new a.a("effect:type-error","Expected <double> or <percentage>, Actual: "+p(e),{term:e})}(e)
const t=e.value
return f(t,e),"%"===e.unit?.01*t:t}function g(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=m[e.unit]))throw new a.a("effect:type-error","Expected <length>, Actual: "+p(e),{term:e})}(e),e.value*m[e.unit]||0}function v(e){switch(e.colorType){case"hex":return Object(s.c)(e.value)
case"named":return O(e.value)
case"function":return function(e){if(h(e.parameters,4),j.test(e.name))return[y(e.parameters[0]),y(e.parameters[1]),y(e.parameters[2]),e.parameters[3]?y(e.parameters[3]):1]
if(w.test(e.name))return Object(s.d)(function(e){return function(e){if("quantity"!==e.type||null!==e.unit)throw new a.a("effect:type-error","Expected <double>, Actual: "+p(e),{term:e})}(e),f(e.value,e),e.value}(e.parameters[0]),y(e.parameters[1]),y(e.parameters[2]),e.parameters[3]?y(e.parameters[3]):1)
throw new a.a("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}(e.value)}}function O(e){if(!Object(s.e)(e))throw new a.a("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e})
return Object(s.b)(e)}const j=/^rgba?/i,w=/^hsla?/i},1213:function(e,t,n){"use strict"
function r(){const e=new Float32Array(16)
return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}n.d(t,"a",(function(){return r}))
const i=r()
Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(e){const t=new Float32Array(16)
return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},create:r,createView:function(e,t){return new Float32Array(e,t,16)},fromValues:function(e,t,n,r,i,s,a,o,l,c,u,d,h,p,f,b){const m=new Float32Array(16)
return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=i,m[5]=s,m[6]=a,m[7]=o,m[8]=l,m[9]=c,m[10]=u,m[11]=d,m[12]=h,m[13]=p,m[14]=f,m[15]=b,m}},Symbol.toStringTag,{value:"Module"}))},1214:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
const r=[]
function i(e){r.push(e),1===r.length&&queueMicrotask(()=>{const e=r.slice()
r.length=0
for(const t of e)t()})}},1215:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return u}))
var r=n(1016)
function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function s(e,t,n,r,i,s,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=s,e[5]=a,e}function a(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5]
let l=n*s-r*i
return l?(l=1/l,e[0]=s*l,e[1]=-r*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*o-s*a)*l,e[5]=(r*a-n*o)*l,e):null}function o(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=n[0],u=n[1],d=n[2],h=n[3],p=n[4],f=n[5]
return e[0]=r*c+s*u,e[1]=i*c+a*u,e[2]=r*d+s*h,e[3]=i*d+a*h,e[4]=r*p+s*f+o,e[5]=i*p+a*f+l,e}function l(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=Math.sin(n),u=Math.cos(n)
return e[0]=r*u+s*c,e[1]=i*u+a*c,e[2]=r*-c+s*u,e[3]=i*-c+a*u,e[4]=o,e[5]=l,e}function c(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=n[0],u=n[1]
return e[0]=r*c,e[1]=i*c,e[2]=s*u,e[3]=a*u,e[4]=o,e[5]=l,e}function u(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=n[0],u=n[1]
return e[0]=r,e[1]=i,e[2]=s,e[3]=a,e[4]=r*c+s*u+o,e[5]=i*c+a*u+l,e}function d(e,t){const n=Math.sin(t),r=Math.cos(t)
return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function h(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function p(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}const b=o,m=f
Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},equals:function(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],c=t[0],u=t[1],d=t[2],h=t[3],p=t[4],f=t[5],b=Object(r.c)()
return Math.abs(n-c)<=b*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-u)<=b*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-d)<=b*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(a-h)<=b*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-p)<=b*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(l-f)<=b*Math.max(1,Math.abs(l),Math.abs(f))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)},fromRotation:d,fromScaling:h,fromTranslation:p,identity:i,invert:a,mul:b,multiply:o,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e},rotate:l,scale:c,set:s,str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},sub:m,subtract:f,translate:u},Symbol.toStringTag,{value:"Module"}))},1217:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return le})),n.d(t,"c",(function(){return we})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return Q})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return oe})),n.d(t,"j",(function(){return Le})),n.d(t,"k",(function(){return f}))
let r,i,s,a=!1,o=!1,l=!1,c=!1,u=null,d=!1
const h={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},p=e=>{const t=new URL(e,_e.$resourcesUrl$)
return t.origin!==Oe.location.origin?t.href:t.pathname},f=e=>_e.$resourcesUrl$=e,b="http://www.w3.org/1999/xlink",m={},y=e=>"object"==(e=typeof e)||"function"===e,g=(e,t,...n)=>{let r=null,i=null,s=null,a=!1,o=!1
const l=[],c=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?c(r):null!=r&&"boolean"!=typeof r&&((a="function"!=typeof e&&!y(r))&&(r=String(r)),a&&o?l[l.length-1].$text$+=r:l.push(a?v(null,r):r),o=a)}
if(c(n),t&&(t.key&&(i=t.key),t.name&&(s=t.name),1)){const e=t.className||t.class
e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}if("function"==typeof e)return e(null===t?{}:t,l,w)
const u=v(e,null)
return u.$attrs$=t,l.length>0&&(u.$children$=l),u.$key$=i,u.$name$=s,u},v=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}
return n},O={},j=e=>e&&e.$tag$===O,w={forEach:(e,t)=>e.map(_).forEach(t),map:(e,t)=>e.map(_).map(t).map(S)},_=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),S=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs)
return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),g(e.vtag,t,...e.vchildren||[])}const t=v(e.vtag,e.vtext)
return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},x=(e,t,n)=>{const r=e
return{emit:e=>T(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},T=(e,t,n)=>{const r=_e.ce(t,n)
return e.dispatchEvent(r),r},I=new WeakMap,M=(e,t,n,r)=>{let i=E(t,n)
const s=ge.get(i)
if(e=11===e.nodeType?e:je,s)if("string"==typeof s){e=e.head||e
let t,n=I.get(e)
n||I.set(e,n=new Set),n.has(i)||(t=je.createElement("style"),t.innerHTML=s,e.insertBefore(t,e.querySelector("link")),n&&n.add(i))}else!e.adoptedStyleSheets.includes(s)&&(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s])
return i},E=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),k=(e,t,n,r,i,s)=>{if(n!==r){let a=me(e,t),o=t.toLowerCase()
if("class"===t){const t=e.classList,i=A(n),s=A(r)
t.remove(...i.filter(e=>e&&!s.includes(e))),t.add(...s.filter(e=>e&&!i.includes(e)))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="")
for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e)
else if(e.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){const l=y(r)
if((a||l&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r
else{const i=null==r?"":r
"list"===t?a=!1:null!=n&&e[t]==i||(e[t]=i)}}catch(e){}let c=!1
o!==(o=o.replace(/^xlink\:?/,""))&&(t=o,c=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(c?e.removeAttributeNS(b,t):e.removeAttribute(t)):(!a||4&s||i)&&!l&&(r=!0===r?"":r,c?e.setAttributeNS(b,t,r):e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):me(Oe,o)?o.slice(2):o[2]+t.slice(3),n&&_e.rel(e,t,n,!1),r&&_e.ael(e,t,r,!1)}},C=/\s/,A=e=>e?e.split(C):[],L=(e,t,n,r)=>{const i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||m,a=t.$attrs$||m
for(r in s)r in a||k(i,r,s[r],void 0,n,t.$flags$)
for(r in a)k(i,r,s[r],a[r],n,t.$flags$)},R=(e,t,n,o)=>{const u=t.$children$[n]
let d,h,p,f=0
if(!a&&(l=!0,"slot"===u.$tag$&&(r&&o.classList.add(r+"-s"),u.$flags$|=u.$children$?2:1)),null!==u.$text$)d=u.$elm$=je.createTextNode(u.$text$)
else if(1&u.$flags$)d=u.$elm$=je.createTextNode("")
else{if(!c&&(c="svg"===u.$tag$),d=u.$elm$=je.createElementNS(c?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&u.$flags$?"slot-fb":u.$tag$),c&&"foreignObject"===u.$tag$&&(c=!1),L(null,u,c),null!=r&&d["s-si"]!==r&&d.classList.add(d["s-si"]=r),u.$children$)for(f=0;f<u.$children$.length;++f)h=R(e,u,f,d),h&&d.appendChild(h)
"svg"===u.$tag$?c=!1:"foreignObject"===d.tagName&&(c=!0)}return d["s-hn"]=s,3&u.$flags$&&(d["s-sr"]=!0,d["s-cr"]=i,d["s-sn"]=u.$name$||"",p=e&&e.$children$&&e.$children$[n],p&&p.$tag$===u.$tag$&&e.$elm$&&P(e.$elm$,!1)),d},P=(e,t)=>{_e.$flags$|=1
const n=e.childNodes
for(let e=n.length-1;e>=0;e--){const r=n[e]
r["s-hn"]!==s&&r["s-ol"]&&(U(r).insertBefore(r,V(r)),r["s-ol"].remove(),r["s-ol"]=void 0,l=!0),t&&P(r,t)}_e.$flags$&=-2},F=(e,t,n,r,i,a)=>{let o,l=e["s-cr"]&&e["s-cr"].parentNode||e
for(l.shadowRoot&&l.tagName===s&&(l=l.shadowRoot);i<=a;++i)r[i]&&(o=R(null,n,i,e),o&&(r[i].$elm$=o,l.insertBefore(o,V(t))))},N=(e,t,n,r,i)=>{for(;t<=n;++t)(r=e[t])&&(i=r.$elm$,H(r),o=!0,i["s-ol"]?i["s-ol"].remove():P(i,!0),i.remove())},D=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),V=e=>e&&e["s-ol"]||e,U=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,G=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,i=t.$children$,s=t.$tag$,a=t.$text$
let o
null!==a?(o=n["s-cr"])?o.parentNode.textContent=a:e.$text$!==a&&(n.data=a):(c="svg"===s||"foreignObject"!==s&&c,"slot"===s||L(e,t,c),null!==r&&null!==i?((e,t,n,r)=>{let i,s,a=0,o=0,l=0,c=0,u=t.length-1,d=t[0],h=t[u],p=r.length-1,f=r[0],b=r[p]
for(;a<=u&&o<=p;)if(null==d)d=t[++a]
else if(null==h)h=t[--u]
else if(null==f)f=r[++o]
else if(null==b)b=r[--p]
else if(D(d,f))G(d,f),d=t[++a],f=r[++o]
else if(D(h,b))G(h,b),h=t[--u],b=r[--p]
else if(D(d,b))"slot"!==d.$tag$&&"slot"!==b.$tag$||P(d.$elm$.parentNode,!1),G(d,b),e.insertBefore(d.$elm$,h.$elm$.nextSibling),d=t[++a],b=r[--p]
else if(D(h,f))"slot"!==d.$tag$&&"slot"!==b.$tag$||P(h.$elm$.parentNode,!1),G(h,f),e.insertBefore(h.$elm$,d.$elm$),h=t[--u],f=r[++o]
else{for(l=-1,c=a;c<=u;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===f.$key$){l=c
break}l>=0?(s=t[l],s.$tag$!==f.$tag$?i=R(t&&t[o],n,l,e):(G(s,f),t[l]=void 0,i=s.$elm$),f=r[++o]):(i=R(t&&t[o],n,o,e),f=r[++o]),i&&U(d.$elm$).insertBefore(i,V(d.$elm$))}a>u?F(e,null==r[p+1]?null:r[p+1].$elm$,n,r,o,p):o>p&&N(t,a,u)})(n,r,t,i):null!==i?(null!==e.$text$&&(n.textContent=""),F(n,null,t,i,0,i.length-1)):null!==r&&N(r,0,r.length-1),c&&"svg"===s&&(c=!1))},z=e=>{const t=e.childNodes
let n,r,i,s,a,o
for(r=0,i=t.length;r<i;r++)if(n=t[r],1===n.nodeType){if(n["s-sr"])for(a=n["s-sn"],n.hidden=!1,s=0;s<i;s++)if(o=t[s].nodeType,t[s]["s-hn"]!==n["s-hn"]||""!==a){if(1===o&&a===t[s].getAttribute("slot")){n.hidden=!0
break}}else if(1===o||3===o&&""!==t[s].textContent.trim()){n.hidden=!0
break}z(n)}},q=[],B=e=>{let t,n,r,i,s,a,l=0
const c=e.childNodes,u=c.length
for(;l<u;l++){if(t=c[l],t["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(r=n.parentNode.childNodes,i=t["s-sn"],a=r.length-1;a>=0;a--)n=r[a],n["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||($(n,i)?(s=q.find(e=>e.$nodeToRelocate$===n),o=!0,n["s-sn"]=n["s-sn"]||i,s?s.$slotRefNode$=t:q.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&q.map(e=>{$(e.$nodeToRelocate$,n["s-sn"])&&(s=q.find(e=>e.$nodeToRelocate$===n),s&&!e.$slotRefNode$&&(e.$slotRefNode$=s.$slotRefNode$))})):q.some(e=>e.$nodeToRelocate$===n)||q.push({$nodeToRelocate$:n}))
1===t.nodeType&&B(t)}},$=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,H=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(H)},W=(e,t)=>{const n=e.$hostElement$,c=e.$cmpMeta$,u=e.$vnode$||v(null,null),d=j(t)?t:g(null,null,t)
if(s=n.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([e,t])=>d.$attrs$[t]=n[e])),d.$tag$=null,d.$flags$|=4,e.$vnode$=d,d.$elm$=u.$elm$=n.shadowRoot||n,r=n["s-sc"],i=n["s-cr"],a=Se&&0!=(1&c.$flags$),o=!1,G(u,d),_e.$flags$|=1,l){let e,t,n,r,i,s
B(d.$elm$)
let a=0
for(;a<q.length;a++)e=q[a],t=e.$nodeToRelocate$,t["s-ol"]||(n=je.createTextNode(""),n["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=n,t))
for(a=0;a<q.length;a++)if(e=q[a],t=e.$nodeToRelocate$,e.$slotRefNode$){for(r=e.$slotRefNode$.parentNode,i=e.$slotRefNode$.nextSibling,n=t["s-ol"];n=n.previousSibling;)if(s=n["s-nr"],s&&s["s-sn"]===t["s-sn"]&&r===s.parentNode&&(s=s.nextSibling,!s||!s["s-nr"])){i=s
break}(!i&&r!==t.parentNode||t.nextSibling!==i)&&t!==i&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),r.insertBefore(t,i))}else 1===t.nodeType&&(t.hidden=!0)}o&&z(d.$elm$),_e.$flags$&=-2,q.length=0},Z=(e,t)=>{e.$flags$|=16,e.$ancestorComponent$
const n=()=>K(e,t)
return Re(n)},K=(e,t)=>{const n=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{}),i=n
let s
return t?(ne(n,"componentWillLoad"),s=ee(i,"componentWillLoad")):(ne(n,"componentWillUpdate"),s=ee(i,"componentWillUpdate")),ne(n,"componentWillRender"),s=te(s,()=>ee(i,"componentWillRender")),r(),te(s,()=>J(e,i,t))},J=async(e,t,n)=>{const r=e.$hostElement$,i=(e.$cmpMeta$.$tagName$,()=>{})
r["s-rc"]
n&&(e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=(t.$tagName$,()=>{}),s=M(Se&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$)
10&r&&(n["s-sc"]=s,n.classList.add(s+"-h"),2&r&&n.classList.add(s+"-s")),i()})(e)
const s=(e.$cmpMeta$.$tagName$,()=>{})
Y(e,t,r),s(),i(),X(e)},Y=(e,t,n)=>{try{u=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,W(e,t)}catch(t){ye(t,e.$hostElement$)}return u=null,null},X=e=>{e.$cmpMeta$.$tagName$
const t=e.$hostElement$,n=()=>{},r=t
e.$ancestorComponent$
ee(r,"componentDidRender"),ne(t,"componentDidRender"),64&e.$flags$?(ee(r,"componentDidUpdate"),ne(t,"componentDidUpdate"),n()):(e.$flags$|=64,ee(r,"componentDidLoad"),ne(t,"componentDidLoad"),n())},Q=e=>{{const t=fe(e),n=t.$hostElement$.isConnected
return n&&2==(18&t.$flags$)&&Z(t,!1),n}},ee=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(e){ye(e)}},te=(e,t)=>e&&e.then?e.then(t):t(),ne=(e,t)=>{},re=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers)
const n=Object.entries(t.$members$),r=e.prototype
n.map(([e,[n]])=>{(31&n||32&n)&&Object.defineProperty(r,e,{get(){return t=e,fe(this).$instanceValues$.get(t)
var t},set(n){((e,t,n,r)=>{const i=fe(e),s=e,a=i.$instanceValues$.get(t),o=i.$flags$,l=s
var c,u
c=n,u=r.$members$[t][0],n=null==c||y(c)?c:4&u?"false"!==c&&(""===c||!!c):2&u?parseFloat(c):1&u?String(c):c
const d=Number.isNaN(a)&&Number.isNaN(n)
if(n!==a&&!d&&(i.$instanceValues$.set(t,n),1)){if(r.$watchers$&&128&o){const e=r.$watchers$[t]
e&&e.map(e=>{try{l[e](n,a,t)}catch(e){ye(e,s)}})}if(2==(18&o)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(n,a,t))return
Z(i,!1)}}})(this,e,n,t)},configurable:!0,enumerable:!0})})
{const i=new Map
r.attributeChangedCallback=function(e,t,n){_e.jmp(()=>{const t=i.get(e)
if(this.hasOwnProperty(t))n=this[t],delete this[t]
else if(r.hasOwnProperty(t)&&"number"==typeof this[t]&&this[t]==n)return
this[t]=(null!==n||"boolean"!=typeof this[t])&&n})},e.observedAttributes=n.filter(([e,t])=>15&t[0]).map(([e,n])=>{const r=n[1]||e
return i.set(r,e),512&n[0]&&t.$attrsToReflect$.push([e,r]),r})}}return e},ie=async(e,t,n,r,i)=>{if(0==(32&t.$flags$)&&(i=e.constructor,t.$flags$|=32,customElements.whenDefined(n.$tagName$).then(()=>t.$flags$|=128),i.style)){let r=i.style
"string"!=typeof r&&(r=r[t.$modeName$=(e=>ve.map(t=>t(e)).find(e=>!!e))(e)])
const s=E(n,t.$modeName$)
if(!ge.has(s)){const e=(n.$tagName$,()=>{});((e,t,n)=>{let r=ge.get(e)
Te&&n?(r=r||new CSSStyleSheet,"string"==typeof r?r=t:r.replaceSync(t)):r=t,ge.set(e,r)})(s,r,!!(1&n.$flags$)),e()}}t.$ancestorComponent$
const s=()=>Z(t,!0)
s()},se=e=>{},ae=e=>{const t=e["s-cr"]=je.createComment("")
t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},oe=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]}
n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$attrsToReflect$=[],!Se&&1&n.$flags$&&(n.$flags$|=8)
const r=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback
return Object.assign(e.prototype,{__registerHost(){be(this,n)},connectedCallback(){(e=>{if(0==(1&_e.$flags$)){const t=fe(e),n=t.$cmpMeta$,r=(n.$tagName$,()=>{})
if(1&t.$flags$)ce(e,t,n.$listeners$,!1),se(t.$lazyInstance$)
else{let r
t.$flags$|=1,0,!r&&12&n.$flags$&&ae(e),n.$members$&&Object.entries(n.$members$).map(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t]
delete e[t],e[t]=n}}),ie(e,t,n)}r()}})(this),r&&r.call(this)},disconnectedCallback(){(e=>{if(0==(1&_e.$flags$)){const t=fe(e)
t.$rmListeners$&&(t.$rmListeners$.map(e=>e()),t.$rmListeners$=void 0)}})(this),i&&i.call(this)},__attachShadow(){Se?this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)}):this.shadowRoot=this}}),e.is=n.$tagName$,re(e,n)},le=(e,t)=>t,ce=(e,t,n,r)=>{n&&n.map(([n,r,i])=>{const s=de(e,n),a=ue(t,i),o=he(n)
_e.ael(s,r,a,o),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>_e.rel(s,r,a,o))})},ue=(e,t)=>n=>{try{e.$hostElement$[t](n)}catch(e){ye(e)}},de=(e,t)=>4&t?je:8&t?Oe:16&t?je.body:e,he=e=>xe?{passive:0!=(1&e),capture:0!=(2&e)}:0!=(2&e),pe=new WeakMap,fe=e=>pe.get(e),be=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map}
return ce(e,n,t.$listeners$,!1),pe.set(e,n)},me=(e,t)=>t in e,ye=(e,t)=>(0,console.error)(e,t),ge=(new Map,new Map),ve=[],Oe="undefined"!=typeof window?window:{},je=Oe.document||{head:{}},we=Oe.HTMLElement||class{},_e={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},Se=!0,xe=(()=>{let e=!1
try{je.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(e){}return e})(),Te=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),Ie=[],Me=[],Ee=(e,t)=>n=>{e.push(n),d||(d=!0,t&&4&_e.$flags$?Ae(Ce):_e.raf(Ce))},ke=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){ye(e)}e.length=0},Ce=()=>{ke(Ie),ke(Me),(d=Ie.length>0)&&_e.raf(Ce)},Ae=e=>Promise.resolve(void 0).then(e),Le=Ee(Ie,!1),Re=Ee(Me,!0)},1219:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))
var r=n(235)
const i=()=>!!Object(r.a)("enable-feature:force-wosr"),s=()=>!!Object(r.a)("enable-feature:direct-3d-object-feature-layer-display"),a=()=>!!Object(r.a)("enable-feature:SceneLayer-editing")},1220:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return v}))
var r=n(771),i=n(23),s=n(374),a=n(983),o=n(1155),l=n(1406),c=n(1445),u=n(1267)
const d="Layer does not support extent calculation."
function h(e,t){const n=e.geometry,r=e.toJSON()
delete r.compactGeometryEnabled,delete r.defaultSpatialReferenceEnabled
const s=r
let o,l,c
if(Object(i.l)(n)&&(l=n.spatialReference,c=n.spatialReference.wkid||JSON.stringify(n.spatialReference),s.geometryType=Object(a.c)(n),s.geometry=function(e,t){if(t&&"extent"===e.type)return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`
if(t&&"point"===e.type)return`${e.x},${e.y}`
const n=e.toJSON()
return delete n.spatialReference,JSON.stringify(n)}(n,e.compactGeometryEnabled),s.inSR=c),r.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=r.groupByFieldsForStatistics.join(",")),r.objectIds&&(s.objectIds=r.objectIds.join(",")),r.orderByFields&&(s.orderByFields=r.orderByFields.join(",")),!r.outFields||!r.returnDistinctValues&&(null!=t&&t.returnCountOnly||null!=t&&t.returnExtentOnly||null!=t&&t.returnIdsOnly)?delete s.outFields:r.outFields.includes("*")?s.outFields="*":s.outFields=r.outFields.join(","),r.outSR?(s.outSR=r.outSR.wkid||JSON.stringify(r.outSR),o=e.outSpatialReference):n&&(r.returnGeometry||r.returnCentroid)&&(s.outSR=s.inSR,o=l),r.returnGeometry&&delete r.returnGeometry,r.outStatistics&&(s.outStatistics=JSON.stringify(r.outStatistics)),r.fullText&&(s.fullText=JSON.stringify(r.fullText)),r.pixelSize&&(s.pixelSize=JSON.stringify(r.pixelSize)),r.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&Object(i.l)(l)&&Object(i.l)(e.quantizationParameters)&&Object(i.l)(e.quantizationParameters.extent)&&l.equals(e.quantizationParameters.extent.spatialReference)&&delete r.quantizationParameters.extent.spatialReference,s.quantizationParameters=JSON.stringify(r.quantizationParameters)),r.parameterValues&&(s.parameterValues=JSON.stringify(r.parameterValues)),r.rangeValues&&(s.rangeValues=JSON.stringify(r.rangeValues)),r.dynamicDataSource&&(s.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r.timeExtent){const e=r.timeExtent,{start:t,end:n}=e
null==t&&null==n||(s.time=t===n?t:`${null!=t?t:"null"},${null!=n?n:"null"}`),delete r.timeExtent}return e.defaultSpatialReferenceEnabled&&Object(i.l)(l)&&Object(i.l)(o)&&l.equals(o)&&(s.defaultSR=s.inSR,delete s.inSR,delete s.outSR),s}async function p(e,t,n,r){const s=Object(i.l)(t.timeExtent)&&t.timeExtent.isEmpty?{data:{features:[]}}:await v(e,t,"json",r)
return Object(u.a)(t,n,s.data),s}async function f(e,t,n,r){if(Object(i.l)(t.timeExtent)&&t.timeExtent.isEmpty)return{data:n.createFeatureResult()}
const s=await b(e,t,r),a=s
return a.data=Object(c.a)(s.data,n),a}function b(e,t,n){return v(e,t,"pbf",n)}function m(e,t,n){return Object(i.l)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):v(e,t,"json",n,{returnIdsOnly:!0})}function y(e,t,n){return Object(i.l)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):v(e,t,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}function g(e,t,n){return Object(i.l)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):v(e,t,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then(e=>{const t=e.data
if(t.hasOwnProperty("extent"))return e
if(t.features)throw new Error(d)
if(t.hasOwnProperty("count"))throw new Error(d)
return e})}function v(e,t,n,a={},c={}){const u="string"==typeof e?Object(s.Q)(e):e,d=t.geometry?[t.geometry]:[]
return a.responseType="pbf"===n?"array-buffer":"json",Object(o.a)(d,null,a).then(e=>{const o=e&&e[0]
Object(i.l)(o)&&((t=t.clone()).geometry=o)
const d=Object(l.a)({...u.query,f:n,...c,...h(t,c)})
return Object(r.default)(Object(s.E)(u.path,"query"),{...a,query:{...d,...a.query}})})}},1221:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(968),i=n(970),s=(n(971),n(445),n(969)),a=n(1134)
const o={read:{reader:a.b},write:{allowNull:!0,writer:a.c}},l=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}}
return Object(r.a)([Object(i.b)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),Object(r.a)([Object(i.b)({json:{read:!1,write:!1,origins:{"web-map":o,"portal-item":o}}})],t.prototype,"effect",void 0),t=Object(r.a)([Object(s.a)("esri.layers.mixins.BlendLayer")],t),t}},1223:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u}))
const r=[252,146,31,255],i=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},1224:function(e,t,n){"use strict"
n.d(t,"a",(function(){return mt}))
var r=n(96),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)}
function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null")
function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a,o,l,c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])
return e}).apply(this,arguments)}
function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i])
return e.concat(r||Array.prototype.slice.call(t))}function d(e){return e.type===o.literal}function h(e){return e.type===o.argument}function p(e){return e.type===o.number}function f(e){return e.type===o.date}function b(e){return e.type===o.time}function m(e){return e.type===o.select}function y(e){return e.type===o.plural}function g(e){return e.type===o.pound}function v(e){return e.type===o.tag}function O(e){return!(!e||"object"!=typeof e||e.type!==l.number)}function j(e){return!(!e||"object"!=typeof e||e.type!==l.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(a||(a={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(o||(o={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(l||(l={}))
var w=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,_=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g
function S(e){var t={}
return e.replace(_,(function(e){var n=e.length
switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short"
break
case"y":t.year=2===n?"2-digit":"numeric"
break
case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead")
case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported")
case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1]
break
case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported")
case"d":t.day=["numeric","2-digit"][n-1]
break
case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead")
case"E":t.weekday=4===n?"short":5===n?"narrow":"short"
break
case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported")
t.weekday=["short","long","narrow","short"][n-4]
break
case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported")
t.weekday=["short","long","narrow","short"][n-4]
break
case"a":t.hour12=!0
break
case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead")
case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1]
break
case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1]
break
case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1]
break
case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1]
break
case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead")
case"m":t.minute=["numeric","2-digit"][n-1]
break
case"s":t.second=["numeric","2-digit"][n-1]
break
case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead")
case"z":t.timeZoneName=n<4?"short":"long"
break
case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var x,T=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,I=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,M=/^(@+)?(\+|#+)?[rs]?$/g,E=/(\*)(0+)|(#+)(0+)|(0+)/g,k=/^(0+)$/
function C(e){var t={}
return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(M,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function A(e){switch(e){case"sign-auto":return{signDisplay:"auto"}
case"sign-accounting":case"()":return{currencySign:"accounting"}
case"sign-always":case"+!":return{signDisplay:"always"}
case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"}
case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"}
case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"}
case"sign-never":case"+_":return{signDisplay:"never"}}}function L(e){var t
if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2)
if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!k.test(e))throw new Error("Malformed concise eng/scientific notation")
t.minimumIntegerDigits=e.length}return t}function R(e){var t=A(e)
return t||{}}function P(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n]
switch(i.stem){case"percent":case"%":t.style="percent"
continue
case"%x100":t.style="percent",t.scale=100
continue
case"currency":t.style="currency",t.currency=i.options[0]
continue
case"group-off":case",_":t.useGrouping=!1
continue
case"precision-integer":case".":t.maximumFractionDigits=0
continue
case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"")
continue
case"compact-short":case"K":t.notation="compact",t.compactDisplay="short"
continue
case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long"
continue
case"scientific":t=c(c(c({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return c(c({},e),R(t))}),{}))
continue
case"engineering":t=c(c(c({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return c(c({},e),R(t))}),{}))
continue
case"notation-simple":t.notation="standard"
continue
case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow"
continue
case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short"
continue
case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long"
continue
case"unit-width-iso-code":t.currencyDisplay="symbol"
continue
case"scale":t.scale=parseFloat(i.options[0])
continue
case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option")
i.options[0].replace(E,(function(e,n,r,i,s,a){if(n)t.minimumIntegerDigits=r.length
else{if(i&&s)throw new Error("We currently do not support maximum integer digits")
if(a)throw new Error("We currently do not support exact integer digits")}return""}))
continue}if(k.test(i.stem))t.minimumIntegerDigits=i.stem.length
else if(I.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option")
i.stem.replace(I,(function(e,n,r,i,s,a){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:s&&a?(t.minimumFractionDigits=s.length,t.maximumFractionDigits=s.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}))
var s=i.options[0]
"w"===s?t=c(c({},t),{trailingZeroDisplay:"stripIfInteger"}):s&&(t=c(c({},t),C(s)))}else if(M.test(i.stem))t=c(c({},t),C(i.stem))
else{var a=A(i.stem)
a&&(t=c(c({},t),a))
var o=L(i.stem)
o&&(t=c(c({},t),o))}}return t}var F=new RegExp("^"+w.source+"*"),N=new RegExp(w.source+"*$")
function D(e,t){return{start:e,end:t}}var V=!!String.prototype.startsWith,U=!!String.fromCodePoint,G=!!Object.fromEntries,z=!!String.prototype.codePointAt,q=!!String.prototype.trimStart,B=!!String.prototype.trimEnd,$=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},H=!0
try{H="a"===(null===(x=ee("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===x?void 0:x[0])}catch(e){H=!1}var W,Z=V?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},K=U?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]
for(var n,r="",i=e.length,s=0;i>s;){if((n=e[s++])>1114111)throw RangeError(n+" is not a valid code point")
r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},J=G?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],s=i[0],a=i[1]
t[s]=a}return t},Y=z?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length
if(!(t<0||t>=n)){var r,i=e.charCodeAt(t)
return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},X=q?function(e){return e.trimStart()}:function(e){return e.replace(F,"")},Q=B?function(e){return e.trimEnd()}:function(e){return e.replace(N,"")}
function ee(e,t){return new RegExp(e,t)}if(H){var te=ee("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu")
W=function(e,t){var n
return te.lastIndex=t,null!==(n=te.exec(e)[1])&&void 0!==n?n:""}}else W=function(e,t){for(var n=[];;){var r=Y(e,t)
if(void 0===r||ie(r)||se(r))break
n.push(r),t+=r>=65536?2:1}return K.apply(void 0,n)}
var ne=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once")
return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char()
if(123===i){if((s=this.parseArgument(e,n)).err)return s
r.push(s.val)}else{if(125===i&&e>0)break
if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break
return this.error(a.UNMATCHED_CLOSING_TAG,D(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&re(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s
r.push(s.val)}else{var s
if((s=this.parseLiteral(e,t)).err)return s
r.push(s.val)}}else{var l=this.clonePosition()
this.bump(),r.push({type:o.pound,location:D(l,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition()
this.bump()
var r=this.parseTagName()
if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:o.literal,value:"<"+r+"/>",location:D(n,this.clonePosition())},err:null}
if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0)
if(i.err)return i
var s=i.val,l=this.clonePosition()
if(this.bumpIf("</")){if(this.isEOF()||!re(this.char()))return this.error(a.INVALID_TAG,D(l,this.clonePosition()))
var c=this.clonePosition()
return r!==this.parseTagName()?this.error(a.UNMATCHED_CLOSING_TAG,D(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:o.tag,value:r,children:s,location:D(n,this.clonePosition())},err:null}:this.error(a.INVALID_TAG,D(l,this.clonePosition())))}return this.error(a.UNCLOSED_TAG,D(n,this.clonePosition()))}return this.error(a.INVALID_TAG,D(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset()
for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump()
return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t)
if(i)r+=i
else{var s=this.tryParseUnquoted(e,t)
if(s)r+=s
else{var a=this.tryParseLeftAngleBracket()
if(!a)break
r+=a}}}var l=D(n,this.clonePosition())
return{val:{type:o.literal,value:r,location:l},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(re(e=this.peek()||0)||47===e)?null:(this.bump(),"<")
var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null
switch(this.peek()){case 39:return this.bump(),this.bump(),"'"
case 123:case 60:case 62:case 125:break
case 35:if("plural"===e||"selectordinal"===e)break
return null
default:return null}this.bump()
var t=[this.char()]
for(this.bump();!this.isEOF();){var n=this.char()
if(39===n){if(39!==this.peek()){this.bump()
break}t.push(39),this.bump()}else t.push(n)
this.bump()}return K.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null
var n=this.char()
return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),K(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition()
if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(a.EXPECT_ARGUMENT_CLOSING_BRACE,D(n,this.clonePosition()))
if(125===this.char())return this.bump(),this.error(a.EMPTY_ARGUMENT,D(n,this.clonePosition()))
var r=this.parseIdentifierIfPossible().value
if(!r)return this.error(a.MALFORMED_ARGUMENT,D(n,this.clonePosition()))
if(this.bumpSpace(),this.isEOF())return this.error(a.EXPECT_ARGUMENT_CLOSING_BRACE,D(n,this.clonePosition()))
switch(this.char()){case 125:return this.bump(),{val:{type:o.argument,value:r,location:D(n,this.clonePosition())},err:null}
case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(a.EXPECT_ARGUMENT_CLOSING_BRACE,D(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n)
default:return this.error(a.MALFORMED_ARGUMENT,D(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=W(this.message,t),r=t+n.length
return this.bumpTo(r),{value:n,location:D(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var i,s=this.clonePosition(),u=this.parseIdentifierIfPossible().value,d=this.clonePosition()
switch(u){case"":return this.error(a.EXPECT_ARGUMENT_TYPE,D(s,d))
case"number":case"date":case"time":this.bumpSpace()
var h=null
if(this.bumpIf(",")){this.bumpSpace()
var p=this.clonePosition()
if((O=this.parseSimpleArgStyleIfPossible()).err)return O
if(0===(m=Q(O.val)).length)return this.error(a.EXPECT_ARGUMENT_STYLE,D(this.clonePosition(),this.clonePosition()))
h={style:m,styleLocation:D(p,this.clonePosition())}}if((j=this.tryParseArgumentClose(r)).err)return j
var f=D(r,this.clonePosition())
if(h&&Z(null==h?void 0:h.style,"::",0)){var b=X(h.style.slice(2))
if("number"===u)return(O=this.parseNumberSkeletonFromString(b,h.styleLocation)).err?O:{val:{type:o.number,value:n,location:f,style:O.val},err:null}
if(0===b.length)return this.error(a.EXPECT_DATE_TIME_SKELETON,f)
var m={type:l.dateTime,pattern:b,location:h.styleLocation,parsedOptions:this.shouldParseSkeletons?S(b):{}}
return{val:{type:"date"===u?o.date:o.time,value:n,location:f,style:m},err:null}}return{val:{type:"number"===u?o.number:"date"===u?o.date:o.time,value:n,location:f,style:null!==(i=null==h?void 0:h.style)&&void 0!==i?i:null},err:null}
case"plural":case"selectordinal":case"select":var y=this.clonePosition()
if(this.bumpSpace(),!this.bumpIf(","))return this.error(a.EXPECT_SELECT_ARGUMENT_OPTIONS,D(y,c({},y)))
this.bumpSpace()
var g=this.parseIdentifierIfPossible(),v=0
if("select"!==u&&"offset"===g.value){if(!this.bumpIf(":"))return this.error(a.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,D(this.clonePosition(),this.clonePosition()))
var O
if(this.bumpSpace(),(O=this.tryParseDecimalInteger(a.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,a.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return O
this.bumpSpace(),g=this.parseIdentifierIfPossible(),v=O.val}var j,w=this.tryParsePluralOrSelectOptions(e,u,t,g)
if(w.err)return w
if((j=this.tryParseArgumentClose(r)).err)return j
var _=D(r,this.clonePosition())
return"select"===u?{val:{type:o.select,value:n,options:J(w.val),location:_},err:null}:{val:{type:o.plural,value:n,options:J(w.val),offset:v,pluralType:"plural"===u?"cardinal":"ordinal",location:_},err:null}
default:return this.error(a.INVALID_ARGUMENT_TYPE,D(s,d))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(a.EXPECT_ARGUMENT_CLOSING_BRACE,D(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump()
var n=this.clonePosition()
if(!this.bumpUntil("'"))return this.error(a.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,D(n,this.clonePosition()))
this.bump()
break
case 123:e+=1,this.bump()
break
case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null}
e-=1
break
default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[]
try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty")
for(var t=[],n=0,r=e.split(T).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/")
if(0===i.length)throw new Error("Invalid number skeleton")
for(var s=i[0],a=i.slice(1),o=0,l=a;o<l.length;o++)if(0===l[o].length)throw new Error("Invalid number skeleton")
t.push({stem:s,options:a})}return t}(e)}catch(e){return this.error(a.INVALID_NUMBER_SKELETON,t)}return{val:{type:l.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?P(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,s=!1,o=[],l=new Set,c=r.value,u=r.location;;){if(0===c.length){var d=this.clonePosition()
if("select"===t||!this.bumpIf("="))break
var h=this.tryParseDecimalInteger(a.EXPECT_PLURAL_ARGUMENT_SELECTOR,a.INVALID_PLURAL_ARGUMENT_SELECTOR)
if(h.err)return h
u=D(d,this.clonePosition()),c=this.message.slice(d.offset,this.offset())}if(l.has(c))return this.error("select"===t?a.DUPLICATE_SELECT_ARGUMENT_SELECTOR:a.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u)
"other"===c&&(s=!0),this.bumpSpace()
var p=this.clonePosition()
if(!this.bumpIf("{"))return this.error("select"===t?a.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:a.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,D(this.clonePosition(),this.clonePosition()))
var f=this.parseMessage(e+1,t,n)
if(f.err)return f
var b=this.tryParseArgumentClose(p)
if(b.err)return b
o.push([c,{value:f.val,location:D(p,this.clonePosition())}]),l.add(c),this.bumpSpace(),c=(i=this.parseIdentifierIfPossible()).value,u=i.location}return 0===o.length?this.error("select"===t?a.EXPECT_SELECT_ARGUMENT_SELECTOR:a.EXPECT_PLURAL_ARGUMENT_SELECTOR,D(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(a.MISSING_OTHER_CLAUSE,D(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition()
this.bumpIf("+")||this.bumpIf("-")&&(n=-1)
for(var i=!1,s=0;!this.isEOF();){var a=this.char()
if(!(a>=48&&a<=57))break
i=!0,s=10*s+(a-48),this.bump()}var o=D(r,this.clonePosition())
return i?$(s*=n)?{val:s,err:null}:this.error(t,o):this.error(e,o)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset
if(e>=this.message.length)throw Error("out of bound")
var t=Y(this.message,e)
if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary")
return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char()
10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Z(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump()
return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t)
return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset())
for(e=Math.min(e,this.message.length);;){var t=this.offset()
if(t===e)break
if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary")
if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ie(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null
var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1))
return null!=n?n:null},e}()
function re(e){return e>=97&&e<=122||e>=65&&e<=90}function ie(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function se(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ae(e,t){void 0===t&&(t={}),t=c({shouldParseSkeletons:!0,requiresOtherClause:!0},t)
var n=new ne(e,t).parse()
if(n.err){var r=SyntaxError(a[n.err.kind])
throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||function e(t){t.forEach((function(t){if(delete t.location,m(t)||y(t))for(var n in t.options)delete t.options[n].location,e(t.options[n].value)
else p(t)&&O(t.style)||(f(t)||b(t))&&j(t.style)?delete t.style.location:v(t)&&e(t.children)}))}(n.val),n.val}function oe(e,t){var n=t&&t.cache?t.cache:be,r=t&&t.serializer?t.serializer:he
return(t&&t.strategy?t.strategy:de)(e,{cache:n,serializer:r})}function le(e,t,n,r){var i,s=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=t.get(s)
return void 0===a&&(a=e.call(this,r),t.set(s,a)),a}function ce(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),s=t.get(i)
return void 0===s&&(s=e.apply(this,r),t.set(i,s)),s}function ue(e,t,n,r,i){return n.bind(t,e,r,i)}function de(e,t){return ue(e,this,1===e.length?le:ce,t.cache.create(),t.serializer)}var he=function(){return JSON.stringify(arguments)}
function pe(){this.cache=Object.create(null)}pe.prototype.get=function(e){return this.cache[e]},pe.prototype.set=function(e,t){this.cache[e]=t}
var fe,be={create:function(){return new pe}},me={variadic:function(e,t){return ue(e,this,ce,t.cache.create(),t.serializer)},monadic:function(e,t){return ue(e,this,le,t.cache.create(),t.serializer)}}
!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(fe||(fe={}))
var ye,ge=function(e){function t(t,n,r){var i=e.call(this,t)||this
return i.code=n,i.originalMessage=r,i}return s(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),ve=function(e){function t(t,n,r,i){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(r).join('", "')+'"',fe.INVALID_VALUE,i)||this}return s(t,e),t}(ge),Oe=function(e){function t(t,n,r){return e.call(this,'Value for "'+t+'" must be of type '+n,fe.INVALID_VALUE,r)||this}return s(t,e),t}(ge),je=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',fe.MISSING_VALUE,n)||this}return s(t,e),t}(ge)
function we(e){return"function"==typeof e}function _e(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(ye||(ye={}))
var Se,xe=function(){function e(t,n,r,i){var s,a=this
if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e)
if(1===t.length)return t[0].value
var n=t.reduce((function(e,t){return e.length&&t.type===ye.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[])
return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return function e(t,n,r,i,s,a,o){if(1===t.length&&d(t[0]))return[{type:ye.literal,value:t[0].value}]
for(var l=[],c=0,u=t;c<u.length;c++){var w=u[c]
if(d(w))l.push({type:ye.literal,value:w.value})
else if(g(w))"number"==typeof a&&l.push({type:ye.literal,value:r.getNumberFormat(n).format(a)})
else{var _=w.value
if(!s||!(_ in s))throw new je(_,o)
var S=s[_]
if(h(w))S&&"string"!=typeof S&&"number"!=typeof S||(S="string"==typeof S||"number"==typeof S?String(S):""),l.push({type:"string"==typeof S?ye.literal:ye.object,value:S})
else if(f(w)){var x="string"==typeof w.style?i.date[w.style]:j(w.style)?w.style.parsedOptions:void 0
l.push({type:ye.literal,value:r.getDateTimeFormat(n,x).format(S)})}else if(b(w))x="string"==typeof w.style?i.time[w.style]:j(w.style)?w.style.parsedOptions:void 0,l.push({type:ye.literal,value:r.getDateTimeFormat(n,x).format(S)})
else if(p(w))(x="string"==typeof w.style?i.number[w.style]:O(w.style)?w.style.parsedOptions:void 0)&&x.scale&&(S*=x.scale||1),l.push({type:ye.literal,value:r.getNumberFormat(n,x).format(S)})
else{if(v(w)){var T=w.children,I=w.value,M=s[I]
if(!we(M))throw new Oe(I,"function",o)
var E=M(e(T,n,r,i,s,a).map((function(e){return e.value})))
Array.isArray(E)||(E=[E]),l.push.apply(l,E.map((function(e){return{type:"string"==typeof e?ye.literal:ye.object,value:e}})))}if(m(w)){if(!(k=w.options[S]||w.options.other))throw new ve(w.value,S,Object.keys(w.options),o)
l.push.apply(l,e(k.value,n,r,i,s))}else if(y(w)){var k
if(!(k=w.options["="+S])){if(!Intl.PluralRules)throw new ge('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',fe.MISSING_INTL_API,o)
var C=r.getPluralRules(n,{type:w.pluralType}).select(S-(w.offset||0))
k=w.options[C]||w.options.other}if(!k)throw new ve(w.value,S,Object.keys(w.options),o)
l.push.apply(l,e(k.value,n,r,i,s,S-(w.offset||0)))}}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1]
return n&&n.type===ye.literal&&t.type===ye.literal?n.value+=t.value:e.push(t),e}),[])}(l)}(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`")
this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag})}else this.ast=t
if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.")
this.formats=function(e,t){return t?Object.keys(e).reduce((function(n,r){var i,s
return n[r]=(i=e[r],(s=t[r])?c(c(c({},i||{}),s||{}),Object.keys(i).reduce((function(e,t){return e[t]=c(c({},i[t]),s[t]||{}),e}),{})):i),n}),c({},e)):e}(e.formats,r),this.locales=n,this.formatters=i&&i.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:oe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]
return new((e=Intl.NumberFormat).bind.apply(e,u([void 0],t,!1)))}),{cache:_e(s.number),strategy:me.variadic}),getDateTimeFormat:oe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]
return new((e=Intl.DateTimeFormat).bind.apply(e,u([void 0],t,!1)))}),{cache:_e(s.dateTime),strategy:me.variadic}),getPluralRules:oe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]
return new((e=Intl.PluralRules).bind.apply(e,u([void 0],t,!1)))}),{cache:_e(s.pluralRules),strategy:me.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=ae,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()
!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(Se||(Se={}))
var Te=function(e){function t(n,r,i){var s=this,a=i?i instanceof Error?i:new Error(String(i)):void 0
return(s=e.call(this,"[@formatjs/intl Error "+n+"] "+r+" \n"+(a?"\n"+a.message+"\n"+a.stack:""))||this).code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return s(t,e),t}(Error),Ie=function(e){function t(t,n){return e.call(this,Se.UNSUPPORTED_FORMATTER,t,n)||this}return s(t,e),t}(Te),Me=function(e){function t(t,n){return e.call(this,Se.INVALID_CONFIG,t,n)||this}return s(t,e),t}(Te),Ee=function(e){function t(t,n){return e.call(this,Se.MISSING_DATA,t,n)||this}return s(t,e),t}(Te),ke=function(e){function t(t,n,r){return e.call(this,Se.FORMAT_ERROR,t+" \nLocale: "+n+"\n",r)||this}return s(t,e),t}(Te),Ce=function(e){function t(t,n,r,i){var s=e.call(this,t+" \nMessageID: "+(null==r?void 0:r.id)+"\nDefault Message: "+(null==r?void 0:r.defaultMessage)+"\nDescription: "+(null==r?void 0:r.description)+" \n",n,i)||this
return s.descriptor=r,s}return s(t,e),t}(ke),Ae=function(e){function t(t,n){var r=e.call(this,Se.MISSING_TRANSLATION,'Missing message: "'+t.id+'" for locale "'+n+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this
return r.descriptor=t,r}return s(t,e),t}(Te)
function Le(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}var Re={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){}}
function Pe(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Fe(e,t,n,r){var i,s=e&&e[t]
if(s&&(i=s[n]),i)return i
r(new Ie("No "+t+" format named: "+n))}function Ne(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=c({timeZone:t},e[r]),n}),{})}function De(e,t){return Object.keys(c(c({},e),t)).reduce((function(n,r){return n[r]=c(c({},e[r]||{}),t[r]||{}),n}),{})}function Ve(e,t){if(!t)return e
var n=xe.formats
return c(c(c({},n),e),{date:De(Ne(n.date,t),Ne(e.date||{},t)),time:De(Ne(n.time,t),Ne(e.time||{},t))})}function Ue(e,t,n,r,i){var s=e.locale,a=e.formats,l=e.messages,u=e.defaultLocale,d=e.defaultFormats,h=e.fallbackOnEmptyString,p=e.onError,f=e.timeZone,b=e.defaultRichTextElements
void 0===n&&(n={id:""})
var m=n.id,y=n.defaultMessage
!function(e,t,n){if(void 0===n&&(n=Error),!e)throw new n("[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue")}(!!m)
var g=String(m),v=l&&Object.prototype.hasOwnProperty.call(l,g)&&l[g]
if(Array.isArray(v)&&1===v.length&&v[0].type===o.literal)return v[0].value
if(!r&&v&&"string"==typeof v&&!b)return v.replace(/'\{(.*?)\}'/gi,"{$1}")
if(r=c(c({},b),r||{}),a=Ve(a,f),d=Ve(d,f),!v){if(!1===h&&""===v)return v
if((!y||s&&s.toLowerCase()!==u.toLowerCase())&&p(new Ae(n,s)),y)try{return t.getMessageFormat(y,u,d,i).format(r)}catch(e){return p(new Ce('Error formatting default message for: "'+g+'", rendering default message verbatim',s,n,e)),"string"==typeof y?y:g}return g}try{return t.getMessageFormat(v,s,a,c({formatters:t},i||{})).format(r)}catch(e){p(new Ce('Error formatting message: "'+g+'", using '+(y?"default message":"id")+" as fallback.",s,n,e))}if(y)try{return t.getMessageFormat(y,u,d,i).format(r)}catch(e){p(new Ce('Error formatting the default message for: "'+g+'", rendering message verbatim',s,n,e))}return"string"==typeof v?v:"string"==typeof y?y:g}var Ge=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"]
function ze(e,t,n,r){var i=e.locale,s=e.formats,a=e.onError,o=e.timeZone
void 0===r&&(r={})
var l=r.format,u=c(c({},o&&{timeZone:o}),l&&Fe(s,t,l,a)),d=Le(r,Ge,u)
return"time"!==t||d.hour||d.minute||d.second||d.timeStyle||d.dateStyle||(d=c(c({},d),{hour:"numeric",minute:"numeric"})),n(i,d)}function qe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]
var i=n[0],s=n[1],a=void 0===s?{}:s,o="string"==typeof i?new Date(i||0):i
try{return ze(e,"date",t,a).format(o)}catch(t){e.onError(new Te(Se.FORMAT_ERROR,"Error formatting date.",t))}return String(o)}function Be(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]
var i=n[0],s=n[1],a=void 0===s?{}:s,o="string"==typeof i?new Date(i||0):i
try{return ze(e,"time",t,a).format(o)}catch(t){e.onError(new Te(Se.FORMAT_ERROR,"Error formatting time.",t))}return String(o)}function $e(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]
var i=n[0],s=n[1],a=n[2],o=void 0===a?{}:a,l=e.timeZone,c=e.locale,u=e.onError,d=Le(o,Ge,l?{timeZone:l}:{})
try{return t(c,d).formatRange(i,s)}catch(e){u(new Te(Se.FORMAT_ERROR,"Error formatting date time range.",e))}return String(i)}function He(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]
var i=n[0],s=n[1],a=void 0===s?{}:s,o="string"==typeof i?new Date(i||0):i
try{return ze(e,"date",t,a).formatToParts(o)}catch(t){e.onError(new Te(Se.FORMAT_ERROR,"Error formatting date.",t))}return[]}function We(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]
var i=n[0],s=n[1],a=void 0===s?{}:s,o="string"==typeof i?new Date(i||0):i
try{return ze(e,"time",t,a).formatToParts(o)}catch(t){e.onError(new Te(Se.FORMAT_ERROR,"Error formatting time.",t))}return[]}var Ze=["localeMatcher","style","type","fallback"]
function Ke(e,t,n,r){var i=e.locale,s=e.onError
Intl.DisplayNames||s(new ge('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',fe.MISSING_INTL_API))
var a=Le(r,Ze)
try{return t(i,a).of(n)}catch(e){s(new Te(Se.FORMAT_ERROR,"Error formatting display name.",e))}}var Je=["localeMatcher","type","style"],Ye=Date.now()
function Xe(e,t,n,r){void 0===r&&(r={})
var i=Qe(e,t,n,r).reduce((function(e,t){var n=t.value
return"string"!=typeof n?e.push(n):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[])
return 1===i.length?i[0]:i}function Qe(e,t,n,r){var i=e.locale,s=e.onError
void 0===r&&(r={}),Intl.ListFormat||s(new ge('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',fe.MISSING_INTL_API))
var a=Le(r,Je)
try{var o={},l=n.map((function(e,t){if("object"==typeof e){var n=function(e){return Ye+"_"+e+"_"+Ye}(t)
return o[n]=e,n}return String(e)}))
return t(i,a).formatToParts(l).map((function(e){return"literal"===e.type?e:c(c({},e),{value:o[e.value]||e.value})}))}catch(e){s(new Te(Se.FORMAT_ERROR,"Error formatting list.",e))}return n}var et=["localeMatcher","type"]
function tt(e,t,n,r){var i=e.locale,s=e.onError
void 0===r&&(r={}),Intl.PluralRules||s(new ge('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',fe.MISSING_INTL_API))
var a=Le(r,et)
try{return t(i,a).select(n)}catch(e){s(new ke("Error formatting plural.",i,e))}return"other"}var nt=["numeric","style"]
function rt(e,t,n,r,i){void 0===i&&(i={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new ge('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',fe.MISSING_INTL_API))
try{return function(e,t,n){var r=e.locale,i=e.formats,s=e.onError
void 0===n&&(n={})
var a=n.format,o=!!a&&Fe(i,"relative",a,s)||{}
return t(r,Le(n,nt,o))}(e,t,i).format(n,r)}catch(t){e.onError(new ke("Error formatting relative time.",e.locale,t))}return String(n)}var it=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"]
function st(e,t,n){var r=e.locale,i=e.formats,s=e.onError
void 0===n&&(n={})
var a=n.format,o=a&&Fe(i,"number",a,s)||{}
return t(r,Le(n,it,o))}function at(e,t,n,r){void 0===r&&(r={})
try{return st(e,t,r).format(n)}catch(t){e.onError(new Te(Se.FORMAT_ERROR,"Error formatting number.",t))}return String(n)}function ot(e,t,n,r){void 0===r&&(r={})
try{return st(e,t,r).formatToParts(n)}catch(t){e.onError(new Te(Se.FORMAT_ERROR,"Error formatting number.",t))}return[]}function lt(e,t){var n=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}})
var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=oe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]
return new((e=Intl.DateTimeFormat).bind.apply(e,u([void 0],t,!1)))}),{cache:Pe(e.dateTime),strategy:me.variadic}),s=oe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]
return new((e=Intl.NumberFormat).bind.apply(e,u([void 0],t,!1)))}),{cache:Pe(e.number),strategy:me.variadic}),a=oe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]
return new((e=Intl.PluralRules).bind.apply(e,u([void 0],t,!1)))}),{cache:Pe(e.pluralRules),strategy:me.variadic})
return{getDateTimeFormat:i,getNumberFormat:s,getMessageFormat:oe((function(e,t,n,r){return new xe(e,t,n,c({formatters:{getNumberFormat:s,getDateTimeFormat:i,getPluralRules:a}},r||{}))}),{cache:Pe(e.message),strategy:me.variadic}),getRelativeTimeFormat:oe((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]
return new(t.bind.apply(t,u([void 0],e,!1)))}),{cache:Pe(e.relativeTime),strategy:me.variadic}),getPluralRules:a,getListFormat:oe((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]
return new(n.bind.apply(n,u([void 0],e,!1)))}),{cache:Pe(e.list),strategy:me.variadic}),getDisplayNames:oe((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]
return new(r.bind.apply(r,u([void 0],e,!1)))}),{cache:Pe(e.displayNames),strategy:me.variadic})}}(t),r=c(c({},Re),e),i=r.locale,s=r.defaultLocale,a=r.onError
return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&a?a(new Ee('Missing locale data for locale: "'+i+'" in Intl.NumberFormat. Using default locale: "'+s+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&a&&a(new Ee('Missing locale data for locale: "'+i+'" in Intl.DateTimeFormat. Using default locale: "'+s+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(a&&a(new Me('"locale" was not configured, using "'+s+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),r.locale=r.defaultLocale||"en"),function(e){var t
e.defaultRichTextElements&&"string"==typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&console.warn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}(r),c(c({},r),{formatters:n,formatNumber:at.bind(null,r,n.getNumberFormat),formatNumberToParts:ot.bind(null,r,n.getNumberFormat),formatRelativeTime:rt.bind(null,r,n.getRelativeTimeFormat),formatDate:qe.bind(null,r,n.getDateTimeFormat),formatDateToParts:He.bind(null,r,n.getDateTimeFormat),formatTime:Be.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:$e.bind(null,r,n.getDateTimeFormat),formatTimeToParts:We.bind(null,r,n.getDateTimeFormat),formatPlural:tt.bind(null,r,n.getPluralRules),formatMessage:Ue.bind(null,r,n),formatList:Xe.bind(null,r,n.getListFormat),formatListToParts:Qe.bind(null,r,n.getListFormat),formatDisplayName:Ke.bind(null,r,n.getDisplayNames)})}const ct={Arabic:"ar",Bulgarian:"bg",Bosnian:"bs",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},ut=[...Object.values(ct),"en-AU","en-GB","es-ES","es-MX","de-CH","de-DE","it-CH","it-IT"],dt=[ct.Arabic,ct.Hebrew],ht=(e,t)=>{const n=e=>e&&"object"==typeof e
return n(e)&&n(t)?(Object.keys(t).forEach(r=>{const i=e[r],s=t[r]
Array.isArray(i)&&Array.isArray(s)?e[r]=i.concat(s):n(i)&&n(s)?e[r]=ht(Object.assign({},i),s):e[r]=s}),e):t},pt=ct.English
function ft(e=document.documentElement){var t
const n=("[lang]",function e(t){let n
return n=void 0===t||t===document||t===window?null:t.closest("[lang]")||e(t.getRootNode().host),n}(e))
const r=null!==(t=null==n?void 0:n.lang)&&void 0!==t?t:window.navigator.language,i=function(e){let t=pt
if(void 0!==e){const n=Object.values(ct),r=n.filter(e=>-1!==e.indexOf("-"))
if(-1!==e.indexOf("-")){const[t,n]=e.split("-")
e=`${t}-${n.toUpperCase()}`}if(!0===r.includes(e))t=e
else{const r=function(e){const t=null==e?void 0:e.match(/^([a-z]{2})-([A-Z]{2})$/)
let n=pt
return null!=t&&(null==t?void 0:t.length)>1?n=t[1]:2===(null==e?void 0:e.length)&&e.toLowerCase()===e&&(n=e),n}(e)
!0===n.includes(r)&&(t=r)}}return t}(r),s=function(e){let t=ut.find(t=>t===e)
if(void 0===t&&(t=e),void 0!==t&&-1!==t.indexOf("-")){const[e,n]=t.split("-")
t=`${e}-${n.toUpperCase()}`}return t}(r),a=dt.includes(i)
let o=e.getAttribute("dir")
return"ltr"!==o&&"rtl"!==o&&(o=!0===a?"rtl":"ltr"),{locale:i,rtl:a,formatLocale:s,direction:o}}class bt{constructor(e,t,n){this._componentName=e,this._intl=t,this.direction=n}get locale(){return this._intl.locale}t(e,t,n){const r=`${this._componentName}.${e}`
let i=this._intl.formatMessage({id:r},t,n)
return void 0!==(null==n?void 0:n.fallback)&&i===r&&(i=n.fallback),i}formatRelativeTime(e,t,n){return this._intl.formatRelativeTime(e,t,n)}formatDisplayName(e,t){return this._intl.formatDisplayName(e,t)}formatDate(e,t){return this._intl.formatDate(e,t)}formatNumber(e,t){return this._intl.formatNumber(e,t)}}const mt=new class{constructor(e={}){this._intls={}
const{assetPath:t="t9n",fileNamePattern:n="{tagName}.t9n.{locale}.json"}=e
this.assetPath=t,this.fileNamePattern=n}getIntlForComponent(e){const{locale:t,direction:n}=ft(e),r=e.tagName.toLowerCase(),i=lt({locale:t,messages:{}})
return this._intls[t]=i,new bt(r,i,n)}async loadIntlForComponent(e,t){const{locale:n,direction:i}=ft(e),{fileNamePattern:s,assetPath:a}=this,{strings:o}=await async function(e,t,n){const r=e.tagName.toLowerCase(),{locale:i}=ft(e)
return{strings:await async function(e){const{path:t,locale:n,baseURL:r,fileNamePattern:i="{tagName}.t9n.{locale}.json"}=e,s=e=>i.replace("{tagName}",t).replace("{locale}",e),a=await fetch(`${r}/${s(pt)}`),o=await a.json()
let l={}
if(n!==pt)try{const e=await fetch(`${r}/${s(n)}`)
l=await e.json()}catch(e){console.warn(`Unable to fetch locale file for ${t} component for locale ${n}`)}return ht(o,l)}({path:r,locale:i,baseURL:t,fileNamePattern:n})}}(e,t||Object(r.f)(a),s),l=e.tagName.toLowerCase()
let c=this._intls[n]
return c=lt({locale:n,messages:this.parseStrings(o,l,c?c.messages:{})},{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}),this._intls[n]=c,new bt(l,c,i)}parseStrings(e,t,n){return Object.entries(e).reduce((e,[n,r])=>("string"==typeof r?e[`${t}.${n}`]=r:this.parseStrings(r,`${t}.${n}`,e),e),n)}}({assetPath:"locales",fileNamePattern:"{tagName}.i18n.{locale}.json"})},1225:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))
var r=n(1300)
function i(e){const{host:t,path:n,query:r}=e,i=t.endsWith("/")?t:t+"/",s=new URL(n,i)
return s.search=function(e={}){const t=Object.keys(e).filter(t=>void 0!==e[t]).reduce((t,n)=>(t[n]=e[n],t),{})
return new URLSearchParams(t).toString()}(r),s.toString()}class s extends Error{constructor(e,t,n){super(e),this.status=n,this.url=t}}function a(e,t){const n=Object.assign({httpMethod:"GET"},t),a=n.fetch||fetch,o=Object.assign({"Content-Type":"application/json"},n.headers)
let l,c
"GET"===n.httpMethod?l=n.params:c=JSON.stringify(n.params)
const u=i({host:Object(r.b)(n),path:("/api/v3/"+e).replace(/\/\//g,"/"),query:l})
return a(u,{method:n.httpMethod,headers:o,body:c}).then(e=>{if(e.ok)return e.json()
throw new s(e.statusText,u,e.status)})}},1228:function(e,t,n){"use strict"
n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return V}))
var r=n(446),i=n(235),s=n(973),a=n(1250),o=n(1120),l=n(196),c=n(233),u=n(23),d=n(1121),h=n(1019),p=n(110),f=(n(1083),n(374))
const b={}
var m=n(1214)
class y{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(t=>{this[t]=(...n)=>e[t](...n)})}}class g{constructor(){this._dispatcher=new y,this._workerPostMessage({type:d.a.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){Object(m.a)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,n){this._dispatcher.addEventListener(e,t,n)}removeEventListener(e,t,n){this._dispatcher.removeEventListener(e,t,n)}_workerPostMessage(e){Object(m.a)(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){const t=Object(d.d)(e)
if(t&&t.type===d.a.OPEN){const{modulePath:e,jobId:n}=t
let r=await o.a.loadWorker(e)
r||(r=await import(e))
const i=o.a.connect(r)
this._workerPostMessage({type:d.a.OPENED,jobId:n,data:i})}}}var v=n(1005),O=n(379)
const j=c.a.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:w}=d.a
let _,S
const x="Failed to create Worker. Fallback to execute module in main thread"
async function T(e){return new Promise(t=>{function n(i){const s=Object(d.d)(i)
s&&s.type===w&&(e.removeEventListener("message",n),e.removeEventListener("error",r),t(e))}function r(t){t.preventDefault(),e.removeEventListener("message",n),e.removeEventListener("error",r),j.warn("Failed to create Worker. Fallback to execute module in main thread",t),(e=new g).addEventListener("message",n),e.addEventListener("error",r)}e.addEventListener("message",n),e.addEventListener("error",r)})}let I=0
const{ABORT:M,INVOKE:E,OPEN:k,OPENED:C,RESPONSE:A}=d.a
class L{static async create(e){const t=await async function(){if(!Object(i.a)("esri-workers")||(Object(i.a)("mozilla"),0))return T(new g)
if(!_&&!S)try{const e='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,version:r}=configuration.kernelInfo,{revision:t,version:n}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS API for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const i=outgoing.get(r);outgoing.delete(r),o.error?i.reject(JSON.parse(o.error)):i.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split('"{CONFIGURATION}"').join(`'${function(){let e
if(null!=p.default.default){const t={...p.default}
delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(p.default))
e.assetsPath=Object(f.F)(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Object(f.F)(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Object(v.b)(),e.has={"esri-csp-restrictions":Object(i.a)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Object(i.a)("esri-2d-update-debug"),"featurelayer-pbf":Object(i.a)("featurelayer-pbf"),"featurelayer-simplify-thresholds":Object(i.a)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":Object(i.a)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":Object(i.a)("featurelayer-simplify-mobile-factor"),"esri-atomics":Object(i.a)("esri-atomics"),"esri-shared-array-buffer":Object(i.a)("esri-shared-array-buffer"),"esri-tiles-debug":Object(i.a)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Object(i.a)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":Object(i.a)("feature-polyline-generalization-factor"),"host-webworker":1,"polylabel-placement-enabled":Object(i.a)("polylabel-placement-enabled")},e.workers.loaderUrl&&(e.workers.loaderUrl=Object(f.F)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Object(f.F)(e.workers.workerPath):e.workers.workerPath=Object(f.F)(Object(h.b)("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1
const t=p.default.workers.loaderConfig,n=function(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}}
return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=b.baseUrl),t}({baseUrl:null==t?void 0:t.baseUrl,locale:Object(v.b)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...null==t?void 0:t.has},map:{...null==t?void 0:t.map},paths:{...null==t?void 0:t.paths},packages:(null==t?void 0:t.packages)||[]}),r={version:l.d,buildDate:O.a,revision:O.b}
return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:r})}()}'`)
_=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){S=e||{}}let e
if(_)try{e=new Worker(_,{name:"esri-worker-"+I++})}catch(t){j.warn(x,S),e=new g}else j.warn(x,S),e=new g
return T(e)}()
return new L(t,e)}constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",e=>{e.preventDefault(),c.a.getLogger("esri.core.workers.WorkerOwner").error(e)})}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:n}=t,r=Object(d.b)()
return new Promise((t,i)=>{const a={resolve:t,reject:i,abortHandle:Object(s.o)(n,()=>{this._outJobs.delete(r),this._post({type:M,jobId:r})})}
this._outJobs.set(r,a),this._post({type:k,jobId:r,modulePath:e})})}_onMessage(e){const t=Object(d.d)(e)
if(t)switch(t.type){case C:this._onOpenedMessage(t)
break
case A:this._onResponseMessage(t)
break
case M:this._onAbortMessage(t)
break
case E:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,n=e.jobId,r=t.get(n)
r&&(r.controller&&r.controller.abort(),t.delete(n))}_onInvokeMessage(e){const{methodName:t,jobId:n,data:r,abortable:i}=e,a=i?new AbortController:null,o=this._inJobs,c=l.e[t]
let u
try{if("function"!=typeof c)throw new TypeError(t+" is not a function")
u=c.call(null,r,{signal:a?a.signal:null})}catch(e){return void this._post({type:A,jobId:n,error:Object(d.e)(e)})}Object(s.l)(u)?(o.set(n,{controller:a,promise:u}),u.then(e=>{o.has(n)&&(o.delete(n),this._post({type:A,jobId:n},e))},e=>{o.has(n)&&(o.delete(n),e||(e={message:"Error encountered at method"+t}),Object(s.j)(e)||this._post({type:A,jobId:n,error:Object(d.e)(e||{message:"Error encountered at method "+t})}))})):this._post({type:A,jobId:n},u)}_onOpenedMessage(e){const{jobId:t,data:n}=e,r=this._outJobs.get(t)
r&&(this._outJobs.delete(t),Object(u.s)(r.abortHandle),r.resolve(n))}_onResponseMessage(e){const{jobId:t,error:n,data:i}=e,s=this._outJobs.get(t)
s&&(this._outJobs.delete(t),Object(u.s)(s.abortHandle),n?s.reject(r.a.fromJSON(JSON.parse(n))):s.resolve(i))}_post(e,t,n){return Object(d.c)(this.worker,e,t,n)}}let R=Object(i.a)("esri-workers-debug")?1:Object(i.a)("esri-mobile")?Math.min(navigator.hardwareConcurrency-1,3):Object(i.a)("host-browser")?navigator.hardwareConcurrency-1:0
R||(R=Object(i.a)("safari")&&Object(i.a)("mac")?7:2)
let P=0
const F=[]
function N(){z()}async function D(e,t){const n=new a.a
return await n.open(e,t),n}async function V(e,t={}){if("string"!=typeof e)throw new r.a("workers:undefined-module","modulePath is missing")
let n=t.strategy||"distributed"
if(Object(i.a)("host-webworker")&&!Object(i.a)("esri-workers")&&(n="local"),"local"===n){let n=await o.a.loadWorker(e)
n||(n=await import(e)),Object(s.q)(t.signal)
const r=t.client||n
return D([o.a.connect(n)],{...t,client:r})}if(await z(),Object(s.q)(t.signal),"dedicated"===n){const n=P++%R
return D([await F[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,R)
if(n<R){const r=new Array(n)
for(let i=0;i<n;++i){const n=P++%R
r[i]=F[n].open(e,t)}return D(r,t)}}return D(F.map(n=>n.open(e,t)),t)}let U,G=null
async function z(){if(G)return G
U=new AbortController
const e=[]
for(let t=0;t<R;t++){const n=L.create(t).then(e=>(F[t]=e,e))
e.push(n)}return G=Promise.all(e),G}},1229:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return h}))
var r=n(110),i=n(235),s=n(23),a=n(973),o=n(374)
function l(e,t,n=!1,r){return new Promise((o,l)=>{if(Object(a.k)(r))return void l(c())
let u=()=>{p(),l(new Error("Unable to load "+t))},d=()=>{const t=e
p(),o(t)},h=()=>{if(!e)return
const t=e
p(),t.src="",l(c())}
const p=()=>{Object(i.a)("esri-image-decode")||(e.removeEventListener("error",u),e.removeEventListener("load",d)),u=null,d=null,e=null,Object(s.l)(r)&&r.removeEventListener("abort",h),h=null,n&&URL.revokeObjectURL(t)}
Object(s.l)(r)&&r.addEventListener("abort",h),Object(i.a)("esri-image-decode")?e.decode().then(d,u):(e.addEventListener("error",u),e.addEventListener("load",d))})}function c(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error
return e.name="AbortError",e}}function u(e){r.default.request.crossOriginNoCorsDomains||(r.default.request.crossOriginNoCorsDomains={})
const t=r.default.request.crossOriginNoCorsDomains
for(let r of e){var n,i,s
r=r.toLowerCase(),/^https?:\/\//.test(r)?t[null!=(n=Object(o.p)(r))?n:""]=0:(t[null!=(i=Object(o.p)("http://"+r))?i:""]=0,t[null!=(s=Object(o.p)("https://"+r))?s:""]=0)}}function d(e){const t=r.default.request.crossOriginNoCorsDomains
if(t){let n=Object(o.p)(e)
if(n)return n=n.toLowerCase(),!Object(o.v)(n,Object(o.m)())&&t[n]<Date.now()-36e5}return!1}async function h(e){var t
const n=r.default.request.crossOriginNoCorsDomains,i=Object(o.p)(e)
n&&i&&(n[i.toLowerCase()]=Date.now())
const s=Object(o.Q)(e)
e=s.path,"json"===(null==(t=s.query)?void 0:t.f)&&(e+="?f=json")
try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}},1230:function(e,t,n){"use strict"
function r(e,t,n,r){return function(e){return"function"==typeof e}(e)?e(t,n,r):e}function i(e){return[e.r,e.g,e.b,e.a]}function s(e){let t=e.length
for(;t--;)if(!" /-,\n".includes(e.charAt(t)))return!1
return!0}function a(e,t){const n=[]
let r=0,i=-1
do{if(i=e.indexOf("[",r),i>=r){if(i>r){const t=e.substr(r,i-r)
n.push([t,null,s(t)])}if(r=i+1,i=e.indexOf("]",r),i>=r){if(i>r){const s=t[e.substr(r,i-r)]
s&&n.push([null,s,!1])}r=i+1}}}while(-1!==i)
if(r<e.length-1){const t=e.substr(r)
n.push([t,null,s(t)])}return n}function o(e,t,n){let r="",i=null
for(const n of t){const[t,s,a]=n
if(t)a?i=t:(i&&(r+=i,i=null),r+=t)
else{const t=e.attributes[s]
t&&(i&&(r+=i,i=null),r+=t)}}return c(r,n)}function l(e,t,n){const r=a(t,e)
return e=>o(e,r,n)}function c(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase()
case"Allcaps":return e.toUpperCase()
default:return e}}function u(e,t,n,r,i,s,a=!0){const o=t/i,l=n/s,c=Math.ceil(o/2),u=Math.ceil(l/2)
for(let n=0;n<s;n++)for(let d=0;d<i;d++){const h=4*(d+(a?s-n-1:n)*i)
let p=0,f=0,b=0,m=0,y=0,g=0,v=0
const O=(n+.5)*l
for(let r=Math.floor(n*l);r<(n+1)*l;r++){const n=Math.abs(O-(r+.5))/u,i=(d+.5)*o,s=n*n
for(let n=Math.floor(d*o);n<(d+1)*o;n++){let a=Math.abs(i-(n+.5))/c
const o=Math.sqrt(s+a*a)
o>=-1&&o<=1&&(p=2*o*o*o-3*o*o+1,p>0&&(a=4*(n+r*t),v+=p*e[a+3],b+=p,e[a+3]<255&&(p=p*e[a+3]/250),m+=p*e[a],y+=p*e[a+1],g+=p*e[a+2],f+=p))}}r[h]=m/f,r[h+1]=y/f,r[h+2]=g/f,r[h+3]=v/b}}function d(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function h(e){var t,n
return null!=(t=null==(n=e.data)?void 0:n.symbol)?t:null}function p(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function f(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function b(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function m(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return w})),n.d(t,"p",(function(){return T})),n.d(t,"q",(function(){return I})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return y})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return b})),n.d(t,"v",(function(){return p})),n.d(t,"w",(function(){return m})),n.d(t,"x",(function(){return f})),n.d(t,"y",(function(){return v})),n.d(t,"z",(function(){return C})),n.d(t,"A",(function(){return A})),n.d(t,"B",(function(){return u})),n.d(t,"C",(function(){return h}))
const y=(e,t=0)=>null==e||isNaN(e)?t:e,g=e=>e.tintColor?d(e.tintColor):{r:255,g:255,b:255,a:1},v=e=>{if(!e)return!1
for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1}
function O(){return Promise.all([n.e(11),n.e(373)]).then(n.bind(null,1632))}function j(e){if(!e)return"normal"
switch(e.toLowerCase()){case"italic":return"italic"
case"oblique":return"oblique"
default:return"normal"}}function w(e){if(!e)return"normal"
switch(e.toLowerCase()){case"bold":return"bold"
case"bolder":return"bolder"
case"lighter":return"lighter"
default:return"normal"}}function _(e){let t="",n=""
if(e){const r=e.toLowerCase()
r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?n="bold":r.includes("light")&&(n="lighter")}return{style:t,weight:n}}function S(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function x(e){if(!e)return null
switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=x(t)
if(null!=e)return e}break
case"CIMTextSymbol":return x(e.symbol)
case"CIMSolidFill":return e.color}}function T(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers
if(t)for(const e of t){const t=T(e)
if(null!=t)return t}break}case"CIMTextSymbol":return T(e.symbol)
case"CIMSolidStroke":case"CIMSolidFill":return e.color}}function I(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=I(t)
if(void 0!==e)return e}break
case"CIMTextSymbol":return I(e.symbol)
case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function M(e){switch(e){case"Left":default:return"left"
case"Right":return"right"
case"Center":case"Justify":return"center"}}function E(e){switch(e){case"Top":default:return"top"
case"Center":return"middle"
case"Baseline":return"baseline"
case"Bottom":return"bottom"}}function k(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"}))}const C=e=>e.includes("data:image/svg+xml")
function A(e){if(!e)return null
switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint"
case"CIMLineSymbol":return"esriGeometryPolyline"
case"CIMPolygonSymbol":return"esriGeometryPolygon"
default:return null}}},1232:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}))
var r=n(1300)
function i(e,t){return-1!==e.indexOf(t)}const s=(e,t,n)=>{const{id:i,access:s}=e,a=`${Object(r.a)(t)}/content/items/${i}`,o=new URLSearchParams({f:"json"})
return"public"!==s&&n&&o.append("token",n),`${a}?${o.toString()}`}
function a(e,t,n){if(!e||!e.thumbnail)return null
let{token:r,width:i}=n||{}
r||"string"!=typeof n||(r=n)
const a=s(e,t,r),[o,l]=a.split("?"),c=new URLSearchParams(l)
c.delete("f"),i&&c.append("w",i+"")
const u=c.toString(),d=`${o}/info/${e.thumbnail}`
return u?`${d}?${u}`:d}},1233:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h}))
var r,i=n(968),s=n(972),a=n(234),o=n(970),l=n(971),c=n(969),u=n(974)
let d=r=class extends s.a{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new r(Object(a.a)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}}
Object(i.a)([Object(o.b)({type:[String],json:{write:!0}})],d.prototype,"attachmentTypes",void 0),Object(i.a)([Object(o.b)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],d.prototype,"attachmentsWhere",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],d.prototype,"cacheHint",void 0),Object(i.a)([Object(o.b)({type:[String],json:{write:!0}})],d.prototype,"keywords",void 0),Object(i.a)([Object(o.b)({type:[Number],json:{write:!0}})],d.prototype,"globalIds",void 0),Object(i.a)([Object(o.b)({json:{write:!0}})],d.prototype,"name",void 0),Object(i.a)([Object(o.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],d.prototype,"num",void 0),Object(i.a)([Object(o.b)({type:[Number],json:{write:!0}})],d.prototype,"objectIds",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{default:!1,write:!0}})],d.prototype,"returnMetadata",void 0),Object(i.a)([Object(o.b)({type:[Number],json:{write:!0}})],d.prototype,"size",void 0),Object(i.a)([Object(o.b)({type:Number,json:{read:{source:"resultOffset"}}})],d.prototype,"start",void 0),Object(i.a)([Object(u.a)("start"),Object(u.a)("num")],d.prototype,"writeStart",null),Object(i.a)([Object(o.b)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],d.prototype,"where",void 0),d=r=Object(i.a)([Object(c.a)("esri.rest.support.AttachmentQuery")],d),d.from=Object(l.m)(d)
const h=d},1236:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}))
var r=n(1158),i=n(1094),s=n(1253)
const a={key:"type",base:i.a,typeMap:{algorithmic:r.a,multipart:s.a}}
function o(e){return e&&e.type?"algorithmic"===e.type?r.a.fromJSON(e):"multipart"===e.type?s.a.fromJSON(e):null:null}},1237:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new r
return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},1240:function(e,t,n){"use strict"
function r(e){var t,n,r
return null!=(t=null==(n=e.match(i))||null==(r=n[1])?void 0:r.replace(/\\'/g,"'"))?t:null}n.d(t,"a",(function(){return r}))
const i=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/},1241:function(e,t,n){"use strict"
n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y}))
var r=n(995),i=n(446),s=n(1145),a=n(1336),o=n(1065),l=n(1455),c=n(1078),u=n(1402),d=n(1073),h=n(1456),p=n(1218),f=n(1239),b=n(1454)
const m={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0}
function y(e,t=m){if(!e)return{symbol:null}
const{retainId:n=m.retainId,ignoreDrivers:y=m.ignoreDrivers,hasLabelingContext:g=m.hasLabelingContext,retainCIM:v=m.retainCIM}=t
let O=null
if(Object(r.c)(e)||e instanceof s.a)O=e.clone()
else if("cim"===e.type){var j,w
const t=null==(j=e.data)||null==(w=j.symbol)?void 0:w.type
if("CIMPointSymbol"!==t)return{error:new i.a("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})}
O=v?e.clone():a.a.fromCIMSymbol(e)}else if(e instanceof o.a)O=l.a.fromSimpleLineSymbol(e)
else if(e instanceof c.a)O=a.a.fromSimpleMarkerSymbol(e)
else if(e instanceof u.a)O=a.a.fromPictureMarkerSymbol(e)
else if(e instanceof d.a)O=t.geometryType&&"mesh"===t.geometryType?h.a.fromSimpleFillSymbol(e):p.a.fromSimpleFillSymbol(e)
else{if(!(e instanceof f.a))return{error:new i.a("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})}
O=g?b.a.fromTextSymbol(e):a.a.fromTextSymbol(e)}if(n&&O&&"cim"!==O.type&&(O.id=e.id),y&&Object(r.c)(O))for(let e=0;e<O.symbolLayers.length;++e)O.symbolLayers.getItemAt(e)._ignoreDrivers=!0
return{symbol:O}}},1242:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return f}))
var r,i=n(968),s=(n(982),n(972)),a=n(234),o=n(970),l=n(971),c=n(969),u=n(974),d=n(1106),h=n(769)
let p=r=class extends s.a{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(t.definitionExpression="1=1")}clone(){return new r(Object(a.a)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}}
Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],p.prototype,"cacheHint",void 0),Object(i.a)([Object(o.b)({type:d.a,json:{write:!0}})],p.prototype,"dynamicDataSource",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"gdbVersion",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],p.prototype,"geometryPrecision",void 0),Object(i.a)([Object(o.b)({type:Date})],p.prototype,"historicMoment",void 0),Object(i.a)([Object(u.a)("historicMoment")],p.prototype,"_writeHistoricMoment",null),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],p.prototype,"maxAllowableOffset",void 0),Object(i.a)([Object(o.b)({type:[Number],json:{write:!0}})],p.prototype,"objectIds",void 0),Object(i.a)([Object(o.b)({type:[String],json:{write:!0}})],p.prototype,"orderByFields",void 0),Object(i.a)([Object(o.b)({type:[String],json:{write:!0}})],p.prototype,"outFields",void 0),Object(i.a)([Object(o.b)({type:h.default,json:{read:{source:"outSR"},write:{target:"outSR"}}})],p.prototype,"outSpatialReference",void 0),Object(i.a)([Object(o.b)({json:{write:!0}})],p.prototype,"relationshipId",void 0),Object(i.a)([Object(o.b)({type:Number,json:{read:{source:"resultOffset"}}})],p.prototype,"start",void 0),Object(i.a)([Object(u.a)("start"),Object(u.a)("num")],p.prototype,"writeStart",null),Object(i.a)([Object(o.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],p.prototype,"num",void 0),Object(i.a)([Object(o.b)({json:{write:!0}})],p.prototype,"returnGeometry",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],p.prototype,"returnM",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],p.prototype,"returnZ",void 0),Object(i.a)([Object(o.b)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],p.prototype,"where",void 0),p=r=Object(i.a)([Object(c.a)("esri.rest.support.RelationshipQuery")],p),p.from=Object(l.m)(p)
const f=p},1243:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(968),i=n(975),s=n(970),a=(n(971),n(445),n(969))
let o=class extends i.a{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1,this.TERRAIN_USE_LEGACY_SHADING=!1}}
Object(r.a)([Object(s.b)()],o.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),Object(r.a)([Object(s.b)()],o.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),Object(r.a)([Object(s.b)()],o.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),Object(r.a)([Object(s.b)()],o.prototype,"DECONFLICTOR_SHOW_GRID",void 0),Object(r.a)([Object(s.b)()],o.prototype,"LABELS_SHOW_BORDER",void 0),Object(r.a)([Object(s.b)()],o.prototype,"TEXT_SHOW_BASELINE",void 0),Object(r.a)([Object(s.b)()],o.prototype,"TEXT_SHOW_BORDER",void 0),Object(r.a)([Object(s.b)()],o.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),Object(r.a)([Object(s.b)()],o.prototype,"OVERLAY_SHOW_CENTER",void 0),Object(r.a)([Object(s.b)()],o.prototype,"SHOW_POI",void 0),Object(r.a)([Object(s.b)()],o.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),Object(r.a)([Object(s.b)()],o.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),Object(r.a)([Object(s.b)()],o.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),Object(r.a)([Object(s.b)()],o.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),Object(r.a)([Object(s.b)()],o.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),Object(r.a)([Object(s.b)()],o.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),Object(r.a)([Object(s.b)()],o.prototype,"I3S_TREE_SHOW_TILES",void 0),Object(r.a)([Object(s.b)()],o.prototype,"I3S_SHOW_MODIFICATIONS",void 0),Object(r.a)([Object(s.b)()],o.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),Object(r.a)([Object(s.b)()],o.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),Object(r.a)([Object(s.b)()],o.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),Object(r.a)([Object(s.b)()],o.prototype,"LINE_WIREFRAMES",void 0),Object(r.a)([Object(s.b)()],o.prototype,"TERRAIN_USE_LEGACY_SHADING",void 0),o=Object(r.a)([Object(a.a)("esri.views.3d.support.DebugFlags")],o)
const l=new o},1245:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r,i=n(968),s=n(990),a=n(972),o=n(970),l=n(971),c=(n(445),n(969))
let u=r=class extends a.a{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new r({color:this.color,ratio:this.ratio})}}
Object(i.a)([Object(o.b)({type:s.a,json:{type:[l.a],default:null,write:!0}})],u.prototype,"color",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],u.prototype,"ratio",void 0),u=r=Object(i.a)([Object(c.a)("esri.renderers.support.HeatmapColorStop")],u)
const d=u},1246:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r,i=n(968),s=n(972),a=n(970),o=(n(971),n(445),n(969))
let l=r=class extends s.a{constructor(e){super(e),this.name=null,this.code=null}clone(){return new r({name:this.name,code:this.code})}}
Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"name",void 0),Object(i.a)([Object(a.b)({type:[String,Number],json:{write:!0}})],l.prototype,"code",void 0),l=r=Object(i.a)([Object(o.a)("esri.layers.support.CodedValue")],l)},1247:function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(968),i=n(110),s=n(196),a=n(771),o=n(1034),l=n(446),c=n(233),u=n(23),d=n(973),h=n(374),p=n(970),f=(n(971),n(445),n(977)),b=n(969),m=n(974),y=n(1037),g=n(1028),v=n(1154),O=n(1542),j=n(1248)
const w=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=Object(u.e)(this.portalItem)}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,n){if(t.itemId)return new v.default({id:t.itemId,portal:n&&n.portal})}writePortalItem(e,t){e&&e.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem&&this.portalItem.id)try{const r=await n.e(336).then(n.bind(null,1478))
return Object(d.q)(t),await r.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(e){throw Object(d.j)(e)||c.a.getLogger(this.declaredClass).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch(e=>(Object(d.p)(e),!0)))}async _setUserPrivileges(e,t){if(!i.default.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t)
if(this.url)try{const{features:{edit:n,fullEdit:r},content:{updateItem:i}}=await this._fetchUserPrivileges(e,t)
this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",i)}catch(e){Object(d.p)(e)}}async _fetchUserPrivileges(e,t){let n=this.portalItem
if(!e||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(t)
const r=e===n.id
if(r&&n.portal.user)return Object(j.c)(n)
let i,a
if(r)i=n.portal.url
else try{i=await Object(y.c)(this.url,t)}catch(e){Object(d.p)(e)}if(!i||!Object(h.u)(i,n.portal.url))return this._fetchFallbackUserPrivileges(t)
try{const e=Object(u.l)(t)?t.signal:null
a=await(null==s.b?void 0:s.b.getCredential(i+"/sharing",{prompt:!1,signal:e}))}catch(e){Object(d.p)(e)}if(!a)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}
try{if(r?await n.reload():(n=new v.default({id:e,portal:{url:i}}),await n.load(t)),n.portal.user)return Object(j.c)(n)}catch(e){Object(d.p)(e)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}async _fetchFallbackUserPrivileges(e){let t=!0
try{t=await this._fetchUserHasEditingPrivileges(e)}catch(e){Object(d.p)(e)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?null==s.b?void 0:s.b.findCredential(this.url):null
if(!t)return!0
const n=_.credential===t?_.user:await this._fetchEditingUser(e)
return _.credential=t,_.user=n,Object(u.k)(n)||null==n.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(e){var t,n,r
const i=null==(t=this.portalItem)||null==(n=t.portal)?void 0:n.user
if(i)return i
const l=s.b.findServerInfo(null!=(r=this.url)?r:"")
if(null==l||!l.owningSystemUrl)return null
const c=l.owningSystemUrl+"/sharing/rest",d=g.a.getDefault()
if(d&&d.loaded&&Object(h.I)(d.restUrl)===Object(h.I)(c))return d.user
const p=c+"/community/self",f=Object(u.l)(e)?e.signal:null,b=await Object(o.e)(Object(a.default)(p,{authMode:"no-prompt",query:{f:"json"},signal:f}))
return b.ok?O.default.fromJSON(b.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const n=t&&t.portal,r=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||g.a.getDefault())
return n&&r&&!Object(h.w)(r.restUrl,n.restUrl)?(t.messages&&t.messages.push(new l.a("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}}
return Object(r.a)([Object(p.b)({type:v.default})],t.prototype,"portalItem",null),Object(r.a)([Object(f.a)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),Object(r.a)([Object(m.a)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),Object(r.a)([Object(p.b)({clonable:!1})],t.prototype,"resourceReferences",void 0),Object(r.a)([Object(p.b)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),Object(r.a)([Object(p.b)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),Object(r.a)([Object(p.b)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=Object(r.a)([Object(b.a)("esri.layers.mixins.PortalLayer")],t),t},_={credential:null,user:null}},1248:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return l}))
var r=n(1015),i=n(769),s=n(774)
function a(e,t){if(!o(e,t)){const n=e.typeKeywords
n?n.push(t):e.typeKeywords=[t]}}function o(e,t){var n
return!(null==(n=e.typeKeywords)||!n.includes(t))}function l(e,t){const n=e.typeKeywords
if(n){const e=n.indexOf(t)
e>-1&&n.splice(e,1)}}async function c(e){const t=e.clone().normalize()
let n
if(t.length>1)for(const e of t)n?e.width>n.width&&(n=e):n=e
else n=t[0]
return async function(e){const t=e.spatialReference
if(t.isWGS84)return e.clone()
if(t.isWebMercator)return Object(s.webMercatorToGeographic)(e)
const n=i.default.WGS84
return await Object(r.g)(t,n),Object(r.m)(e,n)}(n)}const u={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"}
function d(e){var t
const{portal:n,isOrgItem:r,itemControl:i}=e,s=null==(t=n.user)?void 0:t.privileges
let a=!s||s.includes("features:user:edit"),o=!!r&&!(null==s||!s.includes("features:user:fullEdit"))
const l="update"===i||"admin"===i
return l?o=a=!0:o&&(a=!0),{features:{edit:a,fullEdit:o},content:{updateItem:l}}}},1249:function(e,t,n){"use strict"
n.d(t,"a",(function(){return m}))
var r=n(968),i=n(1009),s=n(1195),a=n(986),o=n(972),l=n(23),c=n(970),u=(n(971),n(445),n(977)),d=n(969),h=n(974),p=n(1135)
function f(e,t){return s.a.fromJSON({value:e,unit:t})}let b=class extends(Object(a.b)(o.a)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null
const n=new Date(t.timeExtent[0]),r=new Date(t.timeExtent[1])
return new i.a({start:n,end:r})}writeFullTimeExtent(e,t){e&&Object(l.l)(e.start)&&Object(l.l)(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?f(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?f(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){var n,r
t.timeInterval=null!=(n=null==e?void 0:e.toJSON().value)?n:null,t.timeIntervalUnits=null!=(r=null==e?void 0:e.toJSON().unit)?r:null}}
Object(r.a)([Object(c.b)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],b.prototype,"cumulative",void 0),Object(r.a)([Object(c.b)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],b.prototype,"endField",void 0),Object(r.a)([Object(c.b)({type:i.a,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"fullTimeExtent",void 0),Object(r.a)([Object(u.a)("fullTimeExtent",["timeExtent"])],b.prototype,"readFullTimeExtent",null),Object(r.a)([Object(h.a)("fullTimeExtent")],b.prototype,"writeFullTimeExtent",null),Object(r.a)([Object(c.b)({type:Boolean,json:{write:!0}})],b.prototype,"hasLiveData",void 0),Object(r.a)([Object(c.b)({type:s.a,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"interval",void 0),Object(r.a)([Object(u.a)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],b.prototype,"readInterval",null),Object(r.a)([Object(h.a)("interval")],b.prototype,"writeInterval",null),Object(r.a)([Object(c.b)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],b.prototype,"startField",void 0),Object(r.a)([Object(c.b)({type:p.a,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"timeReference",void 0),Object(r.a)([Object(c.b)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"trackIdField",void 0),Object(r.a)([Object(c.b)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],b.prototype,"useTime",void 0),b=Object(r.a)([Object(d.a)("esri.layers.support.TimeInfo")],b)
const m=b},1250:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(1017),i=n(233),s=n(973),a=n(1208),o=n(1120)
class l{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new a.a}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(e,t){return new Promise((n,r)=>{let i=!0
const a=e=>{Object(s.q)(t.signal),i&&(i=!1,e())}
this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length
for(let i=0;i<e.length;++i){const l=e[i]
Object(s.l)(l)?this._clientPromises[i]=l.then(e=>(this._clients[i]=new o.a(e,t,()=>{var e
return null!=(e=this._ongoingJobsQueue.pop())?e:null}),a(n),this._clients[i]),()=>(a(r),null)):(this._clients[i]=new o.a(l,t,()=>{var e
return null!=(e=this._ongoingJobsQueue.pop())?e:null}),this._clientPromises[i]=Promise.resolve(this._clients[i]),a(n))}})}broadcast(e,t,n){const r=new Array(this._clientPromises.length)
for(let i=0;i<this._clientPromises.length;++i){const s=this._clientPromises[i]
r[i]=s.then(r=>null==r?void 0:r.invoke(e,t,n))}return r}close(){let e
for(;e=this._ongoingJobsQueue.pop();)e.deferred.reject(Object(s.c)(`Worker closing, aborting job calling '${e.methodName}'`))
for(const e of this._clientPromises)e.then(e=>null==e?void 0:e.close())
this._clients.length=0,this._clientPromises.length=0}invoke(e,t,n){let r
Array.isArray(n)?(i.a.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:n}):r=n
const a=Object(s.d)()
this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:r,deferred:a})
for(let e=0;e<this._clientPromises.length;e++){const t=this._clients[e]
t?t.jobAdded():this._clientPromises[e].then(e=>null==e?void 0:e.jobAdded())}return a.promise}on(e,t){return Promise.all(this._clientPromises).then(()=>Object(r.b)(this._clients.map(n=>n.on(e,t))))}openPorts(){return new Promise(e=>{const t=new Array(this._clientPromises.length)
let n=t.length
for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(i=>{i&&(t[r]=i.openPort()),0==--n&&e(t)})})}get test(){return{numClients:this._clients.length}}}},1253:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r,i=n(968),s=n(234),a=n(970),o=(n(971),n(969)),l=n(1158),c=n(1094)
let u=r=class extends c.a{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new r({colorRamps:Object(s.a)(this.colorRamps)})}}
Object(i.a)([Object(a.b)({type:[l.a],json:{write:!0}})],u.prototype,"colorRamps",void 0),Object(i.a)([Object(a.b)({type:["multipart"]})],u.prototype,"type",void 0),u=r=Object(i.a)([Object(o.a)("esri.rest.support.MultipartColorRamp")],u)
const d=u},1254:function(e,t,n){"use strict"
n.r(t),n.d(t,"DictionaryLoader",(function(){return b}))
var r=n(990),i=n(771),s=n(446),a=n(233),o=n(1189),l=n(23),c=n(973),u=n(447),d=n(1010),h=n(781)
const p="esri.renderers.support.DictionaryLoader",f={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}}
class b{constructor(e,t,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new o.a(100),this._dictionaryPromise=null,this.url=e,this.config=t,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(e,t){let n
this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(t))
try{n=await this._dictionaryPromise}catch(e){if(Object(c.j)(e))return this._dictionaryPromise=null,null}const i={}
if(this.fieldMap)for(const t of this._symbolFields){const n=this.fieldMap[t]
if(n&&null!=e.attributes[n]){const r=""+e.attributes[n]
i[t]=r}else i[t]=""}const s=null==n?void 0:n(i,t)
if(!s||"string"!=typeof s)return null
const a=Object(u.b)(s).toString(),o=this._symbolCache.get(a)
if(o)return o.catch(()=>{this._symbolCache.pop(a)}),o
const d=s.split(";"),h=[],p=[]
for(const e of d)if(e)if(e.includes("po:")){const t=e.substr(3).split("|")
if(3===t.length){const e=t[0],n=t[1]
let i=t[2]
if("DashTemplate"===n)i=i.split(" ").map(e=>Number(e))
else if("Color"===n){const e=new r.a(i).toRgba()
i=[e[0],e[1],e[2],255*e[3]]}else i=Number(i)
p.push({primitiveName:e,propertyName:n,value:i})}}else if(e.includes("|")){for(const t of e.split("|"))if(this._itemNames.has(t)){h.push(t)
break}}else this._itemNames.has(e)&&h.push(e)
const f=!Object(l.l)(e.geometry)||!e.geometry.hasZ&&"point"===e.geometry.type,b=this._cimPartsToCIMSymbol(h,p,f,t)
return this._symbolCache.put(a,b,1),b}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise
if(!this.url)return void a.a.getLogger(p).error("no valid URL!")
const t=Object(i.default)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:Object(l.l)(e)?e.signal:null}),[{data:n}]=await Promise.all([t,Object(d.e)()])
if(!n)throw this._dictionaryPromise=null,new s.a("esri.renderers.DictionaryRenderer","Bad dictionary data!")
const r=n.expression,o=n.authoringInfo
this._refSymbolUrlTemplate=this.url+"/"+n.cimRefTemplateUrl,this._itemNames=new Set(n.itemsNames),this._symbolFields=o.symbol
const c={}
if(this.config){const e=this.config
for(const t in e)c[t]=e[t]}if(o.configuration)for(const e of o.configuration)c.hasOwnProperty(e.name)||(c[e.name]=e.value)
const u=[]
if(Object(l.l)(e)&&e.fields&&this.fieldMap)for(const t of this._symbolFields){const n=this.fieldMap[t],r=e.fields.filter(e=>e.name===n)
r.length>0&&u.push({...r[0],name:t})}const h=Object(d.b)(r,Object(l.l)(e)?e.spatialReference:null,u,c).then(e=>{const t={scale:0}
return(n,r)=>{var i
if(Object(l.k)(e))return null
const s=e.repurposeFeature({geometry:null,attributes:n})
return t.scale=Object(l.l)(r)&&null!=(i=r.scale)?i:void 0,e.evaluate({$feature:s,$view:t})}}).catch(e=>(a.a.getLogger(p).error("Creating dictinoary expression failed:",e),null))
return this._dictionaryPromise=h,h}async _cimPartsToCIMSymbol(e,t,n,r){const i=new Array(e.length)
for(let t=0;t<e.length;t++)i[t]=this._getSymbolPart(e[t],r)
const s=await Promise.all(i),a=this.fieldMap
if(a)for(const e of s)m(e,a)
return new h.default({data:this._combineSymbolParts(s,t,n)})}async _getSymbolPart(e,t){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then(e=>e.data)
const n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,e),r=Object(i.default)(n,{responseType:"json",query:{f:"json"},...t})
this._ongoingRequests.set(e,r)
try{return(await r).data}catch(t){throw this._ongoingRequests.delete(e),t}}_combineSymbolParts(e,t,n){if(!e||0===e.length)return null
const r={...e[0]}
if(e.length>1){r.symbolLayers=[]
for(const t of e){const e=t
r.symbolLayers.unshift(...e.symbolLayers)}}return n&&(r.callout=f),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:t}}}function m(e,t){if(!e)return
const n=e.symbolLayers
if(!n)return
let r=n.length
for(;r--;){const e=n[r]
e&&!1!==e.enable&&"CIMVectorMarker"===e.type&&y(e,t)}}function y(e,t){const n=e.markerGraphics
if(n)for(const e of n){if(!e)continue
const n=e.symbol
if(n)switch(n.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":m(n,t)
break
case"CIMTextSymbol":n.fieldMap=t}}}},1255:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l}))
var r=n(1021),i=n(769),s=n(983)
const a={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.a({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.default.WebMercator}),minus180Line:new r.a({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.default.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.a({paths:[[[180,-180],[180,180]]],spatialReference:i.default.WGS84}),minus180Line:new r.a({paths:[[[-180,-180],[-180,180]]],spatialReference:i.default.WGS84})}}
function o(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const n=c(e)
for(const e of n)for(const n of e)n[0]+=t
return e}function c(e){return Object(s.g)(e)?e.rings:e.paths}},1256:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}))
var r=n(40),i=n(95),s=n(16),a=n(377)
function o(e,t){var n=Object(i.a)(t)+"/community/groups/"+e,a=Object(r.a)({httpMethod:"GET"},t)
return Object(s.e)(n,a)}function l(e,t){var n=Object(i.a)(t)+"/community/groups/"+e+"/users",a=Object(r.a)({httpMethod:"GET"},t)
return Object(s.e)(n,a)}function c(e,t){var n=Object(i.a)(t)+"/community/groups/"+e+"/userlist",r=Object(a.a)(t||{},["name","num","start","sortField","sortOrder","joined","memberType"],{httpMethod:"GET"})
return Object(s.e)(n,r)}},1257:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r,i=n(968),s=n(970),a=(n(971),n(445),n(969)),o=n(1159)
let l=r=class extends o.a{constructor(){super(...arguments),this.customValues=null}clone(){return new r({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}}
Object(i.a)([Object(s.b)({type:[Number],json:{write:!0}})],l.prototype,"customValues",void 0),l=r=Object(i.a)([Object(a.a)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],l)
const c=l},1258:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i=n(968),s=n(972),a=n(970),o=(n(971),n(445),n(969)),l=n(1020)
let c=r=class extends s.a{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new r({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol)
return`${this.minValue}.${this.maxValue}.${e}`}}
Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"description",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"label",void 0),Object(i.a)([Object(a.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0),Object(i.a)([Object(a.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0),Object(i.a)([Object(a.b)(l.b)],c.prototype,"symbol",void 0),c=r=Object(i.a)([Object(o.a)("esri.renderers.support.ClassBreakInfo")],c)
const u=c},1259:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}))
var r=n(983)
function i(e){return{geometryType:Object(r.c)(e[0]),geometries:e.map(e=>e.toJSON())}}function s(e,t,n){const i=Object(r.b)(t)
return e.map(e=>{const t=i.fromJSON(e)
return t.spatialReference=n,t})}},1260:function(e,t,n){"use strict"
n.d(t,"a",(function(){return v}))
var r,i=n(968),s=n(445),a=n(976),o=n(972),l=n(997),c=n(1044),u=n(970),d=(n(971),n(977)),h=n(969),p=n(974)
const f=Object(a.b)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),b=f.jsonValues.slice()
Object(s.m)(b,"orthometric")
const m=Object(a.b)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"})
let y=r=class extends o.a{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,n){return f.write(e,t,n)}readHeightModel(e,t,n){return f.read(e)||(n&&n.messages&&n.messages.push(function(e,t){return new c.a("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}(e,{context:n})),null)}readHeightUnit(e,t,n){return m.read(e)||(n&&n.messages&&n.messages.push(g(e,{context:n})),null)}readHeightUnitService(e,t,n){return Object(l.x)(e)||m.read(e)||(n&&n.messages&&n.messages.push(g(e,{context:n})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new r({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const n=Object(l.j)(t)
return new r({heightModel:e.heightModel,heightUnit:n,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null
const t=new r
return t.read(e,{origin:"web-scene"}),t}}
function g(e,t){return new c.a("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}Object(i.a)([Object(u.b)({type:f.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:b,default:"ellipsoidal"}}}})],y.prototype,"heightModel",void 0),Object(i.a)([Object(p.a)("web-scene","heightModel")],y.prototype,"writeHeightModel",null),Object(i.a)([Object(d.a)(["web-scene","service"],"heightModel")],y.prototype,"readHeightModel",null),Object(i.a)([Object(u.b)({type:m.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:m.jsonValues,write:m.write}}}})],y.prototype,"heightUnit",void 0),Object(i.a)([Object(d.a)("web-scene","heightUnit")],y.prototype,"readHeightUnit",null),Object(i.a)([Object(d.a)("service","heightUnit")],y.prototype,"readHeightUnitService",null),Object(i.a)([Object(u.b)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],y.prototype,"vertCRS",void 0),Object(i.a)([Object(d.a)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],y.prototype,"readVertCRS",null),y=r=Object(i.a)([Object(h.a)("esri.geometry.HeightModelInfo")],y)
const v=y},1262:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(95)
function i(e){if("string"==typeof e)return e.replace(/\/sharing\/rest\/?$/,"")
if("object"==typeof e){const t=e.portalSelf||e,{portalHostname:n,urlKey:r,customBaseUrl:i}=t
if(n||r&&i)return t.isPortal?"https://"+t.portalHostname:`https://${t.urlKey}.${t.customBaseUrl}`}return i(Object(r.a)(e))}},1263:function(e,t,n){"use strict"
var r
n.d(t,"a",(function(){return r})),function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"}(r||(r={}))},1264:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i=n(968),s=n(972),a=n(970),o=(n(971),n(445),n(969)),l=n(1020)
let c=r=class extends s.a{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new r({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON())
return`${this.value}.${e}`}}
Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"description",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"label",void 0),Object(i.a)([Object(a.b)(l.b)],c.prototype,"symbol",void 0),Object(i.a)([Object(a.b)(l.c)],c.prototype,"value",void 0),c=r=Object(i.a)([Object(o.a)("esri.renderers.support.UniqueValueInfo")],c)
const u=c},1265:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b}))
var r,i=n(968),s=n(1539),a=n(982),o=n(972),l=n(23),c=n(970),u=n(987),d=(n(445),n(969)),h=n(983)
let p=r=class extends o.a{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new r({rotation:this.rotation,scale:this.scale,targetGeometry:Object(l.l)(this.targetGeometry)?this.targetGeometry.clone():null,camera:Object(l.l)(this.camera)?this.camera.clone():null})}}
function f(){return{enabled:!this.camera}}Object(i.a)([Object(c.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:f}}}}})],p.prototype,"rotation",void 0),Object(i.a)([Object(u.a)("rotation")],p.prototype,"castRotation",null),Object(i.a)([Object(c.b)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:f}}}}})],p.prototype,"scale",void 0),Object(i.a)([Object(c.b)({types:a.c,json:{read:h.a,write:!0,origins:{"web-scene":{read:h.a,write:{overridePolicy:f}}}}})],p.prototype,"targetGeometry",void 0),Object(i.a)([Object(c.b)({type:s.a,json:{write:!0}})],p.prototype,"camera",void 0),p=r=Object(i.a)([Object(d.a)("esri.Viewpoint")],p)
const b=p},1267:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(23),i=n(1163)
function s(e,t,n){if(!n||!n.features||!n.hasZ)return
const s=Object(i.a)(n.geometryType,t,e.outSpatialReference)
if(!Object(r.k)(s))for(const e of n.features)s(e.geometry)}},1268:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return p})),n(235)
var r=n(23),i=n(1073),s=n(1065),a=n(1078),o=n(1239),l=n(1223)
const c=a.a.fromJSON(l.c),u=s.a.fromJSON(l.e),d=i.a.fromJSON(l.d),h=o.a.fromJSON(l.f)
function p(e){if(Object(r.k)(e))return null
switch(e.type){case"mesh":return null
case"point":case"multipoint":return c
case"polyline":return u
case"polygon":case"extent":return d}return null}const f=a.a.fromJSON(l.g),b=s.a.fromJSON(l.i),m=i.a.fromJSON(l.h)},1270:function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}))
var r=n(968),i=n(233),s=n(973),a=n(970),o=(n(971),n(445),n(969)),l=n(993),c=(n(235),n(446),n(1076),n(1048))
const u=new l.a,d=new WeakMap
function h(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function p(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:p(t,e%t):0}let f=0,b=0
function m(){const e=Date.now()
for(const n of u)if(n.refreshInterval){var t
e-(null!=(t=d.get(n))?t:0)+5>=6e4*n.refreshInterval&&(d.set(n,e),n.refresh(e))}}function y(e){return null!=e&&"object"==typeof e&&"refreshTimestamp"in e&&"refresh"in e}Object(c.a)(()=>{const e=Date.now()
let t=0
for(const n of u)t=p(Math.round(6e4*n.refreshInterval),t),n.refreshInterval?d.get(n)||d.set(n,e):d.delete(n)
if(t!==b){if(b=t,clearInterval(f),0===b)return void(f=0)
f=setInterval(m,b)}})
const g=e=>{let t=class extends e{constructor(...e){super(...e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=Object(s.f)(()=>this.hasDataChanged()),this.when().then(()=>{!function(e){h(e)&&u.push(e)}(this)},()=>{})}destroy(){h(this)&&u.includes(this)&&u.remove(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(e=Date.now()){Object(s.i)(this._debounceHasDataChanged()).then(t=>{t&&this._set("refreshTimestamp",e),this.emit("refresh",{dataChanged:t})},e=>{i.a.getLogger(this.declaredClass).error(e),this.emit("refresh",{dataChanged:!1,error:e})})}async hasDataChanged(){return!0}}
return Object(r.a)([Object(a.b)({type:Number,cast:e=>e>=.1?e:e<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),Object(r.a)([Object(a.b)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),Object(r.a)([Object(a.b)()],t.prototype,"refreshParameters",null),t=Object(r.a)([Object(o.a)("esri.layers.mixins.RefreshableLayer")],t),t}},1271:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r=n(968),i=n(986),s=n(972),a=n(970),o=(n(971),n(445),n(969))
let l=class extends(Object(i.b)(s.a)){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}}
Object(r.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"expression",void 0),Object(r.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"title",void 0),Object(r.a)([Object(a.b)({type:String,json:{write:!0}})],l.prototype,"returnType",void 0),l=Object(r.a)([Object(o.a)("esri.layers.support.ExpressionInfo")],l)
const c=l},1272:function(e,t,n){"use strict"
n.d(t,"a",(function(){return _}))
var r,i=n(968),s=n(982),a=n(1009),o=n(976),l=n(972),c=n(234),u=n(23),d=n(970),h=n(971),p=n(969),f=n(974),b=n(983)
n(445)
let m=r=class extends l.a{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new r({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}}
Object(i.a)([Object(d.b)({type:[String],json:{write:!0}})],m.prototype,"groupByFields",void 0),Object(i.a)([Object(d.b)({type:Number,json:{write:!0}})],m.prototype,"topCount",void 0),Object(i.a)([Object(d.b)({type:[String],json:{write:!0}})],m.prototype,"orderByFields",void 0),m=r=Object(i.a)([Object(p.a)("esri.rest.support.TopFilter")],m)
const y=m
var g,v=n(769)
const O=new o.a({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),j=new o.a({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"})
let w=g=class extends l.a{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new g(Object(c.a)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}}
Object(i.a)([Object(d.b)({type:Boolean,json:{write:!0}})],w.prototype,"cacheHint",void 0),Object(i.a)([Object(d.b)({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],w.prototype,"distance",void 0),Object(i.a)([Object(d.b)({types:s.c,json:{read:b.a,write:!0}})],w.prototype,"geometry",void 0),Object(i.a)([Object(d.b)({type:Number,json:{write:!0}})],w.prototype,"geometryPrecision",void 0),Object(i.a)([Object(d.b)({type:Number,json:{write:!0}})],w.prototype,"maxAllowableOffset",void 0),Object(i.a)([Object(d.b)({type:Number,json:{read:{source:"resultRecordCount"}}})],w.prototype,"num",void 0),Object(i.a)([Object(d.b)({json:{write:!0}})],w.prototype,"objectIds",void 0),Object(i.a)([Object(d.b)({type:[String],json:{write:!0}})],w.prototype,"orderByFields",void 0),Object(i.a)([Object(d.b)({type:[String],json:{write:!0}})],w.prototype,"outFields",void 0),Object(i.a)([Object(d.b)({type:v.default,json:{read:{source:"outSR"},write:{target:"outSR"}}})],w.prototype,"outSpatialReference",void 0),Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],w.prototype,"resultType",void 0),Object(i.a)([Object(d.b)({json:{write:!0}})],w.prototype,"returnGeometry",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"returnM",void 0),Object(i.a)([Object(d.b)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],w.prototype,"returnZ",void 0),Object(i.a)([Object(d.b)({type:Number,json:{read:{source:"resultOffset"}}})],w.prototype,"start",void 0),Object(i.a)([Object(f.a)("start"),Object(f.a)("num")],w.prototype,"writeStart",null),Object(i.a)([Object(d.b)({type:String,json:{read:{source:"spatialRel",reader:O.read},write:{target:"spatialRel",writer:O.write}}})],w.prototype,"spatialRelationship",void 0),Object(i.a)([Object(d.b)({type:a.a,json:{write:!0}})],w.prototype,"timeExtent",void 0),Object(i.a)([Object(d.b)({type:y,json:{write:!0}})],w.prototype,"topFilter",void 0),Object(i.a)([Object(d.b)({type:String,json:{read:j.read,write:{writer:j.write,overridePolicy(e){return{enabled:Object(u.l)(e)&&Object(u.l)(this.distance)&&this.distance>0}}}}})],w.prototype,"units",void 0),Object(i.a)([Object(d.b)({type:String,json:{write:!0}})],w.prototype,"where",void 0),w=g=Object(i.a)([Object(p.a)("esri.rest.support.TopFeaturesQuery")],w),w.from=Object(h.m)(w)
const _=w},1273:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r=n(968),i=n(986),s=n(972),a=n(23),o=n(970),l=(n(971),n(445),n(969))
let c=class extends(Object(i.b)(s.a)){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}}
Object(r.a)([Object(o.b)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:Object(a.l)(this.onFields)&&this.onFields.length>0}}}}})],c.prototype,"onFields",void 0),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],c.prototype,"operator",void 0),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],c.prototype,"searchTerm",void 0),Object(r.a)([Object(o.b)({type:String,json:{write:!0}})],c.prototype,"searchType",void 0),c=Object(r.a)([Object(l.a)("esri.rest.support.FullTextSearch")],c)
const u=c},1274:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r=n(968),i=n(986),s=n(976),a=n(972),o=n(970),l=(n(971),n(445),n(969))
const c=new s.a({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"})
let u=class extends(Object(i.b)(a.a)){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}}
Object(r.a)([Object(o.b)({json:{write:!0}})],u.prototype,"name",void 0),Object(r.a)([Object(o.b)({json:{write:!0}})],u.prototype,"description",void 0),Object(r.a)([Object(o.b)({json:{read:c.read,write:c.write}})],u.prototype,"drawingTool",void 0),Object(r.a)([Object(o.b)({json:{write:!0}})],u.prototype,"prototype",void 0),Object(r.a)([Object(o.b)({json:{write:!0}})],u.prototype,"thumbnail",void 0),u=Object(r.a)([Object(l.a)("esri.layers.support.FeatureTemplate")],u)
const d=u},1275:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return b}))
var r=n(1019),i=n(990),s=n(771),a=n(1446),o=n(980),l=n(1467)
const c="picture-fill",u="simple-fill",d="simple-marker",h=new a.a(1e3)
function p(e){const t=e.style
let n=null
if(e)switch(e.type){case d:"cross"!==t&&"x"!==t&&(n=e.color)
break
case u:"solid"===t?n=e.color:"none"!==t&&(n={type:"pattern",x:0,y:0,src:Object(r.b)(`esri/symbols/patterns/${t}.png`),width:5,height:5})
break
case c:n={type:"pattern",src:e.url,width:Object(o.h)(e.width)*e.xscale,height:Object(o.h)(e.height)*e.yscale,x:Object(o.h)(e.xoffset),y:Object(o.h)(e.yoffset)}
break
case"text":n=e.color
break
case"cim":n=Object(l.b)(e)}return n}function f(e,t){const n=e+"-"+t
return void 0!==h.get(n)?Promise.resolve(h.get(n)):Object(s.default)(e,{responseType:"image"}).then(e=>{const r=e.data,i=r.naturalWidth,s=r.naturalHeight,a=document.createElement("canvas")
a.width=i,a.height=s
const o=a.getContext("2d")
o.fillStyle=t,o.fillRect(0,0,i,s),o.globalCompositeOperation="destination-in",o.drawImage(r,0,0)
const l=a.toDataURL()
return h.put(n,l),l})}function b(e){if(!e)return null
let t=null
switch(e.type){case u:case c:case d:t=b(e.outline)
break
case"simple-line":{const n=Object(o.h)(e.width)
null!=e.style&&"none"!==e.style&&0!==n&&(t={color:e.color,style:m(e.style),width:n,cap:e.cap,join:"miter"===e.join?Object(o.h)(e.miterLimit):e.join})
break}default:t=null}return t}const m=(()=>{const e={}
return t=>{if(e[t])return e[t]
const n=t.replace(/-/g,"")
return e[t]=n,n}})(),y=new i.a([128,128,128])},1277:function(e,t,n){"use strict"
n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return ne})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return oe})),n.d(t,"f",(function(){return ae})),n.d(t,"g",(function(){return $})),n.d(t,"h",(function(){return W})),n.d(t,"i",(function(){return H})),n.d(t,"j",(function(){return B})),n.d(t,"k",(function(){return be})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return k})),n.d(t,"n",(function(){return he})),n.d(t,"o",(function(){return M})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return I})),n.d(t,"r",(function(){return S})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return R})),n.d(t,"u",(function(){return q})),n.d(t,"v",(function(){return L})),n.d(t,"w",(function(){return pe})),n.d(t,"x",(function(){return z})),n.d(t,"y",(function(){return E})),n.d(t,"z",(function(){return de})),n.d(t,"A",(function(){return x})),n.d(t,"B",(function(){return ue})),n.d(t,"C",(function(){return re})),n.d(t,"D",(function(){return D})),n.d(t,"E",(function(){return N})),n.d(t,"F",(function(){return G}))
var r=n(376),i=n(1190),s=n(1161),a=n(147),o=n(97),l=n(1301),c=n(1232),u=n(1308),d=n(375),h=n(1481),p=n(34),f=n(378),b=n(1494),m=n(1393),y=n(1311),g=n(1495),v=n(1300),O=n(1280)
function j(e){return Object.keys(e).forEach(t=>{e[t]&&"object"==typeof e[t]?j(e[t]):null==e[t]&&delete e[t]}),e}function w(e){return"string"==typeof e?e.trim().toLowerCase().replace(/ +/g,"-").replace(/[^\w-]/g,"").replace(/-+/g,"-"):e}function _(e,t){return Promise.all([Object(d.g)(e,t),Object(d.b)(e,t)]).then(e=>({item:e[0],data:e[1]}))}function S(e,t){const n=Object(a.c)(e.item)
n.data=Object(a.c)(e.data),n.extent&&"string"!=typeof n.extent&&(n.extent=Object(f.c)(n.extent))
const r=Object.assign({item:n},t)
return Object(b.b)(r).then(e=>_(e.id,t))}function x(e,t){const n=Object(a.c)(e.item)
n.data=Object(a.c)(e.data),n.extent&&"string"!=typeof n.extent&&(n.extent=Object(f.c)(n.extent)),function(e){return["description","snippet","tags","categories","licenseInfo"].some(t=>{var n
return""===e[t]||0===(null===(n=e[t])||void 0===n?void 0:n.length)})}(n)&&(t.params=Object.assign(Object.assign({},t.params),{clearEmptyFields:!0}))
const r=Object.assign({item:n},t)
return Object(m.c)(r).then(()=>n.data?_(n.id,t):Object(d.g)(n.id,t).then(e=>({item:e})))}async function T(e,t){return{item:e,data:await Object(d.b)(e.id,t)}}function I(e){return e.indexOf("|")>-1&&(e=e.replace("|","::")),e}function M(e,t){return`${t.toLowerCase()}|${w(e)}`}function E(e,t){const n=e.filter(e=>!e.startsWith("slug|"))
return n.push("slug|"+t),n}function k(e,t){return C({slug:function(e){return e.indexOf("::")>-1&&(e=e.replace("::","|")),e}(e)},t).then(e=>e.length?Object(d.g)(e[0].id,t):null)}function C(e,t){const n={filter:`typekeywords:"slug|${e.slug}"`}
return t.authentication?n.authentication=t.authentication:t.portal&&(n.portal=t.portal),e.exclude&&(n.q="NOT id:"+e.exclude),Object(b.c)(n).then(e=>e.results).catch(e=>{throw e})}function A(e,t,n=0){let r=e.slug
return n&&(r=`${e.slug}-${n}`),C({slug:r,exclude:e.existingId},t).then(i=>i.length?(n++,A(e,t,n)):r).catch(e=>{throw Error("Error in getUniqueSlug "+e)})}function L(e){const t=e.split(" AS "),n=t[0],r=t[1]||n.split(".").reverse()[0]
return{enrichment:n.split(".")[0],path:n,prop:r}}function R(e,t){const n=Object.assign(Object.assign({},t),e),r=Object.keys(t)
return Object.keys(n).reduce((e,t)=>(r.includes(t)||e.push(t),e),[]).forEach(e=>{delete n[e]}),n}function P(){const e=Object(s.d)()
return["headContent","layout"].forEach(t=>{e.push({entityKey:t,storeKey:"data.values."+t})}),e}function F(e,t,n){var r
let s
n.authentication&&(s=n.authentication.token)
const a=Object(c.a)(e.item,n,s)
return t.thumbnailUrl=a,t.links={self:Object(i.l)(t.id,n),siteRelative:"/pages/"+t.id,workspaceRelative:Object(l.a)("page",t.id),layoutRelative:`/pages/${t.id}/edit`,thumbnail:a},t.createdDate=new Date(e.item.created),t.createdDateSource="item.created",t.updatedDate=new Date(e.item.modified),t.updatedDateSource="item.modified",t.features=R((null===(r=e.data.settings)||void 0===r?void 0:r.features)||{},o.g),t}const N="Hub Page",D="Site Page",V={name:"No title provided",permissions:[],schemaVersion:1,tags:[],typeKeywords:["hubPage"],view:{contacts:[],featuredContentIds:[],showMap:!0}},U={item:{type:N,title:"No Title Provided",description:"",snippet:"",tags:[],typeKeywords:["hubPage"],properties:{slug:"",schemaVersion:1}},data:{values:{layout:{}}}}
async function G(e,t){const n=Object.assign(Object.assign({},V),e)
n.slug||(n.slug=M(n.name,n.orgUrlKey)),n.slug=await A({slug:n.slug},t),n.typeKeywords=E(n.typeKeywords,n.slug)
const r=new s.b(P())
let i=r.entityToStore(n,Object(a.c)(U))
i=await S(i,t)
let o=r.storeToEntity(i,{})
return o=F(i,o,t),o}async function z(e,t){e.slug=await A({slug:e.slug,existingId:e.id},t)
const n=await _(e.id,t),r=new s.b(P()),i=r.entityToStore(e,n),a=await x(i,t)
let o=r.storeToEntity(a,e)
return o=F(n,o,t),o}async function q(e,t){let n
return n=Object(u.a)(e)?Object(d.g)(e,t):k(e,t),n.then(e=>e?async function(e,t){return function(e,t){const n=new s.b(P()).storeToEntity(e,{})
return F(e,n,t)}(await T(e,t),t)}(e,t):null)}async function B(e,t){const n=Object.assign(Object.assign({},t),{id:e})
await Object(h.b)(n)}async function $(e,t,n){const l={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,typeKeywords:e.typeKeywords,tags:e.tags,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:Object(r.c)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},u=(t=[...t].filter(a.k)).map(L),d=Object(o.l)("enrichment",u).filter(a.k)
let h={}
return d.length&&(h=await Object(s.h)(e,d,n)),u.forEach(e=>{l[e.prop]=Object(p.a)(h,e.path)}),l.links.thumbnail=Object(c.a)(e,n),l.links.self=Object(i.l)(l.id,n),l.links.siteRelative=Object(i.k)(l.type,l.id,e.typeKeywords),l}function H(e,t,n){var r
let i
return n.authentication&&(i=n.authentication.token),t.thumbnailUrl=Object(c.a)(e.item,n,i),t.createdDate=new Date(e.item.created),t.createdDateSource="item.created",t.updatedDate=new Date(e.item.modified),t.updatedDateSource="item.modified",t.isDiscussable=Object(s.j)(t),t.features=R((null===(r=e.data.settings)||void 0===r?void 0:r.features)||{},o.h),t}function W(){const e=Object(s.d)()
return e.push({entityKey:"status",storeKey:"data.status"}),e.push({entityKey:"catalog",storeKey:"data.catalog"}),e.push({entityKey:"permissions",storeKey:"data.permissions"}),e.push({entityKey:"features",storeKey:"data.settings.features"}),e.push({entityKey:"location",storeKey:"item.properties.location"}),e.push({entityKey:"metrics",storeKey:"item.properties.metrics"}),e}async function Z(e){return e.status>=200&&e.status<300?e.json():e.json().then(t=>{if(t.error)throw new Error(`${t.error.title} :: ${t.error.detail} :: ${e.status}`)
throw new Error(`Got ${e.status} ${e.statusText}`)})}function K(e,t){let n=e
e.indexOf("#/")>-1&&(n=e.split("#/")[1])
const r="hubsubdomain|"+n,i=Object.assign({q:"typekeywords: "+r},t)
return Object(b.c)(i).then(e=>e.results.filter(e=>Object(c.c)(e.typeKeywords,r))[0]).then(e=>{if(!e)throw new Error("site not found")
return{hostname:e.url,siteId:e.id}})}function J(e,t){if(t.isPortal)throw new Error("addDomain is not available in ArcGIS Enterprise. Instead, edit the hubdomain typekeyword on the item")
const n=Object(g.a)(t)
n["Content-Type"]="application/json"
const r=""+Object(g.b)(t.hubApiUrl),i=e.siteTitle
return"number"==typeof i&&(e.siteTitle=i.toString()),e.clientKey&&(e.clientKey=""),fetch(r,{method:"POST",headers:n,mode:"cors",body:JSON.stringify(e)}).then(Z)}function Y(e,t){if(t.isPortal)return K(e,t)
{const n=`${Object(g.b)(t.hubApiUrl)}/${e}`,r=Object(g.a)(t)
return fetch(n,{method:"GET",headers:r,mode:"cors"}).then(Z)}}function X(e,t){let n
return n=t.isPortal?function e(t,n,r=0){let i=t
return r&&(i=t+"-"+r),function(e,t){return K(e,t).then(e=>!0).catch(e=>!1)}(i,n).then(s=>s?e(t,n,r+1):i)}(e,t):function e(t,n,r,i=0){let s=t
i&&(s=t+"-"+i)
const a=`${s}-${n}`
return Object(g.c)(a,r).then(a=>a?e(t,n,r,i+1):s)}(e,`${t.portalSelf.urlKey}.${Object(g.d)(Object(v.b)(t))}`,t),n.then(e=>function(e,t){let n=Object(a.c)(e),r=63
return t&&(r-=t.length+1),n.length>r&&(n=`${n.slice(0,r-6)}-${function(e){let t=(new Date).getTime()
return Array(5).fill(0).reduce((function(e){const n=(t+16*Math.random())%16|0
return t=Math.floor(t/16),`${e}${n.toString(16)}`}),"")}()}`),n}(e,t.portalSelf.urlKey))}const Q={"{{default.name}}":"{{name}}","{{default.description}}":"{{description}}","{{item.tags}}":"{{tags}}","{{item.created:toISO}}":"{{created:toISO}}","{{item.modified:toISO}}":"{{modified:toISO}}","{{default.source.source}}":"{{source}}","{{item.owner}}":"{{owner}}","{{org.portalProperties.links.contactUs.url}}":"{{orgContactEmail}}","{{org.name}}":"{{orgName}}","{{item.categories}}":"{{categories}}","{{item.licenseInfo}}":"{{licenseInfo}}","{{item.modified}}":"{{modified}}","{{enrichments.categories}}":"{{categories}}","{{default.id}}":"{{id}}","{{item.licenseInfo || No License}}":"{{licenseInfo || No License}}","{{org.portalProperties.links.contactUs.url || mailto:data@tempe.gov}}":"{{orgContactEmail || mailto:data@tempe.gov}}","{{default.description || No Description}}":"{{description || No Description}}","{{item.id}}":"{{id}}"}
function ee(e){return 1.6===Object(p.a)(e,"item.properties.schemaVersion")?e:e=function(e){var t
if((null===(t=e.item.properties)||void 0===t?void 0:t.schemaVersion)>=1.6)return e
const n=Object(a.c)(e)
return n.data.values.layout.sections.map(e=>Object.assign(Object.assign({},e),{rows:(e.rows||[]).map(e=>Object.assign(Object.assign({},e),{cards:(e.cards||[]).map(e=>("event-list-card"===e.component.name&&(e.component.settings.displayMode=e.component.settings.calendarEnabled?"calendar":"list",delete e.component.settings.calendarEnabled),e))}))})),Object(y.a)("item.properties.schemaVersion",1.6,n),n}(e=function(e){if(Object(p.a)(e,"item.properties.schemaVersion")>=1.5)return e
const t=Object(a.c)(e),n=t.data.values.dcatConfig
return t.data.feeds={},n&&(t.data.feeds.dcatUS11=function(e){let t=JSON.stringify(e)
return Object.keys(Q).forEach(e=>{const n=Q[e]
t=t.split(e).join(n)}),JSON.parse(t)}(n)),t.item.properties.schemaVersion=1.5,t}(e=function(e){if(Object(p.a)(e,"item.properties.schemaVersion")>=1.4)return e
const t=Object(a.c)(e),n=Object(p.a)(t,"data.values.gacode")
return t.data.values.telemetry={consentNotice:{isTheme:!0,consentText:"",policyURL:""},customAnalytics:{ga:{customerTracker:{enabled:Boolean(n),id:n}}}},function(e,t){if("object"!=typeof e||null===e)return
const n=t.split(".")
for(let t=0;t<n.length-1;t++){if(!e.hasOwnProperty(n[t]))return
e=e[n[t]]}delete e[n[n.length-1]]}(t,"data.values.gacode"),Object(y.a)("item.properties.schemaVersion",1.4,t),t}(e=function(e){if(Object(p.a)(e,"item.properties.schemaVersion")>=1.3)return e
const t=Object(a.c)(e),n=Object(p.a)(t,"data.catalog.groups")||[]
return t.data.catalog.groups=n.filter(u.a),t.item.properties.schemaVersion=1.3,t}(e=function(e){if(Object(p.a)(e,"item.properties.schemaVersion")>=1.2)return e
const t=Object(a.c)(e),n=Object(p.a)(t,"data.catalog")||{}
return Object(p.a)(t,"data.values.groups")&&(n.groups=Object(a.c)(t.data.values.groups),delete t.data.values.groups),t.data.catalog=n,t.item.properties.schemaVersion=1.2,t}(e=function(e){if(Object(p.a)(e,"item.properties.schemaVersion")>=1.1)return e
const t=Object(a.c)(e)
return["subdomain","defaultHostname","internalUrl","customHostname","externalUrl"].forEach(e=>{t.data.values[e]&&"string"==typeof t.data.values[e]&&(t.data.values[e]=t.data.values[e].toLowerCase())}),t.item.properties.schemaVersion=1.1,t}(e=function(e){if(Object(p.a)(e,"item.properties.schemaVersion")>=1)return e
const t=Object(a.c)(e)
if(["groupId","title"].forEach(e=>{delete t.data.values[e]}),t.item.properties||(t.item.properties={}),t.item.properties.schemaVersion=1,t.data.values.groups&&Array.isArray(t.data.values.groups)){const e=t.data.values.groups.map(e=>"object"==typeof e?e.id:e).filter(e=>!!e)
t.data.values.groups=e}return t}(e)))))))}function te(e,t){return _(e,t).then(ee)}function ne(e){let t=Object(a.c)(e)
return 1===Object(p.a)(t,"schemaVersion")||(t=function(e){if(Object(p.a)(e,"schemaVersion")>1)return e
{const t={schemaVersion:1,title:"Default Catalog",scopes:{item:{targetEntity:"item",filters:[]}},collections:[]},n=Object(p.a)(e,"groups")
let r=[]
return Array.isArray(n)&&n.length?r=n:"string"==typeof n&&(r=[n]),r.length&&t.scopes.item.filters.push({predicates:[{group:r}]}),t}}(t)),t}function re(){const e=Object(s.d)()
return e.push({entityKey:"feeds",storeKey:"data.feeds"}),e.push({entityKey:"permissions",storeKey:"data.permissions"}),["pages","theme","subdomain","defaultHostname","customHostname","clientId","defaultExtent","map","telemetry","headerSass","headContent","layout"].forEach(t=>{e.push({entityKey:t,storeKey:"data.values."+t})}),e.push({entityKey:"slug",storeKey:"item.properties.slug"}),e.push({entityKey:"followersGroupId",storeKey:"item.properties.followersGroupId"}),e.push({entityKey:"legacyCapabilities",storeKey:"data.values.capabilities"}),e.push({entityKey:"orgUrlKey",storeKey:"item.properties.orgUrlKey"}),e.push({entityKey:"name",storeKey:"item.title"}),e.push({entityKey:"location",storeKey:"item.properties.location"}),e.push({entityKey:"catalog",storeKey:"data.catalog"}),e.push({entityKey:"features",storeKey:"data.settings.features"}),e}const ie={header:{background:"#fff",text:"#4c4c4c"},body:{background:"#fff",text:"#4c4c4c",link:"#0079c1"},button:{background:"#0079c1",text:"#fff"},logo:{small:""},fonts:{base:{url:"",family:"Avenir Next"},heading:{url:"",family:"Avenir Next"}}}
var se
!function(e){e.DATA="components.search.category_tabs.data",e.SITES="components.search.category_tabs.sites",e.DOCUMENTS="components.search.category_tabs.documents",e.APPS_AND_MAPS="components.search.category_tabs.apps_and_maps",e.EVENTS="components.search.category_tabs.events",e.INITIATIVES="components.search.category_tabs.initiatives"}(se||(se={}))
const ae="Hub Site Application",oe="Site Application",le={name:"No title provided",tags:[],typeKeywords:["Hub Site","hubSite","DELETEMESITE"],legacyCapabilities:["api_explorer","pages","my_data","social_logins","json_chart_card","document_iframes","items_view","app_page","underlinedLinks","globalNav","socialSharing"],catalog:{schemaVersion:1},subdomain:"",defaultHostname:"",customHostname:"",clientId:"",map:null,feeds:{},pages:[],theme:null,contentViews:{sidePanelOpen:{app:!0,map:!0,dataset:!0,document:!0,feedback:!0}}},ce={item:{title:"No Title Provided",description:"No Description Provided",snippet:"",tags:[],typeKeywords:["Hub Site","hubSite","DELETEMESITE"],properties:{slug:"",orgUrlKey:"",defaultHostname:"",customHostname:"",clientId:"",subdomain:"",schemaVersion:1.5},url:""},data:{catalog:{groups:[]},feeds:{},values:{title:"",defaultHostname:"",customHostname:"",subdomain:"",faviconUrl:"",uiVersion:"2.4",clientId:"",map:{basemaps:{}},defaultExtent:{},pages:[],theme:{},layout:{sections:[],header:{component:{name:"site-header",settings:{fullWidth:!1,iframeHeight:"150px",iframeUrl:"",links:[],logoUrl:"",title:"default site",markdown:"",headerType:"default",schemaVersion:3,showLogo:!0,showTitle:!0,logo:{display:{},state:"valid"},shortTitle:"",menuLinks:[],socialLinks:{facebook:{},twitter:{},instagram:{},youtube:{}}}},showEditor:!1},footer:{component:{name:"site-footer",settings:{footerType:"none",markdown:"",schemaVersion:2.1}},showEditor:!1}},contentViews:{sidePanelOpen:{app:!0,map:!0,dataset:!0,document:!0,feedback:!0}}}}}
async function ue(e,t){const n=Object.assign(Object.assign({},le),e),r=t.portalSelf
n.type=t.isPortal?oe:ae,n.slug||(n.slug=M(n.name,n.orgUrlKey)),n.typeKeywords=E(n.typeKeywords,n.slug),n.subdomain||(n.subdomain=w(n.name)),n.subdomain=await X(n.subdomain,t),t.isPortal?(n.typeKeywords.push(("hubsubdomain|"+n.subdomain).toLowerCase()),n.url=`${t.authentication.portal.replace("/sharing/rest","/apps/sites")}/#/${n.subdomain}`):(n.defaultHostname=`${n.subdomain}-${r.urlKey}.${Object(g.d)(Object(v.b)(t))}`,n.url="https://"+(n.customHostname?n.customHostname:n.defaultHostname)),n.orgUrlKey=r.urlKey,n.theme||(n.theme=function(e){let t=Object(a.c)(ie),n=Object(p.a)(e,"portalProperties.sharedTheme")
return n&&(n=j(n),t=Object(a.e)(t,n)),t}(r)),n.defaultExtent||(n.defaultExtent=r.defaultExtent),n.culture||(n.culture=r.culture),Object(p.a)(n,"map.basemaps.primary")||Object(y.a)("map.basemaps.primary",r.defaultBasemap,n),Object(p.a)(n,"layout.header.component.settings.title")||Object(y.a)("layout.header.component.settings.title",n.name,n),n.typeKeywords=Object(s.k)(n.typeKeywords,n.isDiscussable)
const i=new s.b(re())
let o=i.entityToStore(n,Object(a.c)(ce))
o=await S(o,t)
const l=await function(e,t){if(t.isPortal)return Promise.resolve([{clientKey:"arcgisonline"}])
{const n=["defaultHostname","customHostname"]
return Promise.all(n.reduce((n,r)=>{const i=Object(p.a)(e,"data.values."+r)
if(i){const r={hostname:i,clientKey:e.data.values.clientId,orgId:t.portalSelf.id,orgTitle:t.portalSelf.name,orgKey:t.portalSelf.urlKey,siteId:e.item.id,siteTitle:e.item.title,sslOnly:!0}
n.push(J(r,t))}return n},[]))}}(o,t)
o.data.values.clientId=l[0].clientKey
const c=await x(o,t)
return i.storeToEntity(c,{})}async function de(e,t){e.slug=await A({slug:e.slug,existingId:e.id},t),e.typeKeywords=Object(s.k)(e.typeKeywords,e.isDiscussable)
const n=await _(e.id,t)
let r=new s.b(re()).entityToStore(e,n)
return await async function(e,t,n){const r={clientKey:e.data.values.clientId,orgId:n.portalSelf.id,orgTitle:n.portalSelf.name,orgKey:n.portalSelf.urlKey,siteId:e.item.id,siteTitle:e.item.title,sslOnly:!0},i={remove:[],add:[]};["customHostname","defaultHostname"].forEach(n=>{const r=Object(p.a)(t,"data.values."+n)||"",s=Object(p.a)(e,"data.values."+n)||""
s!==r&&(i.remove.push(r),i.add.push(s))})
const s=[]
return i.add.map(e=>{const t=Object.assign({hostname:e},r)
s.push(J(t,n))}),i.remove.map(e=>{s.push(async function(e,t){if(t.isPortal)throw new Error("removeDomainByHostname is not available in ArcGIS Enterprise. Instead, edit the hubdomain typekeyword on the item")
try{const n=await Y(e,t),r=Object(p.a)(n,"id")
r&&await function(e,t){if(t.isPortal)throw new Error("removeDomain is not available in ArcGIS Enterprise. Instead, edit the hubdomain typekeyword on the item")
const n=Object(g.a)(t)
n["Content-Type"]="application/json"
const r=`${Object(g.b)(t.hubApiUrl)}/${e}`
return fetch(r,{method:"DELETE",headers:n,mode:"cors"}).then(Z)}(r,t)}catch(t){throw new Error(`Error removing domain entry for ${e}: ${t}`)}}(e,n))}),Promise.all(s)}(r,n,t),r=function(e){const t=Object(a.c)(e),n={dataset:se.DATA,site:se.SITES,appAndMap:se.APPS_AND_MAPS,document:se.DOCUMENTS},r={[se.DATA]:"Dataset",[se.SITES]:"Site",[se.APPS_AND_MAPS]:"App,Map",[se.DOCUMENTS]:"Document"},i=t.data.catalog.collections.filter(e=>!!n[e.key]).map(e=>{const t=n[e.key],i={hidden:e.hidden,key:t,queryParams:{collection:r[t]}}
return e.label&&(i.overrideText=e.label),i})
return t.data.values.searchCategories=i,t}(r),r=function(e,t){const n=Object(a.c)(e),r=Object(p.a)(e,"data.catalog.scopes.item"),i=Object(O.c)(r)
if(i){const e=Object(a.c)(t.data.catalog),r=Array.isArray(i.group)?i.group:[i.group]
e.groups=r,n.data.catalog=e}else n.data.catalog=Object(a.c)(t.data.catalog)
return n}(r,n),fe(await x(r,t),t)}async function he(e,t){t.isPortal||await function(e,t){if(t.isPortal)throw new Error("removeDomainsBySiteId is not available in ArcGIS Enterprise. Instead, edit the hubdomain typekeyword on the item")
const n=Object(g.a)(t)
n["Content-Type"]="application/json"
const r=`${Object(g.b)(t.hubApiUrl)}/?siteId=${e}`
return fetch(r,{method:"DELETE",headers:n,mode:"cors"}).then(Z)}(e,t)
const n=Object.assign(Object.assign({},t),{id:e})
await Object(h.b)(n)}async function pe(e,t){return fe(await function(e,t){let n
if(Object(u.a)(e))n=te(e,t)
else{let r=e
r=Object(g.d)(r),r=r.split("/")[0],n=Y(r,t).then(({siteId:e})=>te(e,t))}return n}(e,t),t)}function fe(e,t){let n=function(e){const t=Object(a.c)(e)
return t.data.permissions=t.data.permissions||[],[{prop:"item.properties.contentGroupId",type:"group",permissions:["hub:project:create"]},{prop:"item.owner",type:"user",permissions:["hub:site:delete"]}].forEach(e=>{const n=Object(p.a)(t,e.prop)
n&&e.permissions.forEach(r=>{t.data.permissions.find(e=>e.permission===r&&e.collaborationId===n)||t.data.permissions.push({permission:r,collaborationType:e.type,collaborationId:n})})}),t}(e)
return n=function(e){let t=e.data.catalog||{}
if(!t.schemaVersion){const n=t.groups||[]
t={schemaVersion:1,title:"Default Site Catalog",scopes:{item:{targetEntity:"item",filters:[]}},collections:[]},t.scopes.item.filters.push({predicates:[{group:[...n]}]}),e.data.catalog=t}return e}(n),n=function(e){const t=["all","dataset","document","site","appAndMap"].reduce((e,t)=>(e[t]={label:null,key:t,include:[],targetEntity:"item",scope:{targetEntity:"item",collection:t,filters:[]}},e),{}),n={[se.DATA]:"dataset",[se.INITIATIVES]:"site",[se.SITES]:"site",[se.DOCUMENTS]:"document",[se.APPS_AND_MAPS]:"appAndMap"},r=[{key:se.SITES,hidden:!0},{key:se.DATA},{key:se.DOCUMENTS},{key:se.APPS_AND_MAPS}],i=(e.data.values.searchCategories||r).filter(e=>e.key!==se.EVENTS).filter(e=>!!n[e.key]).map(e=>{const r=n[e.key],i=t[r]
return i.label=e.overrideText||null,i.hidden=e.hidden,i})
return i.unshift(t.all),e.data.catalog.collections=i,e}(n),function(e,t,n){var r
let a
n.authentication&&(a=n.authentication.token)
const u=Object(c.a)(e.item,n,a)
return t.thumbnailUrl=u,t.links={self:Object(i.l)(t.id,n),siteRelative:"/",workspaceRelative:Object(l.a)("site",t.id),layoutRelative:"/edit",thumbnail:u},t.createdDate=new Date(e.item.created),t.createdDateSource="item.created",t.updatedDate=new Date(e.item.modified),t.updatedDateSource="item.modified",t.isDiscussable=Object(s.j)(t),t.features=R((null===(r=e.data.settings)||void 0===r?void 0:r.features)||{},o.i),t.catalog=ne(t.catalog),t}(e,new s.b(re()).storeToEntity(n,{}),t)}async function be(e,t,n){const l={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,typeKeywords:e.typeKeywords,tags:e.tags,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:Object(r.c)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},u=(t=[...t].filter(a.k)).map(L),d=Object(o.l)("enrichment",u).filter(a.k)
let h={}
return d.length&&(h=await Object(s.h)(e,d,n)),u.forEach(e=>{l[e.prop]=Object(p.a)(h,e.path)}),l.links.thumbnail=Object(c.a)(e,n),l.links.self=e.url,l.links.siteRelative=Object(i.k)(l.type,l.id,e.typeKeywords),l}},1278:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i=n(968),s=n(972),a=n(970),o=n(971),l=(n(445),n(979)),c=n(969)
let u=r=class extends s.a{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this
return new r({mapLayerId:e,gdbVersion:t})}}
Object(i.a)([Object(l.a)({mapLayer:"map-layer"})],u.prototype,"type",void 0),Object(i.a)([Object(a.b)({type:o.a,json:{write:!0}})],u.prototype,"mapLayerId",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=r=Object(i.a)([Object(c.a)("esri.layers.support.source.MapLayerSource")],u)},1279:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r=n(968),i=n(993),s=n(23),a=(n(235),n(446),n(233),n(1076),n(1048)),o=n(970),l=(n(971),n(445),n(969))
let c=class extends i.a{constructor(e){super(e),this.getCollections=null}initialize(){this.own(Object(a.a)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const e=Object(s.l)(this.getCollections)?this.getCollections():null
if(Object(s.k)(e))return void this.removeAll()
let t=0
for(const n of e)Object(s.l)(n)&&(t=this._processCollection(t,n))
this.splice(t,this.length)}_createNewInstance(e){return new i.a(e)}_processCollection(e,t){if(!t)return e
const n=this.itemFilterFunction?this.itemFilterFunction:e=>!!e
for(const r of t)if(r){if(n(r)){const t=this.indexOf(r,e)
t>=0?t!==e&&this.reorder(r,e):this.add(r,e),++e}if(this.getChildrenFunction){const t=this.getChildrenFunction(r)
if(Array.isArray(t))for(const n of t)e=this._processCollection(e,n)
else e=this._processCollection(e,t)}}return e}}
Object(r.a)([Object(o.b)()],c.prototype,"getCollections",void 0),Object(r.a)([Object(o.b)()],c.prototype,"getChildrenFunction",void 0),Object(r.a)([Object(o.b)()],c.prototype,"itemFilterFunction",void 0),c=Object(r.a)([Object(l.a)("esri.core.CollectionFlattener")],c)
const u=c},1280:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return o}))
var r=n(147),i=n(237)
const s={arcgis:{label:"ArcGIS Online",url:"https://www.arcgis.com",type:"arcgis"},arcgisQA:{label:"ArcGIS Online QAEXT",url:"https://qaext.arcgis.com",type:"arcgis"},arcgisDEV:{label:"ArcGIS Online DEVEXT",url:"https://devext.arcgis.com",type:"arcgis"},hub:{label:"ArcGIS Hub",url:"https://hub.arcgis.com/api",type:"arcgis-hub"},hubDEV:{label:"ArcGIS Hub DEV",url:"https://hubdev.arcgis.com/api",type:"arcgis-hub"},hubQA:{label:"ArcGIS Hub QA",url:"https://hubqa.arcgis.com/api",type:"arcgis-hub"}}
function a(e){return"string"==typeof e&&e in s?s[e]:e}function o(e){let t={}
return Array.isArray(e)?t={any:e}:("string"==typeof e&&(t={any:[e]}),"object"==typeof e&&(t=e)),t}function l(e){const t={min:6e4,hours:36e5,days:864e5,weeks:6048e5},n=new Date,r={type:"date-range",from:n.getTime(),to:n.getTime()}
switch(e.unit){case"hours":case"days":case"weeks":r.from=r.to-t[e.unit]*e.num
break
case"months":n.setMonth(n.getMonth()-e.num),r.from=n.getTime()
break
case"years":n.setFullYear(n.getFullYear()-e.num),r.from=n.getTime()}return r}function c(e,t,n,s){var a
const o=Object(r.c)(e)
return e.authentication&&(o.authentication=i.a.deserialize(e.authentication.serialize())),(null===(a=e.requestOptions)||void 0===a?void 0:a.authentication)&&(o.requestOptions.authentication=e.requestOptions.authentication),o.start=t>-1?t:n+1,e=>(e&&(o.authentication=e,o.requestOptions&&(o.requestOptions.authentication=o.authentication)),s(o))}function u(e,t,n){let r=null
return t.thumbnail&&(r=`${e}/community/groups/${t.id}/info/${t.thumbnail}`,n&&"public"!==t.access&&(r=`${r}?token=${n}`)),r}function d(e,t,n){let r=null
return t.thumbnail&&(r=`${e}/community/users/${t.username}/info/${t.thumbnail}`,n&&"public"!==t.access&&(r=`${r}?token=${n}`)),r}function h(e){const t=e=>!!e.group,n=e.filters.find(e=>e.predicates.find(t))
return n&&n.predicates.find(t)}},1282:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i,s=n(235),a=n(1049);(i=r||(r={}))[i.varint=0]="varint",i[i.fixed64=1]="fixed64",i[i.delimited=2]="delimited",i[i.fixed32=5]="fixed32",i[i.unknown=99]="unknown"
const o=4294967296,l=new TextDecoder("utf-8"),c=Object(s.a)("safari")||Object(s.a)("ios")?6:Object(s.a)("ff")?12:32
class u{constructor(e,t,n=0,i=(e?e.byteLength:0)){this._tag=0,this._dataType=r.unknown,this._init(e,t,n,i)}_init(e,t,n,r){this._data=e,this._dataView=t,this._pos=n,this._end=r}asUnsafe(){return this}clone(){return new u(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(e){this._pos=e}nextTag(e){for(;;){if(this._pos===this._end)return!1
const t=this._decodeVarint()
if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break
this.skip()}return!0}next(){if(this._pos===this._end)return!1
const e=this._decodeVarint()
return this._tag=e>>3,this._dataType=7&e,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let e=4294967295
return e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?e:(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?e:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const e=this.getUInt32()
if(void 0!==e)return e>>>1^-(1&e)|0}getSInt64(){return this._decodeSVarint()}getBool(){const e=0!==this._data[this._pos]
return this._skip(1),e}getEnum(){return this._decodeVarint()}getFixed64(){const e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+e.getUint32(t+4,!0)*o
return this._skip(8),n}getSFixed64(){const e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+e.getInt32(t+4,!0)*o
return this._skip(8),n}getDouble(){const e=this._dataView.getFloat64(this._pos,!0)
return this._skip(8),e}getFixed32(){const e=this._dataView.getUint32(this._pos,!0)
return this._skip(4),e}getSFixed32(){const e=this._dataView.getInt32(this._pos,!0)
return this._skip(4),e}getFloat(){const e=this._dataView.getFloat32(this._pos,!0)
return this._skip(4),e}getString(){const e=this._getLength(),t=this._pos,n=this._toString(this._data,t,t+e)
return this._skip(e),n}getBytes(){const e=this._getLength(),t=this._pos,n=this._toBytes(this._data,t,t+e)
return this._skip(e),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(e,t,n,r){const i=this.getMessage(),s=e(i,t,n,r)
return i.release(),s}processMessage(e){const t=this.getMessage(),n=e(t)
return t.release(),n}getMessage(){const e=this._getLength(),t=u.pool.acquire()
return t._init(this._data,this._dataView,this._pos,this._pos+e),this._skip(e),t}release(){u.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case r.varint:this._decodeVarint()
break
case r.fixed64:this._skip(8)
break
case r.delimited:this._skip(this._getLength())
break
case r.fixed32:this._skip(4)
break
default:throw new Error("Invalid data type!")}}skipLen(e){this._skip(e)}_skip(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!")
this._pos+=e}_decodeVarint(){const e=this._data
let t=this._pos,n=0,r=0
if(this._end-t>=10)do{if(r=e[t++],n|=127&r,0==(128&r))break
if(r=e[t++],n|=(127&r)<<7,0==(128&r))break
if(r=e[t++],n|=(127&r)<<14,0==(128&r))break
if(r=e[t++],n|=(127&r)<<21,0==(128&r))break
if(r=e[t++],n+=268435456*(127&r),0==(128&r))break
if(r=e[t++],n+=34359738368*(127&r),0==(128&r))break
if(r=e[t++],n+=4398046511104*(127&r),0==(128&r))break
if(r=e[t++],n+=562949953421312*(127&r),0==(128&r))break
if(r=e[t++],n+=72057594037927940*(127&r),0==(128&r))break
if(r=e[t++],n+=0x8000000000000000*(127&r),0==(128&r))break
throw new Error("Varint too long!")}while(0)
else{let i=1
for(;t!==this._end&&(r=e[t],0!=(128&r));)++t,n+=(127&r)*i,i*=128
if(t===this._end)throw new Error("Varint overrun!");++t,n+=r*i}return this._pos=t,n}_decodeSVarint(){const e=this._data
let t=this._pos,n=0,r=0
const i=1&e[t]
if(this._end-t>=10)do{if(r=e[t++],n|=127&r,0==(128&r))break
if(r=e[t++],n|=(127&r)<<7,0==(128&r))break
if(r=e[t++],n|=(127&r)<<14,0==(128&r))break
if(r=e[t++],n|=(127&r)<<21,0==(128&r))break
if(r=e[t++],n+=268435456*(127&r),0==(128&r))break
if(r=e[t++],n+=34359738368*(127&r),0==(128&r))break
if(r=e[t++],n+=4398046511104*(127&r),0==(128&r))break
if(r=e[t++],n+=562949953421312*(127&r),0==(128&r))break
if(r=e[t++],n+=72057594037927940*(127&r),0==(128&r))break
if(r=e[t++],n+=0x8000000000000000*(127&r),0==(128&r))break
throw new Error("Varint too long!")}while(0)
else{let i=1
for(;t!==this._end&&(r=e[t],0!=(128&r));)++t,n+=(127&r)*i,i*=128
if(t===this._end)throw new Error("Varint overrun!");++t,n+=r*i}return this._pos=t,i?-(n+1)/2:n/2}_getLength(){if(this._dataType!==r.delimited)throw new Error("Not a delimited data type!")
return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(e,t,n){if((n=Math.min(this._end,n))-t>c){const r=e.subarray(t,n)
return l.decode(r)}let r="",i=""
for(let s=t;s<n;++s){const t=e[s]
128&t?i+="%"+t.toString(16):(r+=decodeURIComponent(i)+String.fromCharCode(t),i="")}return i.length&&(r+=decodeURIComponent(i)),r}_toBytes(e,t,n){return n=Math.min(this._end,n),new Uint8Array(e.buffer,t,n-t)}}u.pool=new a.a(u,void 0,e=>{e._data=null,e._dataView=null})},1283:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
const r=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]])
var i=n(1200)
function s(e,t="system"){if(!e||!r.has(e.timeZone))return t
const n=r.get(e.timeZone)
return e.timeZone.startsWith("UTC")||e.respectsDaylightSaving?n:function(e){const t=i.DateTime.local().setZone(e),n=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset)
return 0===n?"Etc/UTC":"Etc/GMT"+i.FixedOffsetZone.instance(-n).formatOffset(0,"narrow")}(n)}},1285:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}))
var r=n(446),i=n(234),s=n(233),a=n(776)
const o=s.a.getLogger("esri.layers.support.labelingInfo"),l=/\[([^\[\]]+)\]/gi
function c(e,t,n){return e?e.map(e=>{const r=new a.default
if(r.read(e,n),r.labelExpression){const e=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields
r.labelExpression=r.labelExpression.replace(l,(t,n)=>`[${function(e,t){if(!t)return e
const n=e.toLowerCase()
for(let e=0;e<t.length;e++){const r=t[e].name
if(r.toLowerCase()===n)return r}return e}(n,e)}]`)}return r}):null}const u={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null}
function d(e,t){const n=Object(i.a)(e)
return n.some(e=>function(e,t){const n=e.labelPlacement,i=u[t]
if(!e.symbol)return o.warn("No ILabelClass symbol specified."),!0
if(!i)return o.error(new r.a("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),!0
if(!i.includes(n)){const r=i[0]
n&&o.warn(`Found invalid label placement type ${n} for ${t}. Defaulting to ${r}`),e.labelPlacement=r}return!1}(e,t))?[]:n}},1289:function(e,t,n){"use strict"
var r
n.d(t,"a",(function(){return r})),function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"}(r||(r={}))},1290:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r=n(968),i=n(233),s=n(23),a=n(970),o=(n(971),n(445),n(969)),l=n(1051)
const c=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title")
if(this.url){const e=Object(l.f)(this.url)
if(Object(s.l)(e)&&e.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",Object(l.h)(e,i.a.getLogger(this.declaredClass)))}}
return Object(r.a)([Object(a.b)()],t.prototype,"title",null),Object(r.a)([Object(a.b)({type:String})],t.prototype,"url",null),t=Object(r.a)([Object(o.a)("esri.layers.mixins.ArcGISService")],t),t}},1291:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r=n(235),i=n(23),s=n(1051)
const a={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"}
function o(e,t,n){return!!(e&&e.hasOwnProperty(t)?e[t]:n)}function l(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}function c(e){var t
const n=null==e||null==(t=e.supportedSpatialAggregationStatistics)?void 0:t.map(e=>e.toLowerCase())
return{envelope:!(null==n||!n.includes("envelopeaggregate")),centroid:!(null==n||!n.includes("centroidaggregate")),convexHull:!(null==n||!n.includes("convexhullaggregate"))}}function u(e,t){var n
const r=null==e||null==(n=e.supportedOperationsWithCacheHint)?void 0:n.map(e=>e.toLowerCase())
return!(null==r||!r.includes(t.toLowerCase()))}function d(e,t){return{analytics:h(e),attachment:p(e),data:f(e),metadata:b(e),operations:m(e.capabilities,e,t),query:y(e,t),queryRelated:g(e),queryTopFeatures:v(e),editing:O(e)}}function h(e){return{supportsCacheHint:u(e.advancedQueryCapabilities,"queryAnalytics")}}function p(e){const t=e.attachmentProperties,n={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:u(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:o(e,"supportsAttachmentsResizing",!1)}
return t&&Array.isArray(t)&&t.forEach(e=>{const t=a[e.name]
t&&(n[t]=!!e.isEnabled)}),n}function f(e){return{isVersioned:o(e,"isDataVersioned",!1),supportsAttachment:o(e,"hasAttachments",!1),supportsM:o(e,"hasM",!1),supportsZ:o(e,"hasZ",!1)}}function b(e){return{supportsAdvancedFieldProperties:o(e,"supportsFieldDescriptionProperty",!1)}}function m(e,t,n){const r=e?e.toLowerCase().split(",").map(e=>e.trim()):[],a=n?Object(s.f)(n):null,l=r.includes(Object(i.l)(a)&&"MapServer"===a.serverType?"data":"query"),c=r.includes("editing")&&!t.datesInUnknownTimezone
let u=c&&r.includes("create"),d=c&&r.includes("delete"),h=c&&r.includes("update")
const p=r.includes("changetracking"),f=t.advancedQueryCapabilities
return c&&!(u||d||h)&&(u=d=h=!0),{supportsCalculate:o(t,"supportsCalculate",!1),supportsTruncate:o(t,"supportsTruncate",!1),supportsValidateSql:o(t,"supportsValidateSql",!1),supportsAdd:u,supportsDelete:d,supportsEditing:c,supportsChangeTracking:p,supportsQuery:l,supportsQueryAnalytics:o(f,"supportsQueryAnalytic",!1),supportsQueryAttachments:o(f,"supportsQueryAttachments",!1),supportsQueryTopFeatures:o(f,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:o(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:h,supportsExceedsLimitStatistics:o(t,"supportsExceedsLimitStatistics",!1)}}function y(e,t){var n
const i=e.advancedQueryCapabilities,a=e.ownershipBasedAccessControlForFeatures,d=e.archivingInfo,h=e.currentVersion,p=!(null==t?void 0:t.includes("MapServer"))||h>=Object(r.a)("mapserver-pbf-version-support"),f=Object(s.c)(t),b=new Set((null!=(n=e.supportedQueryFormats)?n:"").split(",").map(e=>e.toLowerCase().trim()))
return{supportsStatistics:o(i,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:o(i,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:o(i,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:c(i),supportsCentroid:o(i,"supportsReturningGeometryCentroid",!1),supportsDistance:o(i,"supportsQueryWithDistance",!1),supportsDistinct:o(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:o(i,"supportsReturningQueryExtent",!1),supportsGeometryProperties:o(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:o(i,"supportsHavingClause",!1),supportsOrderBy:o(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:o(i,"supportsPagination",!1),supportsQuantization:o(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:o(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:o(e,"supportsReturningQueryGeometry",!1),supportsResultType:o(i,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:o(i,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:o(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:o(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:o(i,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:o(a,"allowOthersToQuery",!0),supportsHistoricMoment:o(d,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:p&&b.has("pbf"),supportsDisjointSpatialRelationship:o(i,"supportsDisjointSpatialRel",!1),supportsCacheHint:o(i,"supportsQueryWithCacheHint",!1)||u(i,"query"),supportsDefaultSpatialReference:o(i,"supportsDefaultSR",!1),supportsCompactGeometry:f,supportsFullTextSearch:o(i,"supportsFullTextSearch",!1),maxRecordCountFactor:l(e,"maxRecordCountFactor",void 0),maxRecordCount:l(e,"maxRecordCount",void 0),standardMaxRecordCount:l(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:l(e,"tileMaxRecordCount",void 0)}}function g(e){const t=e.advancedQueryCapabilities,n=o(t,"supportsAdvancedQueryRelated",!1)
return{supportsPagination:o(t,"supportsQueryRelatedPagination",!1),supportsCount:n,supportsOrderBy:n,supportsCacheHint:u(t,"queryRelated")}}function v(e){return{supportsCacheHint:u(e.advancedQueryCapabilities,"queryTopFilter")}}function O(e){const t=e.ownershipBasedAccessControlForFeatures
return{supportsGeometryUpdate:o(e,"allowGeometryUpdates",!0),supportsGlobalId:o(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:o(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:o(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:o(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:o(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:o(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:o(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:o(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:o(t,"allowOthersToUpdate",!0)}}},1297:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r=n(775),i=n(989),s=n(1439),a=(n(1386),n(1440),n(1441),n(1442)),o=(n(1443),n(1444),n(1369),n(1374)),l=n(1465)
const c=["oid","global-id"],u=["oid","global-id","guid"]
function d({displayField:e,editFieldsInfo:t,fields:n,objectIdField:o,title:l},c){if(!n)return null
const u=y({editFieldsInfo:t,fields:n,objectIdField:o},c)
if(!u.length)return null
const d=function(e){const t=Object(i.m)(e),{titleBase:n}=e
return t?`${n}: {${t.trim()}}`:null!=n?n:""}({titleBase:l,fields:n,displayField:e}),h=[new a.a,new s.a]
return new r.default({title:d,content:h,fieldInfos:u})}const h=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],p=(e,{editFieldsInfo:t,objectIdField:n,visibleFieldNames:r})=>r?r.has(e.name):!(b(e.name,t)||n&&e.name===n||c.includes(e.type)||h.some(t=>t.test(e.name)))
function f(e,t){return"oid"===e.type?-1:"oid"===t.type?1:v(e)?-1:v(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function b(e,t){if(!e||!t)return!1
const{creationDateField:n,creatorField:r,editDateField:i,editorField:s}=t
return[n&&n.toLowerCase(),r&&r.toLowerCase(),i&&i.toLowerCase(),s&&s.toLowerCase()].includes(e.toLowerCase())}function m(e,t){return e.editable&&!u.includes(e.type)&&!b(e.name,t)}function y({editFieldsInfo:e,fields:t,objectIdField:n},r){return function(e,t){const n=e
return t&&(e=e.filter(e=>!t.includes(e.type))),e===n&&(e=e.slice()),e.sort(f),e}(null!=t?t:[],(null==r?void 0:r.ignoreFieldTypes)||O).map(t=>new o.a({fieldName:t.name,isEditable:m(t,e),label:t.alias,format:g(t),visible:p(t,{editFieldsInfo:e,objectIdField:n,visibleFieldNames:null==r?void 0:r.visibleFieldNames})}))}function g(e){switch(e.type){case"small-integer":case"integer":case"single":return new l.a({digitSeparator:!0,places:0})
case"double":return new l.a({digitSeparator:!0,places:2})
case"date":return new l.a({dateFormat:"long-month-day-year"})
default:return"string"===e.type&&Object(i.r)(e.name)?new l.a({digitSeparator:!0,places:0}):null}}function v(e){return"name"===(e.name&&e.name.toLowerCase())||"name"===(e.alias&&e.alias.toLowerCase())}const O=["geometry","blob","raster","guid","xml"]},1300:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))
var r=n(1262)
function i(e){return Object(r.a)(e)+"/sharing/rest"}function s(e){const t=e&&e.hubApiUrl
return t||function(e){let t
return e.match(/(qaext|\.mapsqa)\.arcgis.com/)?t="https://hubqa.arcgis.com":e.match(/(devext|\.mapsdevext)\.arcgis.com/)?t="https://hubdev.arcgis.com":e.match(/(www|\.maps)\.arcgis.com/)&&(t="https://hub.arcgis.com"),t}(i(e))}},1301:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(380)
const i=["site","project","initiative","page","discussion","content","org","group"],s=(e,t)=>{let n="/"
const s=Object(r.a)({type:e})
return(e=>i.includes(e))(s)&&(n=`/workspace/${s}s/${t}`),n}},1302:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(1060),i=n(1087)
class s{constructor(e){this._observable=new i.a,this._value=e}get(){return Object(r.d)(this._observable),this._value}set(e){e!==this._value&&(this._value=e,this._observable.notify())}}},1307:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(56),i=new RegExp(/.+(?:map|feature|image)server/i)
function s(e){var t=e.match(i)
return t?t[0]:function(e){var t=e.split("?")[0]
return Object(r.a)(t)}(e)}},1308:function(e,t,n){"use strict"
function r(e){return"{"===e[0]&&(e=e.substring(1,e.length-1)),/^(\{){0,1}[0-9a-fA-F]{8}[-]?[0-9a-fA-F]{4}[-]?[0-9a-fA-F]{4}[-]?[0-9a-fA-F]{4}[-]?[0-9a-fA-F]{12}(\}){0,1}$/gi.test(e)}n.d(t,"a",(function(){return r}))},1309:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return I})),n.d(t,"q",(function(){return M})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return b}))
var r=n(196),i=n(446),s=n(976),a=n(23),o=n(1198),l=n(1037),c=n(1233),u=n(1014),d=n(1242)
const h=new s.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"})
async function p(e,t,n,r){const s=await k(e)
if(await f(e,t,r),!s.addAttachment)throw new i.a(r,"Layer source does not support addAttachment capability")
return s.addAttachment(t,n)}function f(e,t,n){const{attributes:r}=t,{objectIdField:s}=e
return e.get("capabilities.data.supportsAttachment")?t?r?s&&r[s]?Promise.resolve():Promise.reject(new i.a(n,"feature is missing the identifying attribute "+s)):Promise.reject(new i.a(n,"'attributes' are required on a feature to query attachments")):Promise.reject(new i.a(n,"A feature is required to add/delete/update attachments")):Promise.reject(new i.a(n,"this layer doesn't support attachments"))}async function b(e,t,n,r,s){const a=await k(e)
if(await f(e,t,s),!a.updateAttachment)throw new i.a(s,"Layer source does not support updateAttachment capability")
return a.updateAttachment(t,n,r)}async function m(e,t,r){const i=await n.e(322).then(n.bind(null,1689)),s=await e.load()
return i.applyEdits(s,s.source,t,r)}async function y(e,t,n,r){const s=await k(e)
if(await f(e,t,r),!s.deleteAttachments)throw new i.a(r,"Layer source does not support deleteAttachments capability")
return s.deleteAttachments(t,n)}async function g(e,t,n){const r=(await e.load({signal:null==t?void 0:t.signal})).source
if(!r.fetchRecomputedExtents)throw new i.a(n,"Layer source does not support fetchUpdates capability")
return r.fetchRecomputedExtents(t)}async function v(e,t,n,r){var s,a
t=c.a.from(t),await e.load()
const o=e.source,l=e.capabilities
if(null==l||null==(s=l.data)||!s.supportsAttachment)throw new i.a(r,"this layer doesn't support attachments")
const{attachmentTypes:u,objectIds:d,globalIds:h,num:p,size:f,start:b,where:m}=t
if((null==l||null==(a=l.operations)||!a.supportsQueryAttachments)&&((null==u?void 0:u.length)>0||(null==h?void 0:h.length)>0||(null==f?void 0:f.length)>0||p||b||m))throw new i.a(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t)
if(!(null!=d&&d.length||null!=h&&h.length||m))throw new i.a(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t)
if(!o.queryAttachments)throw new i.a(r,"Layer source does not support queryAttachments capability",t)
return o.queryAttachments(t)}async function O(e,t,n,r){var s
const a=await k(e)
if(!a.queryObjectIds)throw new i.a(r,"Layer source does not support queryObjectIds capability")
return a.queryObjectIds(null!=(s=u.a.from(t))?s:e.createQuery(),n)}async function j(e,t,n,r){var s
const a=await k(e)
if(!a.queryFeatureCount)throw new i.a(r,"Layer source does not support queryFeatureCount capability")
return a.queryFeatureCount(null!=(s=u.a.from(t))?s:e.createQuery(),n)}async function w(e,t,n,r){var s
const a=await k(e)
if(!a.queryExtent)throw new i.a(r,"Layer source does not support queryExtent capability")
return a.queryExtent(null!=(s=u.a.from(t))?s:e.createQuery(),n)}async function _(e,t,n,r){const s=await k(e)
if(!s.queryRelatedFeatures)throw new i.a(r,"Layer source does not support queryRelatedFeatures capability")
return s.queryRelatedFeatures(d.default.from(t),n)}async function S(e,t,n,r){const s=await k(e)
if(!s.queryRelatedFeaturesCount)throw new i.a(r,"Layer source does not support queryRelatedFeaturesCount capability")
return s.queryRelatedFeaturesCount(d.default.from(t),n)}async function x(e){const t=e.source
if(null!=t&&t.refresh)try{const{dataChanged:n,updates:r}=await t.refresh()
if(Object(a.l)(r)&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),n)return!0}catch{}if(e.definitionExpression)try{return(await Object(o.a)(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function T(e){const t=new u.a,n=e.get("capabilities.data"),r=e.get("capabilities.query")
t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),n&&(n.supportsZ&&null!=e.returnZ&&(t.returnZ=e.returnZ),n.supportsM&&null!=e.returnM&&(t.returnM=e.returnM)),t.outFields=["*"]
const{timeOffset:i,timeExtent:s}=e
return t.timeExtent=null!=i&&null!=s?s.offset(-i.value,i.unit):s||null,t.multipatchOption="multipatch"===e.geometryType?"xyFootprint":null,t}function I(e){const{globalIdField:t,fields:n}=e
if(t)return t
if(n)for(const e of n)if("esriFieldTypeGlobalID"===e.type)return e.name}function M(e){const{objectIdField:t,fields:n}=e
if(t)return t
if(n)for(const e of n)if("esriFieldTypeOID"===e.type)return e.name}function E(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}async function k(e){return(await e.load()).source}async function C(e,t){var n
const i=null==(n=e.parsedUrl)?void 0:n.path
if(!i)return
const s=e.editFieldsInfo;(e.userHasUpdateItemPrivileges||e.userHasFullEditingPrivileges&&e.capabilities.operations.supportsEditing||(null==s?void 0:s.creatorField)||(null==s?void 0:s.editorField))&&await async function(e,t){if(!r.b)return
if(r.b.findCredential(e))return
let n
try{const i=await Object(l.c)(e,t)
i&&(n=await r.b.checkSignInStatus(i+"/sharing"))}catch(e){}if(n)try{const n=Object(a.l)(t)?t.signal:null
await r.b.getCredential(e,{signal:n})}catch(e){}}(i,t)}function A(e){var t
return!(null!=(t=e.sourceJSON)&&t.isMultiServicesView)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}},1310:function(e,t,n){"use strict"
n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return A})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return F})),n.d(t,"n",(function(){return D})),n.d(t,"o",(function(){return N})),n.d(t,"p",(function(){return Z})),n.d(t,"q",(function(){return z})),n.d(t,"r",(function(){return q})),n.d(t,"s",(function(){return B})),n.d(t,"t",(function(){return W})),n.d(t,"u",(function(){return H})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return Y}))
var r=n(1265),i=n(993),s=n(23),a=n(997),o=n(1016),l=n(1215),c=n(1567),u=n(1013),d=n(1026),h=n(770),p=n(1004),f=n(992),b=n(1015),m=n(769),y=n(988)
const g=180/Math.PI
function v(e){return e.wkid?e:e.spatialReference||m.default.WGS84}function O(e,t){return t.type?Object(u.s)(e,t.x,t.y):Object(u.c)(e,t)}function j(e){return Object(a.g)(e)}function w(e,t){const n=Math.max(1,t[0]),r=Math.max(1,t[1])
return Math.max(e.width/n,e.height/r)*function(e){return Object(y.l)(e)?39.37*j(e)*96:1}(e.spatialReference)}async function _(e,t,n,r){let a,o
if(!e)return null
if(Array.isArray(e)&&!e.length)return null
if(i.a.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&"object"==typeof e[0]){const i=e.every(e=>"attributes"in e),a=e.some(e=>!e.geometry)
let o=e
if(i&&a&&t&&t.allLayerViews){const n=new Map
for(const t of e){const e=t.layer,r=n.get(e)||[],i=t.attributes[e.objectIdField]
null!=i&&r.push(i),n.set(e,r)}const r=[]
n.forEach((e,n)=>{const i=t.allLayerViews.find(e=>e.layer.id===n.id)
if(i&&"queryFeatures"in i){const t=n.createQuery()
t.objectIds=e,t.returnGeometry=!0,r.push(i.queryFeatures(t))}})
const i=await Promise.all(r),a=[]
for(const e of i)if(e&&e.features&&e.features.length)for(const t of e.features)Object(s.l)(t.geometry)&&a.push(t.geometry)
o=a}for(const e of o)r=await _(e,t,n,r)
return r}if(Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])a=new f.a(e)
else if(e instanceof p.a)a=e
else if("geometry"in e)if(e.geometry)a=e.geometry
else if(e.layer){const n=e.layer,r=t.allLayerViews.find(e=>e.layer.id===n.id)
if(r&&"queryFeatures"in r){const t=n.createQuery()
t.objectIds=[e.attributes[n.objectIdField]],t.returnGeometry=!0
const i=await r.queryFeatures(t)
a=Object(s.j)(i,"features",0,"geometry")}}if(Object(s.k)(a))return null
if(o="point"===a.type?new h.default({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference}):a.extent,!o)return null
Object(b.h)()||Object(b.b)(o.spatialReference,n)||await Object(b.i)()
const l=Object(b.m)(o,n)
return l?r=r?r.union(l):l:null}function S(e,t){return Object(y.d)(v(e),t)?e:Object(b.m)(e,t)}async function x(e,t){if(!e||!t)return new r.a({targetGeometry:new f.a,scale:0,rotation:0})
let n=t.spatialReference
const{constraints:i,padding:a,viewpoint:o,size:l}=t,c=[a?l[0]-a.left-a.right:l[0],a?l[1]-a.top-a.bottom:l[1]]
let u=null
e instanceof r.a?u=e:e.viewpoint?u=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(u=e.target)
let d=null
u&&u.targetGeometry?d=u.targetGeometry:e instanceof h.default?d=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(d=await _(e.center,t,n)||await _(e.extent,t,n)||await _(e.target,t,n)||await _(e,t,n)),!d&&o&&o.targetGeometry?d=o.targetGeometry:!d&&t.extent&&(d=t.extent),n||(n=v(t.spatialReference||t.extent||d)),Object(b.h)()||Object(y.d)(d.spatialReference,n)||Object(b.b)(d,n)||await Object(b.i)()
const p=S(d.center?d.center:d,n)
let m=0
if(u&&Object(s.l)(u.targetGeometry)&&"point"===u.targetGeometry.type)m=u.scale
else if("scale"in e&&e.scale)m=e.scale
else if("zoom"in e&&-1!==e.zoom&&i&&i.effectiveLODs)m=i.zoomToScale(e.zoom)
else if(Array.isArray(d)||"point"===d.type||"extent"===d.type&&0===d.width&&0===d.height){const e=S(t.extent,n)
m=Object(s.l)(e)?w(e,c):t.extent?w(t.extent,c):o.scale}else m=w(S(d.extent,n),c)
const g=function(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer
return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(e=>"layer"in e)){let t=0,n=0
for(const r of e){const e=r.layer
e&&e.minScale&&e.maxScale&&(t=e.minScale<t?e.minScale:t,n=e.maxScale>n?e.maxScale:n)}return t&&n?{min:t,max:n}:null}}}(e)
g&&(g.min&&g.min>m?m=g.min:g.max&&g.max<m&&(m=g.max))
let O=0
u?O=u.rotation:e.hasOwnProperty("rotation")?O=e.rotation:o&&(O=o.rotation)
let j=new r.a({targetGeometry:p,scale:m,rotation:O})
return i&&(j=i.fit(j),i.constrainByGeometry(j),i.rotationEnabled||(j.rotation=O)),j}function T(e,t){const n=e.targetGeometry,r=t.targetGeometry
return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function I(e,t,n){return n?Object(u.s)(e,.5*(t[0]-n.right+n.left),.5*(t[1]-n.bottom+n.top)):Object(u.b)(e,t,.5)}const M=function(){const e=Object(d.d)()
return function(t,n,r){const i=n.targetGeometry
O(e,i)
const s=.5*A(n)
return t.xmin=e[0]-s*r[0],t.ymin=e[1]-s*r[1],t.xmax=e[0]+s*r[0],t.ymax=e[1]+s*r[1],t.spatialReference=i.spatialReference,t}}()
function E(e,t,n,r,i){return G(e,t,n.center),e.scale=w(n,r),i&&i.constraints&&i.constraints.constrain(e),e}const k=function(){const e=Object(d.d)()
return function(t,n,r){return Object(u.e)(t,function(e,t){return Object(u.b)(e,t,.5)}(t,n),I(e,n,r))}}(),C=function(){const e=Object(c.b)(),t=Object(d.d)()
return function(n,r,i,s){const a=A(r),o=L(r)
return Object(u.s)(t,a,a),Object(l.e)(e,t),Object(l.h)(e,e,o),Object(l.j)(e,e,k(t,i,s)),Object(l.j)(e,e,[0,s.top-s.bottom]),Object(u.s)(n,e[4],e[5])}}()
function A(e){return e.scale*function(e){return Object(s.l)(e)&&Object(y.l)(e.spatialReference)?1/(39.37*j(e.spatialReference)*96):1}(e.targetGeometry)}function L(e){return Object(o.d)(e.rotation)||0}const R=function(){const e=Object(d.d)(),t=Object(d.d)(),n=Object(d.d)()
return function(r,i,s,a,o,c){return Object(u.n)(e,i),Object(u.b)(t,s,.5*c),Object(u.s)(n,1/a*c,-1/a*c),Object(l.a)(r,t),o&&Object(l.h)(r,r,o),Object(l.i)(r,r,n),Object(l.j)(r,r,e),r}}(),P=function(){const e=Object(d.d)()
return function(t,n,r,i){const s=A(n),a=L(n)
return O(e,n.targetGeometry),R(t,e,r,s,a,i)}}(),F=function(){const e=Object(d.d)()
return function(t,n,r,i){const s=A(n)
return O(e,n.targetGeometry),R(t,e,r,s,0,i)}}()
function N(e){const t=Object(y.e)(e)
return t?t.valid[1]-t.valid[0]:0}function D(e,t){return Math.round(N(e)/t)}const V=function(){const e=Object(d.d)(),t=Object(d.d)(),n=[0,0,0]
return function(r,i,s){Object(u.a)(e,r,i),Object(u.f)(e,e),Object(u.a)(t,r,s),Object(u.f)(t,t),Object(u.g)(n,e,t)
let a=Math.acos(Object(u.h)(e,t)/(Object(u.i)(e)*Object(u.i)(t)))*g
return n[2]<0&&(a=-a),isNaN(a)&&(a=0),a}}(),U=function(){const e=Object(d.d)()
return function(t,n,r,i){const s=t.targetGeometry
return T(t,n),C(e,n,r,i),s.x+=e[0],s.y+=e[1],t}}(),G=function(e,t,n){T(e,t)
const r=e.targetGeometry
return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e},z=function(){const e=Object(d.d)()
return function(t,n,r,i,s){s||(s="center"),Object(u.e)(e,r,i),Object(u.b)(e,e,.5)
const a=e[0],o=e[1]
switch(s){case"center":Object(u.s)(e,0,0)
break
case"left":Object(u.s)(e,-a,0)
break
case"top":Object(u.s)(e,0,o)
break
case"right":Object(u.s)(e,a,0)
break
case"bottom":Object(u.s)(e,0,-o)
break
case"top-left":Object(u.s)(e,-a,o)
break
case"bottom-left":Object(u.s)(e,-a,-o)
break
case"top-right":Object(u.s)(e,a,o)
break
case"bottom-right":Object(u.s)(e,a,-o)}return Y(t,n,e),t}}()
function q(e,t,n){return T(e,t),e.rotation+=n,e}function B(e,t,n){return T(e,t),e.rotation=n,e}const $=function(){const e=Object(d.d)()
return function(t,n,r,i,s){return T(t,n),isNaN(r)||0===r||(K(e,i,n,s),t.scale=n.scale*r,J(e,e,t,s),Y(t,t,Object(u.s)(e,e[0]-i[0],i[1]-e[1]))),t}}()
function H(e,t,n){return T(e,t),e.scale=n,e}const W=function(){const e=Object(d.d)()
return function(t,n,r,i,s,a){return T(t,n),isNaN(r)||0===r||(K(e,s,n,a),t.scale=n.scale*r,t.rotation+=i,J(e,e,t,a),Y(t,t,Object(u.s)(e,e[0]-s[0],s[1]-e[1]))),t}}(),Z=function(){const e=Object(d.d)(),t=Object(d.d)()
return function(n,r,i,s,a,o,l){return k(t,o,l),Object(u.j)(e,a,t),s?W(n,r,i,s,e,o):$(n,r,i,e,o)}}(),K=function(){const e=Object(c.b)()
return function(t,n,r,i){return Object(u.t)(t,n,function(e,t,n,r){return P(e,t,n,1),Object(l.c)(e,e)}(e,r,i))}}(),J=function(){const e=Object(c.b)()
return function(t,n,r,i){return Object(u.t)(t,n,P(e,r,i,1))}}(),Y=function(){const e=Object(d.d)(),t=Object(c.b)()
return function(n,r,i){T(n,r)
const s=A(r),a=n.targetGeometry
return Object(l.b)(t,L(r)),Object(l.i)(t,t,Object(d.h)(s,s)),Object(u.t)(e,i,t),a.x+=e[0],a.y+=e[1],n}}()},1311:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1384)
function i(e,t,n,i=!1){Array.isArray(e)&&(e=e.join(".")),Object(r.a)(n,e,t,i)}},1312:function(e,t,n){"use strict"
n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return M}))
var r,i=n(446),s=n(235),a=n(233),o=n(23),l=n(1375),c=n(1139),u=n(1271),d=n(1113),h=n(1070),p=n(1183),f=n(968),b=n(234),m=n(970),y=(n(971),n(969)),g=n(974),v=n(1108)
let O=r=class extends h.a{writeLevels(e,t,n){for(const n in e){const e=this.levels[n]
return void(t.stops=e)}}clone(){return new r({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Object(v.e)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Object(v.e)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:Object(b.a)(this.levels)})}}
Object(f.a)([Object(m.b)()],O.prototype,"levels",void 0),Object(f.a)([Object(g.a)("levels")],O.prototype,"writeLevels",null),O=r=Object(f.a)([Object(y.a)("esri.views.2d.engine.LevelDependentSizeVariable")],O)
const j=a.a.getLogger("esri.views.2d.layers.support.clusterUtils")
s.a.add("esri-cluster-arcade-enabled",!0)
const w=Object(s.a)("esri-cluster-arcade-enabled"),_=(e,t,n,r,i)=>{const s=t.clone()
if(!M(s))return s
if(s.authoringInfo||(s.authoringInfo=new d.a),s.authoringInfo.isAutoGenerated=!0,"visualVariables"in s){const t=(s.visualVariables||[]).filter(e=>"$view.scale"!==e.valueExpression),a=S(t)
t.forEach(t=>{"rotation"===t.type?t.field?t.field=k(e,t.field,"avg_angle","number"):t.valueExpression&&(t.field=E(e,t.valueExpression,"avg_angle","number"),t.valueExpression=null):t.normalizationField?(t.field=k(e,t.field,"avg_norm","number",t.normalizationField),t.normalizationField=null):t.field?t.field=k(e,t.field,"avg","number"):t.valueExpression&&(t.field=E(e,t.valueExpression,"avg","number"),t.valueExpression=null)}),Object(o.k)(a)&&!T(t)&&i&&(t.push(I(n,r)),s.dynamicClusterSize=!0),s.visualVariables=t}switch(s.type){case"simple":break
case"pie-chart":for(const t of s.attributes)t.field?t.field=k(e,t.field,"sum","number"):t.valueExpression&&(t.field=E(e,t.valueExpression,"sum","number"),t.valueExpression=null)
break
case"unique-value":s.field?s.field=k(e,s.field,"mode","string"):s.valueExpression&&(s.field=E(e,s.valueExpression,"mode","string"),s.valueExpression=null)
break
case"class-breaks":s.normalizationField?(s.field=k(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=k(e,s.field,"avg","number"):s.valueExpression&&(s.field=E(e,s.valueExpression,"avg","number"),s.valueExpression=null)}return s},S=e=>{for(const t of e)if("size"===t.type)return t
return null}
function x(e,t,n){const r=e.clone()
let i=!1
if("visualVariables"in r){const e=(r.visualVariables||[]).filter(e=>"$view.scale"!==e.valueExpression),s=S(e)
Object(o.k)(s)&&(r.visualVariables||(r.visualVariables=[]),r.visualVariables.push(I(t,n)),r.dynamicClusterSize=!0,i=!0)}return{renderer:r,didInject:i}}const T=e=>{for(const t of e)if("cluster_count"===t.field)return!0
return!1},I=(e,t)=>{const n=[new p.a({value:0,size:0}),new p.a({value:1})]
if(Object(o.k)(t))return new h.a({field:"cluster_count",stops:[...n,new p.a({value:2,size:0})]})
const r=Object.keys(t).reduce((r,i)=>({...r,[i]:[...n,new p.a({value:Math.max(2,t[i].minValue),size:e.clusterMinSize}),new p.a({value:Math.max(3,t[i].maxValue),size:e.clusterMaxSize})]}),{})
return new O({field:"cluster_count",levels:r})},M=e=>{const t=t=>j.error(new i.a("Unsupported-renderer",t,{renderer:e}))
switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1
break
case"class-breaks":if(e.normalizationField){const n=e.normalizationType
if("field"!==n)return t("FeatureReductionCluster does not support a normalizationType of "+n),!1}break
case"simple":case"pie-chart":break
default:return t("FeatureReductionCluster does not support renderers of type "+e.type),!1}if(!w){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1
if(("visualVariables"in e&&e.visualVariables||[]).some(e=>!(!("valueExpression"in e)||!e.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0}
function E(e,t,n,r){const i=Object(l.a)(t),s="mode"===n?"cluster_type_"+i:"sum"===n?"cluster_sum_"+i:"cluster_avg_"+i
return e.some(e=>e.name===s)||e.push(new c.a({name:s,isAutoGenerated:!0,onStatisticExpression:new u.a({expression:t,returnType:r}),statisticType:n})),s}function k(e,t,n,r,i){if("cluster_count"===t||e.some(e=>e.name===t))return t
const s=function(e,t,n){switch(e){case"sum":return"cluster_sum_"+t
case"avg":case"avg_angle":return"cluster_avg_"+t
case"mode":return"cluster_type_"+t
case"avg_norm":{const e=n,r="field",i=t.toLowerCase()+",norm:"+r+","+e.toLowerCase()
return"cluster_avg_"+Object(l.a)(i)}}}(n,t,i)
return e.some(e=>e.name===s)||("avg_norm"===n?e.push(new c.a({name:s,isAutoGenerated:!0,onStatisticExpression:new u.a({expression:`$feature.${t} / $feature.${i}`,returnType:r}),statisticType:"avg"})):e.push(new c.a({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:n}))),s}},1313:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(968),i=n(970),s=(n(971),n(445),n(969))
const a=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}}
return Object(r.a)([Object(i.b)({type:Object,json:{write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0)})}}})],t.prototype,"customParameters",void 0),t=Object(r.a)([Object(s.a)("esri.layers.mixins.CustomParametersMixin")],t),t}},1317:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i=n(968),s=n(972),a=n(970),o=n(971),l=(n(445),n(969))
let c=r=class extends s.a{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new r({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}}
Object(i.a)([Object(a.b)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"cols",void 0),Object(i.a)([Object(a.b)({type:o.a,json:{write:!0}})],c.prototype,"level",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],c.prototype,"levelValue",void 0),Object(i.a)([Object(a.b)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"origin",void 0),Object(i.a)([Object(a.b)({type:Number,json:{write:!0}})],c.prototype,"resolution",void 0),Object(i.a)([Object(a.b)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"rows",void 0),Object(i.a)([Object(a.b)({type:Number,json:{write:!0}})],c.prototype,"scale",void 0),c=r=Object(i.a)([Object(l.a)("esri.layers.support.LOD")],c)
const u=c},1322:function(e,t,n){"use strict"
n.d(t,"a",(function(){return x}))
var r,i=n(968),s=n(976),a=n(972),o=n(23),l=n(997),c=n(970),u=n(971),d=(n(445),n(977)),h=n(969),p=n(974),f=n(992),b=n(769),m=n(996),y=n(988),g=n(774),v=n(1317),O=n(1358)
const j=new s.a({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"})
let w=r=class extends a.a{static create(e={}){const{resolutionFactor:t=1,scales:n,size:i=256,spatialReference:s=b.default.WebMercator,numLODs:a=24}=e
if(!Object(y.l)(s)){const e=[]
if(n)for(let t=0;t<n.length;t++){const r=n[t]
e.push(new v.a({level:t,scale:r,resolution:r}))}else{let t=5e-4
for(let n=a-1;n>=0;n--)e.unshift(new v.a({level:n,scale:t,resolution:t})),t*=2}return new r({dpi:96,lods:e,origin:new f.a(0,0,s),size:[i,i],spatialReference:s})}const o=Object(y.e)(s),c=e.origin?new f.a({x:e.origin.x,y:e.origin.y,spatialReference:s}):new f.a(o?{x:o.origin[0],y:o.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),u=1/(39.37*Object(l.g)(s)*96),d=[]
if(n)for(let e=0;e<n.length;e++){const t=n[e],r=t*u
d.push(new v.a({level:e,scale:t,resolution:r}))}else{let e=Object(y.h)(s)?512/i*591657527.5917094:256/i*591657527.591555
const n=Math.ceil(a/t)
d.push(new v.a({level:0,scale:e,resolution:e*u}))
for(let r=1;r<n;r++){const n=e/2**t,i=n*u
d.push(new v.a({level:r,scale:n,resolution:i})),e=n}}return new r({dpi:96,lods:d,origin:c,size:[i,i],spatialReference:s})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this
if(e&&t){const n=Object(y.e)(e)
return e.isWrappable&&!!n&&Math.abs(n.origin[0]-t.x)<=n.dx}return!1}readOrigin(e,t){return f.a.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,n=0
const r=[],i=this._levelToLOD={}
e&&(t=-1/0,n=1/0,e.forEach(e=>{r.push(e.scale),t=e.scale>t?e.scale:t,n=e.scale<n?e.scale:n,i[e.level]=e})),this._set("scales",r),this._set("minScale",t),this._set("maxScale",n),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales
if(e<=0)return t[0]
if(e>=t.length-1)return t[t.length-1]
const n=Math.floor(e),r=n+1
return t[n]/(t[n]/t[r])**(e-n)}scaleToZoom(e){const t=this.scales,n=t.length-1
let r=0
for(;r<n;r++){const n=t[r],i=t[r+1]
if(n<=e)return r
if(i===e)return r+1
if(n>e&&i<e)return r+Math.log(n/e)/Math.log(n/i)}return r}snapScale(e,t=.95){const n=this.scaleToZoom(e)
return n%Math.floor(n)>=t?this.zoomToScale(Math.ceil(n)):this.zoomToScale(Math.floor(n))}tileAt(e,t,n,r){const i=this.lodAt(e)
if(!i)return null
let s,a
if("number"==typeof t)s=t,a=n
else if(Object(y.d)(t.spatialReference,this.spatialReference))s=t.x,a=t.y,r=n
else{const e=Object(g.project)(t,this.spatialReference)
if(Object(o.k)(e))return null
s=e.x,a=e.y,r=n}const l=i.resolution*this.size[0],c=i.resolution*this.size[1]
return r||(r=new O.a(null,0,0,0,Object(m.m)())),r.level=e,r.row=Math.floor((this.origin.y-a)/c+.001),r.col=Math.floor((s-this.origin.x)/l+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=r.ExtrapolateOptions.NONE){let n=this.lodAt(e.level)
if(!n&&t===r.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1]
t.level<e.level&&(n=t)}if(!n)return
const i=e.level-n.level,s=n.resolution*this.size[0]/2**i,a=n.resolution*this.size[1]/2**i
e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Object(m.m)()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*a,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+a}upsampleTile(e){const t=this._upsampleLevels[e.level]
return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}getTileBounds(e,t){const n=this.lodAt(t.level)
if(null==n)return null
const{resolution:r}=n,i=r*this.size[0],s=r*this.size[1]
return e[0]=this.origin.x+t.col*i,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+i,e[3]=e[1]+s,e}lodAt(e){var t,n
return null!=(t=null==(n=this._levelToLOD)?void 0:n[e])?t:null}clone(){return r.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null
const n=[],i=this.lods.length
for(let e=0;e<i;e++){const r=this.lods[e],i=r.resolution*t
n.push(new v.a({level:r.level,scale:r.scale,resolution:i}))}return new r({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:n})}_initializeUpsampleLevels(){const e=this.lods
this._upsampleLevels=[]
let t=null
for(let n=0;n<e.length;n++){const r=e[n]
this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}}
var _,S
Object(i.a)([Object(c.b)({type:Number,json:{write:!0}})],w.prototype,"compressionQuality",void 0),Object(i.a)([Object(c.b)({type:Number,json:{write:!0}})],w.prototype,"dpi",void 0),Object(i.a)([Object(c.b)({type:String,json:{read:j.read,write:j.write,origins:{"web-scene":{read:!1,write:!1}}}})],w.prototype,"format",void 0),Object(i.a)([Object(c.b)({readOnly:!0})],w.prototype,"isWrappable",null),Object(i.a)([Object(c.b)({type:f.a,json:{write:!0}})],w.prototype,"origin",void 0),Object(i.a)([Object(d.a)("origin")],w.prototype,"readOrigin",null),Object(i.a)([Object(c.b)({type:[v.a],value:null,json:{write:!0}})],w.prototype,"lods",null),Object(i.a)([Object(c.b)({readOnly:!0})],w.prototype,"minScale",void 0),Object(i.a)([Object(c.b)({readOnly:!0})],w.prototype,"maxScale",void 0),Object(i.a)([Object(c.b)({readOnly:!0})],w.prototype,"scales",void 0),Object(i.a)([Object(c.b)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],w.prototype,"size",void 0),Object(i.a)([Object(d.a)("size",["rows","cols"])],w.prototype,"readSize",null),Object(i.a)([Object(p.a)("size",{cols:{type:u.a},rows:{type:u.a}})],w.prototype,"writeSize",null),Object(i.a)([Object(c.b)({type:b.default,json:{write:!0}})],w.prototype,"spatialReference",void 0),w=r=Object(i.a)([Object(h.a)("esri.layers.support.TileInfo")],w),_=w||(w={}),(S=_.ExtrapolateOptions||(_.ExtrapolateOptions={}))[S.NONE=0]="NONE",S[S.POWER_OF_TWO=1]="POWER_OF_TWO"
const x=w},1329:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}))
var r=n(1034),i=n(993),s=n(1046),a=n(23)
async function o(e,t){return await e.load(),l(e,t)}async function l(e,t){const n=[],o=(...e)=>{for(const t of e)Object(a.k)(t)||(Array.isArray(t)?o(...t):i.a.isCollection(t)?t.forEach(e=>o(e)):s.a.isLoadable(t)&&n.push(t))}
t(o)
let l=null
if(await Object(r.d)(n,async e=>{const t=await Object(r.e)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load())
!1!==t.ok||l||(l=t)}),l)throw l.error
return e}},1330:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(968),i=n(970),s=(n(971),n(445),n(969))
const a=e=>{let t=class extends e{get apiKey(){var e
return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?null==(e=this.portalItem)?void 0:e.apiKey:null}set apiKey(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}
return Object(r.a)([Object(i.b)({type:String})],t.prototype,"apiKey",null),t=Object(r.a)([Object(s.a)("esri.layers.mixins.APIKeyMixin")],t),t}},1332:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h}))
var r=n(968),i=n(1009),s=n(1195),a=n(970),o=(n(971),n(445),n(977)),l=n(969),c=n(989),u=n(1249),d=n(1206)
const h=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const n=t.timeInfo.exportOptions
if(!n)return null
const r=n.timeOffset,i=d.a.fromJSON(n.timeOffsetUnits)
return r&&i?new s.a({value:r,unit:i}):null}set timeInfo(e){Object(c.l)(e,this.fieldsIndex),this._set("timeInfo",e)}}
return Object(r.a)([Object(a.b)({type:i.a,json:{write:!1}})],t.prototype,"timeExtent",void 0),Object(r.a)([Object(a.b)({type:s.a})],t.prototype,"timeOffset",void 0),Object(r.a)([Object(o.a)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),Object(r.a)([Object(a.b)({value:null,type:u.a,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),Object(r.a)([Object(a.b)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=Object(r.a)([Object(l.a)("esri.layers.mixins.TemporalLayer")],t),t}},1333:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r=n(23),i=n(1088)
let s,a
function o(e){const t=Object(i.d)(e)
for(;t.length>1;){const e=l(t.shift())
if(e.available)return e}return l(t.shift())}function l(e){switch(e){case i.a.WEBGL1:return s||(s=function(){const e=new u,t=h(i.a.WEBGL1,e)
return Object(r.k)(t)||(e.supportsElementIndexUint=null!==t.getExtension("OES_element_index_uint"),e.supportsStandardDerivatives=null!==t.getExtension("OES_standard_derivatives"),e.supportsInstancedArrays=null!==t.getExtension("ANGLE_instanced_arrays"),e.supportsTextureFloat=null!==t.getExtension("OES_texture_float"),e.supportsTextureHalfFloat=null!==t.getExtension("OES_texture_half_float"),e.supportsColorBufferFloat=null!==t.getExtension("WEBGL_color_buffer_float"),e.supportsColorBufferFloatBlend=null!==t.getExtension("EXT_float_blend"),e.supportsColorBufferHalfFloat=null!==t.getExtension("EXT_color_buffer_half_float")),e}()),s
case i.a.WEBGL2:return a||(a=function(){const e=new d,t=h(i.a.WEBGL2,e)
return Object(r.k)(t)||(e.supportsColorBufferFloat=null!==t.getExtension("EXT_color_buffer_float"),e.supportsColorBufferFloatBlend=null!==t.getExtension("EXT_float_blend"),e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||null!==t.getExtension("EXT_color_buffer_half_float")),e}()),a}}class c{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}class u extends c{constructor(){super(...arguments),this.type=i.a.WEBGL1}}class d extends c{constructor(){super(...arguments),this.type=i.a.WEBGL2,this.supportsElementIndexUint=!0,this.supportsStandardDerivatives=!0,this.supportsInstancedArrays=!0,this.supportsTextureFloat=!0,this.supportsTextureHalfFloat=!0}}function h(e,t){if(e===i.a.WEBGL1&&"undefined"==typeof WebGLRenderingContext||e===i.a.WEBGL2&&"undefined"==typeof WebGL2RenderingContext)return null
const n=document.createElement("canvas")
if(!n)return null
let s=Object(i.b)(n,e,{failIfMajorPerformanceCaveat:!0})
if(Object(r.k)(s)&&(s=Object(i.b)(n,e),Object(r.l)(s)&&(t.majorPerformanceCaveat=!0)),Object(r.k)(s))return s
if(e===i.a.WEBGL1){var a
const e=null==(a=s.getParameter(s.VERSION))?void 0:a.match(/^WebGL\s+([\d.]*)/)
if(e){const n=parseFloat(e[1])
t.available=n>=.94}}else t.available=!0
t.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=s.getParameter(s.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0
const o=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT)
return o&&(t.supportsHighPrecisionFragment=o.precision>0),s}},1334:function(e,t,n){"use strict"
n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}))
var r=n(968),i=n(975),s=n(233),a=n(23),o=n(1208),l=n(970),c=(n(971),n(445),n(969)),u=n(1530),d=n(1544),h=n(1053)
class p extends h.a{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",e=>{this._update(e.data)})}_update(e){const t="touch"===e.native.pointerType?"touch":"mouse",{x:n,y:r}=e
t===this._value&&this._x===n&&this._y===r||(this._value=t,this._x=n,this._y=r,this._onChange(t,n,r))}}var f=n(1302)
class b extends h.a{get multiTouchActive(){return this._multiTouchActive.get()}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=new f.a(!1),this._onPointerAdd=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.set(this._activeTouchPointerIds.size>1)}}let m=class extends i.a{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=d.c,this._latestPointerType="mouse",this._propertiesPool=new u.a({latestPointerLocation:j},this),this.latestPointerLocation=null,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup)
for(const t of e)this.uninstallHandlers(t)
this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}installHandlers(e,t,n=O.INTERNAL){if(this._nameToGroup[e])return void s.a.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+e+"`")
if(0===t.length)return void s.a.getLogger(this.declaredClass).error("Can't register a group of zero handlers")
const r={name:e,handlers:t.map(e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null}))}
this._nameToGroup[e]=r
for(let e=r.handlers.length-1;e>=0;e--){const t=r.handlers[e]
this._handlers.push(t),t.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(e,n,r,i,s)=>{this._emitInputEvent(t.priorityIndex+1,e,n,r,s,i)},setPointerCapture:(e,n)=>{this._setPointerCapture(r,t,e,n)},setEventCallback:e=>{t.eventCallback=e},setUninstallCallback:e=>{t.uninstallCallback=e},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e]
t?(t.handlers.forEach(e=>{e.removed=!0,null==e.uninstallCallback||e.uninstallCallback()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):s.a.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return void 0!==this._nameToGroup[e]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0)
this._updateDependenciesAfterPropagation=!1
const e=new Set,t=new Set
this._handlersPriority=[]
for(let e=this._handlers.length-1;e>=0;e--){const t=this._handlers[e]
t.priorityIndex=e,this._handlersPriority.push(t)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority)
for(let n=this._handlersPriority.length-1;n>=0;n--){const r=this._handlersPriority[n]
r.priorityIndex=n
let i=r.handler.hasSideEffects
if(!i)for(const t of r.handler.outgoingEventTypes)if(e.has(t)){i=!0
break}if(i)for(const n of r.handler.incomingEventMatches){e.add(n.eventType)
for(const e of n.keyModifiers)Object(d.b)(e)||t.add(e)}r.active=i}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,n){this._latestPointerType=e
const r=this._get("latestPointerLocation")
if(Object(a.k)(r)||r.x!==t||r.y!==n){const e=this._propertiesPool.get("latestPointerLocation")
e.x=t,e.y=n,this._set("latestPointerLocation",e)}}_onEventReceived(e,t){if("pointer-capture-lost"===e){const e=t
this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t)
const n=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,r=t.native?t.native.cancelable:void 0
this._emitInputEventFromSource(e,t,n,r)}_updateKeyModifiers(e,t){if(!t)return
let n=!1
const r=()=>{if(!n){const e=new Set
this._activeKeyModifiers.forEach(t=>{e.add(t)}),this._activeKeyModifiers=e,n=!0}},i=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(r(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(r(),this._activeKeyModifiers.delete(e))}
if("key-down"===e||"key-up"===e){const n=t.key
this._keyModifiers.has(n)&&i(n,"key-down"===e)}const s=t.native
i("Alt",!(!s||!s.altKey)),i("Ctrl",!(!s||!s.ctrlKey)),i("Shift",!(!s||!s.shiftKey)),i("Meta",!(!s||!s.metaKey)),i("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new p((e,t,n)=>this._setLatestPointer(e,t,n)),this._multiTouchHandler=new b,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],O.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,O.INTERNAL)}_setPointerCapture(e,t,n,r){const i=e.name+"-"+t.priorityIndex,s=this._pointerCaptures.get(n.pointerId)||new Set
this._pointerCaptures.set(n.pointerId,s),r?(s.add(i),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):s.has(i)&&(s.delete(i),0===s.size&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,t,n,r){this._emitInputEvent(0,e,t,n,r)}_emitInputEvent(e,t,n,r,i,s){const a=void 0!==r?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),o=void 0!==i&&i,l={event:new y(t,n,a,s||this._activeKeyModifiers,o),priorityIndex:e}
this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new o.a,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=Object(a.w)(this._currentPropagation)
for(;e.events.length>0;){const{event:t,priorityIndex:n}=e.events.pop(),r=t.data&&t.data.eventId
if(null==r||!this._stoppedPropagationEventIds.has(r))for(e.currentHandler=this._handlersPriority[n];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0
else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&null!=e.currentHandler.eventCallback&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){null!=r&&this._stoppedPropagationEventIds.add(r)
break}if(t.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}_pausePropagation(e){const t=new o.a
t.push(e)
const n=this._currentPropagation
if(n){for(;n.events.length;)t.push(n.events.pop())
n.events=t,n.currentHandler=null}}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1
if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1
for(const n of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(n.eventType!==e.eventType)continue
const t=n.keyModifiers.filter(t=>e.keyModifiers.includes(t))
if(t.length===n.keyModifiers.length!=(t.length===e.keyModifiers.length))return n.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[]
for(const n of e){let e=0
for(;e<t.length&&this._compareHandlerPriority(n,t[e])>=0;)e++
t.splice(e,0,n)}return t}get debug(){const e=e=>{const t=this._setPointerCapture
this._setPointerCapture=()=>{},e(),this._setPointerCapture=t}
return{injectEvent:(t,n)=>{e(()=>{this._onEventReceived(t,n)})},disablePointerCapture:e}}}
Object(r.a)([Object(l.b)({readOnly:!0})],m.prototype,"hasPendingInputs",null),Object(r.a)([Object(l.b)({constructOnly:!0})],m.prototype,"eventSource",void 0),Object(r.a)([Object(l.b)({constructOnly:!0})],m.prototype,"recognizers",void 0),Object(r.a)([Object(l.b)()],m.prototype,"_latestPointerType",void 0),Object(r.a)([Object(l.b)()],m.prototype,"latestPointerType",null),Object(r.a)([Object(l.b)()],m.prototype,"multiTouchActive",null),Object(r.a)([Object(l.b)({readOnly:!0})],m.prototype,"latestPointerLocation",void 0),m=Object(r.a)([Object(c.a)("esri.views.input.InputManager")],m)
class y{constructor(e,t,n,r,i){this.type=e,this.data=t,this.timestamp=n,this.modifiers=r,this.cancelable=i,this._propagationState=g.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=g.STOPPED}shouldStopPropagation(){return 0!=(this._propagationState&g.STOPPED)}async(e){this._propagationState|=g.PAUSED
const t=(e,t)=>{this._propagationState&=~g.PAUSED
const n=this._resumeCallback
if(this._resumeCallback=null,n&&n(),t)throw e
return e}
return("function"==typeof e?e():e).then(e=>t(e,!1),e=>t(e,!0))}shouldPausePropagation(e){return!!(this._propagationState&g.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}var g,v;(v=g||(g={}))[v.NONE=0]="NONE",v[v.STOPPED=1]="STOPPED",v[v.PAUSED=2]="PAUSED"
const O={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},j=class{}},1335:function(e,t,n){"use strict"
function r(e){const t=[]
return function*(){yield*t
for(const n of e)t.push(n),yield n}}function i(e,t){for(const n of e)if(null!=n&&t(n))return n}function s(e){return null!=e&&"function"==typeof e[Symbol.iterator]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}))},1337:function(e,t,n){"use strict"
function r(e){return"string"==typeof e?document.getElementById(e):null!=e?e:null}function i(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function s(e,t){const n=t.parentNode
n&&n.insertBefore(e,t)}function a(e,t){for(;;){const n=e.firstChild
if(!n)break
t.appendChild(n)}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),(()=>{if("function"==typeof Element.prototype.closest)return(e,t)=>e.closest(t)
Element.prototype.matches||Element.prototype.msMatchesSelector})()},1338:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y}))
var r,i=n(968),s=n(446),a=n(972),o=n(23),l=n(146),c=n(970),u=(n(971),n(445),n(969)),d=n(1134),h=n(1199)
const p={read:{reader:d.b},write:{writer:d.c,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},f={read:{reader:d.b},write:{writer:d.c,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},b={name:"showExcludedLabels",default:!0}
let m=r=class extends a.a{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const n=super.write(e,t)
if(null!=t&&t.origin){var r
if(n.filter){var i
const e=Object.keys(n.filter)
if(e.length>1||"where"!==e[0])return null!=(i=t.messages)&&i.push(new s.a("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in n)return null!=(r=t.messages)&&r.push(new s.a("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return n}clone(){return new r({filter:Object(o.l)(this.filter)?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}}
Object(i.a)([Object(c.b)({type:h.a,json:{write:{allowNull:!0,writer(e,t,n,r){const i=null==e?void 0:e.write({},r)
i&&0!==Object.keys(i).length?Object(l.c)(n,i,t):Object(l.c)(n,null,t)}}}})],m.prototype,"filter",void 0),Object(i.a)([Object(c.b)({json:{write:!0,origins:{"web-map":p,"portal-item":p}}})],m.prototype,"includedEffect",void 0),Object(i.a)([Object(c.b)({json:{write:!0,origins:{"web-map":f,"portal-item":f}}})],m.prototype,"excludedEffect",void 0),Object(i.a)([Object(c.b)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":b,"portal-item":b}}})],m.prototype,"excludedLabelsVisible",void 0),m=r=Object(i.a)([Object(u.a)("esri.layers.support.FeatureEffect")],m)
const y=m},1339:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return o}))
var r=n(991)
class i{constructor(e,t){this.min=e,this.max=t,this.range=t-e}ndiff(e,t=0){return Math.ceil((e-t)/this.range)*this.range+t}_normalize(e,t,n,r=0,i=!1){return(n-=r)<e?n+=this.ndiff(e-n):n>t&&(n-=this.ndiff(n-t)),i&&n===t&&(n=e),n+r}normalize(e,t=0,n=!1){return this._normalize(this.min,this.max,e,t,n)}clamp(e,t=0){return Object(r.f)(e-t,this.min,this.max)+t}monotonic(e,t,n){return e<t?t:t+this.ndiff(e-t,n)}minimalMonotonic(e,t,n){return this._normalize(e,e+this.range,t,n)}center(e,t,n){return t=this.monotonic(e,t,n),this.normalize((e+t)/2,n)}diff(e,t,n){return this.monotonic(e,t,n)-e}shortestSignedDiff(e,t){e=this.normalize(e)
const n=(t=this.normalize(t))-e,r=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e)
return Math.abs(n)<Math.abs(r)?n:r}contains(e,t,n){return t=this.minimalMonotonic(e,t),(n=this.minimalMonotonic(e,n))>e&&n<t}}function s(e){for(const t in e){const n=e[t]
n instanceof Function&&(e[t]=n.bind(e))}return e}const a=s(new i(0,2*Math.PI)),o=s(new i(-Math.PI,Math.PI)),l=s(new i(0,360))},1341:function(e,t,n){"use strict"
function r(e,t){var n={}
for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r])
if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0
for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}n.d(t,"a",(function(){return r}))},1342:function(e,t,n){"use strict"
var r
n.d(t,"a",(function(){return r})),function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"}(r||(r={}))},1343:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(23)
class i{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}record(e){Object(r.l)(e)&&(this._samples[++this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,t)=>e-t)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,t)=>e+t,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},1344:function(e,t,n){"use strict"
n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return _}))
var r=n(998)
const i="http://www.w3.org/",s=i+"2000/svg",a=i+"1999/xlink"
let o=[],l=(e,t)=>{let n={}
return Object.keys(e).forEach(t=>{n[t]=e[t]}),t&&Object.keys(t).forEach(e=>{n[e]=t[e]}),n},c=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),u=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},d=(e,t,n)=>{if(""!==t.vnodeSelector)for(let r=n;r<e.length;r++)if(c(e[r],t))return r
return-1},h=(e,t,n,r)=>{let i=e[t]
if(""===i.vnodeSelector)return
let s=i.properties
if(!(s?void 0===s.key?s.bind:s.key:void 0))for(let s=0;s<e.length;s++)if(s!==t){let t=e[s]
if(c(t,i))throw new Error(`${n.vnodeSelector} had a ${i.vnodeSelector} child ${"added"===r?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},p=e=>{if(e.properties){let t=e.properties.enterAnimation
t&&t(e.domNode,e.properties)}},f=[],b=!1,m=e=>{(e.children||[]).forEach(m),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},y=()=>{b=!1,f.forEach(m),f.length=0},g=e=>{f.push(e),b||(b=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(y,{timeout:16}):setTimeout(y,16))},v=e=>{let t=e.domNode
if(e.properties){let n=e.properties.exitAnimation
if(n){t.style.pointerEvents="none"
let r=()=>{t.parentNode&&(t.parentNode.removeChild(t),g(e))}
return void n(t,r,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),g(e))},O=(e,t,n)=>{if(!t)return
let i=n.eventHandlerInterceptor,o=Object.keys(t),l=o.length
for(let c=0;c<l;c++){let l=o[c],d=t[l]
if("className"===l)throw new Error('Property "className" is not supported, use "class".')
if("class"===l)x(e,d,!0)
else if("classes"===l){let t=Object.keys(d),n=t.length
for(let r=0;r<n;r++){let n=t[r]
d[n]&&e.classList.add(n)}}else if("styles"===l){let t=Object.keys(d),r=t.length
for(let i=0;i<r;i++){let r=t[i],s=d[r]
s&&(u(s),n.styleApplyer(e,r,s))}}else if("key"!==l&&null!=d){let o=typeof d
"function"===o?(0===l.lastIndexOf("on",0)&&(i&&(d=i(l,d,e,t)),"oninput"===l&&function(){let e=d
d=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[l]=d):n.namespace===s?"href"===l?e.setAttributeNS(a,l,d):e.setAttribute(l,d):"string"===o&&"value"!==l?"innerHTML"===l?e[l]=r.h.sanitize(d):j(e)&&l in e?e[l]=d:e.setAttribute(l,d):e[l]=d}}}
function j(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1
const t=window.customElements.get(e.tagName.toLowerCase())
return!!t&&e instanceof t}let w,_=(e,t,n)=>{((e,t,n)=>{if(t)for(let r of t)S(r,e,void 0,n)})(e,t.children,n),t.text&&(e.textContent=t.text),O(e,t.properties,n),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,n,t.vnodeSelector,t.properties,t.children])},S=(e,t,n,r)=>{let i,a=0,o=e.vnodeSelector,c=t.ownerDocument
if(""===o)i=e.domNode=c.createTextNode(e.text),void 0!==n?t.insertBefore(i,n):t.appendChild(i)
else{for(let u=0;u<=o.length;++u){let d=o.charAt(u)
if(u===o.length||"."===d||"#"===d){let d=o.charAt(a-1),h=o.slice(a,u)
"."===d?i.classList.add(h):"#"===d?i.id=h:("svg"===h&&(r=l(r,{namespace:s})),void 0!==r.namespace?i=e.domNode=c.createElementNS(r.namespace,h):(i=e.domNode=e.domNode||c.createElement(h),"input"===h&&e.properties&&void 0!==e.properties.type&&i.setAttribute("type",e.properties.type)),void 0!==n?t.insertBefore(i,n):i.parentNode!==t&&t.appendChild(i)),a=u+1}}_(i,e,r)}},x=(e,t,n)=>{t&&t.split(" ").forEach(t=>{t&&e.classList.toggle(t,n)})},T=(e,t,n,i)=>{if(!n)return
let o=!1,l=Object.keys(n),c=l.length
for(let d=0;d<c;d++){let c=l[d],h=n[c],p=t[c]
if("class"===c)p!==h&&(x(e,p,!1),x(e,h,!0))
else if("classes"===c){let t=e.classList,n=Object.keys(h),r=n.length
for(let e=0;e<r;e++){let r=n[e],i=!!h[r]
i!==!!p[r]&&(o=!0,i?t.add(r):t.remove(r))}}else if("styles"===c){let t=Object.keys(h),n=t.length
for(let r=0;r<n;r++){let n=t[r],s=h[n]
s!==p[n]&&(o=!0,s?(u(s),i.styleApplyer(e,n,s)):i.styleApplyer(e,n,""))}}else if(h||"string"!=typeof p||(h=""),"value"===c){let t=e[c]
t!==h&&(e["oninput-value"]?t===e["oninput-value"]:h!==p)&&(e[c]=h,e["oninput-value"]=void 0),h!==p&&(o=!0)}else if(h!==p){let t=typeof h
"function"===t&&i.eventHandlerInterceptor||(i.namespace===s?"href"===c?e.setAttributeNS(a,c,h):e.setAttribute(c,h):"string"===t?"innerHTML"===c?e[c]=r.h.sanitize(h):"role"===c&&""===h?e.removeAttribute(c):j(e)&&c in e?e[c]=h:e.setAttribute(c,h):e[c]!==h&&(e[c]=h),o=!0)}}return o}
w=(e,t,n)=>{let r=e.domNode,i=!1
if(e===t)return!1
let a=!1
if(""===t.vnodeSelector){if(t.text!==e.text){let e=r.ownerDocument.createTextNode(t.text)
return r.parentNode.replaceChild(e,r),t.domNode=e,i=!0,i}t.domNode=r}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(n=l(n,{namespace:s})),e.text!==t.text&&(a=!0,void 0===t.text?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,a=((e,t,n,r,i)=>{if(n===r)return!1
r=r||o
let s,a=(n=n||o).length,l=r.length,u=0,f=0,b=!1
for(;f<l;){let o=u<a?n[u]:void 0,l=r[f]
if(void 0!==o&&c(o,l))b=w(o,l,i)||b,u++
else{let o=d(n,l,u+1)
if(o>=0){for(s=u;s<o;s++)v(n[s]),h(n,s,e,"removed")
b=w(n[o],l,i)||b,u=o+1}else S(l,t,u<a?n[u].domNode:void 0,i),p(l),h(r,f,e,"added")}f++}if(a>u)for(s=u;s<a;s++)v(n[s]),h(n,s,e,"removed")
return b})(t,r,e.children,t.children,n)||a,a=T(r,e.properties,t.properties,n)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,n,t.vnodeSelector,t.properties,t.children])
return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),i}
let I=(e,t)=>({getLastRender:()=>e,update:n=>{if(e.vnodeSelector!==n.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)")
let r=e
e=n,w(r,n,t)},domNode:e.domNode})},1346:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
const r="randomUUID"in crypto
function i(){if(r)return crypto.randomUUID()
const e=crypto.getRandomValues(new Uint16Array(8))
e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768
const t=t=>e[t].toString(16).padStart(4,"0")
return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}},1347:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(1432)
let i,s=(e,t)=>{let n=[]
for(;e&&e!==t;)n.push(e),e=e.parentNode
return n}
i=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0]
let a=(e,t)=>{let n=e
return t.forEach(e=>{n=n&&n.children?i(n.children,t=>t.domNode===e):void 0}),n},o=(e,t,n)=>{let r=function(r){n("domEvent",r)
let i=t(),o=s(r.currentTarget,i.domNode)
o.reverse()
let l,c=a(i.getLastRender(),o)
return e.scheduleRender(),c&&(l=c.properties["on"+r.type].apply(c.properties.bind||this,arguments)),n("domEventProcessed",r),l}
return(e,t,n,i)=>r},l=e=>{let t,n,i=Object(r.a)(e),s=i.performanceLogger,a=!0,l=!1,c=[],u=[],d=(e,n,r)=>{let a
i.eventHandlerInterceptor=o(t,()=>a,s),a=e(n,r(),i),c.push(a),u.push(r)},h=()=>{if(n=void 0,a){a=!1,s("renderStart",void 0)
for(let e=0;e<c.length;e++){let t=u[e]()
s("rendered",void 0),c[e].update(t),s("patched",void 0)}s("renderDone",void 0),a=!0}}
return t={renderNow:h,scheduleRender:()=>{n||l||(n=requestAnimationFrame(h))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{d(r.b.append,e,t)},insertBefore:(e,t)=>{d(r.b.insertBefore,e,t)},merge:(e,t)=>{d(r.b.merge,e,t)},replace:(e,t)=>{d(r.b.replace,e,t)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0]
throw new Error("renderFunction was not found")}},t}},1348:function(e,t,n){"use strict"
function r(e){return"h"in e&&"s"in e&&"v"in e}function i(e){return"l"in e&&"a"in e&&"b"in e}function s(e){return"l"in e&&"c"in e&&"h"in e}n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b}))
const a=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],o=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]
function l(e,t){const n=[]
let r,i
if(e[0].length!==t.length)throw new Error("dimensions do not match")
const s=e.length,a=e[0].length
let o=0
for(r=0;r<s;r++){for(o=0,i=0;i<a;i++)o+=e[r][i]*t[i]
n.push(o)}return n}function c(e){const t=[e.r/255,e.g/255,e.b/255].map(e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4),n=l(a,t)
return{x:100*n[0],y:100*n[1],z:100*n[2]}}function u(e){const t=l(o,[e.x/100,e.y/100,e.z/100]).map(e=>{const t=e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055
return Math.min(1,Math.max(t,0))})
return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function d(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(e=>e>(6/29)**3?e**(1/3):1/3*(29/6)**2*e+4/29)
return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function h(e){const t=e.l,n=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(e=>e>6/29?e**3:3*(6/29)**2*(e-4/29))
return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function p(e){return d(c(e))}function f(e){return u(h(e))}function b(e){return function(e){return"r"in e&&"g"in e&&"b"in e}(e)?e:s(e)?function(e){return u(h(function(e){const t=e.l,n=e.c,r=e.h
return{l:t,a:n*Math.cos(r),b:n*Math.sin(r)}}(e)))}(e):i(e)?f(e):function(e){return"x"in e&&"y"in e&&"z"in e}(e)?u(e):r(e)?function(e){const t=(e.h+360)%360/60,n=e.s/100,r=e.v/100*255,i=r*n,s=i*(1-Math.abs(t%2-1))
let a
switch(Math.floor(t)){case 0:a={r:i,g:s,b:0}
break
case 1:a={r:s,g:i,b:0}
break
case 2:a={r:0,g:i,b:s}
break
case 3:a={r:0,g:s,b:i}
break
case 4:a={r:s,g:0,b:i}
break
case 5:case 6:a={r:i,g:0,b:s}
break
default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+r-i),a.g=Math.round(a.g+r-i),a.b=Math.round(a.b+r-i),a}(e):e}function m(e){return r(e)?e:function(e){const t=e.r,n=e.g,r=e.b,i=Math.max(t,n,r),s=i-Math.min(t,n,r)
let a=i,o=0===s?0:i===t?(n-r)/s%6:i===n?(r-t)/s+2:(t-n)/s+4,l=0===s?0:s/a
return o<0&&(o+=6),o*=60,l*=100,a*=100/255,{h:o,s:l,v:a}}(b(e))}function y(e){return i(e)?e:p(b(e))}function g(e){return s(e)?e:function(e){return function(e){const t=e.l,n=e.a,r=e.b,i=Math.sqrt(n*n+r*r)
let s=Math.atan2(r,n)
return s=s>0?s:s+2*Math.PI,{l:t,c:i,h:s}}(d(c(e)))}(b(e))}function v(e,t){const n=p(e)
return n.l*=1-t,f(n)}},1351:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(446),i=n(235),s=(n(233),n(1128))
function a(e,t,n){if(e&&t)if("object"==typeof t)for(const n of Object.getOwnPropertyNames(t))a(e,n,t[n])
else{if(t.includes(".")){const r=t.split("."),i=r.splice(r.length-1,1)[0]
return void a(Object(s.b)(e,r),i,n)}const r=e.__accessor__
null!=r&&o(t,r),e[t]=n}}function o(e,t){if(Object(i.a)("esri-unknown-property-errors")&&!function(e,t){return null!=t.metadatas[e]}(e,t))throw new r.a("set:unknown-property",function(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}(e,t))}},1352:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
const r=Symbol("Accessor-beforeDestroy")},1353:function(e,t,n){"use strict"
function r(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}n.d(t,"a",(function(){return r}))},1354:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(1034),i=n(973),s=n(1044)
async function a(e,t,n){const a=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin)
if(a&&"unique-value"===a.type&&a.styleOrigin){const o=await Object(r.e)(a.populateFromStyle())
if(Object(i.q)(n),!1===o.ok){const n=o.error
t&&t.messages&&t.messages.push(new s.a("renderer:style-reference","Failed to create unique value renderer from style reference: "+n.message,{error:n,context:t})),e.clear("renderer",null==t?void 0:t.origin)}}}},1357:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r=n(233),i=n(1050),s=n(1184),a=n(989)
function o(){return{fields:{type:[i.a],value:null},fieldsIndex:{readOnly:!0,get(){return new s.a(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields
if(!e||!e.length)return null
if(e.includes("*"))return["*"]
if(!this.fields)return e
for(const n of e){var t;(null==(t=this.fieldsIndex)?void 0:t.has(n))||r.a.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${n} found in outFields`,{layer:this,outFields:e})}return Object(a.j)(this.fieldsIndex,e)}}}}},1358:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
class r{constructor(e,t,n,r,i){this.id=e,this.level=t,this.row=n,this.col=r,this.extent=i}}},1359:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}))
var r=n(980)
function i(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function s(e,t){const n=t.x-e.x,r=t.y-e.y
return Math.sqrt(n*n+r*r)}function a(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Object(r.f)()},0===e.length)return t
if(1===e.length)return t.center.x=e[0].x,t.center.y=e[0].y,t
if(2===e.length){const[n,r]=e,[i,s]=[r.x-n.x,r.y-n.y]
return t.radius=Math.sqrt(i*i+s*s)/2,t.center.x=(n.x+r.x)/2,t.center.y=(n.y+r.y)/2,t}let n=0,i=0
for(let t=0;t<e.length;t++)n+=e[t].x,i+=e[t].y
n/=e.length,i/=e.length
const s=e.map(e=>e.x-n),a=e.map(e=>e.y-i)
let o=0,l=0,c=0,u=0,d=0,h=0,p=0
for(let e=0;e<s.length;e++){const t=s[e],n=a[e],r=t*t,i=n*n
o+=r,l+=i,c+=t*n,u+=r*t,d+=i*n,h+=t*i,p+=n*r}const f=.5*(u+h),b=.5*(d+p),m=o*l-c*c,y=(f*l-b*c)/m,g=(o*b-c*f)/m,v=Object(r.f)(y+n,g+i)
return{radius:Math.sqrt(y*y+g*g+(o+l)/e.length),center:v}}function o(e){const{native:t}=e,{pointerId:n,button:r,pointerType:i}=t
return"mouse"===i?`${n}:${r}`:""+i}},1364:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d}))
var r=n(446),i=n(233),s=n(146),a=n(1353)
function o(e,t){var n
if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return
const r=null!=(n=null==e?void 0:e.ndimArray)?n:0
e&&(1===r||"type"in e&&Object(a.a)(e.type))?t.write.writer=h:r>1?t.write.writer=function(e){return(t,n,r,i)=>{let a
if(null===t)a=null
else{a=function e(t,n,r){return 0!==r&&Array.isArray(t)?t.map(t=>e(t,n,r-1)):u(t,n)}(t,i,e)
let n=e,r=a
for(;n>0&&Array.isArray(r);)n--,r=r[0]
if(void 0!==r)for(let e=0;e<n;e++)a=[a]}Object(s.c)(r,a,n)}}(r):t.types?Array.isArray(t.types)?t.write.writer=function(e){return(t,n,r,i)=>t&&Array.isArray(t)?c(t.filter(t=>l(t,e,i)),n,r,i):c(t,n,r,i)}(t.types[0]):t.write.writer=function(e){return(t,n,r,i)=>t?l(t,e,i)?c(t,n,r,i):void 0:c(t,n,r,i)}(t.types):t.write.writer=c}function l(e,t,n){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0
if(null!=n&&n.messages){var s,a
const o=null!=(s=t.errorContext)?s:"type",l=`Values of type '${null!=(a="function"!=typeof t.key?e[t.key]:e.declaredClass)?a:"Unknown"}' cannot be written`
n&&n.messages&&e&&n.messages.push(new r.a(o+":unsupported",l,{definition:e,context:n})),i.a.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(l)}return!1}function c(e,t,n,r){Object(s.c)(n,u(e,r),t)}function u(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?d(e):e}function d(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function h(e,t,n,r){let i
null===e?i=null:e&&"function"==typeof e.map?(i=e.map(e=>u(e,r)),"function"==typeof i.toArray&&(i=i.toArray())):i=[u(e,r)],Object(s.c)(n,i,t)}},1365:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}))
var r=n(968),i=n(993),s=n(1179),a=n(1025),o=(n(235),n(233),n(23)),l=n(970),c=(n(971),n(445),n(969))
let u=class extends(Object(a.b)(i.a)){constructor(e){super(e),this.handles.add([this.on("before-add",e=>{Object(o.k)(e.item)&&e.preventDefault()}),this.on("after-add",e=>this._own(e.item)),this.on("after-remove",e=>this._release(e.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(i.a.ofType(this.itemType.Type))(e):new i.a(e)}}
function d(e,t){return{type:e,cast:s.a,set(n){const r=Object(s.b)(n,this._get(t),e)
r.owner=this,this._set(t,r)}}}Object(r.a)([Object(l.b)()],u.prototype,"owner",null),u=Object(r.a)([Object(c.a)("esri.core.support.OwningCollection")],u)},1368:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
class r{constructor(e){this._notify=e,this._accessed=[],this._handles=[],this._observerObject=new i(this._notify),s.register(this,this._observerObject)}destroy(){var e
this._accessed.length=0,null!=(e=this._observerObject)&&e.destroy(),this.clear(),s.unregister(this)}onObservableAccessed(e){const t=this._accessed
t.includes(e)||t.push(e)}onTrackingEnd(){const e=this._handles,t=this._accessed,n=this._observerObject
for(let r=0;r<t.length;++r)e.push(t[r].observe(n))
t.length=0}clear(){const e=this._handles
for(let t=0;t<e.length;++t)e[t].remove()
e.length=0}}class i{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return
const e=this._invalidCount
if(1===e)return this._invalidCount=0,void this._notify()
this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=a}}const s=new FinalizationRegistry(e=>{e.destroy()})
function a(){}},1372:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}))
var r=n(95),i=n(377),s=n(16)
function a(e){console&&console.warn&&console.warn.apply(console,[e])}var o=function(){function e(e){void 0===e&&(e=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=e}return e.prototype.match=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]
return this.termStack=this.termStack.concat(e),this},e.prototype.in=function(e){var t="`in("+(e?'"'+e+'"':"")+")`"
return this.hasRange||this.hasTerms?(e&&"*"!==e&&(this.q+=e+":"),this.commit()):(a(t+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},e.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},e.prototype.endGroup=function(){return this.openGroups<=0?(a("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},e.prototype.and=function(){return this.addModifier("and")},e.prototype.or=function(){return this.addModifier("or")},e.prototype.not=function(){return this.addModifier("not")},e.prototype.from=function(e){return this.hasTerms?(a('`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Optionally, you may see this because dates are incorrectly formatted. Dates should be a primative Date value, aka a number in milliseconds or Date object, ie new Date("2020-01-01").  Your query was not modified.'),this):(this.rangeStack[0]=e,this)},e.prototype.to=function(e){return this.hasTerms?(a('`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Optionally, you may see this because dates are incorrectly formatted. Dates should be a primative Date value, aka a number in milliseconds or Date object, ie new Date("2020-01-01"). Your query was not modified.'),this):(this.rangeStack[1]=e,this)},e.prototype.boost=function(e){return this.commit(),this.q+="^"+e,this},e.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},e.prototype.clone=function(){return this.commit(),this.cleanup(),new e(this.q+"")},e.prototype.addModifier=function(e){return this.currentModifer?(a("You have called `"+this.currentModifer+"()` after `"+e+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==e?(a("You have called `"+e+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=e,this.q+=""===this.q?"":" ",this.q+=e.toUpperCase()+" ",this))},e.prototype.needsQuotes=function(e){return/\s|:/g.test(e)},e.prototype.formatTerm=function(e){return e instanceof Date?e.getTime():"string"==typeof e&&this.needsQuotes(e)?'"'+e+'"':e},e.prototype.commit=function(){var e=this
return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(t){return e.formatTerm(t)})).join(" "),this.termStack=[]),this},Object.defineProperty(e.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!1,configurable:!0}),e.prototype.cleanup=function(){if(this.openGroups>0)for(a("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--
var e=this.q
this.q=e.replace(/( AND ?| NOT ?| OR ?)*$/,""),e!==this.q&&a("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},e}()
function l(e,t){var n,a
switch(n="string"==typeof e||e instanceof o?{httpMethod:"GET",params:{q:e}}:Object(i.a)(e,["q","num","start","sortField","sortOrder","searchUserAccess","searchUserName","filter","countFields","countSize","categories","categoryFilters"],{httpMethod:"GET"}),t){case"item":a="/search"
break
case"group":a="/community/groups"
break
case"groupContent":if("string"==typeof e||e instanceof o||!e.groupId)return Promise.reject(new Error("you must pass a `groupId` option to `searchGroupContent`"))
a="/content/groups/"+e.groupId+"/search"
break
default:a="/portals/self/users/search"}var c=Object(r.a)(n)+a
return Object(s.e)(c,n).then((function(n){return n.nextStart&&-1!==n.nextStart&&(n.nextPage=function(){var r
return"string"==typeof e||e instanceof o?r={q:e,start:n.nextStart}:(r=e).start=n.nextStart,l(r,t)}),n}))}},1375:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return r}))
const r={Base64:0,Hex:1,String:2,Raw:3}
function i(e,t){const n=(65535&e)+(65535&t)
return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,s,a){return i(function(e,t){return e<<t|e>>>32-t}(i(i(t,e),i(r,a)),s),n)}function a(e,t,n,r,i,a,o){return s(t&n|~t&r,e,t,i,a,o)}function o(e,t,n,r,i,a,o){return s(t&r|n&~r,e,t,i,a,o)}function l(e,t,n,r,i,a,o){return s(t^n^r,e,t,i,a,o)}function c(e,t,n,r,i,a,o){return s(n^(t|~r),e,t,i,a,o)}function u(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t
let n=1732584193,r=-271733879,s=-1732584194,u=271733878
for(let t=0;t<e.length;t+=16){const d=n,h=r,p=s,f=u
n=a(n,r,s,u,e[t+0],7,-680876936),u=a(u,n,r,s,e[t+1],12,-389564586),s=a(s,u,n,r,e[t+2],17,606105819),r=a(r,s,u,n,e[t+3],22,-1044525330),n=a(n,r,s,u,e[t+4],7,-176418897),u=a(u,n,r,s,e[t+5],12,1200080426),s=a(s,u,n,r,e[t+6],17,-1473231341),r=a(r,s,u,n,e[t+7],22,-45705983),n=a(n,r,s,u,e[t+8],7,1770035416),u=a(u,n,r,s,e[t+9],12,-1958414417),s=a(s,u,n,r,e[t+10],17,-42063),r=a(r,s,u,n,e[t+11],22,-1990404162),n=a(n,r,s,u,e[t+12],7,1804603682),u=a(u,n,r,s,e[t+13],12,-40341101),s=a(s,u,n,r,e[t+14],17,-1502002290),r=a(r,s,u,n,e[t+15],22,1236535329),n=o(n,r,s,u,e[t+1],5,-165796510),u=o(u,n,r,s,e[t+6],9,-1069501632),s=o(s,u,n,r,e[t+11],14,643717713),r=o(r,s,u,n,e[t+0],20,-373897302),n=o(n,r,s,u,e[t+5],5,-701558691),u=o(u,n,r,s,e[t+10],9,38016083),s=o(s,u,n,r,e[t+15],14,-660478335),r=o(r,s,u,n,e[t+4],20,-405537848),n=o(n,r,s,u,e[t+9],5,568446438),u=o(u,n,r,s,e[t+14],9,-1019803690),s=o(s,u,n,r,e[t+3],14,-187363961),r=o(r,s,u,n,e[t+8],20,1163531501),n=o(n,r,s,u,e[t+13],5,-1444681467),u=o(u,n,r,s,e[t+2],9,-51403784),s=o(s,u,n,r,e[t+7],14,1735328473),r=o(r,s,u,n,e[t+12],20,-1926607734),n=l(n,r,s,u,e[t+5],4,-378558),u=l(u,n,r,s,e[t+8],11,-2022574463),s=l(s,u,n,r,e[t+11],16,1839030562),r=l(r,s,u,n,e[t+14],23,-35309556),n=l(n,r,s,u,e[t+1],4,-1530992060),u=l(u,n,r,s,e[t+4],11,1272893353),s=l(s,u,n,r,e[t+7],16,-155497632),r=l(r,s,u,n,e[t+10],23,-1094730640),n=l(n,r,s,u,e[t+13],4,681279174),u=l(u,n,r,s,e[t+0],11,-358537222),s=l(s,u,n,r,e[t+3],16,-722521979),r=l(r,s,u,n,e[t+6],23,76029189),n=l(n,r,s,u,e[t+9],4,-640364487),u=l(u,n,r,s,e[t+12],11,-421815835),s=l(s,u,n,r,e[t+15],16,530742520),r=l(r,s,u,n,e[t+2],23,-995338651),n=c(n,r,s,u,e[t+0],6,-198630844),u=c(u,n,r,s,e[t+7],10,1126891415),s=c(s,u,n,r,e[t+14],15,-1416354905),r=c(r,s,u,n,e[t+5],21,-57434055),n=c(n,r,s,u,e[t+12],6,1700485571),u=c(u,n,r,s,e[t+3],10,-1894986606),s=c(s,u,n,r,e[t+10],15,-1051523),r=c(r,s,u,n,e[t+1],21,-2054922799),n=c(n,r,s,u,e[t+8],6,1873313359),u=c(u,n,r,s,e[t+15],10,-30611744),s=c(s,u,n,r,e[t+6],15,-1560198380),r=c(r,s,u,n,e[t+13],21,1309151649),n=c(n,r,s,u,e[t+4],6,-145523070),u=c(u,n,r,s,e[t+11],10,-1120210379),s=c(s,u,n,r,e[t+2],15,718787259),r=c(r,s,u,n,e[t+9],21,-343485551),n=i(n,d),r=i(r,h),s=i(s,p),u=i(u,f)}return[n,r,s,u]}function d(e,t=r.Hex){const n=t||r.Base64,i=u(function(e){const t=[]
for(let n=0,r=8*e.length;n<r;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32
return t}(e),8*e.length)
switch(n){case r.Raw:return i
case r.Hex:return function(e){const t="0123456789abcdef",n=[]
for(let r=0,i=4*e.length;r<i;r++)n.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15))
return n.join("")}(i)
case r.String:return function(e){const t=[]
for(let n=0,r=32*e.length;n<r;n+=8)t.push(String.fromCharCode(e[n>>5]>>>n%32&255))
return t.join("")}(i)
case r.Base64:return function(e){const t=[]
for(let n=0,r=4*e.length;n<r;n+=3){const r=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255
for(let i=0;i<4;i++)8*n+6*i>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63))}return t.join("")}(i)}}},1376:function(e,t,n){"use strict"
var r
n.d(t,"a",(function(){return r})),function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"}(r||(r={}))},1380:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r=n(968),i=n(986),s=n(972),a=n(970),o=(n(971),n(445),n(977)),l=n(969),c=n(974),u=n(1132),d=n(1274)
let h=class extends(Object(i.b)(s.a)){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={}
for(const n of Object.keys(e))t[n]=Object(u.a)(e[n])
return t}writeDomains(e,t){const n={}
for(const t of Object.keys(e)){var r
e[t]&&(n[t]=null==(r=e[t])?void 0:r.toJSON())}t.domains=n}}
Object(r.a)([Object(a.b)({json:{write:!0}})],h.prototype,"id",void 0),Object(r.a)([Object(a.b)({json:{write:!0}})],h.prototype,"name",void 0),Object(r.a)([Object(a.b)({json:{write:!0}})],h.prototype,"domains",void 0),Object(r.a)([Object(o.a)("domains")],h.prototype,"readDomains",null),Object(r.a)([Object(c.a)("domains")],h.prototype,"writeDomains",null),Object(r.a)([Object(a.b)({type:[d.a],json:{write:!0}})],h.prototype,"templates",void 0),h=Object(r.a)([Object(l.a)("esri.layers.support.FeatureType")],h)
const p=h},1381:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(40),i=n(95),s=n(16)
function a(e){var t=Object(i.a)(e)+"/community/groups/"+e.group.id+"/update"
return e.params=Object(r.a)(Object(r.a)({},e.params),e.group),Object(s.e)(t,e)}},1384:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(147)
function i(e,t,n={},i=!1){const s=t.split(".")
let a=e
const o=s.length-1
s.forEach((e,t)=>{a.hasOwnProperty(e)&&null!=a[e]?t===o&&("object"!=typeof a[e]||Array.isArray(a[e])?a[e]=n:a[e]=i?Object(r.c)(n):Object.assign(a[e],Object(r.c)(n))):a[e]=t===o?n:{},a=a[e]})}},1385:function(e,t,n){"use strict"
function r(e,t){for(const n of e.entries())if(t(n[0]))return!0
return!1}n.d(t,"a",(function(){return r})),n(23)},1387:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}))
var r=n(968),i=n(1002),s=n(234),a=(n(233),n(971),n(446),n(235),n(969))
const o=new i.a.EventEmitter,l="esri.layers.mixins.EditBusLayer",c=Symbol(l)
function u(e){return null!=e&&"object"==typeof e&&c in e}const d=e=>{var t
let n=class extends e{constructor(...e){super(...e),this[t]=!0,this.when().then(()=>{this.own([o.on("edits",e=>{var t,n,r
const i="layer"in e?e.layer:null,a="layer"in e?null==(t=e.layer)?void 0:t.url:e.serviceUrl,o="layer"in e?null==(n=e.layer)?void 0:n.layerId:e.layerId,l=e.event
if(i===this||a!==this.url)return
if(null!=o&&null!=this.layerId&&o===this.layerId)return void this.emit("edits",Object(s.a)(l))
const c=null==(r=l.editedFeatures)?void 0:r.find(({layerId:e})=>e===this.layerId)
if(c){const{adds:e,updates:t,deletes:n}=c.editedFeatures,r={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:e?e.map(({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]})):[],deletedFeatures:n?n.map(({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]})):[],updatedFeatures:t?t.map(({current:{attributes:e}})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]})):[],editedFeatures:Object(s.a)(l.editedFeatures),exceededTransferLimit:!1}
this.emit("edits",r)}})])},()=>{})}}
return t=c,n=Object(r.a)([Object(a.a)(l)],n),n}},1393:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}))
var r=n(40),i=n(95),s=n(375),a=n(16)
function o(e){return Object(s.d)(e).then((function(t){var n=e.folderId?Object(i.a)(e)+"/content/users/"+t+"/"+e.folderId+"/items/"+e.item.id+"/update":Object(i.a)(e)+"/content/users/"+t+"/items/"+e.item.id+"/update"
return e.params=Object(r.a)(Object(r.a)({},e.params),Object(s.k)(e.item)),e.params.extent&&Object(s.i)(e.params.extent)&&(e.params.extent=Object(s.e)(e.params.extent)),Object(a.e)(n,e)}))}function l(e){return Object(s.d)(e).then((function(t){var n=Object(i.a)(e)+"/content/users/"+t+"/items/"+e.id+"/updateResources"
return e.params=Object(r.a)({file:e.resource,fileName:e.name,resourcesPrefix:e.prefix,text:e.content},e.params),void 0!==e.private&&(e.params.access=e.private?"private":"inherit"),Object(a.e)(n,e)}))}function c(e){return Object(s.d)(e).then((function(t){var n=Object(i.a)(e)+"/content/users/"+t+"/items/"+e.itemId+"/move",s=e.folderId
return s||(s="/"),e.params=Object(r.a)({folder:s},e.params),Object(a.e)(n,e)}))}},1395:function(e,t,n){"use strict"
function r(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[])
const n=t._delegatedEventNames,r=Array.isArray(e)?e:function(e){return e.split(",").map(e=>e.trim())}(e)
n.push(...r)}}n.d(t,"a",(function(){return r}))},1396:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r,i=n(968),s=n(993),a=n(972),o=n(970),l=(n(971),n(445),n(969))
let c=r=class extends a.a{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new s.a}clone(){return new r({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],c.prototype,"floorField",void 0),Object(i.a)([Object(o.b)({json:{read:!1,write:!1}})],c.prototype,"viewAllMode",void 0),Object(i.a)([Object(o.b)({json:{read:!1,write:!1}})],c.prototype,"viewAllLevelIds",void 0),c=r=Object(i.a)([Object(l.a)("esri.layers.support.LayerFloorInfo")],c)
const u=c},1397:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(1051)
const i=[]
function s(e,t){var n
if(Object(r.c)(null!=(n=e.url)?n:""))return!0
const{wkid:s}=t
for(const t of i){var a
if((null!=(a=e.version)?a:0)>=t[0])return!0
if("function"==typeof t[1]&&(t[1]=t[1]()),t[1].has(s))return!1}return!0}i.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766])
for(let t=9712;t<=9713;t++)e.add(t)
for(let t=9748;t<=9749;t++)e.add(t)
for(let t=20904;t<=20932;t++)e.add(t)
for(let t=21004;t<=21032;t++)e.add(t)
for(let t=21207;t<=21264;t++)e.add(t)
for(let t=21307;t<=21364;t++)e.add(t)
for(let t=102759;t<=102760;t++)e.add(t)
for(let t=102901;t<=102955;t++)e.add(t)
return e}]),i.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028])
for(let t=9356;t<=9360;t++)e.add(t)
for(let t=9404;t<=9407;t++)e.add(t)
for(let t=9476;t<=9482;t++)e.add(t)
for(let t=9487;t<=9494;t++)e.add(t)
for(let t=9697;t<=9699;t++)e.add(t)
return e}]),i.push([10.81,()=>{const e=new Set([9265,9333,103598,103699])
for(let t=9248;t<=9254;t++)e.add(t)
for(let t=9271;t<=9273;t++)e.add(t)
for(let t=9284;t<=9285;t++)e.add(t)
for(let t=21453;t<=21463;t++)e.add(t)
return e}]),i.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191])
for(let t=8035;t<=8036;t++)e.add(t)
for(let t=8455;t<=8456;t++)e.add(t)
for(let t=8518;t<=8529;t++)e.add(t)
for(let t=8533;t<=8536;t++)e.add(t)
for(let t=8538;t<=8540;t++)e.add(t)
for(let t=8677;t<=8679;t++)e.add(t)
for(let t=8902;t<=8903;t++)e.add(t)
for(let t=8907;t<=8910;t++)e.add(t)
for(let t=8949;t<=8951;t++)e.add(t)
for(let t=8972;t<=8987;t++)e.add(t)
for(let t=9039;t<=9040;t++)e.add(t)
for(let t=9068;t<=9069;t++)e.add(t)
for(let t=9140;t<=9141;t++)e.add(t)
for(let t=9148;t<=9150;t++)e.add(t)
for(let t=9153;t<=9159;t++)e.add(t)
for(let t=9205;t<=9218;t++)e.add(t)
for(let t=9221;t<=9222;t++)e.add(t)
for(let t=54098;t<=54101;t++)e.add(t)
return e}]),i.push([10.71,()=>{const e=new Set([6316])
for(let t=8351;t<=8353;t++)e.add(t)
for(let t=9294;t<=9297;t++)e.add(t)
for(let t=22619;t<=22621;t++)e.add(t)
for(let t=103586;t<=103594;t++)e.add(t)
return e}]),i.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975])
for(let t=8065;t<=8068;t++)e.add(t)
for(let t=8082;t<=8083;t++)e.add(t)
for(let t=8379;t<=8385;t++)e.add(t)
for(let t=8836;t<=8840;t++)e.add(t)
for(let t=8857;t<=8860;t++)e.add(t)
for(let t=53035;t<=53037;t++)e.add(t)
for(let t=54090;t<=54091;t++)e.add(t)
for(let t=102498;t<=102499;t++)e.add(t)
return e}]),i.push([10.61,()=>new Set([102497])]),i.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391])
for(let t=7755;t<=7787;t++)e.add(t)
for(let t=7791;t<=7795;t++)e.add(t)
for(let t=7799;t<=7801;t++)e.add(t)
for(let t=7825;t<=7831;t++)e.add(t)
for(let t=7877;t<=7878;t++)e.add(t)
for(let t=7882;t<=7883;t++)e.add(t)
for(let t=7991;t<=7992;t++)e.add(t)
for(let t=8042;t<=8043;t++)e.add(t)
for(let t=8058;t<=8059;t++)e.add(t)
for(let t=8311;t<=8348;t++)e.add(t)
for(let t=9060;t<=9067;t++)e.add(t)
for(let t=102562;t<=102568;t++)e.add(t)
for(let t=102799;t<=102900;t++)e.add(t)
return e}]),i.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3])
for(let t=8013;t<=8032;t++)e.add(t)
for(let t=9053;t<=9057;t++)e.add(t)
for(let t=104017;t<=104018;t++)e.add(t)
for(let t=104971;t<=104974;t++)e.add(t)
return e}]),i.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399])
for(let t=4087;t<=4088;t++)e.add(t)
for(let t=5896;t<=5899;t++)e.add(t)
for(let t=7005;t<=7007;t++)e.add(t)
for(let t=7057;t<=7070;t++)e.add(t)
for(let t=7073;t<=7082;t++)e.add(t)
for(let t=7109;t<=7128;t++)e.add(t)
for(let t=7844;t<=7859;t++)e.add(t)
return e}])},1398:function(e,t,n){"use strict"
function r(e,t,n,r){let i=null,s=1e3
"number"==typeof t?(s=t,r=n):(i=null!=t?t:null,s=n)
let a,o=0
const l=()=>{o=0,e.apply(r,a)},c=(...e)=>{i&&i.apply(r,e),a=e,s?o||(o=setTimeout(l,s)):l()}
return c.remove=()=>{o&&(clearTimeout(o),o=0)},c.forceUpdate=()=>{o&&(clearTimeout(o),l())},c.hasPendingUpdates=()=>!!o,c}n.d(t,"a",(function(){return r}))},1400:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(23),i=n(1049)
class s extends i.a{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Object(r.q)(this._set)}acquire(...e){const t=super.acquire(...e)
return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}},1403:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r,i=n(968),s=n(970),a=(n(971),n(445),n(969)),o=n(1194)
let l=r=class extends o.a{constructor(e){super(e),this.type="selection"}clone(){return new r}}
Object(i.a)([Object(s.b)({type:["selection"]})],l.prototype,"type",void 0),l=r=Object(i.a)([Object(a.a)("esri.layers.support.FeatureReductionSelection")],l)
const c=l},1406:function(e,t,n){"use strict"
function r(e){const t={}
for(const n in e){if("declaredClass"===n)continue
const i=e[n]
if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){t[n]=[]
for(let e=0;e<i.length;e++)t[n][e]=r(i[e])}else"object"==typeof i?i.toJSON&&(t[n]=JSON.stringify(i)):t[n]=i}return t}n.d(t,"a",(function(){return r}))},1407:function(e,t,n){"use strict"
n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return U})),n.d(t,"k",(function(){return R})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return V})),n.d(t,"n",(function(){return D})),n.d(t,"o",(function(){return k})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return j})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return S})),n(1529)
const r="calcite-mode-auto",i="calcite-mode-dark",s={autoMode:r,darkMode:i,lightMode:"calcite-mode-light",rtl:"calcite--rtl"}
var a=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],o=a.join(","),l="undefined"==typeof Element,c=l?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,u=!l&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},d=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(o))
return t&&c.call(e,o)&&r.unshift(e),r.filter(n)},h=function e(t,n,r){for(var i=[],s=Array.from(t);s.length;){var a=s.shift()
if("SLOT"===a.tagName){var l=a.assignedElements(),u=e(l.length?l:a.children,!0,r)
r.flatten?i.push.apply(i,u):i.push({scopeParent:a,candidates:u})}else{c.call(a,o)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a)
var d=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),h=!r.shadowRootFilter||r.shadowRootFilter(a)
if(d&&h){var p=e(!0===d?a.children:d.children,!0,r)
r.flatten?i.push.apply(i,p):i.push({scopeParent:a,candidates:p})}else s.unshift.apply(s,a.children)}}return i},p=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},f=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},b=function(e){return"INPUT"===e.tagName},m=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height
return 0===n&&0===r},y=function(e,t){return!(t.disabled||function(e){return b(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot
if("hidden"===getComputedStyle(e).visibility)return!0
var i=c.call(e,"details>summary:first-of-type")?e.parentElement:e
if(c.call(i,"details:not([open]) *"))return!0
if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return m(e)}else{if("function"==typeof r){for(var s=e;e;){var a=e.parentElement,o=u(e)
if(a&&!a.shadowRoot&&!0===r(a))return m(e)
e=e.assignedSlot?e.assignedSlot:a||o===e.ownerDocument?a:o.host}e=s}if(function(e){for(var t,n=u(e).host,r=!!(null!==(t=n)&&void 0!==t&&t.ownerDocument.contains(n)||e.ownerDocument.contains(e));!r&&n;){var i
r=!(null===(i=n=u(n).host)||void 0===i||!i.ownerDocument.contains(n))}return r}(e))return!e.getClientRects().length
if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n)
if("LEGEND"===r.tagName)return!!c.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},g=function(e,t){return!(function(e){return function(e){return b(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0
var t,n=e.form||u(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')}
if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name))
else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form)
return!i||i===e}(e)}(t)||p(t)<0||!y(e,t))},v=function(e){var t=parseInt(e.getAttribute("tabindex"),10)
return!!(isNaN(t)||t>=0)},O=function(e,t){return function e(t){var n=[],r=[]
return t.forEach((function(t,i){var s=!!t.scopeParent,a=s?t.scopeParent:t,o=p(a,s),l=s?e(t.candidates):a
0===o?s?n.push.apply(n,l):n.push(a):r.push({documentOrder:i,tabIndex:o,item:t,isScope:s,content:l})})),r.sort(f).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)}((t=t||{}).getShadowRoot?h([e],t.includeContainer,{filter:g.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:v}):d(e,t.includeContainer,g.bind(null,t)))},j=function(e,t){return(t=t||{}).getShadowRoot?h([e],t.includeContainer,{filter:y.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):d(e,t.includeContainer,y.bind(null,t))},w=function(e,t){if(t=t||{},!e)throw new Error("No node provided")
return!1!==c.call(e,o)&&g(t,e)},_=a.concat("iframe").join(","),S=function(e,t){if(t=t||{},!e)throw new Error("No node provided")
return!1!==c.call(e,_)&&y(t,e)}
const x={getShadowRoot:!0}
function T(e){const t=C(e,"[dir]")
return t?t.getAttribute("dir"):"ltr"}function I(e,t,n){const r=`[${t}]`,i=e.closest(r)
return i?i.getAttribute(t):n}function M(e){return e.getRootNode()}function E(e){return e.host||null}function k(e,{selector:t,id:n}){return function e(r){if(!r)return null
r.assignedSlot&&(r=r.assignedSlot)
const i=M(r),s=n?"getElementById"in i?i.getElementById(n):null:t?i.querySelector(t):null,a=E(i)
return s||(a?e(a):null)}(e)}function C(e,t){return function e(n){return n?n.closest(t)||e(E(M(n))):null}(e)}function A(e,t){return!!function(e,t){return function e(t,n){if(!t)return
const r=n(t)
if(void 0!==r)return r
const{parentNode:i}=t
return e(i instanceof ShadowRoot?i.host:i,n)}(e,t)}(t,t=>t===e||void 0)}async function L(e){if(e)return function(e){return"function"==typeof(null==e?void 0:e.setFocus)}(e)?e.setFocus():e.focus()}function R(e){(O(e,x)[0]||e).focus()}function P(e,t,n){var r
t&&!Array.isArray(t)&&"string"!=typeof t&&(n=t,t=null)
const i=t?Array.isArray(t)?t.map(e=>`[slot="${e}"]`).join(","):`[slot="${t}"]`:":not([slot])"
return null!=(r=n)&&r.all?function(e,t,n){let r=":not([slot])"===t?F(e,":not([slot])"):Array.from(e.querySelectorAll(t))
r=n&&!1===n.direct?r:r.filter(t=>t.parentElement===e),r=null!=n&&n.matches?r.filter(e=>null==e?void 0:e.matches(n.matches)):r
const i=null==n?void 0:n.selector
return i?r.map(e=>Array.from(e.querySelectorAll(i))).reduce((e,t)=>[...e,...t],[]).filter(e=>!!e):r}(e,i,n):function(e,t,n){var r,i,s
let a=":not([slot])"===t?F(e,":not([slot])")[0]||null:e.querySelector(t)
a=n&&!1===n.direct||(null==(r=a)?void 0:r.parentElement)===e?a:null,a=null!=n&&n.matches?null!=(i=a)&&i.matches(n.matches)?a:null:a
const o=null==n?void 0:n.selector
return o?null==(s=a)?void 0:s.querySelector(o):a}(e,i,n)}function F(e,t){return e?Array.from(e.children||[]).filter(e=>null==e?void 0:e.matches(t)):[]}function N(e,t,n){return"string"==typeof t&&""!==t?t:""===t?e[n]:void 0}function D(e){return Boolean(e).toString()}function V(e){return!!function(e){return e.target.assignedElements({flatten:!0})}(e).length}function U(e){return!(!e.isPrimary||0!==e.button)}},1408:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(968),i=n(970),s=(n(971),n(445),n(969)),a=n(1338)
const o={write:{allowNull:!0}},l=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}}
return Object(r.a)([Object(i.b)({type:a.a,json:{origins:{"web-map":o,"portal-item":o}}})],t.prototype,"featureEffect",void 0),t=Object(r.a)([Object(s.a)("esri.layers.mixins.FeatureEffectLayer")],t),t}},1409:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n(235)
var r=n(980)
function i(e){return Object(r.f)(e.x,e.y)}function s(e){return Object(r.g)(e.x,e.y)}function a(e,t){var n
const i=null==(n=e instanceof HTMLElement?e:e.surface)?void 0:n.getBoundingClientRect()
return i?Object(r.f)(t.clientX-i.left,t.clientY-i.top):Object(r.f)(0,0)}function o(e,t){return t instanceof Event?a(e,t):i(t)}function l(e){if(e instanceof Event)return!0
if("object"==typeof e&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0
default:return!1}return!1}},1414:function(e,t,n){"use strict"
n.d(t,"a",(function(){return N}))
var r,i=n(968),s=n(970),a=(n(971),n(445),n(969)),o=n(1139),l=n(1194),c=n(775),u=(n(1081),n(1098),n(1101),n(1102),n(1100),n(1001),n(1097)),d=n(1084),h=n(1092),p=n(1103),f=n(995),b=n(234),m=n(146),y=n(979),g=n(977),v=n(974),O=n(1045),j=n(1035),w=n(776)
const _=Object(O.b)({types:f.i})
let S=r=class extends l.a{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(e,t,n){const r=e.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON())
Object(m.c)(n,r,t)}readRenderer(e,t,n){var r,i
const s=null==(r=t.drawingInfo)?void 0:r.renderer
return s?null!=(i=Object(h.b)(s,t,n))?i:void 0:t.defaultSymbol?t.types&&t.types.length?new d.a({defaultSymbol:_(t.defaultSymbol,t,n),field:t.typeIdField,uniqueValueInfos:t.types.map(e=>({id:e.id,symbol:_(e.symbol,e,n)}))}):new u.a({symbol:_(t.defaultSymbol,t,n)}):null}clone(){return new r({fields:Object(b.a)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:Object(b.a)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:Object(b.a)(this.popupTemplate),renderer:Object(b.a)(this.renderer)})}}
Object(i.a)([Object(y.a)({binning:"binning"})],S.prototype,"type",void 0),Object(i.a)([Object(y.a)({geohash:"geohash"})],S.prototype,"binType",void 0),Object(i.a)([Object(s.b)({type:Number,range:{min:1,max:9},json:{write:!0}})],S.prototype,"fixedBinLevel",void 0),Object(i.a)([Object(s.b)({type:[w.default],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],S.prototype,"labelingInfo",void 0),Object(i.a)([Object(s.b)(j.d)],S.prototype,"labelsVisible",void 0),Object(i.a)([Object(s.b)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],S.prototype,"maxScale",void 0),Object(i.a)([Object(s.b)(j.k)],S.prototype,"popupEnabled",void 0),Object(i.a)([Object(s.b)({type:c.default,json:{name:"popupInfo",write:!0}})],S.prototype,"popupTemplate",void 0),Object(i.a)([Object(s.b)({type:[o.a],json:{write:!0}})],S.prototype,"fields",void 0),Object(i.a)([Object(v.a)("fields")],S.prototype,"writeFields",null),Object(i.a)([Object(s.b)({types:p.a,json:{write:{target:"drawingInfo.renderer"}}})],S.prototype,"renderer",void 0),Object(i.a)([Object(g.a)("renderer",["drawingInfo.renderer"])],S.prototype,"readRenderer",null),S=r=Object(i.a)([Object(a.a)("esri.layers.support.FeatureReductionBinning")],S)
const x=S
var T,I=n(972),M=n(980)
const E=Object(O.b)({types:f.i})
function k(e){var t
return"simple"===e.type&&!(null!=(t=e.visualVariables)&&t.length)}let C=T=class extends I.a{constructor(e){super(e),this.type="cluster",this.clusterRadius=Object(M.k)("80px"),this.clusterMinSize=Object(M.k)("12px"),this.clusterMaxSize=Object(M.k)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}readRenderer(e,t,n){var r,i,s
const a=null==(r=t.drawingInfo)?void 0:r.renderer
return null!=a&&null!=(i=a.authoringInfo)&&i.isAutoGenerated?null:a?k(a)?null:null!=(s=Object(h.b)(a,t,n))?s:void 0:t.defaultSymbol?t.types&&t.types.length?new d.a({defaultSymbol:E(t.defaultSymbol,t,n),field:t.typeIdField,uniqueValueInfos:t.types.map(e=>({id:e.id,symbol:E(e.symbol,e,n)}))}):new u.a({symbol:E(t.defaultSymbol,t,n)}):null}readSymbol(e,t,n){var r,i
const s=null==(r=t.drawingInfo)?void 0:r.renderer
return null!=s&&null!=(i=s.authoringInfo)&&i.isAutoGenerated?null:s&&k(s)?null==(a=Object(h.b)(s,t,n))?void 0:a.symbol:null
var a}writeSymbol(e,t,n,r){var i,s
const a=null==(i=this.renderer)||null==(s=i.authoringInfo)?void 0:s.isAutoGenerated
if(!this.renderer||a){const n=new u.a({symbol:e})
t.drawingInfo={renderer:n.write({},r)}}}writeFields(e,t,n){const r=e.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON())
Object(m.c)(n,r,t)}readFields(e,t,n){return e.filter(e=>!e.isAutoGenerated).map(e=>o.a.fromJSON(e))}clone(){return new T({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:Object(b.a)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:Object(b.a)(this.fields),maxScale:this.maxScale,renderer:Object(b.a)(this.renderer),symbol:Object(b.a)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:Object(b.a)(this.popupTemplate)})}}
Object(i.a)([Object(s.b)({type:["cluster"],readOnly:!0,json:{write:!0}})],C.prototype,"type",void 0),Object(i.a)([Object(s.b)({type:Number,cast:e=>"auto"===e?e:Object(M.k)(e),json:{write:!0}})],C.prototype,"clusterRadius",void 0),Object(i.a)([Object(s.b)({type:Number,cast:M.k,json:{write:!0}})],C.prototype,"clusterMinSize",void 0),Object(i.a)([Object(s.b)({type:Number,cast:M.k,json:{write:!0}})],C.prototype,"clusterMaxSize",void 0),Object(i.a)([Object(s.b)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],C.prototype,"maxScale",void 0),Object(i.a)([Object(s.b)(j.k)],C.prototype,"popupEnabled",void 0),Object(i.a)([Object(s.b)({type:c.default,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],C.prototype,"popupTemplate",void 0),Object(i.a)([Object(s.b)({types:p.a,json:{write:{target:"drawingInfo.renderer"}}})],C.prototype,"renderer",void 0),Object(i.a)([Object(g.a)("renderer",["drawingInfo.renderer"])],C.prototype,"readRenderer",null),Object(i.a)([Object(s.b)({types:f.f})],C.prototype,"symbol",void 0),Object(i.a)([Object(g.a)("symbol",["drawingInfo.renderer"])],C.prototype,"readSymbol",null),Object(i.a)([Object(v.a)("symbol")],C.prototype,"writeSymbol",null),Object(i.a)([Object(s.b)({type:[w.default],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],C.prototype,"labelingInfo",void 0),Object(i.a)([Object(s.b)(j.d)],C.prototype,"labelsVisible",void 0),Object(i.a)([Object(s.b)({type:[o.a],json:{write:!0}})],C.prototype,"fields",void 0),Object(i.a)([Object(v.a)("fields")],C.prototype,"writeFields",null),Object(i.a)([Object(g.a)("fields")],C.prototype,"readFields",null),C=T=Object(i.a)([Object(a.a)("esri.layers.support.FeatureReductionCluster")],C)
const A=C
var L=n(1403)
const R={key:"type",base:l.a,typeMap:{cluster:A,binning:x}},P={types:{key:"type",base:l.a,typeMap:{selection:L.a,cluster:A,binning:x}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:R},"portal-item":{types:R},"web-scene":{types:{key:"type",base:l.a,typeMap:{selection:L.a}}}}}}
var F=n(1312)
const N=e=>{let t=class extends e{constructor(...e){super(...e),this.own(this.watch("renderer",()=>{if(this.featureReduction){const e=this._normalizeFeatureReduction(this.featureReduction)
this._set("featureReduction",e)}},!0))}set featureReduction(e){const t=this._normalizeFeatureReduction(e)
this._set("featureReduction",t)}set renderer(e){}_normalizeFeatureReduction(e){var t,n
if("cluster"!==(null==e?void 0:e.type))return e
const r=e.clone(),i=[new o.a({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],s=(null!=(t=r.fields)?t:[]).filter(e=>!e.isAutoGenerated)
if(e.renderer&&(null==(n=e.renderer.authoringInfo)||!n.isAutoGenerated))return r.fields=[...i,...s],r
if(e.symbol)return r.fields=[...i,...s],r.renderer=null,r
if(!this.renderer)return e
const a=Object(F.b)(i,this.renderer,e,null,!1)
return r.fields=[...i,...s],r.renderer=a,r}}
return Object(i.a)([Object(s.b)(P)],t.prototype,"featureReduction",null),t=Object(i.a)([Object(a.a)("esri.layers.mixins.FeatureReductionLayer")],t),t}},1415:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r,i=n(968),s=n(972),a=n(970),o=n(971),l=(n(445),n(969))
const c={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}}
let u=r=class extends s.a{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=function(e){const{exifInfo:t,exifName:n,tagName:r}=e
if(!t||!n||!r)return null
const i=t.find(e=>e.name===n)
return i?function(e){const{tagName:t,tags:n}=e
if(!n||!t)return null
const r=n.find(e=>e.name===t)
return r&&r.value||null}({tagName:r,tags:i.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e})
return c[t]||null}clone(){return new r({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}}
Object(i.a)([Object(a.b)({type:String})],u.prototype,"contentType",void 0),Object(i.a)([Object(a.b)()],u.prototype,"exifInfo",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],u.prototype,"orientationInfo",null),Object(i.a)([Object(a.b)({type:o.a})],u.prototype,"id",void 0),Object(i.a)([Object(a.b)({type:String})],u.prototype,"globalId",void 0),Object(i.a)([Object(a.b)({type:String})],u.prototype,"keywords",void 0),Object(i.a)([Object(a.b)({type:String})],u.prototype,"name",void 0),Object(i.a)([Object(a.b)({json:{read:!1}})],u.prototype,"parentGlobalId",void 0),Object(i.a)([Object(a.b)({json:{read:!1}})],u.prototype,"parentObjectId",void 0),Object(i.a)([Object(a.b)({type:o.a})],u.prototype,"size",void 0),Object(i.a)([Object(a.b)({json:{read:!1}})],u.prototype,"url",void 0),u=r=Object(i.a)([Object(l.a)("esri.layers.support.AttachmentInfo")],u)
const d=u},1416:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}))
var r=n(997),i=n(988),s=n(1153),a=n(1237),o=n(1062)
const l=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"]
class c{constructor(e){this._options=e,this.geometryTypes=l,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new a.a}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(e){if(!e||!e.features||!e.hasZ||!this._options.sourceSpatialReference||!e.spatialReference||Object(i.d)(e.spatialReference,this._options.sourceSpatialReference)||e.spatialReference.vcsWkid)return
const t=Object(r.h)(this._options.sourceSpatialReference)/Object(r.h)(e.spatialReference)
if(1!==t)for(const n of e.features){if(!Object(s.c)(n))continue
const e=n.geometry.coords
for(let n=2;n<e.length;n+=3)e[n]*=t}}addFeature(e,t){e.features.push(t)}createFeature(){return new s.a}createSpatialReference(){return{wkid:0}}createGeometry(){return new o.a}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce((e,t)=>e+t,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new o.a}}},1417:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a}))
var r=n(23)
function i(e){return e&&"function"==typeof e.highlight}function s(e){return e&&"function"==typeof e.maskOccludee}function a(e,t,n){return Object(r.k)(e)||e>n&&(0===t||e<t)}function o(e,t){return Object(r.l)(e)&&e>0||Object(r.l)(t)&&t>0}function l(e){var t,n
const r=e.effectiveScaleRange
return{minScale:null!=(t=null==r?void 0:r.minScale)?t:0,maxScale:null!=(n=null==r?void 0:r.maxScale)?n:0}}},1418:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1049)
class i{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}forEach(e,t){const{spans:n,lodInfo:r}=this,{level:i}=r
if(0!==n.length)for(const{row:s,colFrom:a,colTo:o}of n)for(let n=a;n<=o;n++)e.call(t,i,s,r.normalizeCol(n),r.getWorldForColumn(n))}}i.pool=new r.a(i)},1424:function(e,t,n){"use strict"
var r,i,s
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(i||(i={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(s||(s={}))},1428:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b}))
var r,i=n(968),s=n(146),a=n(970),o=(n(971),n(445),n(969)),l=n(976),c=n(972)
const u=new l.a({asc:"ascending",desc:"descending"})
let d=r=class extends c.a{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new r({field:this.field,valueExpression:this.valueExpression,order:this.order})}}
Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],d.prototype,"field",void 0),Object(i.a)([Object(a.b)({type:String,json:{write:!0}})],d.prototype,"valueExpression",void 0),Object(i.a)([Object(a.b)({type:u.apiValues,json:{read:u.read,write:u.write}})],d.prototype,"order",void 0),d=r=Object(i.a)([Object(o.a)("esri.layers.support.OrderByInfo")],d)
const h=d
function p(e,t,n){if(!e)return null
const r=e.find(e=>!!e.field)
if(!r)return null
const i=new h
return i.read(r,n),[i]}function f(e,t,n,r){const i=e.find(e=>!!e.field)
i&&Object(s.c)(n,[i.toJSON()],t)}const b=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}}
return Object(i.a)([Object(a.b)({type:[h],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:p},write:{target:"layerDefinition.orderBy",writer:f}}})],t.prototype,"orderBy",void 0),t=Object(i.a)([Object(o.a)("esri.layers.mixins.OrderedLayer")],t),t}},1430:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}))
var r=n(1074),i=n(1220),s=n(1047),a=n(1014)
async function o(e,t,n){const r=await l(e,t,n)
return s.a.fromJSON(r)}async function l(e,t,n){const s=Object(r.c)(e),o={...n},l=a.a.from(t),{data:c}=await Object(i.a)(s,l,l.sourceSpatialReference,o)
return c}},1431:function(e,t,n){"use strict"
n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return S}))
var r=n(446),i=n(23),s=n(1282),a=n(1062),o=n(1416)
const l=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],c=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],u=["upperLeft","lowerLeft"]
function d(e){return e>=l.length?null:l[e]}function h(e){return e>=c.length?null:c[e]}function p(e){return e>=u.length?null:u[e]}function f(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function b(e,t,n){const r=e.asUnsafe(),i=t.createPointGeometry(n)
for(;r.next();)switch(r.tag()){case 3:{const e=r.getUInt32(),n=r.pos()+e
let s=0
for(;r.pos()<n;)t.addCoordinatePoint(i,r.getSInt64(),s++)
break}default:r.skip()}return i}function m(e,t,n){const r=e.asUnsafe(),i=t.createGeometry(n),s=2+(n.hasZ?1:0)+(n.hasM?1:0)
for(;r.next();)switch(r.tag()){case 2:{const e=r.getUInt32(),n=r.pos()+e
let s=0
for(;r.pos()<n;)t.addLength(i,r.getUInt32(),s++)
break}case 3:{const e=r.getUInt32(),n=r.pos()+e
let a=0
for(t.allocateCoordinates(i);r.pos()<n;)t.addCoordinate(i,r.getSInt64(),a),a++,a===s&&(a=0)
break}default:r.skip()}return i}function y(e){const t=e.asUnsafe(),n=new a.a
let r="esriGeometryPoint"
for(;t.next();)switch(t.tag()){case 2:{const e=t.getUInt32(),r=t.pos()+e
for(;t.pos()<r;)n.lengths.push(t.getUInt32())
break}case 3:{const e=t.getUInt32(),r=t.pos()+e
for(;t.pos()<r;)n.coords.push(t.getSInt64())
break}case 1:r=o.a[t.getEnum()]
break
default:t.skip()}return{queryGeometry:n,queryGeometryType:r}}function g(e){const t=e.asUnsafe()
for(;t.next();)switch(t.tag()){case 1:return t.getString()
case 2:return t.getFloat()
case 3:return t.getDouble()
case 4:return t.getSInt32()
case 5:return t.getUInt32()
case 6:return t.getInt64()
case 7:return t.getUInt64()
case 8:return t.getSInt64()
case 9:return t.getBool()
default:return t.skip(),null}return null}function v(e){const t=e.asUnsafe(),n={type:d(0)}
for(;t.next();)switch(t.tag()){case 1:n.name=t.getString()
break
case 2:n.type=d(t.getEnum())
break
case 3:n.alias=t.getString()
break
case 4:n.sqlType=h(t.getEnum())
break
case 5:t.skip()
break
case 6:n.defaultValue=t.getString()
break
default:t.skip()}return n}function O(e){const t={},n=e.asUnsafe()
for(;n.next();)switch(n.tag()){case 1:t.name=n.getString()
break
case 2:t.isSystemMaintained=n.getBool()
break
default:n.skip()}return t}function j(e,t,n,r){const i=t.createFeature(n)
let s=0
for(;e.next();)switch(e.tag()){case 1:{const t=r[s++].name
i.attributes[t]=e.processMessage(g)
break}case 2:i.geometry=e.processMessageWithArgs(m,t,n)
break
case 4:i.centroid=e.processMessageWithArgs(b,t,n)
break
default:e.skip()}return i}function w(e){const t=[1,1,1,1],n=e.asUnsafe()
for(;n.next();)switch(n.tag()){case 1:t[0]=n.getDouble()
break
case 2:t[1]=n.getDouble()
break
case 4:t[2]=n.getDouble()
break
case 3:t[3]=n.getDouble()
break
default:n.skip()}return t}function _(e){const t=[0,0,0,0],n=e.asUnsafe()
for(;n.next();)switch(n.tag()){case 1:t[0]=n.getDouble()
break
case 2:t[1]=n.getDouble()
break
case 4:t[2]=n.getDouble()
break
case 3:t[3]=n.getDouble()
break
default:n.skip()}return t}function S(e){const t={originPosition:p(0)},n=e.asUnsafe()
for(;n.next();)switch(n.tag()){case 1:t.originPosition=p(n.getEnum())
break
case 2:t.scale=n.processMessage(w)
break
case 3:t.translate=n.processMessage(_)
break
default:n.skip()}return t}function x(e){const t={},n=e.asUnsafe()
for(;n.next();)switch(n.tag()){case 1:t.shapeAreaFieldName=n.getString()
break
case 2:t.shapeLengthFieldName=n.getString()
break
case 3:t.units=n.getString()
break
default:n.skip()}return t}function T(e,t){const n=t.createSpatialReference()
for(;e.next();)switch(e.tag()){case 1:n.wkid=e.getUInt32()
break
case 5:n.wkt=e.getString()
break
case 2:n.latestWkid=e.getUInt32()
break
case 3:n.vcsWkid=e.getUInt32()
break
case 4:n.latestVcsWkid=e.getUInt32()
break
default:e.skip()}return n}function I(e,t){const n=t.createFeatureResult(),r=e.asUnsafe()
n.geometryType=f(t,0)
let i=!1
for(;r.next();)switch(r.tag()){case 1:n.objectIdFieldName=r.getString()
break
case 3:n.globalIdFieldName=r.getString()
break
case 4:n.geohashFieldName=r.getString()
break
case 5:n.geometryProperties=r.processMessage(x)
break
case 7:n.geometryType=f(t,r.getEnum())
break
case 8:n.spatialReference=r.processMessageWithArgs(T,t)
break
case 10:n.hasZ=r.getBool()
break
case 11:n.hasM=r.getBool()
break
case 12:n.transform=r.processMessage(S)
break
case 9:{const e=r.getBool()
n.exceededTransferLimit=e
break}case 13:t.addField(n,r.processMessage(v))
break
case 15:i||(t.prepareFeatures(n),i=!0),t.addFeature(n,r.processMessageWithArgs(j,t,n,n.fields))
break
case 2:n.uniqueIdField=r.processMessage(O)
break
default:r.skip()}return t.finishFeatureResult(n),n}function M(e,t){const n={}
let r=null
for(;e.next();)switch(e.tag()){case 4:r=e.processMessageWithArgs(y)
break
case 1:n.featureResult=e.processMessageWithArgs(I,t)
break
default:e.skip()}return Object(i.l)(r)&&n.featureResult&&t.addQueryGeometry(n,r),n}function E(e,t){try{const n=2,r=new s.a(new Uint8Array(e),new DataView(e)),i={}
for(;r.next();)r.tag()===n?i.queryResult=r.processMessageWithArgs(M,t):r.skip()
return i}catch(e){throw new r.a("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:e})}}},1432:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}))
var r=n(1344)
const i={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,n)=>{"-"===t.charAt(0)?e.style.setProperty(t,n):e.style[t]=n}}
let s=e=>Object(r.c)(i,e),a={create:(e,t)=>(t=s(t),Object(r.a)(e,document.createElement("div"),void 0,t),Object(r.b)(e,t)),append:(e,t,n)=>(n=s(n),Object(r.a)(t,e,void 0,n),Object(r.b)(t,n)),insertBefore:(e,t,n)=>(n=s(n),Object(r.a)(t,e.parentNode,e,n),Object(r.b)(t,n)),merge:(e,t,n)=>(n=s(n),t.domNode=e,Object(r.d)(e,t,n),Object(r.b)(t,n)),replace:(e,t,n)=>(n=s(n),Object(r.a)(t,e.parentNode,e,n),e.parentNode.removeChild(e),Object(r.b)(t,n))}},1433:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a}))
const r=new Map
function i(){r.clear()}function s(e){return r.get(e)}function a(e,t){r.set(e,t)}function o(e){r.delete(e)}},1434:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return l}))
var r=n(1017),i=n(1435)
const s=[],a={},o=new WeakMap
function l(e,t){let n=t.children
if(n&&n.length)for(let t=0;t<n.length;++t)n[t]=l(e,n[t])
else n=s
const r=t.vnodeSelector
if(h(r)){const i=t.properties||a,s=i.key||r
return{vnodeSelector:"div",properties:{key:s,afterCreate:c,afterUpdate:u,afterRemoved:d,parentWidget:e,widgetConstructor:r,widgetProperties:{...i,key:s,children:n}},children:void 0,text:void 0,domNode:null}}return t}function c(e,t,n,{parentWidget:i,widgetConstructor:s,widgetProperties:a}){const l=new s(a)
l.container=e,o.set(e,l),null!=l.afterCreate&&l.afterCreate(l,e),i._internalHandles.add(Object(r.c)(()=>d(e)))}function u(e,t,n,{widgetProperties:r}){const i=o.get(e)
i&&(i.set(r),null==i.afterUpdate||i.afterUpdate(i,e))}function d(e){const t=o.get(e)
t&&(null!=t.afterRemoved&&t.afterRemoved(t,e),t.destroy(),o.delete(e))}function h(e){return"function"==typeof e&&e[i.a]}},1435:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))
const r=Symbol("widget"),i=Symbol("widget-test-data")},1436:function(e,t,n){"use strict"
function r(e){return e=e||globalThis.location.hostname,c.some(t=>{var n
return null!=(null==(n=e)?void 0:n.match(t))})}function i(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(o)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(a)||null!=t.match(l)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))
const s=/^devext.arcgis.com$/,a=/^qaext.arcgis.com$/,o=/^[\w-]*\.mapsdevext.arcgis.com$/,l=/^[\w-]*\.mapsqa.arcgis.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,s,a,/^jsapps.esri.com$/,o,l]},1437:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
class r{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const t=e.data,n=t.pointers.size
switch(t.action){case"start":this._currentCount=n,this._emitStart(e)
break
case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e)
break
case"update":this._emitUpdate(e)
break
case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e)
break
case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){var t,n
this._startEvent=e,(null==(t=(n=this._callbacks).condition)?void 0:t.call(n,this._currentCount,e))&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){var t,n;(null==(t=(n=this._callbacks).condition)?void 0:t.call(n,this._currentCount,e))&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){var t,n
null!=(t=(n=this._callbacks).condition)&&t.call(n,this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}}},1445:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1431)
function i(e,t){const n=Object(r.a)(e,t),i=n.queryResult.featureResult,s=n.queryResult.queryGeometry,a=n.queryResult.queryGeometryType
if(i&&i.features&&i.features.length&&i.objectIdFieldName){const e=i.objectIdFieldName
for(const t of i.features)t.attributes&&(t.objectId=t.attributes[e])}return i&&(i.queryGeometry=s,i.queryGeometryType=a),i}},1446:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1141)
class i{constructor(e,t){this._storage=new r.c,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t){this._storage.put(e,t,1,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},1449:function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return b})),n(235)
var r=n(23),i=n(1010),s=n(1275),a=n(1485),o=n(1490),l=n(1191)
n(1612),n(1655)
let c=null
const u=[255,255,255]
function d(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function h(e,t,n){const{backgroundColor:r,outline:i,dotSize:s}=e,o=n&&n.swatchSize||a.a.size,l=Math.round(o*o/s**2*.8),u=window.devicePixelRatio,h=document.createElement("canvas"),p=o*u
h.width=p,h.height=p,h.style.width=h.width/u+"px",h.style.height=h.height/u+"px"
const f=h.getContext("2d")
if(r&&(f.fillStyle=r.toCss(!0),f.fillRect(0,0,p,p),f.fill()),f.fillStyle=t.toCss(!0),c&&c.length/2===l)for(let e=0;e<2*l;e+=2){const t=c[e],n=c[e+1]
f.fillRect(t,n,s*u,s*u),f.fill()}else{c=[]
for(let e=0;e<2*l;e+=2){const e=d(0,p),t=d(0,p)
c.push(e,t),f.fillRect(e,t,s*u,s*u),f.fill()}}i&&(i.color&&(f.strokeStyle=i.color.toCss(!0)),f.lineWidth=i.width,f.strokeRect(0,0,p,p))
const b=new Image(o,o)
return b.src=h.toDataURL(),b}function p(e,t={}){const n=t.radius||40,r=2*Math.PI*n,i=e.length,a=r/i,l=[],c=Object(s.e)(t.outline)
null!=(null==c?void 0:c.width)&&(c.width*=2),(c||t.backgroundColor)&&l.push({shape:{type:"circle",cx:n,cy:n,r:n},fill:t.backgroundColor,stroke:c,offset:[0,0]})
const d=t.values,h=d&&d.length===i&&100===d.reduce((e,t)=>e+t,0),p=[0]
for(let t=0;t<i;t++){var f
let i=null
h&&(i=d[t]*r/100,p.push(i+p[t])),l.push({shape:{type:"circle",cx:n,cy:n,r:n/2},fill:[0,0,0,0],stroke:{width:n,dashArray:`${(null!=(f=i)?f:a)/2} ${r}`,dashoffset:"-"+(h?p[t]/2:t*(a/2)),color:e[t]},offset:[0,0]})}let b=null
const m=2*n+((null==c?void 0:c.width)||0),y=t.holePercentage
if(y){c&&l.push({shape:{type:"circle",cx:n,cy:n,r:n*y},fill:null,stroke:c,offset:[0,0]})
const e=m/2
b=[[{shape:{type:"circle",cx:e,cy:e,r:e},fill:u,stroke:c?{...c,color:u}:null,offset:[0,0]},{shape:{type:"circle",cx:e,cy:e,r:n*y},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return Object(o.b)([l],[m,m],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:b,rotation:-90})}function f(e,t={}){const n="horizontal"===t.align,r=n?75:24,i=n?24:75,{width:s=r,height:a=i,gradient:o=!0}=t,c=window.devicePixelRatio,u=s*c,d=a*c,h=document.createElement("canvas")
h.width=u,h.height=d,h.style.width=s+"px",h.style.height=a+"px"
const p=h.getContext("2d"),f=n?u:0,b=n?0:d
if(o){const t=p.createLinearGradient(0,0,f,b),n=e.length,r=1===n?0:1/(n-1)
e.forEach((e,n)=>t.addColorStop(n*r,e.toString())),p.fillStyle=t,p.fillRect(0,0,u,d)}else{const t=n?u/e.length:u,r=n?d:d/e.length
let i=0,s=0
for(const a of e)p.fillStyle=a.toString(),p.fillRect(i,s,t,r),i=n?i+t:0,s=n?0:s+r}const m=document.createElement("div")
return m.style.width=s+"px",m.style.height=a+"px",function(e,t){if(!t)return
e.style.filter=Object(l.f)(t)
const n=t.effects
if(n)for(const t of n)if("drop-shadow"===(null==t?void 0:t.type)){t.offsetX<0?e.style.marginLeft=Math.abs(t.offsetX)+"px":e.style.marginRight=t.offsetX+"px"
break}}(m,null==t?void 0:t.effectList),m.appendChild(h),m}async function b(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:r}=await n.e(770).then(n.bind(null,1939))
return r(e,b,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:r}=await Promise.resolve().then(n.bind(null,1520))
return r(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:r}=await n.e(377).then(n.bind(null,1940))
return r(e,t)}case"cim":{const{previewCIMSymbol:r}=await Promise.all([n.e(25),n.e(26),n.e(65),n.e(325)]).then(n.bind(null,1941))
return r(e,t)}default:return}}function m(e){return e&&"opacity"in e?e.opacity*m(e.parent):1}async function y(e,t){var s,a
if(!e)return
const o=e.sourceLayer,c=null!=(s=Object(r.l)(t)&&t.useSourceLayer?o:e.layer)?s:o,u=m(c)
if(Object(r.l)(e.symbol)&&(!Object(r.l)(t)||!0!==t.ignoreGraphicSymbol)){const n="web-style"===e.symbol.type?await Object(l.e)(e.symbol,{...t,cache:Object(r.l)(t)?t.webStyleCache:null}):e.symbol.clone()
return Object(l.a)(n,null,u),n}const d=null!=(a=Object(r.l)(t)?t.renderer:null)?a:c&&"renderer"in c?c.renderer:null
let h=d&&"getSymbolAsync"in d?await d.getSymbolAsync(e,t):null
if(!h)return
if(h="web-style"===h.type?await h.fetchSymbol({...t,cache:Object(r.l)(t)?t.webStyleCache:null}):h.clone(),!(d&&"visualVariables"in d&&d.visualVariables&&d.visualVariables.length))return Object(l.a)(h,null,u),h
if("arcadeRequiredForVisualVariables"in d&&d.arcadeRequiredForVisualVariables&&(Object(r.k)(t)||Object(r.k)(t.arcade))){const e={...Object(r.u)(t)}
e.arcade=await Object(i.e)(),t=e}const p=await Promise.resolve().then(n.bind(null,1107)),f=[],b=[],y=[],g=[]
for(const e of d.visualVariables)switch(e.type){case"color":f.push(e)
break
case"opacity":b.push(e)
break
case"rotation":g.push(e)
break
case"size":e.target||y.push(e)}const v=!!f.length&&f[f.length-1],O=v?p.getColor(v,e,t):null,j=!!b.length&&b[b.length-1]
let w=j?p.getOpacity(j,e,t):null
if(null!=u&&(w=null!=w?w*u:u),Object(l.a)(h,O,w),y.length){const n=p.getAllSizes(y,e,t)
await Object(l.d)(h,n)}for(const n of g)Object(l.c)(h,p.getRotationAngle(n,e,t),n.axis)
return h}async function g(e,t){var s
if(!e)return
const a=m(e.layer||e.sourceLayer)
if(Object(r.l)(e.symbol)&&(!Object(r.l)(t)||!0!==t.ignoreGraphicSymbol)){const n="web-style"===e.symbol.type?await Object(l.e)(e.symbol,t):e.symbol.clone()
return Object(l.g)(n,a)}const o=Object(r.l)(t)&&t.renderer||e.get("layer.renderer")||e.get("sourceLayer.renderer")
let c=await o.getSymbolAsync(e,t)
if(!c)return
c="web-style"===c.type?await Object(l.e)(c,t):c.clone()
const u=Object(l.g)(c,a)
if(!("visualVariables"in o)||"visualVariables"in o&&!o.visualVariables||"visualVariables"in o&&(null==(s=o.visualVariables)||!s.length))return u
if(o.arcadeRequiredForVisualVariables&&(Object(r.k)(t)||Object(r.k)(t.arcade))){const e={...Object(r.u)(t)}
e.arcade=await Object(i.e)(),t=e}const d=await Promise.resolve().then(n.bind(null,1107)),h=[],p=[]
for(const e of o.visualVariables)switch(e.type){case"color":h.push(e)
break
case"opacity":p.push(e)}const f=h.length>0?h[h.length-1]:null,b=f?d.getColor(f,e,t):u,y=p.length>0?p[p.length-1]:null
let g=y?d.getOpacity(y,e,t):null
return null!=a&&(g=null!=g?g*a:a),b?Object(l.b)(b,g):null}},1453:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
const r="cannotDiscuss"},1457:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r=n(23),i=n(997),s=n(988)
function a(e,t,n){if(null==e.hasM||e.hasZ)for(const e of t)for(const t of e)t.length>2&&(t[2]*=n)}function o(e,t,n){if(!e&&!t||!n)return
const r=Object(i.h)(n)
l(e,n,r),l(t,n,r)}function l(e,t,n){if(e)for(const r of e)c(r.geometry,t,n)}function c(e,t,n){if(Object(r.k)(e)||!e.spatialReference||Object(s.d)(e.spatialReference,t))return
const o=Object(i.h)(e.spatialReference)/n
if(1!==o)if("x"in e)null!=e.z&&(e.z*=o)
else if("rings"in e)a(e,e.rings,o)
else if("paths"in e)a(e,e.paths,o)
else if("points"in e&&(null==e.hasM||e.hasZ))for(const t of e.points)t.length>2&&(t[2]*=o)}},1458:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}))
var r=n(991),i=n(998),s=n(1018)
function a({level:e,class:t,...n},r){const a=o(e)
return Object(s.a)("h"+a,{...n,class:Object(i.a)("esri-widget__heading",t),role:"heading","aria-level":String(a)},r)}function o(e){return Object(r.f)(Math.ceil(e),1,6)}function l(e,t=1){return o(e+t)}},1461:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r=n(131)
const i={category:{content:{action:{delete:{category:"Content",action:"Delete",label:{location:{details:{point:{category:"Content",action:"Delete",label:"Location",details:"Point"},line:{category:"Content",action:"Delete",label:"Location",details:"Line"},polygon:{category:"Content",action:"Delete",label:"Location",details:"Polygon"}}},reaction:{details:{smilingFace:{category:"Content",action:"Delete",label:"Reaction",details:"Smiling face"},confusedFace:{category:"Content",action:"Delete",label:"Reaction",details:"Confused face"},grinningFace:{category:"Content",action:"Delete",label:"Reaction",details:"Grinning face"},laughingFace:{category:"Content",action:"Delete",label:"Reaction",details:"Laughing face"},faceWithTearsOfJoy:{category:"Content",action:"Delete",label:"Reaction",details:"Face with tears of joy"},thinkingFace:{category:"Content",action:"Delete",label:"Reaction",details:"Thinking face"},winkingFace:{category:"Content",action:"Delete",label:"Reaction",details:"Winking face"},partyingFace:{category:"Content",action:"Delete",label:"Reaction",details:"Partying face"},sadFace:{category:"Content",action:"Delete",label:"Reaction",details:"Sad face"},shockedFace:{category:"Content",action:"Delete",label:"Reaction",details:"Shocked face"},thumbsUp:{category:"Content",action:"Delete",label:"Reaction",details:"Thumbs up"},thumbsDown:{category:"Content",action:"Delete",label:"Reaction",details:"Thumbs down"},clappingHands:{category:"Content",action:"Delete",label:"Reaction",details:"Clapping hands"},raisingHands:{category:"Content",action:"Delete",label:"Reaction",details:"Raising hands"},wavingHand:{category:"Content",action:"Delete",label:"Reaction",details:"Waving hand"},redHeart:{category:"Content",action:"Delete",label:"Reaction",details:"Red heart"},hundredPoints:{category:"Content",action:"Delete",label:"Reaction",details:"Hundred points"},fire:{category:"Content",action:"Delete",label:"Reaction",details:"Fire"},partyPopper:{category:"Content",action:"Delete",label:"Reaction",details:"Party popper"},rocket:{category:"Content",action:"Delete",label:"Reaction",details:"Rocket"},upArrow:{category:"Content",action:"Delete",label:"Reaction",details:"Up arrow"},downArrow:{category:"Content",action:"Delete",label:"Reaction",details:"Down arrow"},eyes:{category:"Content",action:"Delete",label:"Reaction",details:"Eyes"},trophy:{category:"Content",action:"Delete",label:"Reaction",details:"Trophy"},worldMap:{category:"Content",action:"Delete",label:"Reaction",details:"World map"}}},modal:{category:"Content",action:"Delete",label:"Modal"},site:{category:"Content",action:"Delete",label:"Site"},page:{category:"Content",action:"Delete",label:"Page"}},details:{allPosts:{category:"Content",action:"Delete",details:"All Posts"}}},create:{category:"Content",action:"Create",label:{upload:{category:"Content",action:"Create",label:"Upload"},url:{category:"Content",action:"Create",label:"URL"},location:{details:{point:{category:"Content",action:"Create",label:"Location",details:"Point"},line:{category:"Content",action:"Create",label:"Location",details:"Line"},polygon:{category:"Content",action:"Create",label:"Location",details:"Polygon"}}},reaction:{details:{smilingFace:{category:"Content",action:"Create",label:"Reaction",details:"Smiling face"},confusedFace:{category:"Content",action:"Create",label:"Reaction",details:"Confused face"},grinningFace:{category:"Content",action:"Create",label:"Reaction",details:"Grinning face"},laughingFace:{category:"Content",action:"Create",label:"Reaction",details:"Laughing face"},faceWithTearsOfJoy:{category:"Content",action:"Create",label:"Reaction",details:"Face with tears of joy"},thinkingFace:{category:"Content",action:"Create",label:"Reaction",details:"Thinking face"},winkingFace:{category:"Content",action:"Create",label:"Reaction",details:"Winking face"},partyingFace:{category:"Content",action:"Create",label:"Reaction",details:"Partying face"},sadFace:{category:"Content",action:"Create",label:"Reaction",details:"Sad face"},shockedFace:{category:"Content",action:"Create",label:"Reaction",details:"Shocked face"},thumbsUp:{category:"Content",action:"Create",label:"Reaction",details:"Thumbs up"},thumbsDown:{category:"Content",action:"Create",label:"Reaction",details:"Thumbs down"},clappingHands:{category:"Content",action:"Create",label:"Reaction",details:"Clapping hands"},raisingHands:{category:"Content",action:"Create",label:"Reaction",details:"Raising hands"},wavingHand:{category:"Content",action:"Create",label:"Reaction",details:"Waving hand"},redHeart:{category:"Content",action:"Create",label:"Reaction",details:"Red heart"},hundredPoints:{category:"Content",action:"Create",label:"Reaction",details:"Hundred points"},fire:{category:"Content",action:"Create",label:"Reaction",details:"Fire"},partyPopper:{category:"Content",action:"Create",label:"Reaction",details:"Party popper"},rocket:{category:"Content",action:"Create",label:"Reaction",details:"Rocket"},upArrow:{category:"Content",action:"Create",label:"Reaction",details:"Up arrow"},downArrow:{category:"Content",action:"Create",label:"Reaction",details:"Down arrow"},eyes:{category:"Content",action:"Create",label:"Reaction",details:"Eyes"},trophy:{category:"Content",action:"Create",label:"Reaction",details:"Trophy"},worldMap:{category:"Content",action:"Create",label:"Reaction",details:"World map"}}},post:{category:"Content",action:"Create",label:"Post"},reply:{category:"Content",action:"Create",label:"Reply"},site:{details:{clone:{category:"Content",action:"Create",label:"Site",details:"Clone"}}},template:{details:{site:{category:"Content",action:"Create",label:"Template",details:"Site"}}}}},update:{category:"Content",action:"Update",label:{groups:{category:"Content",action:"Update",label:"Groups",details:{removeEditGroups:{category:"Content",action:"Update",label:"Groups",details:"Remove Edit Groups"},removeViewGroups:{category:"Content",action:"Update",label:"Groups",details:"Remove View Groups"},addViewGroups:{category:"Content",action:"Update",label:"Groups",details:"Add View Groups"},addEditGroups:{category:"Content",action:"Update",label:"Groups",details:"Add Edit Groups"},addCatalogGroups:{category:"Content",action:"Update",label:"Groups",details:"Add Catalog Groups"},removeCatalogGroups:{category:"Content",action:"Update",label:"Groups",details:"Remove Catalog Groups"}}},location:{details:{point:{category:"Content",action:"Update",label:"Location",details:"Point"},line:{category:"Content",action:"Update",label:"Location",details:"Line"},polygon:{category:"Content",action:"Update",label:"Location",details:"Polygon"},featuresPoints:{category:"Content",action:"Update",label:"Location",details:"Features: points"},featuresLines:{category:"Content",action:"Update",label:"Location",details:"Features: lines"},featuresPolygons:{category:"Content",action:"Update",label:"Location",details:"Features: polygons"},pointsPoints:{category:"Content",action:"Update",label:"Location",details:"Points: points"},pointsLines:{category:"Content",action:"Update",label:"Location",details:"Points: lines"},pointsPolygons:{category:"Content",action:"Update",label:"Location",details:"Points: polygons"}}},settings:{details:{allowDiscussions:{category:"Content",action:"Update",label:"Settings",details:"Allow Discussions"},blockDiscussions:{category:"Content",action:"Update",label:"Settings",details:"Block Discussions"}}},status:{details:{hide:{category:"Content",action:"Update",label:"Status",details:"Hide "},show:{category:"Content",action:"Update",label:"Status",details:"Show"}},category:"Content",action:"Update",label:"Status"},post:{category:"Content",action:"Update",label:"Post"},reply:{category:"Content",action:"Update",label:"Reply"},description:{category:"Content",action:"Update",label:"Description"},summary:{category:"Content",action:"Update",label:"Summary"},image:{details:{complete:{category:"Content",action:"Update",label:"Image",details:"Complete"},empty:{category:"Content",action:"Update",label:"Image",details:"Empty"}}},timeline:{details:{steps:{category:"Content",action:"Update",label:"Timeline",details:"Steps"}}},featuredContent:{category:"Content",action:"Update",label:"Featured Content"},access:{details:{public:{category:"Content",action:"Update",label:"Access",details:"Public"},org:{category:"Content",action:"Update",label:"Access",details:"Org"},shared:{category:"Content",action:"Update",label:"Access",details:"Shared"},private:{category:"Content",action:"Update",label:"Access",details:"Private"}}},layout:{details:{draft:{category:"Content",action:"Update",label:"Layout",details:"Draft"},publish:{category:"Content",action:"Update",label:"Layout",details:"Publish"}}}}}}},interaction:{action:{open:{label:{popover:{details:{share:{category:"Interaction",action:"Open",label:"Popover",details:"Share"},details:{category:"Interaction",action:"Open",label:"Popover",details:"Details"},options:{category:"Interaction",action:"Open",label:"Popover",details:"Options"},help:{category:"Interaction",action:"Open",label:"Popover",details:"Help"},smilingFace:{category:"Interaction",action:"Open",label:"Popover",details:"Smiling face"},confusedFace:{category:"Interaction",action:"Open",label:"Popover",details:"Confused face"},grinningFace:{category:"Interaction",action:"Open",label:"Popover",details:"Grinning face"},laughingFace:{category:"Interaction",action:"Open",label:"Popover",details:"Laughing face"},faceWithTearsOfJoy:{category:"Interaction",action:"Open",label:"Popover",details:"Face with tears of joy"},thinkingFace:{category:"Interaction",action:"Open",label:"Popover",details:"Thinking face"},winkingFace:{category:"Interaction",action:"Open",label:"Popover",details:"Winking face"},partyingFace:{category:"Interaction",action:"Open",label:"Popover",details:"Partying face"},sadFace:{category:"Interaction",action:"Open",label:"Popover",details:"Sad face"},shockedFace:{category:"Interaction",action:"Open",label:"Popover",details:"Shocked face"},thumbsUp:{category:"Interaction",action:"Open",label:"Popover",details:"Thumbs up"},thumbsDown:{category:"Interaction",action:"Open",label:"Popover",details:"Thumbs down"},clappingHands:{category:"Interaction",action:"Open",label:"Popover",details:"Clapping hands"},raisingHands:{category:"Interaction",action:"Open",label:"Popover",details:"Raising hands"},wavingHand:{category:"Interaction",action:"Open",label:"Popover",details:"Waving hand"},redHeart:{category:"Interaction",action:"Open",label:"Popover",details:"Red heart"},hundredPoints:{category:"Interaction",action:"Open",label:"Popover",details:"Hundred points"},fire:{category:"Interaction",action:"Open",label:"Popover",details:"Fire"},partyPopper:{category:"Interaction",action:"Open",label:"Popover",details:"Party popper"},rocket:{category:"Interaction",action:"Open",label:"Popover",details:"Rocket"},upArrow:{category:"Interaction",action:"Open",label:"Popover",details:"Up arrow"},downArrow:{category:"Interaction",action:"Open",label:"Popover",details:"Down arrow"},eyes:{category:"Interaction",action:"Open",label:"Popover",details:"Eyes"},trophy:{category:"Interaction",action:"Open",label:"Popover",details:"Trophy"},worldMap:{category:"Interaction",action:"Open",label:"Popover",details:"World map"},reactionOverflow:{category:"Interaction",action:"Open",label:"Popover",details:"Reaction overflow"},addReaction:{category:"Interaction",action:"Open",label:"Popover",details:"Add reaction"},activityEnabled:{category:"Interaction",action:"Open",label:"Popover",details:"Activity Enabled"},activityDisabled:{category:"Interaction",action:"Open",label:"Popover",details:"Activity Disabled"},site:{category:"Interaction",action:"Open",label:"Popover",details:"Site"}}},postList:{category:"Interaction",action:"Open",label:"Post List"},panel:{details:{legend:{category:"Interaction",action:"Open",label:"Panel",details:"Legend"},discussionOptions:{category:"Interaction",action:"Open",label:"Panel",details:"Discussion Options"}}},search:{category:"Interaction",action:"Open",label:"Search"},thread:{category:"Interaction",action:"Open",label:"Thread",details:{bodyAction:{category:"Interaction",action:"Open",label:"Thread",details:"Body Action"},location:{category:"Interaction",action:"Open",label:"Thread",details:"Location"},post:{category:"Interaction",action:"Open",label:"Thread",details:"Post"}}},editor:{category:"Interaction",action:"Open",label:"Editor",details:{reply:{category:"Interaction",action:"Open",label:"Editor",details:"Reply"}}},table:{category:"Interaction",action:"Open",label:"Table"},modal:{details:{newContent:{category:"Interaction",action:"Open",label:"Modal",details:"New Content"},addExistingContent:{category:"Interaction",action:"Open",label:"Modal",details:"Add Existing Content"},addContent:{category:"Interaction",action:"Open",label:"Modal",details:"Add Content"},createProject:{category:"Interaction",action:"Open",label:"Modal",details:"Create Project"},feeds:{category:"Interaction",action:"Open",label:"Modal",details:"Feeds"},addGroups:{category:"Interaction",action:"Open",label:"Modal",details:"Add Groups"},addUsers:{category:"Interaction",action:"Open",label:"Modal",details:"Add Users"},share:{category:"Interaction",action:"Open",label:"Modal",details:"Share"},deleteContent:{category:"Interaction",action:"Open",label:"Modal",details:"Delete Content"}}},locations:{category:"Interaction",action:"Open",label:"Locations"},stepper:{category:"Interaction",action:"Open",label:"Stepper",details:{emailNotifications:{category:"Interaction",action:"Open",label:"Stepper",details:"Email Notifications"},postActivity:{category:"Interaction",action:"Open",label:"Stepper",details:"Post Activity"}}},popUp:{details:{post:{category:"Interaction",action:"Open",label:"Pop-Up",details:"Post"}}},accordion:{details:{attribute:{category:"Interaction",action:"Open",label:"Accordion",details:"Attribute"}}},tooltip:{details:{chipComponentWithStringHidden:{category:"Interaction",action:"Open",label:"Tooltip",details:"Chip Component with string Hidden"}}},timeline:{category:"Interaction",action:"Open",label:"Timeline"},dropdown:{category:"Interaction",action:"Open",label:"Dropdown"},menu:{details:{view:{category:"Interaction",action:"Open",label:"Menu",details:"View"},options:{category:"Interaction",action:"Open",label:"Menu",details:"Options"},user:{category:"Interaction",action:"Open",label:"Menu",details:"User"}}},sidePanel:{details:{sharing:{category:"Interaction",action:"Open",label:"Side Panel",details:"Sharing"}}}}},download:{category:"Interaction",action:"Download",details:{cache:{category:"Interaction",action:"Download",details:"Cache"},export:{category:"Interaction",action:"Download",details:"Export"}}},share:{label:{link:{category:"Interaction",action:"Share",label:"Link"}}},zoom:{label:{in:{category:"Interaction",action:"Zoom",label:"In"},out:{category:"Interaction",action:"Zoom",label:"Out"},to:{category:"Interaction",action:"Zoom",label:"To"}}},close:{label:{postList:{category:"Interaction",action:"Close",label:"Post List"},thread:{category:"Interaction",action:"Close",label:"Thread"},panel:{details:{legend:{category:"Interaction",action:"Close",label:"Panel",details:"Legend"}}},search:{category:"Interaction",action:"Close",label:"Search"},editor:{category:"Interaction",action:"Close",label:"Editor",details:{addPost:{category:"Interaction",action:"Close",label:"Editor",details:"Add Post"}}},table:{category:"Interaction",action:"Close",label:"Table"},modal:{details:{addContent:{category:"Interaction",action:"Close",label:"Modal",details:"Add Content"},newContent:{category:"Interaction",action:"Close",label:"Modal",details:"New Content"},addExistingContent:{category:"Interaction",action:"Close",label:"Modal",details:"Add Existing Content"},createProject:{category:"Interaction",action:"Close",label:"Modal",details:"Create Project"},managePreferences:{category:"Interaction",action:"Close",label:"Modal",details:"Manage Preferences"},discussionOptions:{category:"Interaction",action:"Close",label:"Modal",details:"Discussion Options"},addGroups:{category:"Interaction",action:"Close",label:"Modal",details:"Add Groups"},addUsers:{category:"Interaction",action:"Close",label:"Modal",details:"Add Users"},deleteContent:{category:"Interaction",action:"Close",label:"Modal",details:"Delete Content"},share:{category:"Interaction",action:"Close",label:"Modal",details:"Share"}}},locations:{category:"Interaction",action:"Close",label:"Locations"},popover:{details:{options:{category:"Interaction",action:"Close",label:"Popover",details:"Options"},help:{category:"Interaction",action:"Close",label:"Popover",details:"Help"}}},popUp:{details:{post:{category:"Interaction",action:"Close",label:"Pop Up",details:"Post"}}},accordion:{details:{attribute:{category:"Interaction",action:"Close",label:"Accordion",details:"Attribute"}}},alert:{details:{projectWorkspaceIntroNotice:{category:"Interaction",action:"Close",label:"Alert",details:"Project Workspace Intro Notice"}},category:"Interaction",action:"Close",label:"Alert"},timeline:{category:"Interaction",action:"Close",label:"Timeline"}},details:{deleteContent:{category:"Interaction",action:"Close",details:"Delete Content"}}},search:{label:{query:{category:"Interaction",action:"Search",label:"Query",details:{focus:{category:"Interaction",action:"Search",label:"Query",details:"Focus"},loseFocus:{category:"Interaction",action:"Search",label:"Query",details:"Lose Focus"}}},filter:{category:"Interaction",action:"Search",label:"Filter",details:{clear:{category:"Interaction",action:"Search",label:"Filter",details:"Clear"}}},click:{category:"Interaction",action:"Search",label:"Click"},loadMore:{category:"Interaction",action:"Search",label:"Load More",details:{attributes:{category:"Interaction",action:"Search",label:"Load More",details:"Attributes"}}},backToTop:{category:"Interaction",action:"Search",label:"Back to Top"},view:{category:"Interaction",action:"Search",label:"View"},whatsNew:{category:"Interaction",action:"Search",label:"Whats New",details:{switchToClassicView:{category:"Interaction",action:"Search",label:"Whats New",details:"Switch to classic view"},bannerDismiss:{category:"Interaction",action:"Search",label:"Whats New",details:"Banner dismiss"},enableForAllUsers:{category:"Interaction",action:"Search",label:"Whats New",details:"Enable for all users"}}},action:{details:{overflow:{category:"Interaction",action:"Search",label:"Action",details:"Overflow"},exportCatalog:{category:"Interaction",action:"Search",label:"Action",details:"Export catalog"},exportSearchResults:{category:"Interaction",action:"Search",label:"Action",details:"Export search results"}}}}},update:{label:{categoryCard:{category:"Interaction",action:"Update",label:"Category Card"}}},viewed:{label:{recents:{category:"Interaction",action:"Viewed",label:"Recents"},empty:{category:"Interaction",action:"Viewed",label:"Empty"},post:{details:{thread:{category:"Interaction",action:"Viewed",label:"Post",details:"Thread"},postList:{category:"Interaction",action:"Viewed",label:"Post",details:"Post List"}}},filters:{details:{hostedDownloadsDisabled:{category:"Interaction",action:"Viewed",label:"Filters",details:"Hosted Downloads Disabled"},hostedDownloadsEnabled:{category:"Interaction",action:"Viewed",label:"Filters",details:"Hosted Downloads Enabled"}}},alert:{category:"Interaction",action:"Viewed",label:"Alert"}}},enable:{label:{draw:{category:"Interaction",action:"Enable",label:"Draw",details:{update:{category:"Interaction",action:"Enable",label:"Draw",details:"Update"}}},select:{category:"Interaction",action:"Enable",label:"Select"},addLocation:{category:"Interaction",action:"Enable",label:"Add Location"},collapse:{details:{timeline:{category:"Interaction",action:"Enable",label:"Collapse",details:"Timeline"}}},notifications:{details:{weekly:{category:"Interaction",action:"Enable",label:"Notifications",details:"Weekly"}}},content:{details:{hubFeeds:{category:"Interaction",action:"Enable",label:"Content",details:"Hub feeds"}}}}},disable:{label:{draw:{category:"Interaction",action:"Disable",label:"Draw",details:{update:{category:"Interaction",action:"Disable",label:"Draw",details:"Update"}}},select:{category:"Interaction",action:"Disable",label:"Select"},addLocation:{category:"Interaction",action:"Disable",label:"Add Location"},collapse:{details:{timeline:{category:"Interaction",action:"Disable",label:"Collapse",details:"Timeline"}}},notifications:{details:{weekly:{category:"Interaction",action:"Disable",label:"Notifications",details:"Weekly"}}},content:{details:{hubFeeds:{category:"Interaction",action:"Disable",label:"Content",details:"Hub feeds"}}}}},select:{label:{content:{category:"Interaction",action:"Select",label:"Content",details:{selectTool:{category:"Interaction",action:"Select",label:"Content",details:"Select Tool"}}},groups:{category:"Interaction",action:"Select",label:"Groups",details:{recents:{category:"Interaction",action:"Select",label:"Groups",details:"Recents"}}},collapse:{details:{timeline:{category:"Interaction",action:"Select",label:"Collapse",details:"Timeline"}}}},category:"Interaction",action:"Select"},draw:{label:{start:{details:{polygon:{category:"Interaction",action:"Draw",label:"Start",details:"Polygon"},polyline:{category:"Interaction",action:"Draw",label:"Start",details:"Polyline"},point:{category:"Interaction",action:"Draw",label:"Start",details:"Point"}}},complete:{details:{polygon:{category:"Interaction",action:"Draw",label:"Complete",details:"Polygon"},polyline:{category:"Interaction",action:"Draw",label:"Complete",details:"Polyline"},point:{category:"Interaction",action:"Draw",label:"Complete",details:"Point"}}},delete:{details:{polygon:{category:"Interaction",action:"Draw",label:"Delete",details:"Polygon"},polyline:{category:"Interaction",action:"Draw",label:"Delete",details:"Polyline"},point:{category:"Interaction",action:"Draw",label:"Delete",details:"Point"}}},update:{details:{polygon:{category:"Interaction",action:"Draw",label:"Update",details:"Polygon"},polyline:{category:"Interaction",action:"Draw",label:"Update",details:"Polyline"},point:{category:"Interaction",action:"Draw",label:"Update",details:"Point"}}}}},deselect:{label:{groups:{category:"Interaction",action:"Deselect",label:"Groups"},content:{category:"Interaction",action:"Deselect",label:"Content"},collapse:{details:{timeline:{category:"Interaction",action:"Deselect",label:"Collapse",details:"Timeline"}}}},category:"Interaction",action:"Deselect"},alert:{label:{warning:{details:{discussionsBlocked:{category:"Interaction",action:"Alert",label:"Warning",details:"Discussions Blocked"}}}}},subscribe:{label:{newsletter:{category:"Interaction",action:"Subscribe",label:"Newsletter"}}},add:{label:{image:{category:"Interaction",action:"Add",label:"Image"},content:{category:"Interaction",action:"Add",label:"Content"},groups:{category:"Interaction",action:"Add",label:"Groups"},users:{category:"Interaction",action:"Add",label:"Users"},step:{details:{timeline:{category:"Interaction",action:"Add",label:"Step",details:"Timeline"}}}}},remove:{label:{image:{category:"Interaction",action:"Remove",label:"Image"},content:{category:"Interaction",action:"Remove",label:"Content"},groups:{category:"Interaction",action:"Remove",label:"Groups"},users:{category:"Interaction",action:"Remove",label:"Users"},step:{details:{timeline:{category:"Interaction",action:"Remove",label:"Step",details:"Timeline"}}},location:{details:{clearAll:{category:"Interaction",action:"Remove",label:"Location",details:"Clear All"}}}}},authenticate:{label:{signout:{category:"Interaction",action:"Authenticate",label:"Signout"}}}}},groups:{action:{update:{label:{settings:{details:{allowDiscussions:{category:"Groups",action:"Update",label:"Settings",details:"Allow Discussions"},blockDiscussions:{category:"Groups",action:"Update",label:"Settings",details:"Block Discussions"}}}}}}},navigation:{action:{view:{label:{content:{details:{dcat:{category:"Navigation",action:"View",label:"Content",details:"DCAT"},dcatUs11:{category:"Navigation",action:"View",label:"Content",details:"DCAT-US-1.1"},dcatAp201:{category:"Navigation",action:"View",label:"Content",details:"DCAT-AP-2.0.1"},rss2:{category:"Navigation",action:"View",label:"Content",details:"RSS-2.0"},about:{category:"Navigation",action:"View",label:"Content",details:"About"},library:{category:"Navigation",action:"View",label:"Content",details:"Library"},hubSiteOgcApiLandingPage:{category:"Navigation",action:"View",label:"Content",details:"Hub Site OGC API Landing Page"},layoutEditor:{category:"Navigation",action:"View",label:"Content",details:"Layout Editor"},workspace:{category:"Navigation",action:"View",label:"Content",details:"Workspace"},publishedDraft:{category:"Navigation",action:"View",label:"Content",details:"Published Draft"},previewDraft:{category:"Navigation",action:"View",label:"Content",details:"Preview Draft"},site:{category:"Navigation",action:"View",label:"Content",details:"Site"}}},users:{details:{profile:{category:"Navigation",action:"View",label:"Users",details:"Profile"}}},groups:{details:{profile:{category:"Navigation",action:"View",label:"Groups",details:"Profile"},about:{category:"Navigation",action:"View",label:"Groups",details:"About"}}},search:{details:{sourceProjectSearch:{category:"Navigation",action:"View",label:"Search",details:"Source: Project Search"},sourceSearch:{category:"Navigation",action:"View",label:"Search",details:"Source: Search"},searchApiExplorer:{category:"Navigation",action:"View",label:"Search",details:"Search API Explorer"}}},feeds:{details:{feedsApiExplorer:{category:"Navigation",action:"View",label:"Feeds",details:"Feeds API Explorer"}}},orgs:{details:{overview:{category:"Navigation",action:"View",label:"Orgs",details:"Overview"}}}}},external:{label:{hubStatus:{category:"Navigation",action:"External",label:"Hub Status"},itemDetails:{category:"Navigation",action:"External",label:"Item Details"},link:{category:"Navigation",action:"External",label:"Link"},webHelp:{category:"Navigation",action:"External",label:"Web Help",details:{projectWorkspaceIntroNotice:{category:"Navigation",action:"External",label:"Web Help",details:"Project Workspace Intro Notice"},learnMoreAboutHubProjects:{category:"Navigation",action:"External",label:"Web Help",details:"Learn more about Hub Projects"},enableOrDisableHubActivityTracking:{category:"Navigation",action:"External",label:"Web Help",details:"Enable or Disable Hub Activity Tracking"}}},changelog:{category:"Navigation",action:"External",label:"Changelog"},arcGisBlog:{category:"Navigation",action:"External",label:"ArcGIS Blog"},customerFeedback:{details:{hubProjectFeedbackSurvey:{category:"Navigation",action:"External",label:"Customer Feedback",details:"Hub Project Feedback Survey"}}},arcGisOnline:{details:{organization:{category:"Navigation",action:"External",label:"ArcGIS Online",details:"Organization"}}}},category:"Navigation",action:"External"},edit:{label:{profile:{category:"Navigation",action:"Edit",label:"Profile"},thumbnail:{category:"Navigation",action:"Edit",label:"Thumbnail"},bio:{category:"Navigation",action:"Edit",label:"Bio"},content:{details:{site:{category:"Navigation",action:"Edit",label:"Content",details:"Site"},hubFeeds:{category:"Navigation",action:"Edit",label:"Content",details:"Hub feeds"}}}}},onPage:{label:{overview:{category:"Navigation",action:"On Page",label:"Overview"},teams:{category:"Navigation",action:"On Page",label:"Teams"},content:{category:"Navigation",action:"On Page",label:"Content"},favorites:{category:"Navigation",action:"On Page",label:"Favorites"},chart:{category:"Navigation",action:"On Page",label:"Chart"},table:{category:"Navigation",action:"On Page",label:"Table"}}},new:{label:{content:{category:"Navigation",action:"New",label:"Content",details:{app:{category:"Navigation",action:"New",label:"Content",details:"App"},feedback:{category:"Navigation",action:"New",label:"Content",details:"Feedback"},template:{category:"Navigation",action:"New",label:"Content",details:"Template"},event:{category:"Navigation",action:"New",label:"Content",details:"Event"}}},groups:{category:"Navigation",action:"New",label:"Groups"}}},home:{category:"Navigation",action:"Home",label:{hubOverview:{category:"Navigation",action:"Home",label:"Hub Overview"}}},manage:{category:"Navigation",action:"Manage",label:{catalogConfiguration:{category:"Navigation",action:"Manage",label:"Catalog Configuration",details:{configureEmptyCatalog:{category:"Navigation",action:"Manage",label:"Catalog Configuration",details:"Configure empty catalog"}}}}}}},users:{action:{update:{label:{notifications:{details:{enabled:{category:"Users",action:"Update",label:"Notifications",details:"Enabled"},disabled:{category:"Users",action:"Update",label:"Notifications",details:"Disabled"}}}}}}},org:{}}},s={category:{CONTENT:"Content",INTERACTION:"Interaction",GROUPS:"Groups",NAVIGATION:"Navigation",USERS:"Users",ORG:"Org"},action:{DOWNLOAD:"Download",VIEW:"View",OPEN:"Open",SHARE:"Share",ZOOM:"Zoom",CLOSE:"Close",SEARCH:"Search",UPDATE:"Update",EXTERNAL:"External",DELETE:"Delete",VIEWED:"Viewed",CREATE:"Create",ENABLE:"Enable",DISABLE:"Disable",SELECT:"Select",DRAW:"Draw",DESELECT:"Deselect",EDIT:"Edit",ON_PAGE:"On-Page",NEW:"New",ALERT:"Alert",SUBSCRIBE:"Subscribe",HOME:"Home",ADD:"Add",REMOVE:"Remove",MANAGE:"Manage",AUTHENTICATE:"Authenticate"},label:{CONTENT:"Content",POPOVER:"Popover",LINK:"Link",IN:"In",OUT:"Out",POST_LIST:"Post List",THREAD:"Thread",PANEL:"Panel",QUERY:"Query",CATEGORY_CARD:"Category Card",SEARCH:"Search",TO:"To",HUB_STATUS:"Hub Status",RECENTS:"Recents",EMPTY:"Empty",EDITOR:"Editor",POST:"Post",TABLE:"Table",USERS:"Users",GROUPS:"Groups",DRAW:"Draw",SELECT:"Select",START:"Start",COMPLETE:"Complete",DELETE:"Delete",FILTER:"Filter",UPDATE:"Update",MODAL:"Modal",ITEM_DETAILS:"Item Details",UPLOAD:"Upload",URL:"URL",FILTERS:"Filters",PROFILE:"Profile",THUMBNAIL:"Thumbnail",OVERVIEW:"Overview",TEAMS:"Teams",FAVORITES:"Favorites",BIO:"Bio",CLICK:"Click",LOAD_MORE:"Load More",LOCATIONS:"Locations",ABOUT:"About",EXPLORE:"Explore",BACK_TO_TOP:"Back to Top",ADD_LOCATION:"Add Location",LOCATION:"Location",STEPPER:"Stepper",NOTIFICATIONS:"Notifications",VIEW:"View",SETTINGS:"Settings",WARNING:"Warning",POP_UP:"Pop-Up",WEB_HELP:"Web Help",ACCORDION:"Accordion",CHART:"Chart",WHATS_NEW:"Whats New",TOOLTIP:"Tooltip",STATUS:"Status",REACTION:"Reaction",REPLY:"Reply",NEWSLETTER:"Newsletter",CHANGELOG:"Changelog",ARC_GIS_BLOG:"ArcGIS Blog",HUB_OVERVIEW:"Hub Overview",IMAGE:"Image",STEP:"Step",COLLAPSE:"Collapse",DESCRIPTION:"Description",SUMMARY:"Summary",TIMELINE:"Timeline",FEATURED_CONTENT:"Featured Content",ACCESS:"Access",ALERT:"Alert",CUSTOMER_FEEDBACK:"Customer Feedback",ARC_GIS_ONLINE:"ArcGIS Online",DROPDOWN:"Dropdown",ACTION:"Action",FEEDS:"Feeds",ORGS:"Orgs",MENU:"Menu",SIDE_PANEL:"Side Panel",SIGNOUT:"Signout",LAYOUT:"Layout",SITE:"Site",TEMPLATE:"Template",CATALOG_CONFIGURATION:"Catalog Configuration",PAGE:"Page"},details:{DCAT:"DCAT",DCAT_US_1_1:"DCAT-US-1.1",DCAT_AP_2_0_1:"DCAT-AP-2.0.1",SHARE:"Share",CACHE:"Cache",EXPORT:"Export",LEGEND:"Legend",FOCUS:"Focus",LOSE_FOCUS:"Lose Focus",THREAD:"Thread",POST_LIST:"Post List",DETAILS:"Details",PROFILE:"Profile",OPTIONS:"Options",SELECT_TOOL:"Select Tool",POLYGON:"Polygon",POLYLINE:"Polyline",POINT:"Point",CLEAR:"Clear",UPDATE:"Update",HELP:"Help",RECENTS:"Recents",ADD_POST:"Add Post",ADD_CONTENT:"Add Content",NEW_CONTENT:"New Content",ADD_EXISTING_CONTENT:"Add Existing Content",ABOUT:"About",HOSTED_DOWNLOADS_DISABLED:"Hosted Downloads Disabled",HOSTED_DOWNLOADS_ENABLED:"Hosted Downloads Enabled",LIBRARY:"Library",SOURCE_PROJECT_SEARCH:"Source: Project Search",APP:"App",FEEDBACK:"Feedback",TEMPLATE:"Template",EVENT:"Event",MORE:"More",LESS:"Less",RESET:"Reset",DATE_UPDATED:"Date Updated",CREATE_PROJECT:"Create Project",REPLY:"Reply",BODY_ACTION:"Body Action",SOURCE_SEARCH:"Source: Search",SEARCH_API_EXPLORER:"Search API Explorer",HUB_SITE_OGC_API_LANDING_PAGE:"Hub Site OGC API Landing Page",LINE:"Line",MANAGE_PREFERENCES:"Manage Preferences",ENABLED:"Enabled",DISABLED:"Disabled",ALL_POSTS:"All Posts",EMAIL_NOTIFICATIONS:"Email Notifications",POST_ACTIVITY:"Post Activity",DISCUSSION_OPTIONS:"Discussion Options",ALLOW_DISCUSSIONS:"Allow Discussions",BLOCK_DISCUSSIONS:"Block Discussions",DISCUSSIONS_BLOCKED:"Discussions Blocked",FEEDS:"Feeds",POST:"Post",LOCATION:"Location",ATTRIBUTES:"Attributes",ATTRIBUTE:"Attribute",EXIT_MODAL:"Exit modal",ACCEPT_MODAL:"Accept modal",OPEN_MODAL:"Open modal",CHIP_COMPONENT_WITH_STRING_HIDDEN:"Chip Component with string Hidden",HIDE:"Hide",SHOW:"Show",SMILING_FACE:"Smiling face",CONFUSED_FACE:"Confused face",GRINNING_FACE:"Grinning face",LAUGHING_FACE:"Laughing face",FACE_WITH_TEARS_OF_JOY:"Face with tears of joy",THINKING_FACE:"Thinking face",WINKING_FACE:"Winking face",PARTYING_FACE:"Partying face",SAD_FACE:"Sad face",SHOCKED_FACE:"Shocked face",THUMBS_UP:"Thumbs up",THUMBS_DOWN:"Thumbs down",CLAPPING_HANDS:"Clapping hands",RAISING_HANDS:"Raising hands",WAVING_HAND:"Waving hand",RED_HEART:"Red heart",HUNDRED_POINTS:"Hundred points",FIRE:"Fire",PARTY_POPPER:"Party popper",ROCKET:"Rocket",UP_ARROW:"Up arrow",DOWN_ARROW:"Down arrow",EYES:"Eyes",TROPHY:"Trophy",WORLD_MAP:"World map",REACTION_OVERFLOW:"Reaction overflow",ADD_REACTION:"Add reaction",SWITCH_TO_CLASSIC_VIEW:"Switch to classic view",BANNER_DISMISS:"Banner dismiss",ENABLE_WEEKLY_REPORT:"Enable Weekly Report",DISABLE_WEEKLY_REPORT:"Disable Weekly Report",SITE:"Site",ADD_GROUPS:"Add Groups",ADD_USERS:"Add Users",FEATURES_POINTS:"Features: points",FEATURES_LINES:"Features: lines",FEATURES_POLYGONS:"Features: polygons",POINTS_POINTS:"Points: points",POINTS_LINES:"Points: lines",POINTS_POLYGONS:"Points: polygons",COMPLETE:"Complete",EMPTY:"Empty",STEPS:"Steps",TIMELINE:"Timeline",PUBLIC:"Public",ORG:"Org",SHARED:"Shared",PRIVATE:"Private",PROJECT_WORKSPACE_INTRO_NOTICE:"Project Workspace Intro Notice",LEARN_MORE_ABOUT_HUB_PROJECTS:"Learn more about Hub Projects",HUB_PROJECT_FEEDBACK_SURVEY:"Hub Project Feedback Survey",REMOVE_EDIT_GROUPS:"Remove Edit Groups",REMOVE_VIEW_GROUPS:"Remove View Groups",ORGANIZATION:"Organization",ADD_VIEW_GROUPS:"Add View Groups",ADD_EDIT_GROUPS:"Add Edit Groups",DELETE_CONTENT:"Delete Content",ENABLE_FOR_ALL_USERS:"Enable for all users",ENABLE_BETA_VIEW:"Enable beta view",DISABLE_BETA_VIEW:"Disable beta view",CLEAR_ALL:"Clear all",ACTIVITY_ENABLED:"Activity Enabled",ACTIVITY_DISABLED:"Activity Disabled",ENABLE_OR_DISABLE_HUB_ACTIVITY_TRACKING:"Enable or Disable Hub Activity Tracking",OVERFLOW:"Overflow",EXPORT_CATALOG:"Export catalog",EXPORT_SEARCH_RESULTS:"Export search results",WEEKLY:"Weekly",HUB_FEEDS:"Hub feeds",FEEDS_API_EXPLORER:"Feeds API Explorer",LAYOUT_EDITOR:"Layout Editor",WORKSPACE:"Workspace",PUBLISHED_DRAFT:"Published Draft",PREVIEW_DRAFT:"Preview Draft",OVERVIEW:"Overview",VIEW:"View",USER:"User",SHARING:"Sharing",DRAFT:"Draft",CLONE:"Clone",ADD_CATALOG_GROUPS:"Add Catalog Groups",REMOVE_CATALOG_GROUPS:"Remove Catalog Groups",PUBLISH:"Publish",CONFIGURE_EMPTY_CATALOG:"Configure empty catalog"},element:{ACTIONS_MENU:"Actions Menu",CONTENT_HERO:"Content Hero",DOWNLOAD_CARD:"Download Card",EXPLORE_ALL_CONTENT:"Explore All Content",RESULTS_LIST:"Results List",ON_PAGE:"On-Page",RESET_FILTERS:"Reset Filters",CHIPS:"Chips",EXPLORE_SITE:"Explore Site",BACK_TO_TOP:"Back to Top",VIEW_BUTTON:"View Button",X_BUTTON:"x button",OKAY_BUTTON:"okay button",INFO_BUTTON:"info button",NEWSLETTER_REPORTS_NOTICE:"newsletter reports notice"},response:{SUCCESS:"Success",FAILURE:"Failure"}}
var a=Object(r.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDimensions=void 0,t.defaultDimensions={CATEGORY:"category",ACTION:"action",LABEL:"label"}})),o=Object(r.c)((function(e,t){var n=r.a&&r.a.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=r.a&&r.a.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)}
Object.defineProperty(t,"__esModule",{value:!0}),i(a,t)})),l=Object(r.c)((function(e,t){var n,i=r.a&&r.a.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])
return e}).apply(this,arguments)},s=r.a&&r.a.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i])
return e.concat(r||Array.prototype.slice.call(t))}
Object.defineProperty(t,"__esModule",{value:!0}),t.customDimensionsConfig=t.constantDimensions=t.dictionaryDimensions=t.dimensions=void 0,t.dimensions=i(i({},o.defaultDimensions),{DETAILS:"details",USER_TYPE:"userType",ID:"id",TYPE:"type",ORGANIZATION_ID:"organizationId",GROUP_ID:"groupId",GROUP_ACCESS:"groupAccess",GROUP_TYPE:"groupType",SEARCH:"search",GROUP_ORG_ID:"groupOrgId",SITE_ID:"siteId",ACCESS:"access",CONTENT_ORG_ID:"contentOrgId",ELEMENT:"element",RESPONSE:"response",POST_ID:"postId",PARENT_ID:"parentId",CHANNEL_ID:"channelId",CHANNEL_ACCESS:"channelAccess"}),t.dictionaryDimensions=[t.dimensions.CATEGORY,t.dimensions.ACTION,t.dimensions.LABEL,t.dimensions.DETAILS],t.constantDimensions=s(s([],t.dictionaryDimensions,!0),[t.dimensions.ELEMENT,t.dimensions.RESPONSE],!1),t.customDimensionsConfig=((n={})[t.dimensions.DETAILS]=1,n[t.dimensions.USER_TYPE]=2,n[t.dimensions.ID]=3,n[t.dimensions.TYPE]=4,n[t.dimensions.ORGANIZATION_ID]=5,n[t.dimensions.GROUP_ID]=6,n[t.dimensions.GROUP_ACCESS]=7,n[t.dimensions.GROUP_TYPE]=8,n[t.dimensions.SEARCH]=9,n[t.dimensions.GROUP_ORG_ID]=10,n[t.dimensions.SITE_ID]=11,n[t.dimensions.ACCESS]=12,n[t.dimensions.CONTENT_ORG_ID]=13,n[t.dimensions.ELEMENT]=14,n[t.dimensions.RESPONSE]=15,n[t.dimensions.POST_ID]=16,n[t.dimensions.PARENT_ID]=17,n[t.dimensions.CHANNEL_ID]=18,n[t.dimensions.CHANNEL_ACCESS]=19,n)})),c=Object(r.c)((function(e,t){var n
Object.defineProperty(t,"__esModule",{value:!0}),t.customMetricsConfig=t.metrics=void 0,t.metrics={POSITION:"position",SIZE:"size",DURATION:"duration",COUNT:"count"},t.customMetricsConfig=((n={})[t.metrics.POSITION]=1,n[t.metrics.SIZE]=2,n[t.metrics.DURATION]=3,n[t.metrics.COUNT]=4,n)})),u=Object(r.c)((function(e,t){var n=r.a&&r.a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}
Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.dictionary=t.customMetricsConfig=t.customDimensionsConfig=void 0
var a=n(i),o=n(s)
Object.defineProperty(t,"customDimensionsConfig",{enumerable:!0,get:function(){return l.customDimensionsConfig}}),Object.defineProperty(t,"customMetricsConfig",{enumerable:!0,get:function(){return c.customMetricsConfig}}),t.dictionary=a.default,t.constants=o.default}))},1463:function(e,t,n){"use strict"
n.d(t,"a",(function(){return ge}))
var r,i=n(968),s=n(972),a=n(234),o=n(970),l=n(987),c=n(977),u=n(969),d=n(974),h=n(971)
n(445)
let p=r=class extends s.a{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new r({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"expression",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"name",void 0),Object(i.a)([Object(o.b)({type:["boolean","date","number","string"],json:{write:!0}})],p.prototype,"returnType",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],p.prototype,"title",void 0),p=r=Object(i.a)([Object(u.a)("esri.form.ExpressionInfo")],p)
const f=p
let b=class extends s.a{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"description",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"label",void 0),Object(i.a)([Object(o.b)()],b.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],b.prototype,"visibilityExpression",void 0),b=Object(i.a)([Object(u.a)("esri.form.elements.Element")],b)
const m=b
var y
let g=y=class extends s.a{constructor(e){super(e),this.type=null}clone(){return new y({type:this.type})}}
Object(i.a)([Object(o.b)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],g.prototype,"type",void 0),g=y=Object(i.a)([Object(u.a)("esri.form.elements.inputs.AttachmentInput")],g)
const v=g
var O
let j=O=class extends m{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new O({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],j.prototype,"attachmentKeyword",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],j.prototype,"editable",void 0),Object(i.a)([Object(o.b)({type:v,json:{read:{source:"inputType"},write:{target:"inputType"}}})],j.prototype,"input",void 0),Object(i.a)([Object(o.b)({type:["attachment"],json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=O=Object(i.a)([Object(u.a)("esri.form.elements.AttachmentElement")],j)
const w=j
var _=n(1095),S=n(233)
let x=class extends s.a{constructor(e){super(e),this.type=null}}
Object(i.a)([Object(o.b)()],x.prototype,"type",void 0),x=Object(i.a)([Object(u.a)("esri.form.elements.inputs.Input")],x)
const T=x
let I=class extends T{constructor(e){super(e),this.maxLength=null,this.minLength=0}}
Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],I.prototype,"maxLength",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],I.prototype,"minLength",void 0),I=Object(i.a)([Object(u.a)("esri.form.elements.inputs.TextInput")],I)
const M=I
var E
let k=E=class extends M{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new E({maxLength:this.maxLength,minLength:this.minLength})}}
Object(i.a)([Object(o.b)({type:["barcode-scanner"],json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=E=Object(i.a)([Object(u.a)("esri.form.elements.inputs.BarcodeScannerInput")],k)
const C=k
var A
let L=A=class extends T{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new A({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],L.prototype,"noValueOptionLabel",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],L.prototype,"showNoValueOption",void 0),Object(i.a)([Object(o.b)({type:["combo-box"],json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=A=Object(i.a)([Object(u.a)("esri.form.elements.inputs.ComboBoxInput")],L)
const R=L
var P
function F(e){return null!=e?new Date(e):null}function N(e){return e?e.getTime():null}let D=P=class extends T{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return F(t.max)}writeMax(e,t){t.max=N(e)}readMin(e,t){return F(t.min)}writeMin(e,t){t.min=N(e)}clone(){return new P({includeTime:this.includeTime,max:this.max,min:this.min})}}
Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],D.prototype,"includeTime",void 0),Object(i.a)([Object(o.b)({type:Date,json:{type:Number,write:!0}})],D.prototype,"max",void 0),Object(i.a)([Object(c.a)("max")],D.prototype,"readMax",null),Object(i.a)([Object(d.a)("max")],D.prototype,"writeMax",null),Object(i.a)([Object(o.b)({type:Date,json:{type:Number,write:!0}})],D.prototype,"min",void 0),Object(i.a)([Object(c.a)("min")],D.prototype,"readMin",null),Object(i.a)([Object(d.a)("min")],D.prototype,"writeMin",null),Object(i.a)([Object(o.b)({type:["datetime-picker"],json:{read:!1,write:!0}})],D.prototype,"type",void 0),D=P=Object(i.a)([Object(u.a)("esri.form.elements.inputs.DateTimePickerInput")],D)
const V=D
var U
let G=U=class extends T{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new U({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],G.prototype,"noValueOptionLabel",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],G.prototype,"showNoValueOption",void 0),Object(i.a)([Object(o.b)({type:["radio-buttons"],json:{read:!1,write:!0}})],G.prototype,"type",void 0),G=U=Object(i.a)([Object(u.a)("esri.form.elements.inputs.RadioButtonsInput")],G)
const z=G
var q
let B=q=class extends T{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new q({offValue:this.offValue,onValue:this.onValue})}}
Object(i.a)([Object(o.b)({type:[String,Number],json:{write:!0}})],B.prototype,"offValue",void 0),Object(i.a)([Object(o.b)({type:[String,Number],json:{write:!0}})],B.prototype,"onValue",void 0),Object(i.a)([Object(o.b)({type:["switch"],json:{read:!1,write:!0}})],B.prototype,"type",void 0),B=q=Object(i.a)([Object(u.a)("esri.form.elements.inputs.SwitchInput")],B)
const $=B
var H
let W=H=class extends M{constructor(e){super(e),this.type="text-area"}clone(){return new H({maxLength:this.maxLength,minLength:this.minLength})}}
Object(i.a)([Object(o.b)({type:["text-area"],json:{read:!1,write:!0}})],W.prototype,"type",void 0),W=H=Object(i.a)([Object(u.a)("esri.form.elements.inputs.TextAreaInput")],W)
const Z=W
var K
let J=K=class extends M{constructor(e){super(e),this.type="text-box"}clone(){return new K({maxLength:this.maxLength,minLength:this.minLength})}}
Object(i.a)([Object(o.b)({type:["text-box"],json:{read:!1,write:!0}})],J.prototype,"type",void 0),J=K=Object(i.a)([Object(u.a)("esri.form.elements.inputs.TextBoxInput")],J)
const Y={base:T,key:"type",typeMap:{"barcode-scanner":C,"combo-box":R,"datetime-picker":V,"radio-buttons":z,switch:$,"text-area":Z,"text-box":J}}
var X,Q=n(1132)
const ee="esri.form.elements.FieldElement",te=S.a.getLogger(ee)
let ne=X=class extends m{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){var e
return Object(_.d)(te,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),null==(e=this._get("editable"))||e}set editable(e){Object(_.d)(te,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",e)}clone(){return new X({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}}
Object(i.a)([Object(o.b)({types:Q.b,json:{read:{reader:Q.a},write:!0}})],ne.prototype,"domain",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],ne.prototype,"editable",null),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],ne.prototype,"editableExpression",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],ne.prototype,"fieldName",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],ne.prototype,"hint",void 0),Object(i.a)([Object(o.b)({types:Y,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ne.prototype,"input",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],ne.prototype,"requiredExpression",void 0),Object(i.a)([Object(o.b)({type:String,json:{read:!1,write:!0}})],ne.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],ne.prototype,"valueExpression",void 0),ne=X=Object(i.a)([Object(u.a)(ee)],ne)
const re=ne
var ie,se=n(1676)
let ae=ie=class extends m{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new ie({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:Object(a.a)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}}
Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],ae.prototype,"displayCount",void 0),Object(i.a)([Object(o.b)({type:["list"],json:{write:!0}})],ae.prototype,"displayType",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],ae.prototype,"editable",void 0),Object(i.a)([Object(o.b)({type:[se.a],json:{write:!0}})],ae.prototype,"orderByFields",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],ae.prototype,"relationshipId",void 0),Object(i.a)([Object(o.b)({type:["relationship"],json:{read:!1,write:!0}})],ae.prototype,"type",void 0),ae=ie=Object(i.a)([Object(u.a)("esri.form.elements.RelationshipElement")],ae)
const oe=ae
function le(e){return{typesWithGroup:{base:m,key:"type",typeMap:{attachment:w,field:re,group:e,relationship:oe}},typesWithoutGroup:{base:m,key:"type",typeMap:{attachment:w,field:re,relationship:oe}}}}function ce(e,t,n=!0){if(!e)return null
const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap
return e.filter(e=>r[e.type]).map(e=>r[e.type].fromJSON(e))}function ue(e,t,n=!0){if(!e)return null
const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap
return e.filter(e=>r[e.type]).map(e=>e.toJSON())}function de(e,t,n=!0){return e?e.map(e=>Object(h.k)(n?t.typesWithGroup:t.typesWithoutGroup,e)):null}var he
let pe=he=class extends m{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return de(e,fe,!1)}readElements(e,t){return ce(t.formElements,fe,!1)}writeElements(e,t){t.formElements=ue(e,fe,!1)}clone(){return new he({description:this.description,elements:Object(a.a)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}}
Object(i.a)([Object(o.b)({json:{write:!0}})],pe.prototype,"elements",void 0),Object(i.a)([Object(l.a)("elements")],pe.prototype,"castElements",null),Object(i.a)([Object(c.a)("elements",["formElements"])],pe.prototype,"readElements",null),Object(i.a)([Object(d.a)("elements")],pe.prototype,"writeElements",null),Object(i.a)([Object(o.b)({type:["collapsed","expanded"],json:{write:!0}})],pe.prototype,"initialState",void 0),Object(i.a)([Object(o.b)({type:String,json:{read:!1,write:!0}})],pe.prototype,"type",void 0),pe=he=Object(i.a)([Object(u.a)("esri.form.elements.GroupElement")],pe)
const fe=le(pe)
var be
const me=le(pe)
let ye=be=class extends s.a{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return de(e,me)}readElements(e,t){return ce(t.formElements,me)}writeElements(e,t){t.formElements=ue(e,me)}clone(){return new be({description:this.description,expressionInfos:Object(a.a)(this.expressionInfos),elements:Object(a.a)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}}
Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],ye.prototype,"description",void 0),Object(i.a)([Object(o.b)({json:{write:!0}})],ye.prototype,"elements",void 0),Object(i.a)([Object(l.a)("elements")],ye.prototype,"castElements",null),Object(i.a)([Object(c.a)("elements",["formElements"])],ye.prototype,"readElements",null),Object(i.a)([Object(d.a)("elements")],ye.prototype,"writeElements",null),Object(i.a)([Object(o.b)({type:[f],json:{write:!0}})],ye.prototype,"expressionInfos",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{default:!1,write:!0}})],ye.prototype,"preserveFieldValuesWhenHidden",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],ye.prototype,"title",void 0),ye=be=Object(i.a)([Object(u.a)("esri.form.FormTemplate")],ye)
const ge=ye},1464:function(e,t,n){"use strict"
n.d(t,"a",(function(){return L}))
var r=n(968),i=n(993),s=n(234),a=n(233),o=n(970),l=(n(971),n(977)),c=n(969),u=n(974),d=n(770),h=n(1260),p=n(769),f=n(1051),b=n(1035),m=n(986),y=n(972),g=(n(445),n(1135))
let v=class extends(Object(m.b)(y.a)){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.dateFieldsTimeReference=null}}
Object(r.a)([Object(o.b)()],v.prototype,"creatorField",void 0),Object(r.a)([Object(o.b)()],v.prototype,"creationDateField",void 0),Object(r.a)([Object(o.b)()],v.prototype,"editorField",void 0),Object(r.a)([Object(o.b)()],v.prototype,"editDateField",void 0),Object(r.a)([Object(o.b)()],v.prototype,"realm",void 0),Object(r.a)([Object(o.b)({type:g.a})],v.prototype,"dateFieldsTimeReference",void 0),v=Object(r.a)([Object(c.a)("esri.layers.support.EditFieldsInfo")],v)
const O=v
let j=class extends(Object(m.b)(y.a)){constructor(e){super(e)}}
Object(r.a)([Object(o.b)({constructOnly:!0,json:{write:!0}})],j.prototype,"name",void 0),Object(r.a)([Object(o.b)({constructOnly:!0,json:{write:!0}})],j.prototype,"fields",void 0),Object(r.a)([Object(o.b)({constructOnly:!0,json:{write:!0}})],j.prototype,"isAscending",void 0),Object(r.a)([Object(o.b)({constructOnly:!0,json:{write:!0}})],j.prototype,"indexType",void 0),Object(r.a)([Object(o.b)({constructOnly:!0,json:{write:!0}})],j.prototype,"isUnique",void 0),Object(r.a)([Object(o.b)({constructOnly:!0,json:{write:!0}})],j.prototype,"description",void 0),j=Object(r.a)([Object(c.a)("esri.layers.support.FeatureIndex")],j)
var w=n(1309),_=n(997)
let S=class extends(Object(m.b)(y.a)){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}}
Object(r.a)([Object(o.b)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],S.prototype,"shapeAreaField",void 0),Object(r.a)([Object(o.b)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],S.prototype,"shapeLengthField",void 0),Object(r.a)([Object(o.b)({type:String,json:{read:e=>_.c.read(e)||_.o.read(e)}})],S.prototype,"units",void 0),S=Object(r.a)([Object(c.a)("esri.layers.support.GeometryFieldsInfo")],S)
const x=S
var T=n(1396),I=n(976)
const M=new I.a({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),E=new I.a({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"})
let k=class extends(Object(m.b)(y.a)){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}}
Object(r.a)([Object(o.b)({json:{read:M.read,write:M.write}})],k.prototype,"cardinality",void 0),Object(r.a)([Object(o.b)({json:{read:!0,write:!0}})],k.prototype,"composite",void 0),Object(r.a)([Object(o.b)({json:{read:!0,write:!0}})],k.prototype,"id",void 0),Object(r.a)([Object(o.b)({json:{read:!0,write:!0}})],k.prototype,"keyField",void 0),Object(r.a)([Object(o.b)({json:{read:!0,write:!0}})],k.prototype,"keyFieldInRelationshipTable",void 0),Object(r.a)([Object(o.b)({json:{read:!0,write:!0}})],k.prototype,"name",void 0),Object(r.a)([Object(o.b)({json:{read:!0,write:!0}})],k.prototype,"relatedTableId",void 0),Object(r.a)([Object(o.b)({json:{read:!0,write:!0}})],k.prototype,"relationshipTableId",void 0),Object(r.a)([Object(o.b)({json:{read:E.read,write:E.write}})],k.prototype,"role",void 0),k=Object(r.a)([Object(c.a)("esri.layers.support.Relationship")],k)
const C=k
var A=n(1291)
const L=e=>{let t=class extends e{constructor(){super(...arguments),this.capabilities=null,this.copyright=null,this.dateFieldsTimeReference=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.isTable=!1,this.layerId=void 0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.preferredTimeReference=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.spatialReference=p.default.WGS84,this.subtypeField=null,this.trackIdField=null,this.indexes=new(i.a.ofType(j)),this.version=void 0}readCapabilitiesFromService(e,t){return Object(A.a)(t,this.url)}get effectiveCapabilities(){var e
const t=this.capabilities
if(!t)return null
const n=Object(s.a)(t),{operations:r,editing:i}=n
return null!=(e=this.sourceJSON)&&e.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(r.supportsQuery=!0),n):this.userHasUpdateItemPrivileges?(r.supportsAdd=r.supportsDelete=r.supportsEditing=r.supportsQuery=r.supportsUpdate=i.supportsDeleteByOthers=i.supportsGeometryUpdate=i.supportsUpdateByOthers=!0,n):(this.userHasFullEditingPrivileges&&r.supportsEditing&&(r.supportsAdd=r.supportsDelete=r.supportsUpdate=i.supportsGeometryUpdate=!0),n)}readEditingInfo(e,t){const{editingInfo:n}=t
return n?{lastEditDate:null!=n.lastEditDate?new Date(n.lastEditDate):null}:null}readIsTableFromService(e,t){return"Table"===t.type}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){return Object(w.p)(t)}readObjectIdFieldFromService(e,t){return Object(w.q)(t)}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}set url(e){const t=Object(f.i)({layer:this,url:e,nonStandardUrlAllowed:!0,logger:a.a.getLogger(this.declaredClass)})
this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}writeUrl(e,t,n,r){Object(f.k)(this,e,null,t,r)}readVersion(e,t){return Object(w.r)(t)}}
return Object(r.a)([Object(o.b)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),Object(r.a)([Object(l.a)("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),Object(r.a)([Object(o.b)({readOnly:!0})],t.prototype,"effectiveCapabilities",null),Object(r.a)([Object(o.b)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),Object(r.a)([Object(o.b)({type:g.a})],t.prototype,"dateFieldsTimeReference",void 0),Object(r.a)([Object(o.b)({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),Object(r.a)([Object(o.b)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),Object(r.a)([Object(o.b)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),Object(r.a)([Object(o.b)({readOnly:!0,type:O})],t.prototype,"editFieldsInfo",void 0),Object(r.a)([Object(o.b)({readOnly:!0})],t.prototype,"editingInfo",void 0),Object(r.a)([Object(l.a)("editingInfo")],t.prototype,"readEditingInfo",null),Object(r.a)([Object(o.b)((()=>{const e=Object(s.a)(b.b),t=e.json.origins
return t["web-map"]={read:!1,write:!1},t["portal-item"]={read:!1,write:!1},e})())],t.prototype,"elevationInfo",void 0),Object(r.a)([Object(o.b)({type:T.a,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],t.prototype,"floorInfo",void 0),Object(r.a)([Object(o.b)({type:d.default,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),Object(r.a)([Object(o.b)()],t.prototype,"gdbVersion",void 0),Object(r.a)([Object(o.b)({readOnly:!0,type:x,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),Object(r.a)([Object(o.b)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:w.h.read}}}})],t.prototype,"geometryType",void 0),Object(r.a)([Object(o.b)({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),Object(r.a)([Object(o.b)({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),Object(r.a)([Object(o.b)({readOnly:!0,type:h.a})],t.prototype,"heightModelInfo",void 0),Object(r.a)([Object(o.b)({type:Date})],t.prototype,"historicMoment",void 0),Object(r.a)([Object(o.b)({readOnly:!0})],t.prototype,"isTable",void 0),Object(r.a)([Object(l.a)("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),Object(r.a)([Object(o.b)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),Object(r.a)([Object(o.b)(b.h)],t.prototype,"minScale",void 0),Object(r.a)([Object(l.a)("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),Object(r.a)([Object(o.b)(b.g)],t.prototype,"maxScale",void 0),Object(r.a)([Object(l.a)("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),Object(r.a)([Object(o.b)({type:String})],t.prototype,"globalIdField",void 0),Object(r.a)([Object(l.a)("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),Object(r.a)([Object(o.b)({type:String})],t.prototype,"objectIdField",void 0),Object(r.a)([Object(l.a)("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),Object(r.a)([Object(o.b)({type:g.a})],t.prototype,"preferredTimeReference",void 0),Object(r.a)([Object(o.b)({type:[C],readOnly:!0})],t.prototype,"relationships",void 0),Object(r.a)([Object(o.b)()],t.prototype,"sourceJSON",void 0),Object(r.a)([Object(o.b)({type:Boolean})],t.prototype,"returnM",void 0),Object(r.a)([Object(o.b)({type:Boolean})],t.prototype,"returnZ",void 0),Object(r.a)([Object(o.b)({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),Object(r.a)([Object(l.a)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),Object(r.a)([Object(o.b)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),Object(r.a)([Object(o.b)({type:p.default,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),Object(r.a)([Object(o.b)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),Object(r.a)([Object(o.b)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),Object(r.a)([Object(o.b)({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),Object(r.a)([Object(o.b)({type:i.a.ofType(j),readOnly:!0})],t.prototype,"indexes",void 0),Object(r.a)([Object(o.b)(b.o)],t.prototype,"url",null),Object(r.a)([Object(u.a)("url")],t.prototype,"writeUrl",null),Object(r.a)([Object(o.b)({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),Object(r.a)([Object(l.a)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=Object(r.a)([Object(c.a)("esri.layers.mixins.FeatureLayerBase")],t),t}},1467:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return a}))
var r=n(990),i=n(1230)
function s(e,t,n,r){if(e)if("CIMTextSymbol"!==e.type){if(n&&e.effects)for(const n of e.effects)o(n,t)
if(e.symbolLayers)for(const n of e.symbolLayers)switch(n.type){case"CIMPictureMarker":case"CIMVectorMarker":a(n,t,r)
break
case"CIMPictureStroke":case"CIMSolidStroke":(null==r||!r.preserveOutlineWidth)&&n.width&&(n.width*=t)
break
case"CIMPictureFill":n.height&&(n.height*=t),n.offsetX&&(n.offsetX*=t),n.offsetY&&(n.offsetY*=t)
break
case"CIMHatchFill":s(n.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),n.offsetX&&(n.offsetX*=t),n.offsetY&&(n.offsetY*=t),n.separation&&(n.separation*=t)}}else null!=e.height&&(e.height*=t)}function a(e,t,n){if(e&&(e.markerPlacement&&function(e,t){switch(Object(i.w)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const n=e.placementTemplate.map(e=>e*t)
e.placementTemplate=n}break
case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const n=e.placementTemplate.map(e=>e*t)
e.placementTemplate=n}break
case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t)
break
case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t)
break
case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break
case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t)
break
case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t)
break
case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||s(r.symbol,t,!0,n)}function o(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t)
break
case"CIMGeometricEffectBuffer":e.size&&(e.size*=t)
break
case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t)
break
case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const n=e.dashTemplate.map(e=>e*t)
e.dashTemplate=n}break
case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t)
break
case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t)
break
case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t)
break
case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t)
break
case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t)
break
case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function l(e){const t=[]
return function e(t,n){var r,s
if(!t)return
let a
a="CIMTextSymbol"===t.type?t.symbol:t
const o="CIMPolygonSymbol"===t.type
if(null!=(r=a)&&r.symbolLayers)for(const t of a.symbolLayers)if(!(t.colorLocked||o&&(Object(i.x)(t)||Object(i.v)(t)&&t.markerPlacement&&Object(i.w)(t.markerPlacement))))switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor&&c(n,t.tintColor)
break
case"CIMVectorMarker":null==(s=t.markerGraphics)||s.forEach(t=>{e(t.symbol,n)})
break
case"CIMSolidStroke":case"CIMSolidFill":c(n,t.color)
break
case"CIMHatchFill":e(t.lineSymbol,n)}}(Object(i.C)(e),t),t.length?new r.a(Object(i.h)(t[0])):null}function c(e,t){for(const n of e)if(n.join(".")===t.join("."))return
e.push(t)}function u(e,t,n){t instanceof r.a||(t=new r.a(t))
const s=Object(i.C)(e)
s&&function e(t,n,r){var s,a,o
if(!t)return
let l
l="CIMTextSymbol"===t.type?t.symbol:t
const c="CIMPolygonSymbol"===(null==(s=l)?void 0:s.type)
if(null!=(a=l)&&a.symbolLayers)for(const t of l.symbolLayers){if(t.colorLocked)continue
if(c)if(r){const{layersToColor:e}=r
if((Object(i.x)(t)||Object(i.v)(t)&&t.markerPlacement&&Object(i.w)(t.markerPlacement))&&"fill"===e||Object(i.u)(t)&&"outline"===e)continue}else if(Object(i.x)(t)||Object(i.v)(t)&&t.markerPlacement&&Object(i.w)(t.markerPlacement))continue
const s=n.toArray()
switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor=s
break
case"CIMVectorMarker":null==(o=t.markerGraphics)||o.forEach(t=>{e(t.symbol,n,r)})
break
case"CIMSolidStroke":case"CIMSolidFill":t.color=s
break
case"CIMHatchFill":e(t.lineSymbol,n,r)}}}(s,t,n)}},1469:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(973),i=n(1302)
class s{constructor(){this._tasks=new Array,this._running=new i.a(!1)}get length(){return this._tasks.length}get running(){return this._running.get()}destroy(){this.cancelAll()}runTask(e){for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,n){return this._running.set(!0),new Promise((r,i)=>this._tasks.push(new a(r,i,e,t,n)))}unshift(e,t,n){return this._running.set(!0),new Promise((r,i)=>this._tasks.unshift(new a(r,i,e,t,n)))}_process(e){if(0===this._tasks.length)return!1
const t=this._tasks.shift()
try{const n=Object(r.k)(t.signal)
if(n&&!t.abortCallback)t.reject(Object(r.c)())
else{const i=n?null==t.abortCallback?void 0:t.abortCallback(Object(r.c)()):t.callback(e)
Object(r.l)(i)?i.then(t.resolve,t.reject):t.resolve(i)}}catch(e){t.reject(e)}return this._running.set(this._tasks.length>0),!0}cancelAll(){const e=Object(r.c)()
for(const t of this._tasks)if(t.abortCallback){const n=t.abortCallback(e)
t.resolve(n)}else t.reject(e)
this._tasks.length=0,this._running.set(!1)}}class a{constructor(e,t,n,r,i){this.resolve=e,this.reject=t,this.callback=n,this.signal=r,this.abortCallback=i}}},1470:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return c})),n(235)
var r,i,s=n(446),a=n(23),o=n(1260),l=n(1051)
function c(e,t){if(!e)return null
if(!d(e))return new s.a("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:e})
const n=e.heightUnit,r=o.a.deriveUnitFromSR(e,t).heightUnit
return n!==r?new s.a("webscene:incompatible-height-unit",`The vertical units of the scene (${n}) must match the horizontal units of the scene (${r})`,{verticalUnit:n,horizontalUnit:r}):null}function u(e,t,n){const i=h(e),a=t,l=function(e,t,n){if(!d(e)||!d(t))return r.Unsupported
if(null==e||null==t)return r.Ok
if(!n&&e.heightUnit!==t.heightUnit)return r.Units
if(e.heightModel!==t.heightModel)return r.HeightModel
switch(e.heightModel){case"gravity-related-height":return r.Ok
case"ellipsoidal":return e.vertCRS===t.vertCRS?r.Ok:r.CRS
default:return r.Unsupported}}(i,a,n)
if(i){const t=o.a.deriveUnitFromSR(i,e.spatialReference).heightUnit
if(!n&&t!==i.heightUnit){const e=new s.a("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${t})`,{horizontalUnit:t})
return new s.a("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:i,error:e})}}if(!("heightModelInfo"in(c=e)&&null!=c.heightModelInfo||null!=c.spatialReference)&&b(c)||l===r.Unsupported)return new s.a("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:i})
var c
switch(l){case r.Units:{const e=(null==i?void 0:i.heightUnit)||"unknown",t=(null==a?void 0:a.heightUnit)||"unknown",n=new s.a("layerview:incompatible-height-unit",`The vertical units of the layer (${e}) must match the vertical units of the scene (${t})`,{layerUnit:e,sceneUnit:t})
return new s.a("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:a,error:n})}case r.HeightModel:{const e=(null==i?void 0:i.heightModel)||"unknown",t=(null==a?void 0:a.heightModel)||"unknown",n=new s.a("layerview:incompatible-height-model",`The height model of the layer (${e}) must match the height model of the scene (${t})`,{layerHeightModel:e,sceneHeightModel:t})
return new s.a("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:a,error:n})}case r.CRS:{const e=(null==i?void 0:i.vertCRS)||"unknown",t=(null==a?void 0:a.vertCRS)||"unknown",n=new s.a("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${e}) must match the vertical datum of the scene (${t})`,{layerDatum:e,sceneDatum:t})
return new s.a("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:a,error:n})}}return null}function d(e){return null==e||null!=e.heightModel&&null!=e.heightUnit}function h(e){var t
const n=e.url?Object(l.f)(e.url):void 0
return null==(null==(t=e.spatialReference)?void 0:t.vcsWkid)&&Object(a.l)(n)&&"ImageServer"===n.serverType||!p(e)||!e.heightModelInfo?b(e)?o.a.deriveUnitFromSR(g,e.spatialReference):null:e.heightModelInfo}function p(e){return"heightModelInfo"in e}function f(e){if("unknown"===e.type||!("capabilities"in e))return!1
switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0
default:return!1}}function b(e){return f(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):y(e)}function m(e){return null!=e.layers||y(e)||f(e)||p(e)}function y(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0
case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(i=r||(r={}))[i.Ok=0]="Ok",i[i.Units=1]="Units",i[i.HeightModel=2]="HeightModel",i[i.CRS=3]="CRS",i[i.Unsupported=4]="Unsupported"
const g=new o.a({heightModel:"gravity-related-height"})},1471:function(e,t,n){"use strict"
function r(e,t){switch(t){case"primary":return"touch"===e.pointerType||0===e.button
case"secondary":return"touch"!==e.pointerType&&2===e.button
case"tertiary":return"touch"!==e.pointerType&&1===e.button}}function i(e,t){if("touch"===e.pointerType)return!1
switch(t){case"primary":return 0===e.button
case"secondary":return 2===e.button
case"tertiary":return 1===e.button}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))},1476:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(1225)
class i extends r.a{constructor(e,t,n,r){super(e,t,n),this.error=r}}function s(e){return e.httpMethod="GET",function(e,t){return function(e){const{token:t,authentication:n}=e
let r=()=>Promise.resolve(t)
return n&&(r=n.getToken.bind(n,n.portal)),r()}(t).then(n=>function(e,t,n){const s=new Headers(t.headers)
s.append("Content-Type","application/json"),n&&s.append("Authorization","Bearer "+n)
const a={headers:s,method:t.httpMethod||"GET",mode:t.mode,cache:t.cache,credentials:t.credentials},o=Object(r.b)({host:t.hubApiUrl||"https://hub.arcgis.com",path:"/api/discussions/v1"})
t.data&&("GET"===t.httpMethod?e+="?"+new URLSearchParams(t.data).toString():a.body=JSON.stringify(t.data))
const l=[o.replace(/\/$/,""),e.replace(/^\//,"")].join("/")
return fetch(l,a).then(e=>{if(e.ok)return e.json()
{const{statusText:t,status:n}=e
return e.json().then(e=>{throw new i(t,l,n,JSON.stringify(e.message))})}})}(e,t,n))}("/channels",e)}},1481:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}))
var r=n(40),i=n(95),s=n(375),a=n(16)
function o(e){return Object(s.d)(e).then((function(t){var n=Object(i.a)(e)+"/content/users/"+t+"/items/"+e.id+"/delete"
return Object(a.e)(n,e)}))}function l(e){return Object(s.d)(e).then((function(t){var n=Object(i.a)(e)+"/content/users/"+t+"/items/"+e.id+"/removeResources"
return e.params=Object(r.a)(Object(r.a)({},e.params),{resource:e.resource}),void 0!==e.deleteAll&&(e.params.deleteAll=e.deleteAll),Object(a.e)(n,e)}))}},1485:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return a}))
var r,i,s=n(990);(i=r||(r={}))[i.size=22]="size",i[i.lineWidth=50]="lineWidth",i[i.maxSize=120]="maxSize",i[i.maxOutlineSize=80]="maxOutlineSize",i[i.tallSymbolWidth=20]="tallSymbolWidth"
const a={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]}
function o(e,t,n){const i=r.size
let s=i,a=i
e<1?s*=.75:e>1&&(a*=1.25)
let o=i,l=i
return t&&n&&(s=a=o=l=0),[{type:"path",path:[{command:"M",values:[o,0]},{command:"L",values:[n?o:.875*o,0]},{command:"L",values:[n?s-.5*o:0,a-.5*l]},{command:"L",values:[s-.5*o,a-.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,0]},{command:"L",values:[o,t?0:.125*l]},{command:"L",values:[s-.5*o,t?a-.5*l:l]},{command:"L",values:[s-.5*o,a-.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s-.5*o,a-.5*l]},{command:"L",values:[n?s-.5*o:0,a-.5*l]},{command:"L",values:[n?s-.5*o:0,t?a-.5*l:l]},{command:"L",values:[s-.5*o,t?a-.5*l:l]},{command:"Z",values:[]}]}]}function l(e){const t=r.size,n=.5*e
return[{type:"path",path:[{command:"M",values:[0,.7*t*.5]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+n]},{command:"L",values:[0,.7*t+n-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+n]},{command:"L",values:[t,n]},{command:"L",values:[t,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,0]},{command:"L",values:[t,0]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[0,.7*t*.5]},{command:"Z",values:[]}]}]}function c(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function u(e,t){let n=t?r.tallSymbolWidth:e
const i=e,s=t?4:6
n<=r.size?n-=.5*s:n-=s
const a=t?.35*n:.5*n
return[{type:"path",path:[{command:"M",values:[.5*n,0]},{command:"L",values:[n,.5*a]},{command:"L",values:[.5*n,a]},{command:"L",values:[0,.5*a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*a]},{command:"L",values:[.5*n,a]},{command:"L",values:[.5*n,i]},{command:"L",values:[0,i-.5*a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*n,a]},{command:"L",values:[.5*n,i]},{command:"L",values:[n,i-.5*a]},{command:"L",values:[n,.5*a]},{command:"Z",values:[]}]}]}function d(e,t){let n=t?r.tallSymbolWidth:e
const i=e,s=t?4:6
n<=r.size?n-=.5*s:n-=s
const a=.5*n,o=.15*n,l=i-o
return[{type:"ellipse",cx:.5*n,cy:l,rx:a,ry:o},{type:"path",path:[{command:"M",values:[0,o]},{command:"L",values:[0,l]},{command:"L",values:[n,l]},{command:"L",values:[n,o]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*n,cy:o,rx:a,ry:o}]}function h(e,t){let n=t?r.tallSymbolWidth:e
const i=e,s=t?4:6
n<=r.size?n-=.5*s:n-=s
const a=.15*n,o=i-a
return[{type:"ellipse",cx:.5*n,cy:o,rx:.5*n,ry:a},{type:"path",path:[{command:"M",values:[.5*n,0]},{command:"L",values:[n,o]},{command:"L",values:[0,o]},{command:"Z",values:[]}]}]}function p(e){let t=e
const n=e
t<r.size?t-=3:t-=6
const i=.15*t
return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[t,0]},{command:"L",values:[.5*t,n-i]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:0,rx:.5*t,ry:i}]}function f(e){let t=e
const n=e
t<r.size?t-=2:t-=4
const i=t,s=n,a=Math.floor(e/10)-1||1
return[{type:"path",path:[{command:"M",values:[.45*i,0]},{command:"L",values:[i,.5*s-a]},{command:"L",values:[.45*i-a,.5*s+a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*i,0]},{command:"L",values:[.45*i-a,.5*s+a]},{command:"L",values:[0,.5*s-a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*s-a]},{command:"L",values:[.45*i-a,.5*s+a]},{command:"L",values:[.45*i,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*i,n]},{command:"L",values:[i,.5*s-a]},{command:"L",values:[.45*i-a,.5*s+a]},{command:"Z",values:[]}]}]}function b(e){const t=e
let n=e
return n<r.size?n-=1:n-=2,[{type:"path",path:[{command:"M",values:[.45*t,0]},{command:"L",values:[t,n]},{command:"L",values:[.45*t,.6*n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*t,0]},{command:"L",values:[.45*t,.6*n]},{command:"L",values:[0,n]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,n]},{command:"L",values:[.45*t,.6*n]},{command:"L",values:[t,n]},{command:"Z",values:[]}]}]}function m(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function y(e,t){if(null==e)return new s.a
if("type"in e&&("linear"===e.type||"pattern"===e.type))return e
const n=new s.a(e)
return new s.a([m(n.r,t),m(n.g,t),m(n.b,t),n.a])}},1490:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b}))
var r=n(196),i=n(771),s=n(1348),a=n(446),o=n(235),l=(n(1344),n(1347)),c=n(1507),u=n(1191)
const d=Object(l.a)()
function h(e,t){d.append(e,t),d.detach(t)}function p(e,t,n){const r=Math.ceil(t[0]),i=Math.ceil(t[1])
if(!e.some(e=>!!e.length))return null
const s=n&&n.node||document.createElement("div")
return null!=n.opacity&&(s.style.opacity=n.opacity.toString()),null!=n.effectView&&(s.style.filter=Object(u.f)(n.effectView)),h(s,()=>Object(c.g)(e,r,i,n)),s}function f(e,t,n,r,i){switch(i){case"multiply":e[t+0]*=n[0],e[t+1]*=n[1],e[t+2]*=n[2],e[t+3]*=n[3]
break
default:{const i=Object(s.b)({r:e[t+0],g:e[t+1],b:e[t+2]})
i.h=r.h,i.s=r.s,i.v=i.v/100*r.v
const a=Object(s.e)(i)
e[t+0]=a.r,e[t+1]=a.g,e[t+2]=a.b,e[t+3]*=n[3]
break}}}function b(e,t,n,l,c){return function(e,t,n){return e?Object(i.default)(e,{responseType:"image"}).then(e=>{const r=e.data,i=r.width,s=r.height,a=i/s
let o=t
if(n){const e=Math.max(i,s)
o=Math.min(o,e)}return{image:r,width:a<=1?Math.ceil(o*a):o,height:a<=1?o:Math.ceil(o/a)}}):Promise.reject(new a.a("renderUtils: imageDataSize","href not provided."))}(e,t,c).then(i=>{const a=i.width?i.width:t,c=i.height?i.height:t
if(i.image&&function(e,t){return!(!e||"ignore"===t||"multiply"===t&&255===e.r&&255===e.g&&255===e.b&&1===e.a)}(n,l)){let t=i.image.width,r=i.image.height
Object(o.a)("edge")&&/\.svg$/i.test(e)&&(t-=1,r-=1)
const u=function(e,t){e=Math.ceil(e),t=Math.ceil(t)
const n=document.createElement("canvas")
n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px"
const r=n.getContext("2d")
return r.clearRect(0,0,e,t),r}(a,c)
u.drawImage(i.image,0,0,t,r,0,0,a,c)
const d=u.getImageData(0,0,a,c),h=[n.r/255,n.g/255,n.b/255,n.a],p=Object(s.b)(n)
for(let e=0;e<d.data.length;e+=4)f(d.data,e,h,p,l)
u.putImageData(d,0,0),e=u.canvas.toDataURL("image/png")}else{const t=r.b&&r.b.findCredential(e)
if(t&&t.token){const n=e.includes("?")?"&":"?"
e=`${e}${n}token=${t.token}`}}return{url:e,width:a,height:c}}).catch(()=>({url:e,width:t,height:t}))}},1491:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(968),i=n(975),s=n(970),a=(n(971),n(445),n(969))
let o=class extends i.a{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}}
Object(r.a)([Object(s.b)()],o.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),Object(r.a)([Object(s.b)()],o.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),o=Object(r.a)([Object(a.a)("esri.views.support.DebugFlags")],o)
const l=new o},1494:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}))
var r=n(40),i=n(95),s=n(375),a=n(377),o=n(16),l=n(1372)
function c(e){return Object(s.d)(e).then((function(t){var n=Object(i.a)(e)+"/content/users/"+t+"/createFolder"
return e.params=Object(r.a)({title:e.title},e.params),Object(o.e)(n,e)}))}function u(e){return function(e){return e.multipart&&!e.filename?Promise.reject(new Error("The filename is required for a multipart request.")):Object(s.d)(e).then((function(t){var n=Object(i.a)(e)+"/content/users/"+t,l=n+"/addItem"
e.folderId&&(l=n+"/"+e.folderId+"/addItem"),e.params=Object(r.a)(Object(r.a)({},e.params),Object(s.k)(e.item)),e.params.extent&&Object(s.i)(e.params.extent)&&(e.params.extent=Object(s.e)(e.params.extent))
var c=Object(a.a)(e,["owner","folderId","file","dataUrl","text","async","multipart","filename","overwrite"],{params:Object(r.a)({},e.params)})
return Object(o.e)(l,c)}))}(Object(r.a)({folderId:null},e))}function d(e){return Object(l.b)(e,"item")}},1495:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}))
var r=n(34)
function i(e){return(e=e.toLowerCase()).includes("//")&&(e=e.split("//")[1]),e}function s(e){return(e||"https://hub.arcgis.com")+"/api/v3/domains"}function a(e){const t={},n=Object(r.a)(e,"authentication.token")
return n&&(t.Authorization=n),t}function o(e,t){if(t.isPortal)throw new Error("domainExists is not available in ArcGIS Enterprise.")
e=i(e)
const n=`${s(t.hubApiUrl)}/${e}`,r=a(t)
return fetch(n,{method:"GET",headers:r,mode:"cors"}).then(e=>404!==e.status)}},1497:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b}))
var r=n(988),i=n(23),s=n(1150)
function a(e,t){return[e,t]}function o(e,t,n){return e[0]=t,e[1]=n,e}const l=new s.a("0/0/0/0")
class c{static create(e,t,n=null){const s=Object(r.e)(e.spatialReference),l=t.origin||a(e.origin.x,e.origin.y),u=a(e.size[0]*t.resolution,e.size[1]*t.resolution),d=a(-1/0,-1/0),h=a(1/0,1/0),p=a(1/0,1/0)
Object(i.l)(n)&&(o(d,Math.max(0,Math.floor((n.xmin-l[0])/u[0])),Math.max(0,Math.floor((l[1]-n.ymax)/u[1]))),o(h,Math.max(0,Math.floor((n.xmax-l[0])/u[0])),Math.max(0,Math.floor((l[1]-n.ymin)/u[1]))),o(p,h[0]-d[0]+1,h[1]-d[1]+1))
const{cols:f,rows:b}=t
let m,y,g,v
return!n&&f&&b&&(o(d,f[0],b[0]),o(h,f[1],b[1]),o(p,f[1]-f[0]+1,b[1]-b[0]+1)),e.isWrappable?(m=a(Math.ceil(Math.round((s.valid[1]-s.valid[0])/t.resolution)/e.size[0]),p[1]),y=a(Math.floor((s.origin[0]-l[0])/u[0]),d[1]),g=a(m[0]+y[0]-1,h[1]),v=!0):(y=d,g=h,m=p,v=!1),new c(t.level,t.resolution,t.scale,l,d,h,p,u,y,g,m,v)}constructor(e,t,n,r,i,s,a,o,l,c,u,d){this.level=e,this.resolution=t,this.scale=n,this.origin=r,this.first=i,this.last=s,this.size=a,this.norm=o,this.worldStart=l,this.worldEnd=c,this.worldSize=u,this.wrap=d}normalizeCol(e){if(!this.wrap)return e
const t=this.worldSize[0]
return e<0?t-1-Math.abs((e+1)%t):e%t}denormalizeCol(e,t){return this.wrap?this.worldSize[0]*t+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){return this.origin[0]+e*this.norm[0]}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,t,n=!1){l.set(t)
const r=n?l.col:this.denormalizeCol(l.col,l.world),i=l.row
return function(e,t,n,r,i){e[0]=t,e[1]=n,e[2]=r,e[3]=i}(e,this.getXForColumn(r),this.getYForRow(i+1),this.getXForColumn(r+1),this.getYForRow(i)),e}getTileCoords(e,t,n=!1){l.set(t)
const r=n?l.col:this.denormalizeCol(l.col,l.world)
return Array.isArray(e)?o(e,this.getXForColumn(r),this.getYForRow(l.row)):(e.x=this.getXForColumn(r),e.y=this.getYForRow(l.row)),e}}var u=n(1418)
class d{constructor(e,t,n){this.row=e,this.colFrom=t,this.colTo=n}}const h=new s.a("0/0/0/0")
class p{static create(e,t){e[1]>t[1]&&([e,t]=[t,e])
const[n,r]=e,[i,s]=t,a=i-n,o=s-r,l=0!==o?a/o:0,c=(Math.ceil(r)-r)*l,u=(Math.floor(r)-r)*l
return new p(n,Math.floor(r),Math.ceil(s),l,a<0?c:u,a<0?u:c,a<0?i:n,a<0?n:i)}constructor(e,t,n,r,i,s,a,o){this.x=e,this.ymin=t,this.ymax=n,this.invM=r,this.leftAdjust=i,this.rightAdjust=s,this.leftBound=a,this.rightBound=o}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const f=[[0,0],[0,0],[0,0],[0,0]]
class b{constructor(e,t=null){this.tileInfo=e,this.fullExtent=t,this.scales=[],this._infoByScale={},this._infoByLevel={}
const n=e.lods.slice()
n.sort((e,t)=>t.scale-e.scale)
const r=this._lodInfos=n.map(n=>c.create(e,n,t))
n.forEach((e,t)=>{this._infoByLevel[e.level]=r[t],this._infoByScale[e.scale]=r[t],this.scales[t]=e.scale},this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,n=!1){h.set(t)
const r=this._infoByLevel[h.level]
return r?r.getTileBounds(e,h,n):e}getTileCoords(e,t,n=!1){h.set(t)
const r=this._infoByLevel[h.level]
return r?r.getTileCoords(e,h,n):e}getTileCoverage(e,t=192,n="closest"){const r="closest"===n?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),i=u.a.pool.acquire(r),s=this._wrap
let a,o,l,c=1/0,h=-1/0
const b=i.spans
f[0][0]=f[0][1]=f[1][1]=f[3][0]=-t,f[1][0]=f[2][0]=e.size[0]+t,f[2][1]=f[3][1]=e.size[1]+t
for(const t of f)e.toMap(t,t),t[0]=r.getColumnForX(t[0]),t[1]=r.getRowForY(t[1])
const m=[]
let y=3
for(let e=0;e<4;e++){if(f[e][1]===f[y][1]){y=e
continue}const t=p.create(f[e],f[y])
c=Math.min(t.ymin,c),h=Math.max(t.ymax,h),void 0===m[t.ymin]&&(m[t.ymin]=[]),m[t.ymin].push(t),y=e}if(null==c||null==h||h-c>100)return null
let g=[]
for(a=c;a<h;){null!=m[a]&&(g=g.concat(m[a])),o=1/0,l=-1/0
for(let e=g.length-1;e>=0;e--){const t=g[e]
o=Math.min(o,t.getLeftCol()),l=Math.max(l,t.getRightCol())}if(o=Math.floor(o),l=Math.floor(l),a>=r.first[1]&&a<=r.last[1])if(s)if(r.size[0]<r.worldSize[0]){const e=Math.floor(l/r.worldSize[0])
for(let t=Math.floor(o/r.worldSize[0]);t<=e;t++)b.push(new d(a,Math.max(r.getFirstColumnForWorld(t),o),Math.min(r.getLastColumnForWorld(t),l)))}else b.push(new d(a,o,l))
else o>r.last[0]||l<r.first[0]||(o=Math.max(o,r.first[0]),l=Math.min(l,r.last[0]),b.push(new d(a,o,l)))
a+=1
for(let e=g.length-1;e>=0;e--){const t=g[e]
t.ymax>=a?t.incrRow():g.splice(e,1)}}return i}getTileParentId(e){h.set(e)
const t=this._infoByLevel[h.level],n=this._lodInfos.indexOf(t)-1
return n<0?null:(this._getTileIdAtLOD(h,this._lodInfos[n],h),h.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e]
return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level]
return t?t.scale:-1}intersects(e,t){h.set(t)
const n=this._infoByLevel[h.level],r=e.lodInfo
if(r.resolution>n.resolution){this._getTileIdAtLOD(h,r,h)
const t=r.denormalizeCol(h.col,h.world)
for(const n of e.spans)if(n.row===h.row&&n.colFrom<=t&&n.colTo>=t)return!0}if(r.resolution<n.resolution){const[t,i,s,a]=e.spans.reduce((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e),[1/0,-1/0,1/0,-1/0]),o=n.denormalizeCol(h.col,h.world),l=r.getColumnForX(n.getXForColumn(o)),c=r.getRowForY(n.getYForRow(h.row)),u=r.getColumnForX(n.getXForColumn(o+1))-1,d=r.getRowForY(n.getYForRow(h.row+1))-1
return!(l>a||u<s||c>i||d<t)}const i=r.denormalizeCol(h.col,h.world)
return e.spans.some(e=>e.row===h.row&&e.colFrom<=i&&e.colTo>=i)}normalizeBounds(e,t,n){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){const t=Object(r.e)(this.tileInfo.spatialReference),i=-n*(t.valid[1]-t.valid[0])
e[0]+=i,e[2]+=i}return e}getSmallestInfoForScale(e){const t=this.scales
if(this._infoByScale[e])return this._infoByScale[e]
if(e>t[0])return this._infoByScale[t[0]]
for(let n=1;n<t.length-1;n++)if(e>t[n]+1e-6)return this._infoByScale[t[n-1]]
return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales
return this._infoByScale[e]||(e=t.reduce((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t,t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales
if(this._infoByScale[e])return this._infoByScale[e].level
for(let n=t.length-1;n>=0;n--)if(e<t[n])return n===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[n]].level+(t[n]-e)/(t[n]-t[n+1])
return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}_getTileIdAtLOD(e,t,n){const r=this._infoByLevel[n.level]
return e.set(n),t.resolution<r.resolution?null:(t.resolution===r.resolution||(e.level=t.level,e.col=Math.floor(n.col*r.resolution/t.resolution+.01),e.row=Math.floor(n.row*r.resolution/t.resolution+.01)),e)}}},1500:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(23),i=n(973),s=n(1208),a=n(1024)
class o{constructor(e,t){this.item=e,this.controller=t,this.promise=null}}class l{constructor(e){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new s.a(e.peeker),this.process=e.process
const t=e.scheduler
e.priority&&Object(r.l)(t)&&(this._task=t.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(e){const t=this._controllers.get(e)
t&&t.abort()}clear(){this._queue.clear()
const e=[]
this._controllers.forEach(t=>e.push(t)),this._controllers.clear(),e.forEach(e=>e.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((t,n)=>e(n))}get(e){const t=this._deferreds.get(e)
return t?t.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(e,t){const n=this.get(e)
if(n)return n
const s=new AbortController
let a=null
t&&(a=Object(i.n)(t,()=>s.abort()))
const o=()=>{l.remove(),Object(r.l)(a)&&a.remove(),this._deferreds.delete(e),this._controllers.delete(e),this._queue.remove(e),this._processingItems.delete(e),this._scheduleNext()},l=Object(i.o)(s.signal,()=>{const t=this._processingItems.get(e)
t&&t.controller.abort(),o(),c.reject(Object(i.c)())}),c=Object(i.d)()
return this._deferreds.set(e,c),this._controllers.set(e,s),c.promise.then(o,o),this._queue.push(e),this._scheduleNext(),c.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const e=[]
this._processingItems.forEach(t=>e.push(t)),this._processingItems.clear()
for(const t of e)this._queue.push(t.item),t.controller.abort()
this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const e=[]
for(;this._queue.length;)e.push(this._queue.pop())
return this.clear(),e}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=Object(a.b)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}_processError(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(Object(r.k)(e))return
let t
const n=new AbortController,s=new o(e,n)
this._processingItems.set(e,s)
try{t=this.process(e,n.signal)}catch(e){this._processError(s,e)}Object(i.l)(t)?(s.promise=t,t.then(e=>this._processResult(s,e),e=>this._processError(s,e))):this._processResult(s,t)}get test(){return{update:e=>this.runTask(e)}}}},1505:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return v}))
var r=n(782),i=n(110),s=n(993),a=n(233),o=n(23),l=n(374),c=n(971),u=n(780)
const d=a.a.getLogger("esri.support.basemapUtils")
function h(){return{}}function p(e){for(const t in e){const n=e[t]
!1===(null==n?void 0:n.destroyed)&&n.destroy(),delete e[t]}}function f(e,t){var n
let s
if("string"==typeof e){if(!(e in u.esriBasemapDefinitions)){const t=Object.entries(u.esriBasemapDefinitions).filter(([e,t])=>i.default.apiKey&&!t.classic||!i.default.apiKey&&t.classic&&!t.deprecated).map(([e])=>`"${e}"`).join(", ")
return d.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`),null}t&&(s=t[e]),s||(s=r.default.fromId(e),t&&(t[e]=s))}else s=Object(c.m)(r.default,e)
return null!=(n=s)&&n.destroyed&&(d.warn("The provided basemap is already destroyed",{basemap:s}),s=null),s}function b(e,t=null){const n=f(e)
if(!n)return null
const i=new r.default({id:n.id,title:n.title,baseLayers:n.baseLayers.slice(),referenceLayers:n.referenceLayers.slice()})
return t&&(i.baseLayers=y(i.baseLayers,t.baseLayers),i.referenceLayers=y(i.referenceLayers,t.referenceLayers)),i.load().catch(()=>{}),i.portalItem=n.portalItem,i}function m(e){let t=null
const n=function(e){return e?!e.loaded&&e.resourceInfo?x(e.resourceInfo.data):{baseLayers:_(e.baseLayers),referenceLayers:_(e.referenceLayers)}:null}(e),r=!(null!=n&&n.baseLayers.length)
for(const e in u.esriBasemapDefinitions){const i=I(n,x(u.esriBasemapDefinitions[e]),{mustMatchReferences:r})
if("equal"===i){t=e
break}"base-layers-equal"===i&&(t=e)}return t}function y(e,t){const n=new s.a
return e.forEach(e=>{const r=t.find(t=>E(S(e),S(t)))||e
n.includes(r)?n.push(e):n.push(r)}),n}function g(e){return!(null==e||!e.baseLayers.concat(e.referenceLayers).some(v))}function v(e){if(w(e.url))return!0
if("vector-tile"===e.type)for(const n in e.sourceNameToSource){var t
if(w(null==(t=e.sourceNameToSource[n])?void 0:t.sourceUrl))return!0}return!1}function O(e,t){var n,r,i
if(Object(o.k)(t)||Object(o.k)(e))return{spatialReference:null,updating:!1}
if("not-loaded"===t.loadStatus)return t.load(),{spatialReference:null,updating:!0}
if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1}
if(0===t.baseLayers.length)return{spatialReference:null,updating:!1}
const s=t.baseLayers.getItemAt(0)
switch(s.loadStatus){case"not-loaded":s.load()
case"loading":return{spatialReference:null,updating:!0}
case"failed":return{spatialReference:null,updating:!1}}const a=(("supportedSpatialReferences"in s?s.supportedSpatialReferences:null)||["tileInfo"in s?null==(n=s.tileInfo)?void 0:n.spatialReference:s.spatialReference]).filter(Boolean),l=e.spatialReference
return l?{spatialReference:null!=(r=null!=(i=a.find(e=>l.equals(e)))?i:a[0])?r:null,updating:!1}:{spatialReference:a[0],updating:!1}}const j=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i
function w(e){if(!e)return!1
const t=new l.a(Object(l.F)(e))
return!!t.authority&&j.test(t.authority)}function _(e){return(s.a.isCollection(e)?e.toArray():e).map(S)}function S(e){var t,n
return{type:e.type,url:k("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||!Object(o.l)(e.sublayers)||null==(t=e.sublayers)?void 0:t.map(e=>({id:e.id,visible:e.visible})),activeLayerId:"wmts"===e.type?null==(n=e.activeLayer)?void 0:n.id:void 0}}function x(e){var t,n
return e?{baseLayers:T((null!=(t=e.baseMapLayers)?t:[]).filter(e=>!e.isReference)),referenceLayers:T((null!=(n=e.baseMapLayers)?n:[]).filter(e=>e.isReference))}:null}function T(e){return e.map(e=>function(e){let t
switch(e.layerType){case"VectorTileLayer":t="vector-tile"
break
case"ArcGISTiledMapServiceLayer":t="tile"
break
default:t="unknown"}return{type:t,url:k(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}(e))}function I(e,t,n){return null!=e!=(null!=t)?"not-equal":e&&t?M(e.baseLayers,t.baseLayers)?M(e.referenceLayers,t.referenceLayers)?"equal":n.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function M(e,t){if(e.length!==t.length)return!1
for(let n=0;n<e.length;n++)if(!E(e[n],t[n]))return!1
return!0}function E(e,t){if(e.type!==t.type||"scene"===e.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1
if(Object(o.l)(e.activeLayerId)||Object(o.l)(t.activeLayerId))return e.activeLayerId===t.activeLayerId
if(Object(o.l)(e.sublayers)||Object(o.l)(t.sublayers)){if(Object(o.k)(e.sublayers)||Object(o.k)(t.sublayers)||e.sublayers.length!==t.sublayers.length)return!1
for(let n=0;n<e.sublayers.length;n++){const r=e.sublayers.at(n),i=t.sublayers.at(n)
if((null==r?void 0:r.id)!==(null==i?void 0:i.id)||(null==r?void 0:r.visible)!==(null==i?void 0:i.visible))return!1}}return!0}function k(e){return e?Object(l.I)(e).replace(/^\s*https?:/i,"").toLowerCase():""}},1506:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n(1083)
var r=n(1038)
const i=/^-?(\d+)(\.(\d+))?$/i
function s(e,t){return e-t}function a(e,t){let n,r
return n=Number(e.toFixed(t)),n<e?r=n+1/10**t:(r=n,n-=1/10**t),n=Number(n.toFixed(t)),r=Number(r.toFixed(t)),[n,r]}function o(e,t,n,r,i){const s=c(e,t,n,r),a=null==s.previous||s.previous<=i,o=null==s.next||s.next<=i
return a&&o||s.previous+s.next<=2*i}function l(e){const t=String(e),n=t.match(i)
if(n&&n[1])return{integer:n[1].split("").length,fractional:n[3]?n[3].split("").length:0}
if(t.toLowerCase().includes("e")){const e=t.split("e"),n=e[0],r=e[1]
if(n&&r){const e=Number(n)
let t=Number(r)
const i=t>0
i||(t=Math.abs(t))
const s=l(e)
return i?(s.integer+=t,t>s.fractional?s.fractional=0:s.fractional-=t):(s.fractional+=t,t>s.integer?s.integer=1:s.integer-=t),s}}return{integer:0,fractional:0}}function c(e,t,n,r){const i={previous:null,next:null}
if(null!=n){const r=e-n,s=t-n-r
i.previous=Math.floor(Math.abs(100*s/r))}if(null!=r){const n=r-e,s=r-t-n
i.next=Math.floor(Math.abs(100*s/n))}return i}function u(e,t={}){const n=e.slice(0),{tolerance:r=2,strictBounds:i=!1,indexes:c=n.map((e,t)=>t)}=t
c.sort(s)
for(let e=0;e<c.length;e++){const t=c[e],s=n[t],u=0===t?null:n[t-1],d=t===n.length-1?null:n[t+1],h=l(s).fractional
if(h){let l,c=0,p=!1
for(;c<=h&&!p;){const t=a(s,c)
l=i&&0===e?t[1]:t[0],p=o(s,l,u,d,r),c++}p&&(n[t]=l)}}return n}const d={maximumFractionDigits:20}
function h(e){return Object(r.b)(e,d)}},1507:function(e,t,n){"use strict"
n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return F})),n.d(t,"h",(function(){return w}))
var r=n(990),i=n(235),s=n(23),a=n(1192),o=n(1215),l=(n(998),n(1018))
let c=0,u=0
const d=Object(i.a)("android"),h=Object(i.a)("chrome")||d&&d>=4?"auto":"optimizeLegibility",p={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},f=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g
let b={},m={}
const y={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},g=Math.PI
let v=1
function O(e,t){const n=e*(g/180)
return Math.abs(t*Math.sin(n))+Math.abs(t*Math.cos(n))}function j(e){return e.map(e=>`${e.command} ${e.values.join(" ")}`).join(" ").trim()}function w(e,t,n,r){if(e){if("circle"===e.type)return Object(l.a)("circle",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-dashoffset":n.dashOffset,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r})
if("ellipse"===e.type)return Object(l.a)("ellipse",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry})
if("rect"===e.type)return Object(l.a)("rect",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height})
if("image"===e.type)return Object(l.a)("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"})
if("path"===e.type){const r="string"!=typeof e.path?j(e.path):e.path
return Object(l.a)("path",{fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",d:r})}if("text"===e.type)return Object(s.c)(r),Object(l.a)("text",{"dominant-baseline":r.dominantBaseline,fill:t,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4","text-anchor":r.align,"text-decoration":r.decoration,kerning:r.kerning,rotate:r.rotate,"text-rendering":h,"font-style":r.font.style,"font-variant":r.font.variant,"font-weight":r.font.weight,"font-size":r.font.size,"font-family":r.font.family,x:e.x,y:e.y},e.text)}return null}function _(e){const t={fill:"none",pattern:null,linearGradient:null}
if(e)if("type"in e&&"pattern"===e.type){const n="patternId-"+ ++c
t.fill=`url(#${n})`,t.pattern={id:n,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&"linear"===e.type){const n="linearGradientId-"+ ++u
t.fill=`url(#${n})`,t.linearGradient={id:n,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(e=>({offset:e.offset,color:e.color&&new r.a(e.color).toString()}))}}else if(e){const n=new r.a(e)
t.fill=n.toString()}return t}function S(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"}
if(e&&(null!=e.width&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new r.a(e.color).toString()),e.dashArray&&(t.dashArray=e.dashArray),e.dashArray&&(t.dashOffset=e.dashoffset),e.style)){let r=null
if(e.style in y&&(r=y[e.style]),Array.isArray(r)){var n
r=r.slice(0)
const t=null!=(n=e.width)?n:0
for(let e=0;e<r.length;++e)r[e]*=t
if("butt"!==e.cap){for(let e=0;e<r.length;e+=2)r[e]-=t,r[e]<1&&(r[e]=1)
for(let e=1;e<r.length;e+=2)r[e]+=t}r=r.join(",")}t.dashArray=r}return t}function x(e,t){const n={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}}
if(e){const r=e.alignBaseline,i="baseline"===r?"auto":"top"===r?"text-top":"bottom"===r?"hanging":r
n.align=e.align,n.dominantBaseline=i,n.decoration=e.decoration,n.kerning=e.kerning?"auto":"0",n.rotate=e.rotated?"90":"0",Object(s.c)(t),n.font.style=t.style||"normal",n.font.variant=t.variant||"normal",n.font.weight=t.weight||"normal",n.font.size=t.size&&t.size.toString()||"10pt",n.font.family=t.family||"serif"}return n}function T(e){const{pattern:t,linearGradient:n}=e
if(t)return Object(l.a)("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},Object(l.a)("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}))
if(n){const e=n.stops.map((e,t)=>Object(l.a)("stop",{key:t+"-stop",offset:e.offset,"stop-color":e.color}))
return Object(l.a)("linearGradient",{id:n.id,gradientUnits:"userSpaceOnUse",x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},e)}return null}function I(e,t){if(!e)return null
const n=[]
for(const t of e){const{shape:e,fill:r,stroke:i,font:s}=t,a=_(r),o=S(i),l="text"===e.type?x(e,s):null,c=w(e,a.fill,o,l)
c&&n.push(c)}return Object(l.a)("mask",{id:t,maskUnits:"userSpaceOnUse"},Object(l.a)("g",null,n))}function M(e,t,n){return Object(o.j)(e,Object(o.f)(e),[t,n])}function E(e,t,n,r,i){return Object(o.i)(e,Object(o.f)(e),[t,n]),e[4]=e[4]*t-r*t+r,e[5]=e[5]*n-i*n+i,e}function k(e,t){b&&"left"in b?(null!=b.left&&b.left>e&&(b.left=e),(null==b.right||b.right<e)&&(b.right=e),(null==b.top||b.top>t)&&(b.top=t),(null==b.bottom||b.bottom<t)&&(b.bottom=t)):b={left:e,bottom:t,right:e,top:t}}function C(e){const t=e.args,n=t.length
let r
switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(r=0;r<n;r+=2)k(t[r],t[r+1])
m.x=t[n-2],m.y=t[n-1]
break
case"H":for(r=0;r<n;++r)k(t[r],m.y)
m.x=t[n-1]
break
case"V":for(r=0;r<n;++r)k(m.x,t[r])
m.y=t[n-1]
break
case"m":{let e=0
"x"in m||(k(m.x=t[0],m.y=t[1]),e=2)
for(r=e;r<n;r+=2)k(m.x+=t[r],m.y+=t[r+1])
break}case"l":case"t":for(r=0;r<n;r+=2)k(m.x+=t[r],m.y+=t[r+1])
break
case"h":for(r=0;r<n;++r)k(m.x+=t[r],m.y)
break
case"v":for(r=0;r<n;++r)k(m.x,m.y+=t[r])
break
case"c":for(r=0;r<n;r+=6)k(m.x+t[r],m.y+t[r+1]),k(m.x+t[r+2],m.y+t[r+3]),k(m.x+=t[r+4],m.y+=t[r+5])
break
case"s":case"q":for(r=0;r<n;r+=4)k(m.x+t[r],m.y+t[r+1]),k(m.x+=t[r+2],m.y+=t[r+3])
break
case"A":for(r=0;r<n;r+=7)k(t[r+5],t[r+6])
m.x=t[n-2],m.y=t[n-1]
break
case"a":for(r=0;r<n;r+=7)k(m.x+=t[r+5],m.y+=t[r+6])}}function A(e,t,n){const r=p[e.toLowerCase()]
let i
"number"==typeof r&&(r?t.length>=r&&(i={action:e,args:t.slice(0,t.length-t.length%r)},n.push(i),C(i)):(i={action:e,args:[]},n.push(i),C(i)))}function L(e){const t={x:0,y:0,width:0,height:0}
if("circle"===e.type)t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r
else if("ellipse"===e.type)t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry
else if("image"===e.type||"rect"===e.type)t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height
else if("path"===e.type){const n=Object(s.w)(function(e){const t=("string"!=typeof e.path?j(e.path):e.path).match(f),n=[]
if(b={},m={},!t)return null
let r="",i=[]
const s=t.length
for(let e=0;e<s;++e){const s=t[e],a=parseFloat(s)
isNaN(a)?(r&&A(r,i,n),i=[],r=s):i.push(a)}A(r,i,n)
const a={x:0,y:0,width:0,height:0}
return b&&"left"in b&&(a.x=b.left,a.y=b.top,a.width=b.right-b.left,a.height=b.bottom-b.top),a}(e))
t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height}return t}function R(e){const t={x:0,y:0,width:0,height:0}
let n=null,r=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY
for(const s of e)n?(n.x=Math.min(n.x,s.x),n.y=Math.min(n.y,s.y),r=Math.max(r,s.x+s.width),i=Math.max(i,s.y+s.height)):(n=t,n.x=s.x,n.y=s.y,r=s.x+s.width,i=s.y+s.height)
return n&&(n.width=r-n.x,n.height=i-n.y),n}function P(e,t,n,r,i,s,l,c,u){let d=(l&&s?O(s,t):t)/2,h=(l&&s?O(s,n):n)/2
if(u){const e=u[0],t=u[1]
d=(l&&s?O(s,e):e)/2,h=(l&&s?O(s,t):t)/2}const p=e.width+r,f=e.height+r,b=Object(a.a)(),m=Object(a.a)()
let y=!1
if(i&&0!==p&&0!==f){const e=t!==n?t/n:p/f,r=t>n?t:n
let i=1,s=1
isNaN(r)||(e>1?(i=r/p,s=r/e/f):(s=r/f,i=r*e/p)),Object(o.g)(m,m,E(b,i,s,d,h)),y=!0}const g=e.x+(p-r)/2,v=e.y+(f-r)/2
if(Object(o.g)(m,m,M(b,d-g,h-v)),!y&&(p>t||f>n)){const e=p/t>f/n,r=(e?t:n)/(e?p:f)
Object(o.g)(m,m,E(b,r,r,g,v))}return s&&Object(o.g)(m,m,function(e,t,n,r){const i=t%360*Math.PI/180
Object(o.h)(e,Object(o.f)(e),i)
const s=Math.cos(i),a=Math.sin(i),l=e[4],c=e[5]
return e[4]=l*s-c*a+r*a-n*s+n,e[5]=c*s+l*a-n*a-r*s+r,e}(b,s,g,v)),c&&Object(o.g)(m,m,M(b,c[0],c[1])),`matrix(${m[0]},${m[1]},${m[2]},${m[3]},${m[4]},${m[5]})`}function F(e,t,n,r={}){const i=[],a=[],o=++v,c=function(e,t,n){const r=null==e?void 0:e.effects.find(e=>"bloom"===e.type)
if(!r)return null
const{strength:i,radius:s}=r,a=i>0?s:0,o=(i+a)*t,c=4*i+1
return Object(l.a)("filter",{id:"bloom"+n,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},Object(l.a)("feMorphology",{operator:"dilate",radius:(i+.5*a)*(5**(t/100)*(.4+t/100)),in:"SourceGraphic",result:"dilate"}),Object(l.a)("feGaussianBlur",{in:"dilate",stdDeviation:o/25,result:"blur"}),Object(l.a)("feGaussianBlur",{in:"blur",stdDeviation:o/50,result:"intensityBlur"}),Object(l.a)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},Object(l.a)("feFuncR",{type:"linear",slope:c}),Object(l.a)("feFuncG",{type:"linear",slope:c}),Object(l.a)("feFuncB",{type:"linear",slope:c})),Object(l.a)("feMerge",null,Object(l.a)("feMergeNode",{in:"intensityBlur"}),Object(l.a)("feMergeNode",{in:"intensityBrightness"}),Object(l.a)("feGaussianBlur",{stdDeviation:i/10})))}(r.effectView,t,o)
let u=null
if(c){var d
const e=null==(d=r.effectView)?void 0:d.effects.find(e=>"bloom"===e.type),i=(e.strength?e.strength+e.radius/2:0)/3,s=t+t*i,a=n+n*i
u=[Math.max(s,10),Math.max(a,10)]}for(let o=0;o<e.length;o++){var h,p
const c=e[o],d=[],f=[]
let b=0,m=0,y=0
for(const e of c){const{shape:t,fill:n,stroke:s,font:a,offset:o}=e
r.ignoreStrokeWidth||(b+=s&&s.width||0)
const l=_(n),c=S(s),u="text"===t.type?x(t,a):null
i.push(T(l)),d.push(w(t,l.fill,c,u)),f.push(L(t)),o&&(m+=o[0],y+=o[1])}const g=P(Object(s.w)(R(f)),t,n,b,null!=(h=r.scale)&&h,r.rotation,null!=(p=r.useRotationSize)&&p,[m,y],u)
let v=null
if(r.masking){const e="mask-"+o,t=r.masking[o]
i.push(I(t,e)),v=`url(#${e})`}a.push(v?Object(l.a)("g",{mask:v},Object(l.a)("g",{transform:g},d)):Object(l.a)("g",{transform:g},d))}return r.useRotationSize&&r.rotation&&(t=O(r.rotation,t),n=O(r.rotation,n)),c&&(Object(s.c)(u),t=u[0],n=u[1]),Object(l.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,style:"display: block;"},c,Object(l.a)("defs",null,i),c?Object(l.a)("g",{filter:`url(#bloom${o})`},a):a)}},1508:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r=n(968),i=n(975),s=n(970),a=(n(971),n(445),n(969))
let o=class extends i.a{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===e.mapping?this._detectedDeviceType="standard":l.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[]
return null!=this.nativeIndex&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return c[this.deviceType]}}
Object(r.a)([Object(s.b)({nonNullable:!0,readOnly:!0})],o.prototype,"nativeIndex",void 0),Object(r.a)([Object(s.b)({type:String,readOnly:!0})],o.prototype,"deviceType",null),Object(r.a)([Object(s.b)({type:Number,readOnly:!0})],o.prototype,"axisThreshold",null),o=Object(r.a)([Object(a.a)("esri.views.input.gamepad.GamepadInputDevice")],o)
const l=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),c={standard:.15,spacemouse:.025,unknown:0},u=o},1509:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}))
var r=n(1166),i=n(1110),s=n(23),a=n(1053),o=n(1359)
const l={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35}
class c extends a.a{constructor(e=l.maximumDoubleClickDelay,t=l.maximumDoubleClickDistance,n=l.maximumDoubleTouchDelay,i=l.maximumDoubleTouchDistance,s=r.a){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(e=>e.doubleClickTimer=Object(s.s)(e.doubleClickTimer))}get hasPendingInputs(){return Object(i.c)(this._pointerState,e=>null!=e.doubleClickTimer)}_clearDoubleClickTimer(e,t){const n=this._pointerState.get(e)
n&&(n.doubleClickTimer=Object(s.s)(n.doubleClickTimer),t&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e)
1===t.pointerDownCount&&this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_getPointerId(e){const{pointerId:t,pointerType:n,button:r}=e.native
return"mouse"===n?`${t}:${r}`:""+n}_handleImmediateClick(e){const t=e.data,{pointerType:n}=t.native,r=this._getPointerId(t)
if(!this._pointerState.has(r))return void this._startClick(e)
const i=this._pointerState.get(r),{data:s,modifiers:a}=i.event,l="touch"===n?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance
Object(o.d)(s,t)>l?(this._clearDoubleClickTimer(r,!0),this._startClick(e)):(this._clearDoubleClickTimer(r,!1),2===i.pointerDownCount&&this._doubleClick.emit(s,void 0,a))}_handlePointerDown(e){const t=Object(o.c)(e.data),n=this._pointerState.get(t)
n&&(n.pointerDownCount+=1)}_startClick(e){const{data:t}=e,{native:{pointerType:n}}=t,r=Object(o.c)(t),i="touch"===n?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,s=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(r),i)
this._pointerState.set(r,{event:e,doubleClickTimer:s,pointerDownCount:1}),this.refreshHasPendingInputs()}}},1517:function(e,t,n){"use strict"
n.d(t,"a",(function(){return I}))
var r,i=n(968),s=n(990),a=n(993),o=n(1179),l=n(1090),c=n(446),u=n(972),d=n(234),h=n(1046),p=n(1329),f=n(233),b=n(973),m=n(970),y=n(971),g=n(969),v=n(974),O=(n(445),n(235),n(979))
let j=r=class extends u.a{constructor(e){super(e),this.type="none"}clone(){return new r({type:this.type})}}
Object(i.a)([Object(O.a)({none:"none",stayAbove:"stay-above"})],j.prototype,"type",void 0),j=r=Object(i.a)([Object(g.a)("esri.ground.NavigationConstraint")],j)
var w,_=n(1243),S=n(1119)
let x=w=class extends(Object(u.b)(h.a)){constructor(e){super(e),this.opacity=1,this.shading=!_.a.TERRAIN_USE_LEGACY_SHADING,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new a.a
const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&f.a.getLogger(this.declaredClass).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)}
this.layers.on("after-add",e=>t(e.item)),this.layers.on("after-remove",e=>(e=>{e.parent=null})(e.item))}initialize(){this.when().catch(e=>{f.a.getLogger(this.declaredClass).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll()
for(const t of e)t.destroy()
this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",Object(o.b)(e,this._get("layers")))}writeLayers(e,t,n,r){const i=[]
e?(r={...r,layerContainerType:"ground"},e.forEach(e=>{if("write"in e){const t={}
Object(l.b)(e)().write(t,r)&&i.push(t)}else r&&r.messages&&r.messages.push(new c.a("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))}),t.layers=i):t.layers=i}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return Object(p.a)(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:null==t?void 0:t.signal})
const{ElevationQuery:r}=await Promise.all([n.e(1),n.e(74)]).then(n.bind(null,2685))
Object(b.q)(t)
const i=new r,s=this.layers.filter(T).toArray()
return i.queryAll(s,e,t)}async createElevationSampler(e,t){await this.load({signal:null==t?void 0:t.signal})
const{ElevationQuery:r}=await Promise.all([n.e(1),n.e(74)]).then(n.bind(null,2685))
Object(b.q)(t)
const i=new r,s=this.layers.filter(T).toArray()
return i.createSamplerAll(s,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:Object(d.a)(this.surfaceColor),navigationConstraint:Object(d.a)(this.navigationConstraint),layers:this.layers.slice()}
return this.loaded&&(e.loadStatus="loaded"),new w({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo
return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}_loadLayersFromJSON(e,t,r){const i=t&&t.origin||"web-scene",s=t&&t.portal||null,a=t&&t.url||null
return Promise.all([n.e(1),n.e(277)]).then(n.bind(null,1781)).then(({populateOperationalLayers:t})=>{Object(b.q)(r)
const n=[]
if(e.layers&&Array.isArray(e.layers)){const r={context:{origin:i,url:a,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}
n.push(t(this.layers,e.layers,r))}return Object(b.g)(n)}).then(()=>{})}}
function T(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}Object(i.a)([Object(m.b)({json:{read:!1}})],x.prototype,"layers",null),Object(i.a)([Object(v.a)("layers")],x.prototype,"writeLayers",null),Object(i.a)([Object(m.b)({readOnly:!0})],x.prototype,"resourceInfo",void 0),Object(i.a)([Object(m.b)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:y.a,read:{reader:S.b,source:"transparency"},write:{writer:(e,t)=>{t.transparency=Object(S.a)(e)},target:"transparency"}}})],x.prototype,"opacity",void 0),Object(i.a)([Object(m.b)({type:Boolean,nonNullable:!0,json:{read:!1}})],x.prototype,"shading",void 0),Object(i.a)([Object(m.b)({type:s.a,json:{type:[y.a],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],x.prototype,"surfaceColor",void 0),Object(i.a)([Object(m.b)({type:j,json:{write:!0}})],x.prototype,"navigationConstraint",void 0),x=w=Object(i.a)([Object(g.a)("esri.Ground")],x)
const I=x},1518:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h}))
var r=n(446),i=n(234),s=n(23),a=n(146),o=n(1364),l=n(1037)
const c=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),u=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","route","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"])
function d(e,t){var n,r
"maxScale"in e&&(t.maxScale=null!=(n=Object(o.b)(e.maxScale))?n:void 0),"minScale"in e&&(t.minScale=null!=(r=Object(o.b)(e.minScale))?r:void 0)}function h(e,t,n){if(!("write"in e)||!e.write)return n&&n.messages&&n.messages.push(new r.a("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null
if(function(e,t){if(t.restrictedWebMapWriting){const n=function(e){return"basemap"===e.layerContainerType?c:"operational-layers"===e.layerContainerType?u:null}(t)
return!Object(s.l)(n)||n.has(e.type)&&!Object(l.f)(e)}return!0}(e,n)){const t={}
return e.write(t,n)?t:null}return Object(s.l)(t)&&function(e,t){var n
if(function(e,t){if(t)if(Object(l.f)(e)){const n=Object(a.b)("featureCollection.layers",t),r=n&&n[0]&&n[0].layerDefinition
r&&d(e,r)}else"stream"===e.type?d(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&d(e,t)}(e,t),t&&("blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=null!=(n=Object(o.b)(e.opacity))?n:void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if(Object(l.f)(e)){const n=t.featureCollection
n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=Object(i.a)(t)),t}},1519:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'")
throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1519},1520:function(e,t,n){"use strict"
n.r(t),n.d(t,"getPatternDescriptor",(function(){return T})),n.d(t,"getSizeFromOptions",(function(){return C})),n.d(t,"getSymbolLayerFill",(function(){return x})),n.d(t,"previewSymbol3D",(function(){return A}))
var r=n(1019),i=n(1348),s=(n(235),n(446)),a=n(233),o=n(23),l=n(973),c=n(980),u=n(1275),d=n(1839),h=n(1785),p=n(1485),f=n(1490),b=n(1191),m=n(1656)
const y=p.a.size,g=p.a.maxSize,v=p.a.maxOutlineSize,O=p.a.lineWidth,j=p.a.tallSymbolWidth
function w(e){const t=e.outline,n=Object(o.l)(e.material)?e.material.color:null,r=Object(o.l)(n)?n.toHex():null
if(Object(o.k)(t)||"pattern"in t&&Object(o.l)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style)return"fill"===e.type&&"#ffffff"===r?{color:"#bdc3c7",width:.75}:null
const i=Object(c.h)(t.size)||0
return{color:"rgba("+(Object(o.l)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(i,v),style:"pattern"in t&&Object(o.l)(t.pattern)&&"style"===t.pattern.type?Object(u.b)(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function _(e,t=1){const n=e.a,r=Object(i.b)(e),s=r.h,a=r.s/t,o=100-(100-r.v)/t,{r:l,g:c,b:u}=Object(i.e)({h:s,s:a,v:o})
return[l,c,u,n]}function S(e){return"water"===e.type?Object(o.k)(e.color)?null:e.color:Object(o.k)(e.material)||Object(o.k)(e.material.color)?null:e.material.color}function x(e,t=0){const n=S(e)
if(!n){if("fill"===e.type)return null
const n=u.a.r,r=Object(p.c)(n,t)
return[r,r,r,100]}const r=n.toRgba()
for(let e=0;e<3;e++)r[e]=Object(p.c)(r[e],t)
return r}async function T(e,t){const n=e.style
return"none"===n?null:{type:"pattern",x:0,y:0,src:await Object(u.d)(Object(r.b)(`esri/symbols/patterns/${n}.png`),t.toCss(!0)),width:5,height:5}}function I(e){return e.outline?w(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function M(e,t){const n=S(e)
if(!n)return null
let r="rgba("
return r+=Object(p.c)(n.r,t)+",",r+=Object(p.c)(n.g,t)+",",r+=Object(p.c)(n.b,t)+",",r+n.a+");"}function E(e,t){const n=M(e,t)
return n?"pattern"in e&&Object(o.l)(e.pattern)&&"style"===e.pattern.type&&"none"===e.pattern.style?null:{color:n,width:Math.min(e.size?Object(c.h)(e.size):.75,v),style:"pattern"in e&&Object(o.l)(e.pattern)&&"style"===e.pattern.type?Object(u.b)(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?"miter"===e.join?Object(c.h)(2):e.join:null}:{}}function k(e,t,n){const r=null!=n?.75*n:0
return{type:"linear",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function C(e){const t="number"==typeof(null==e?void 0:e.size)?null==e?void 0:e.size:null
return t?Object(c.h)(t):null}function A(e,t){if(0===e.symbolLayers.length)return Promise.reject(new s.a("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."))
switch(e.type){case"point-3d":return function(e,t){var n
const i=C(t),s=null!=t&&t.maxSize?Object(c.h)(t.maxSize):null,o=null!=(n=null==t?void 0:t.disableUpsampling)&&n,u=e.symbolLayers,v=[]
let O=0,_=0
const S=u.getItemAt(u.length-1)
let T
return S&&"icon"===S.type&&(T=S.size&&Object(c.h)(S.size)),u.forEach(n=>{if("icon"!==n.type&&"object"!==n.type)return
const a="icon"===n.type?n.size&&Object(c.h)(n.size):0,l=i||a?Math.ceil(Math.min(i||a,s||g)):y
if(n&&n.resource&&n.resource.href){const t=function(e,t){const n=t&&t.resource,i=n&&n.href
if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url)
if(i&&"object"!==t.type)return Promise.resolve(Object(b.h)(t))
const s=Object(r.b)("esri/images/Legend/legend3dsymboldefault.png")
return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?Object(m.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch(e=>e).then(e=>{var t
return(null==e||null==(t=e.thumbnail)?void 0:t.url)||s}):Promise.resolve(s)}(e,n).then(e=>{const t=n.get("material.color"),r=function(e){return"icon"===e.type?"multiply":"tint"}(n)
return Object(f.c)(e,l,t,r,o)}).then(e=>{const t=e.width,n=e.height
return O=Math.max(O,t),_=Math.max(_,n),[{shape:{type:"image",x:0,y:0,width:t,height:n,src:e.url},fill:null,stroke:null}]})
v.push(t)}else{var u
let e=l
"icon"===n.type&&T&&i&&(e=l*(a/T))
const r="tall"===(null==t?void 0:t.symbolConfig)||(null==t||null==(u=t.symbolConfig)?void 0:u.isTall)||"object"===n.type&&function(e){const t=e.depth,n=e.height,r=e.width
return 0!==r&&0!==t&&0!==n&&r===t&&null!=r&&null!=n&&r<n}(n)
O=Math.max(O,r?j:e),_=Math.max(_,e),v.push(Promise.resolve(function(e,t,n){const r=[]
if(!e)return r
switch(e.type){case"icon":{const n=0,i=0,s=t,a=t
switch(e.resource&&e.resource.primitive||d.b){case"circle":r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:x(e,0),stroke:w(e)})
break
case"square":r.push({shape:{type:"path",path:[{command:"M",values:[n,a]},{command:"L",values:[n,i]},{command:"L",values:[s,i]},{command:"L",values:[s,a]},{command:"Z",values:[]}]},fill:x(e,0),stroke:w(e)})
break
case"triangle":r.push({shape:{type:"path",path:[{command:"M",values:[n,a]},{command:"L",values:[.5*s,i]},{command:"L",values:[s,a]},{command:"Z",values:[]}]},fill:x(e,0),stroke:w(e)})
break
case"cross":r.push({shape:{type:"path",path:[{command:"M",values:[.5*s,i]},{command:"L",values:[.5*s,a]},{command:"M",values:[n,.5*a]},{command:"L",values:[s,.5*a]}]},stroke:I(e)})
break
case"x":r.push({shape:{type:"path",path:[{command:"M",values:[n,i]},{command:"L",values:[s,a]},{command:"M",values:[s,i]},{command:"L",values:[n,a]}]},stroke:I(e)})
break
case"kite":r.push({shape:{type:"path",path:[{command:"M",values:[n,.5*a]},{command:"L",values:[.5*s,i]},{command:"L",values:[s,.5*a]},{command:"L",values:[.5*s,a]},{command:"Z",values:[]}]},fill:x(e,0),stroke:w(e)})}break}case"object":switch(e.resource&&e.resource.primitive||h.b){case"cone":{const i=k(x(e,0),x(e,-.6),n?j:t),s=Object(p.d)(t,n)
r.push({shape:s[0],fill:i}),r.push({shape:s[1],fill:i})
break}case"inverted-cone":{const n=x(e,0),i=k(n,x(e,-.6),t),s=Object(p.i)(t)
r.push({shape:s[0],fill:i}),r.push({shape:s[1],fill:n})
break}case"cube":{const i=Object(p.e)(t,n)
r.push({shape:i[0],fill:x(e,0)}),r.push({shape:i[1],fill:x(e,-.3)}),r.push({shape:i[2],fill:x(e,-.5)})
break}case"cylinder":{const i=k(x(e,0),x(e,-.6),n?j:t),s=Object(p.f)(t,n)
r.push({shape:s[0],fill:i}),r.push({shape:s[1],fill:i}),r.push({shape:s[2],fill:x(e,0)})
break}case"diamond":{const n=Object(p.g)(t)
r.push({shape:n[0],fill:x(e,-.3)}),r.push({shape:n[1],fill:x(e,0)}),r.push({shape:n[2],fill:x(e,-.3)}),r.push({shape:n[3],fill:x(e,-.7)})
break}case"sphere":{const n=k(x(e,0),x(e,-.6))
n.x1=0,n.y1=0,n.x2=.25*t,n.y2=.25*t,r.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:n})
break}case"tetrahedron":{const n=Object(p.k)(t)
r.push({shape:n[0],fill:x(e,-.3)}),r.push({shape:n[1],fill:x(e,0)}),r.push({shape:n[2],fill:x(e,-.6)})
break}}}return r}(n,e,r)))}}),Object(l.g)(v).then(e=>{const n=[]
return e.forEach(e=>{e.value?n.push(e.value):e.error&&a.a.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",e.error)}),Object(f.b)(n,[O,_],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})})}(e,t)
case"line-3d":return function(e,t){const n=e.symbolLayers,r=[],i=Object(b.j)(e),s=C(t),a=(t&&t.maxSize?Object(c.h)(t.maxSize):null)||v
let l,u=0,d=0
return n.forEach((e,t)=>{if(!e)return
if("line"!==e.type&&"path"!==e.type)return
const n=[]
switch(e.type){case"line":{const r=E(e,0)
if(Object(o.k)(r))break
const i=r&&r.width||0
0===t&&(l=i)
const c=Math.min(s||i,a),h=0===t?c:s?c*(i/l):c,p=h>O/2?2*h:O
d=Math.max(d,h),u=Math.max(u,p),r.width=h,n.push({shape:{type:"path",path:[{command:"M",values:[0,.5*d]},{command:"L",values:[u,.5*d]}]},stroke:r})
break}case"path":{const t=Math.min(s||y,a),r=x(e,0),i=x(e,-.2),o=M(e,-.4),l=o?{color:o,width:1}:{}
if("quad"===e.profile){const t=e.width,s=e.height,a=Object(p.j)(t&&s?t/s:1,0===s,0===t),o={...l,join:"bevel"}
n.push({shape:a[0],fill:i,stroke:o}),n.push({shape:a[1],fill:i,stroke:o}),n.push({shape:a[2],fill:r,stroke:o})}else n.push({shape:p.m.pathSymbol3DLayer[0],fill:i,stroke:l}),n.push({shape:p.m.pathSymbol3DLayer[1],fill:r,stroke:l})
d=Math.max(d,t),u=d}}r.push(n)}),Promise.resolve(Object(f.b)(r,[u,d],{node:t&&t.node,scale:i,opacity:t&&t.opacity}))}(e,t)
case"polygon-3d":case"mesh-3d":return async function(e,t){const n="mesh-3d"===e.type,r=e.symbolLayers,i=C(t),s=t&&t.maxSize?Object(c.h)(t.maxSize):null,a=i||y,l=[]
let u=0,d=0,h=!1
for(let e=0;e<r.length;e++){const t=r.getItemAt(e),i=[]
if(n&&"fill"!==t.type)continue
const c=p.m.fill[0]
switch(t.type){case"fill":{const e=w(t),r=Math.min(a,s||g)
u=Math.max(u,r),d=Math.max(d,r),h=!0
let l=x(t,0)
const p="pattern"in t?t.pattern:null,f=S(t)
!n&&Object(o.l)(p)&&"style"===p.type&&"solid"!==p.style&&f&&(l=await T(p,f)),i.push({shape:c,fill:l,stroke:e})
break}case"line":{const e=E(t,0)
if(Object(o.k)(e))break
const n={stroke:e,shape:c}
u=Math.max(u,y),d=Math.max(d,y),i.push(n)
break}case"extrude":{const e={join:"round",width:1,...E(t,-.4)},n=x(t,0),r=x(t,-.2),o=Math.min(a,s||g),l=Object(p.h)(o)
e.width=1,i.push({shape:l[0],fill:r,stroke:e}),i.push({shape:l[1],fill:r,stroke:e}),i.push({shape:l[2],fill:n,stroke:e})
const c=y,h=.7*y+.5*o
u=Math.max(u,c),d=Math.max(d,h)
break}case"water":{const e=Object(o.w)(S(t)),n=_(e),r=_(e,2),l=_(e,3),c=Object(p.l)()
h=!0,i.push({shape:c[0],fill:n}),i.push({shape:c[1],fill:r}),i.push({shape:c[2],fill:l})
const f=Math.min(a,s||g)
u=Math.max(u,f),d=Math.max(d,f)
break}}l.push(i)}return Object(f.b)(l,[u,d],{node:t&&t.node,scale:h,opacity:t&&t.opacity})}(e,t)}return Promise.reject(new s.a("symbolPreview: swatchInfo3D","symbol not supported."))}},1521:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r=n(968),i=n(23),s=n(970),a=(n(971),n(445),n(969))
const o=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this
return Object(i.c)(t),this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}}
return Object(r.a)([Object(s.b)()],t.prototype,"goToOverride",void 0),Object(r.a)([Object(s.b)()],t.prototype,"view",void 0),t=Object(r.a)([Object(a.a)("esri.widgets.support.GoTo")],t),t}},1522:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r=n(968),i=n(990),s=n(975),a=n(970),o=(n(971),n(445),n(969))
let l=class extends s.a{constructor(){super(...arguments),this.color=new i.a([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity}}
Object(r.a)([Object(a.b)({type:i.a})],l.prototype,"color",void 0),Object(r.a)([Object(a.b)({type:i.a})],l.prototype,"haloColor",void 0),Object(r.a)([Object(a.b)()],l.prototype,"haloOpacity",void 0),Object(r.a)([Object(a.b)()],l.prototype,"fillOpacity",void 0),l=Object(r.a)([Object(o.a)("esri.views.2d.support.HighlightOptions")],l)
const c=l},1523:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}))
let r=null,i=!0
function s(e,t,n){if(!e||!t)throw new Error("Cannot construct image data without dimensions")
if(i)try{return new ImageData(e,t)}catch(e){i=!1}return o(e,t,n)}function a(e,t,n,r){if(!t||!n)throw new Error("Cannot construct image data without dimensions")
if(i)try{return new ImageData(e,t,n)}catch(e){i=!1}const s=o(t,n,r)
return s.data.set(e,0),s}function o(e,t,n){return n||(r||(r=document.createElement("canvas"),r.width=1,r.height=1),n=r),n.getContext("2d").createImageData(e,t)}},1529:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
const r=()=>[2,1,1,1,3].map(e=>{let t=""
for(let n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1)
return t}).join("-")},1530:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(1400),i=n(1076)
class s{constructor(e,t){this._owner=t,this._properties={},this._afterDispatchHandle=null
for(const t in e){const n=e[t],i=new r.a(n,void 0,void 0,2,2)
this._properties[t]={pool:i,acquired:[]}}this._afterDispatchHandle=Object(i.a)(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null)
for(const e in this._properties){const t=this._properties[e]
for(const e of t.acquired)Object(i.b)(e)||t.pool.release(e)
t.pool.destroy(),t.pool=null,t.acquired=null}this._properties=null,this._owner=null}get(e){const t=this._owner._get(e),n=this._properties[e]
let r=n.pool.acquire()
for(n.acquired.push(r);r===t;)n.acquired.push(r),r=n.pool.acquire()
return r}_release(){for(const e in this._properties){const t=this._properties[e]
let n=0
for(const e of t.acquired)Object(i.b)(e)?t.acquired[n++]=e:t.pool.release(e)
t.acquired.length=n}}}},1531:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r=n(968),i=n(446),s=n(1058),a=n(973),o=n(970),l=(n(971),n(445),n(969))
let c=class extends s.a{constructor(e){super(e),this.state="running",this.target=null,this._dfd=null}initialize(){this.addResolvingPromise(new Promise((e,t)=>this._dfd={resolve:e,reject:t}))}get done(){return"finished"===this.state||"stopped"===this.state}stop(){var e
"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),null==(e=this._dfd)||e.reject(new i.a("ViewAnimation stopped")))}finish(){var e
"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),null==(e=this._dfd)||e.resolve())}update(e,t){t||(t=Object(a.l)(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}}
Object(r.a)([Object(o.b)({readOnly:!0})],c.prototype,"done",null),Object(r.a)([Object(o.b)({readOnly:!0,type:String})],c.prototype,"state",void 0),Object(r.a)([Object(o.b)()],c.prototype,"target",void 0),c=Object(r.a)([Object(l.a)("esri.views.ViewAnimation")],c),(c||(c={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}
const u=c},1538:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i}))
var r=n(997)
function i(e,t){const n=t||e.extent,i=e.width,s=Object(r.g)(n&&n.spatialReference)
return n&&i?n.width/i*s*r.k*96:0}function s(e,t){return e/(Object(r.g)(t)*r.k*96)}function a(e){return e/(96*r.k)}function o(e,t){const n=e.extent,r=e.width-(e.padding?e.padding.left+e.padding.right:0),i=s(t,n.spatialReference)
return n.clone().expand(i*r/n.width)}},1539:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y}))
var r=n(968),i=n(986),s=n(1339),a=n(972),o=n(991),l=n(23),c=n(970),u=n(987),d=(n(445),n(977)),h=n(969),p=n(974),f=n(971),b=n(992)
let m=class extends(Object(i.b)(a.a)){constructor(...e){super(...e),this.position=new b.a([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,n,r){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const i={position:e}
return null!=t&&(i.heading=t),null!=n&&(i.tilt=n),null!=r&&(i.fov=r),i}return e}writePosition(e,t,n,r){const i=e.clone()
i.x=Object(f.i)(e.x||0),i.y=Object(f.i)(e.y||0),i.z=e.hasZ?Object(f.i)(e.z||0):e.z,t[n]=i.write({},r)}readPosition(e,t){const n=new b.a
return n.read(e,t),n.x=Object(f.i)(n.x||0),n.y=Object(f.i)(n.y||0),n.z=n.hasZ?Object(f.i)(n.z||0):n.z,n}equals(e){return!Object(l.k)(e)&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}}
Object(r.a)([Object(c.b)({type:b.a,json:{write:{isRequired:!0}}})],m.prototype,"position",void 0),Object(r.a)([Object(p.a)("position")],m.prototype,"writePosition",null),Object(r.a)([Object(d.a)("position")],m.prototype,"readPosition",null),Object(r.a)([Object(c.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(u.a)(e=>s.c.normalize(Object(f.i)(e)))],m.prototype,"heading",void 0),Object(r.a)([Object(c.b)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Object(u.a)(e=>Object(o.f)(Object(f.i)(e),-180,180))],m.prototype,"tilt",void 0),Object(r.a)([Object(c.b)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],m.prototype,"fov",void 0),m=Object(r.a)([Object(h.a)("esri.Camera")],m)
const y=m},1544:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s}))
var r=n(1043),i=n(235)
const s=Object(i.a)("mac")?"Meta":"Ctrl",a={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"}
for(let e=48;e<58;e++)a[e]=String.fromCharCode(e)
for(let e=1;e<25;e++)a[111+e]="F"+e
for(let e=65;e<91;e++)a[e]=[String.fromCharCode(e+32),String.fromCharCode(e)]
function o(e){if(void 0!==e.key)return Object(r.a)(e)
const t=a[e.keyCode]
return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function l(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},1545:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b}))
var r=n(968),i=n(975),s=n(23),a=n(970),o=(n(971),n(445),n(969)),l=n(1013),c=n(1500)
const u=new Set,d=[],h=new Map,p=[0,0]
let f=class extends i.a{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t,strategy:n}=this
this._queue=new c.a({concurrency:e,process:(e,n)=>{const r=this._keyToItem.get(e)
return t(r,{signal:n})},peeker:"scale-first"===n?e=>this._peekByScaleFirst(e):e=>this._peekByCenterFirst(e)})}destroy(){this.clear(),this._queue=Object(s.e)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t="string"==typeof e?e:e.id
this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t="string"==typeof e?e:e.id
return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e){const t=e.key.id
if(this._queue.has(t))return this._queue.get(t)
const n=this._queue.push(t),r=()=>{this._keyToItem.delete(t),this.notifyChange("updating")}
return this._keyToItem.set(t,e),n.then(r,r),this.notifyChange("updating"),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value
const t=this.tileInfoView
let n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY
e.forEach(e=>{const t=this._keyToItem.get(e),i=this.tileInfoView.getTileScale(t.key)
h.has(i)||(h.set(i,[]),n=Math.max(i,n),r=Math.min(i,r)),h.get(i).push(t.key),u.add(i)})
let i=this.state.scale
h.has(i)||(function(e,t){e.length=0,t.forEach(t=>e.push(t))}(d,u),d.sort((e,t)=>e-t),i=d.reduce((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e,d[0])),i=Math.min(i,n),i=Math.max(i,r)
const s=h.get(i),a=t.getClosestInfoForScale(i),o=a.getColumnForX(this.state.center[0]),l=a.getRowForY(this.state.center[1])
return s.sort((e,t)=>{const n=a.denormalizeCol(e.col,e.world),r=a.denormalizeCol(t.col,t.world)
return Math.sqrt((o-n)*(o-n)+(l-e.row)*(l-e.row))-Math.sqrt((o-r)*(o-r)+(l-t.row)*(l-t.row))}),u.clear(),h.clear(),s[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value
const t=this.tileInfoView,n=this.state.center
let r,i=Number.POSITIVE_INFINITY
return e.forEach(e=>{const s=this._keyToItem.get(e)
t.getTileCoords(p,s.key)
const a=Object(l.d)(p,n)
a<i&&(i=a,r=s.key)}),r.id}}
Object(r.a)([Object(a.b)({constructOnly:!0})],f.prototype,"concurrency",void 0),Object(r.a)([Object(a.b)({constructOnly:!0})],f.prototype,"process",void 0),Object(r.a)([Object(a.b)()],f.prototype,"state",void 0),Object(r.a)([Object(a.b)({constructOnly:!0})],f.prototype,"strategy",void 0),Object(r.a)([Object(a.b)({constructOnly:!0})],f.prototype,"tileInfoView",void 0),Object(r.a)([Object(a.b)({readOnly:!0})],f.prototype,"updating",null),f=Object(r.a)([Object(o.a)("esri.views.2d.tiling.TileQueue")],f)
const b=f},1546:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r,i,s,a={}
r={get exports(){return a},set exports(e){a=e}},i=function(){function e(n,r,i,s,a){for(;s>i;){if(s-i>600){var o=s-i+1,l=r-i+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*(l-o/2<0?-1:1)
e(n,r,Math.max(i,Math.floor(r-l*u/o+d)),Math.min(s,Math.floor(r+(o-l)*u/o+d)),a)}var h=n[r],p=i,f=s
for(t(n,i,r),a(n[s],h)>0&&t(n,i,s);p<f;){for(t(n,p,f),p++,f--;a(n[p],h)<0;)p++
for(;a(n[f],h)>0;)f--}0===a(n[i],h)?t(n,i,f):t(n,++f,s),f<=r&&(i=f+1),r<=f&&(s=f-1)}}function t(e,t,n){var r=e[t]
e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}return function(t,r,i,s,a){e(t,r,i||0,s||t.length-1,a||n)}},void 0!==(s=i())&&(r.exports=s)
const o=a},1550:function(e,t,n){"use strict"
n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return M}))
var r=n(1161),i=n(34),s=n(1372),a=n(1256),o=n(1277),l=n(147),c=n(1280),u=n(40),d=n(95),h=n(16),p=n(1311),f=n(1381),b=n(97),m=n(1262)
function y(e){return Object(s.b)(e,"group")}function g(e,t){return`${Object(m.a)(t)}/home/group.html?id=${e}`}const v=(e,t,n)=>{const{data:i,stack:s,requestOptions:a}=t
return s.finish(n,{error:e}),{data:Object.assign(Object.assign({},i),{errors:Object(r.i)(e,i.errors)}),stack:s,requestOptions:a}},O={membershipSummary:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichGroupMembershipSummary"),s=Object.assign({num:3},r)
return Object(a.c)(t.group.id,s).then(e=>(n.finish(i),{data:Object.assign(Object.assign({},t),{membershipSummary:{total:e.total,users:e.users}}),stack:n,requestOptions:r})).catch(t=>v(t,e,i))},contentCount:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichGroupContentCount")
return function(e){return Object(s.b)(e,"groupContent")}(Object.assign({groupId:t.group.id,num:1},r)).then(e=>(n.finish(i),{data:Object.assign(Object.assign({},t),{contentCount:e.total}),stack:n,requestOptions:r})).catch(t=>v(t,e,i))},userMembership:e=>{const{data:t,stack:n,requestOptions:r}=e,s=n.start("enrichGroupUserMembership")
return Object(a.b)(t.group.id,r).then(e=>(n.finish(s),{data:Object.assign(Object.assign({},t),{membershipAccess:e.membershipAccess,userMembership:Object(i.a)(e,"userMembership.memberType")}),stack:n,requestOptions:r})).catch(t=>v(t,e,s))}},j={name:"No title provided",access:"private",permissions:[]}
function w(){const e=[]
return e.push({entityKey:"name",storeKey:"title"}),e.push({entityKey:"summary",storeKey:"snippet"}),e.push({entityKey:"permissions",storeKey:"properties.permissions"}),["access","autoJoin","description","id","isInvitationOnly","isDiscussable","isReadOnly","isViewOnly","membershipAccess","owner","protected","sortField","sortOrder","tags","thumbnail","thumbnailUrl","userMembership"].forEach(t=>{e.push({entityKey:t,storeKey:t})}),e}function _(e){const t=new r.b(w()).entityToStore(e,{})
return"organization"===t.membershipAccess&&(t.membershipAccess="org"),"collaborators"===t.membershipAccess&&(t.membershipAccess="collaboration"),"anyone"===t.membershipAccess&&(t.membershipAccess=null,t._clearEmptyFields=!0),t}function S(e,t){return function(e,t,n){let i
return n.authentication&&(i=n.authentication.token),t.thumbnailUrl=Object(c.a)(n.portal,e,i),t.createdDate=new Date(e.created),t.createdDateSource="group.created",t.updatedDate=new Date(e.modified),t.updatedDateSource="group.modified",t.type="Group",t.isDiscussable=Object(r.j)(e),t.isSharedUpdate=(e.capabilities||[]).includes("updateitemcontrol"),t.membershipAccess="anyone","org"===e.membershipAccess&&(t.membershipAccess="organization"),"collaboration"===e.membershipAccess&&(t.membershipAccess="collaborators"),t.canEdit="owner"===e.userMembership.memberType||"admin"===e.userMembership.memberType,t.canDelete=t.canEdit,t}(e,new r.b(w()).storeToEntity(e,{}),t)}async function x(e,t,n){const s={access:e.access,id:e.id,type:"Group",name:e.title,owner:e.owner,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"group.created",updatedDate:new Date(e.modified),updatedDateSource:"group.modified",family:"team",links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}}
s.isSharedUpdate=(e.capabilities||[]).includes("updateitemcontrol"),s.membershipAccess=e.membershipAccess,s.isOpenData=!!e.isOpenData
const a=(t=[...t].filter(l.k)).map(o.v),u=Object(b.l)("enrichment",a).filter(l.k)
let d={}
return u.length&&(d=await function(e,t,n){const i=t.reduce((e,t)=>{const n=O[t]
return n&&e.push(n),e},[])
return Object(r.f)(i)({data:{group:e},stack:new r.a,requestOptions:n}).then(e=>e.data)}(e,u,n)),a.forEach(e=>{s[e.prop]=Object(i.a)(d,e.path)}),s.links.thumbnail=Object(c.a)(n.portal,e),s.links.self=g(s.id,n),s.links.siteRelative="/teams/"+s.id,s}async function T(e,t){const n={group:_(Object.assign(Object.assign({},j),e)),authentication:t.authentication}
return S((await function(e){var t=Object(d.a)(e)+"/community/createGroup"
return e.params=Object(u.a)(Object(u.a)({},e.params),e.group),Object(h.e)(t,e)}(n)).group,t)}async function I(e,t){return S(await Object(a.b)(e,t),t)}async function M(e,t){const n=_(e),r={group:n,authentication:t.authentication}
return n._clearEmptyFields&&Object(p.a)("params.clearEmptyFields",!0,r),await Object(f.a)(r),e}async function E(e,t){const n=Object.assign(Object.assign({},t),{id:e})
await function(e){var t=Object(d.a)(e)+"/community/groups/"+e.id+"/delete",n=Object(u.a)({},e)
return Object(h.e)(t,n)}(n)}},1551:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r=n(968),i=n(772),s=(n(233),n(971)),a=(n(445),n(446),n(235),n(1082)),o=n(969),l=n(1365)
let c=class extends l.a{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}}
Object(r.a)([Object(a.a)({Type:i.default,ensureType:Object(s.m)(i.default)})],c.prototype,"itemType",void 0),c=Object(r.a)([Object(o.a)("esri.support.GraphicsCollection")],c)},1564:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h}))
var r=n(996),i=n(1013)
class s{constructor(e,t,n){this.maxSize=e,this._tileInfoView=t,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const t=this._tilePerId.get(e)
if(!t)return
const n=t.key.level,r=this._tileKeysPerLevel[n]
a(this._tilePerId,e)
for(let t=0;t<r.length;t++)if(r[t].id===e){r.splice(t,1)
break}return t.visible=!0,t}add(e){e.visible=!1
const t=e.key,n=t.id
if(this._tilePerId.has(n))return
this._tilePerId.set(n,e)
const r=t.level
this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(t)}prune(e,t,n){let r=this._tilePerId.size
if(r<=this.maxSize)return
let i=this._tileKeysPerLevel.length-1
for(;r>this.maxSize&&i>=0;)i!==e&&(r=this._pruneAroundCenterTile(r,t,n,i)),i--
r>this.maxSize&&(r=this._pruneAroundCenterTile(r,t,n,e))}_pruneAroundCenterTile(e,t,n,r){const s=this._tileKeysPerLevel[r]
if(!s||0===s.length)return e
const{size:a,origin:o}=this._tileInfoView.tileInfo,l=n*a[0],c=n*a[1],u=[0,0],d=[0,0]
for(s.sort((e,n)=>(u[0]=o.x+l*(e.col+.5),u[1]=o.y-c*(e.row+.5),d[0]=o.x+l*(n.col+.5),d[1]=o.y-c*(n.row+.5),Object(i.k)(u,t)-Object(i.k)(d,t)));s.length>0;){const t=s.pop()
if(this._removeTile(t.id),--e===this.maxSize)break}return e}_removeTile(e){const t=this._tilePerId.get(e)
this._removedFunc&&t&&this._removedFunc(t),a(this._tilePerId,e)}}function a(e,t){e.delete(t)}var o=n(1418)
const l=new(n(1150).a)(0,0,0,0),c=new Map,u=[],d=[]
class h{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this.resampling=null==e.resampling||!!e.resampling,e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),null!=e.buffer&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new s(e.cacheSize,this.tileInfoView,e=>{this.releaseTile(e)}))}destroy(){this.tileIndex.clear()}update(e){const{resampling:t,tileIndex:n}=this,r=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.coveragePolicy)
if(d.length=0,u.length=0,c.clear(),!r)return
const{minScale:i,maxScale:s}=this.tileInfoView.tileInfo,{spans:a,lodInfo:h}=r,{level:p}=h,{scale:f,center:b,resolution:m}=e.state,y=!e.stationary&&f>this._previousScale
if(this._previousScale=f,this.tiles.length=0,!t&&(f>i||f<s))return this.tiles.length=0,c.clear(),n.forEach(e=>{this.releaseTile(e)}),n.clear(),d.length=0,u.length=0,c.clear(),o.a.pool.release(r),!0
n.forEach(e=>e.visible=!0)
let g=0,v=0
if(a.length>0)for(const{row:e,colFrom:t,colTo:r}of a)for(let i=t;i<=r;i++){g++
const t=l.set(p,e,h.normalizeCol(i),h.getWorldForColumn(i)).id
if(n.has(t)){const e=n.get(t)
e.isReady?(c.set(t,e),v++):y||this._addParentTile(t,c)}else{let e
if(this._tileCache&&this._tileCache.has(t)){if(e=this._tileCache.pop(t),this.tileIndex.set(t,e),e.isReady){c.set(t,e),v++
continue}}else e=this.acquireTile(l),this.tileIndex.set(t,e)
y||this._addParentTile(t,c)}}const O=v===g
n.forEach((e,t)=>{if(l.set(t),c.has(t))return
const n=this.tileInfoView.intersects(r,l),i="purge"===this.cachePolicy?l.level!==p:l.level>p
!n||!y&&O?!i&&n||u.push(t):e.isReady?i&&"purge"===this.cachePolicy&&this._hasReadyAncestor(l,p)?u.push(t):d.push(t):i&&u.push(t)})
for(const e of d){const t=n.get(e)
t&&t.isReady&&c.set(e,t)}for(const e of u){const t=n.get(e)
this._tileCache?this._tileCache.add(t):this.releaseTile(t),n.delete(e)}return c.forEach(e=>this.tiles.push(e)),n.forEach(e=>{c.has(e.key.id)||(e.visible=!1)}),this._tileCache&&this._tileCache.prune(p,b,m),o.a.pool.release(r),c.clear(),O}clear(e=!0){const{tileIndex:t}=this
e&&t.forEach(e=>{this.releaseTile(e)}),t.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,t){let n=e,r=null
for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(r=this.tileIndex.get(n),r&&r.isReady){t.has(r.key.id)||t.set(r.key.id,r)
break}}else if(this._tileCache&&this._tileCache.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r&&r.isReady)){t.has(r.key.id)||t.set(r.key.id,r)
break}}_hasReadyAncestor(e,t){const n=Object(r.m)()
this.tileInfoView.getTileBounds(n,e,!0)
for(const i of this.tileIndex.values())if(i.isReady&&i.key.level>=t&&i.key.level<e.level){const e=Object(r.m)()
if(this.tileInfoView.getTileBounds(e,i.key,!0),Object(r.g)(e,n))return!0}return!1}}},1566:function(e,t,n){"use strict"
function r(e){return e&&"function"==typeof e.render}function i(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n(1205),n(1099),n(1395),n(1018),n(998),n(1211)},1567:function(e,t,n){"use strict"
function r(){return[1,0,0,1,0,0]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),Object.freeze(Object.defineProperty({__proto__:null,clone:i,create:r,createView:function(e,t){return new Float64Array(e,t,6)},fromValues:function(e,t,n,r,i,s){return[e,t,n,r,i,s]}},Symbol.toStringTag,{value:"Module"}))},1568:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1546)
function i(e,t){if(!(this instanceof i))return new i(e,t)
this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function s(e,t,n){if(!n)return t.indexOf(e)
for(var r=0;r<t.length;r++)if(n(e,t[r]))return r
return-1}function a(e,t){o(e,0,e.children.length,t,e)}function o(e,t,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0
for(var s,a=t;a<n;a++)s=e.children[a],l(i,e.leaf?r(s):s)
return i}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY)
return Math.max(0,i-n)*Math.max(0,s-r)}function b(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function m(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,n,i,s){for(var a,o=[t,n];o.length;)(n=o.pop())-(t=o.pop())<=i||(a=t+Math.ceil((n-t)/i/2)*i,Object(r.a)(e,a,t,n,s),o.push(t,a,a,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox
if(!m(e,t))return n
for(var i,s,a,o,l=[];t;){for(i=0,s=t.children.length;i<s;i++)a=t.children[i],m(e,o=t.leaf?r(a):a)&&(t.leaf?n.push(a):b(e,o)?this._all(a,n):l.push(a))
t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox
if(!m(e,t))return!1
for(var r,i,s,a,o=[];t;){for(r=0,i=t.children.length;r<i;r++)if(s=t.children[r],m(e,a=t.leaf?n(s):s)){if(t.leaf||b(e,a))return!0
o.push(s)}t=o.pop()}return!1},load:function(e){if(!e||!e.length)return this
if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t])
return this}var r=this._build(e.slice(),0,e.length-1,0)
if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r)
else{if(this.data.height<r.height){var i=this.data
this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r
return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(e,t){if(!e)return this
for(var n,r,i,a,o=this.data,l=this.toBBox(e),c=[],u=[];o||c.length;){if(o||(o=c.pop(),r=c[c.length-1],n=u.pop(),a=!0),o.leaf&&-1!==(i=s(e,o.children,t)))return o.children.splice(i,1),c.push(o),this._condense(c),this
a||o.leaf||!b(o,l)?r?(n++,o=r.children[n],a=!1):o=null:(c.push(o),u.push(n),n=0,r=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop()
return t},_build:function(e,t,n,r){var i,s=n-t+1,o=this._maxEntries
if(s<=o)return a(i=y(e.slice(t,n+1)),this.toBBox),i
r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),(i=y([])).leaf=!1,i.height=r
var l,c,u,d,h=Math.ceil(s/o),p=h*Math.ceil(Math.sqrt(o))
for(g(e,t,n,p,this.compareMinX),l=t;l<=n;l+=p)for(g(e,l,u=Math.min(l+p-1,n),h,this.compareMinY),c=l;c<=u;c+=h)d=Math.min(c+h-1,u),i.children.push(this._build(e,c,d,r-1))
return a(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,s,a,o,l,c,u,h;r.push(t),!t.leaf&&r.length-1!==n;){for(u=h=1/0,i=0,s=t.children.length;i<s;i++)l=d(a=t.children[i]),(c=p(e,a)-l)<h?(h=c,u=l<u?l:u,o=a):c===h&&l<u&&(u=l,o=a)
t=o||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),s=[],a=this._chooseSubtree(i,this.data,t,s)
for(a.children.push(e),l(a,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--
this._adjustParentBBoxes(i,s,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries
this._chooseSplitAxis(n,i,r)
var s=this._chooseSplitIndex(n,i,r),o=y(n.children.splice(s,n.children.length-s))
o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,s,a,l,c,u,h
for(c=u=1/0,r=t;r<=n-t;r++)a=f(i=o(e,0,r,this.toBBox),s=o(e,r,n,this.toBBox)),l=d(i)+d(s),a<c?(c=a,h=r,u=l<u?l:u):a===c&&l<u&&(u=l,h=r)
return h},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:c,i=e.leaf?this.compareMinY:u
this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r)
var i,s,a=this.toBBox,c=o(e,0,t,a),u=o(e,n-t,n,a),d=h(c)+h(u)
for(i=t;i<n-t;i++)s=e.children[i],l(c,e.leaf?a(s):s),d+=h(c)
for(i=n-t-1;i>=t;i--)s=e.children[i],l(u,e.leaf?a(s):s),d+=h(u)
return d},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():a(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"]
this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},1575:function(e,t,n){"use strict"
var r
n.d(t,"a",(function(){return r})),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"}(r||(r={}))},1576:function(e,t,n){"use strict"
var r=n(968),i=n(975),s=n(23),a=n(970),o=(n(971),n(445),n(969)),l=n(1013),c=n(1500)
const u=new Set,d=[],h=new Map,p=[0,0]
let f=class extends i.a{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t}=this
this._queue=new c.a({concurrency:e,process:(e,n)=>{const r=this._keyToItem.get(e)
return t(r,{signal:n})},peeker:e=>e.values().next().value})}destroy(){this.clear(),this._queue=Object(s.e)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t="string"==typeof e?e:e.id
this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t="string"==typeof e?e:e.id
return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e,t){const n=e.key.id+"-"+t
if(this.has(n))return this.get(n)
const r=this._queue.push(n),i=()=>{this._keyToItem.delete(n),this.notifyChange("updating")}
return this._keyToItem.set(n,e),r.then(i,i),this.notifyChange("updating"),r}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value
const t=this.tileInfoView
let n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY
e.forEach(e=>{const t=this._keyToItem.get(e),i=this.tileInfoView.getTileScale(t.key)
h.has(i)||(h.set(i,[]),n=Math.max(i,n),r=Math.min(i,r)),h.get(i).push(t.key),u.add(i)})
let i=this.state.scale
h.has(i)||(function(e,t){e.length=0,t.forEach(t=>e.push(t))}(d,u),d.sort((e,t)=>e-t),i=d.reduce((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e,d[0])),i=Math.min(i,n),i=Math.max(i,r)
const s=h.get(i),a=t.getClosestInfoForScale(i),o=a.getColumnForX(this.state.center[0]),l=a.getRowForY(this.state.center[1])
return s.sort((e,t)=>{const n=a.denormalizeCol(e.col,e.world),r=a.denormalizeCol(t.col,t.world)
return Math.sqrt((o-n)*(o-n)+(l-e.row)*(l-e.row))-Math.sqrt((o-r)*(o-r)+(l-t.row)*(l-t.row))}),u.clear(),h.clear(),s[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value
const t=this.tileInfoView,n=this.state.center
let r,i=Number.POSITIVE_INFINITY
return e.forEach(e=>{const s=this._keyToItem.get(e)
t.getTileCoords(p,s.key)
const a=Object(l.d)(p,n)
a<i&&(i=a,r=s.key)}),r.id}}
Object(r.a)([Object(a.b)({constructOnly:!0})],f.prototype,"concurrency",void 0),Object(r.a)([Object(a.b)({constructOnly:!0})],f.prototype,"process",void 0),Object(r.a)([Object(a.b)()],f.prototype,"state",void 0),Object(r.a)([Object(a.b)({constructOnly:!0})],f.prototype,"strategy",void 0),Object(r.a)([Object(a.b)({constructOnly:!0})],f.prototype,"tileInfoView",void 0),Object(r.a)([Object(a.b)({readOnly:!0})],f.prototype,"updating",null),f=Object(r.a)([Object(o.a)("esri.views.2d.tiling.PagedTileQueue")],f)},1585:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}))
var r=n(376),i=n(1190),s=n(1161),a=n(1277),o=n(147),l=n(34),c=n(1232),u=n(1301),d=n(1308),h=n(375),p=n(97)
async function f(e,t){let n
return n=Object(d.a)(e)?Object(h.g)(e,t):Object(a.m)(e,t),n.then(e=>e?async function(e,t){const n=await Object(a.l)(e,t),r=new s.b(Object(a.h)()).storeToEntity(n,{})
return Object(a.i)(n,r,t)}(e,t):null)}async function b(e,t,n){const d={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,typeKeywords:e.typeKeywords,tags:e.tags,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:Object(r.c)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented",workspaceRelative:"not-implemented"}},h=(t=[...t].filter(o.k)).map(a.v),f=Object(p.l)("enrichment",h).filter(o.k)
let b={}
f.length&&(b=await Object(s.h)(e,f,n)),h.forEach(e=>{d[e.prop]=Object(l.a)(b,e.path)}),d.links.thumbnail=Object(c.a)(e,n),d.links.self=Object(i.l)(d.id,n)
const m=function(e){var t
const n=null===(t=e.properties)||void 0===t?void 0:t.slug
return n?Object(a.q)(n):e.id}(e)
return d.links.siteRelative=Object(i.k)(d.type,m,e.typeKeywords),d.links.workspaceRelative=Object(u.a)(d.type,m),d}},1586:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(34),i=n(1384)
function s(e,t,n){return Array.isArray(n)&&n.length?(n.forEach(n=>{void 0!==Object(r.a)(e,n)&&Object(i.a)(t,n,Object(r.a)(e,n))}),t):e}},1590:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}))
var r=n(1715)
const i="esri-icon-zoom-in-magnifying-glass",s=new r.a({id:"zoom-to-feature",title:"{messages.zoom}",className:i}),a=new r.a({id:"remove-selected-feature",title:"{messages.remove}",className:"esri-icon-trash"}),o=new r.a({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:i}),l=new r.a({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"})},1595:function(e,t,n){"use strict"
var r,i,s,a,o,l,c,u,d
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return c})),function(e){e.start="start",e.center="center",e.end="end"}(r||(r={})),function(e){e.square="square",e.round="round"}(i||(i={})),function(e){e.none="none",e.low="low",e.medium="medium",e.heavy="heavy"}(s||(s={})),function(e){e.simple="simple",e.dataViz="dataViz",e.moreInfo="moreInfo"}(a||(a={})),function(e){e.before="before",e.after="after",e.below="below"}(o||(o={})),function(e){e.none="none",e.sparkline="sparkline",e.icon="icon",e.logo="logo"}(l||(l={})),function(e){e.always="always",e.hover="hover"}(c||(c={})),function(e){e.dynamic="dynamic",e.static="static"}(u||(u={})),function(e){e.thumbnail="thumbnail",e.icon="icon"}(d||(d={}))},1600:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n(235)
var r=n(991),i=n(980),s=n(1053),a=n(1334)
n(1575)
const o=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],l={}
function c(e){return!!l[e]}o.forEach(e=>{l[e]=!0})
class u{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(({handler:e,priority:t},n)=>{var r
return null==(r=this.inputManager)?void 0:r.installHandlers(n,[e],t)})}disconnect(){this.inputManager&&this._handlers.forEach((e,t)=>{var n
return null==(n=this.inputManager)?void 0:n.uninstallHandlers(t)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,t,n,r){const i=Array.isArray(e)?e:e.split(",")
if(!function(e){for(const t of e)if(!c(t))return!1
return!0}(i))return i.some(c)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null
let s,o
Array.isArray(t)?o=t:(s=t,o=[]),"function"==typeof n?s=n:r=n,r=null!=r?r:a.b.DEFAULT
const l=this._createUniqueGroupName(),u=new d(this.view,i,o,s)
this._handlers.set(l,{handler:u,priority:r})
for(const e of i){const t=this._handlerCounts.get(e)||0
this._handlerCounts.set(e,t+1)}return this.inputManager&&this.inputManager.installHandlers(l,[u],r),{remove:()=>this._removeHandler(l,i)}}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,t){if(this._handlers.has(e)){this._handlers.delete(e)
for(const e of t){const t=this._handlerCounts.get(e)
void 0===t?console.error("Trying to remove handler for event that has no handlers registered: ",e):1===t?this._handlerCounts.delete(e):this._handlerCounts.set(e,t-1)}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,"viewEvents_"+this._counter}}class d extends s.a{constructor(e,t,n,r){super(!0),this._latestDragStart=void 0,this.view=e
for(const e of t)switch(e){case"click":this.registerIncoming("click",n,e=>r(this._wrapClick(e)))
break
case"double-click":this.registerIncoming("double-click",n,e=>r(this._wrapDoubleClick(e)))
break
case"immediate-click":this.registerIncoming("immediate-click",n,e=>r(this._wrapImmediateClick(e)))
break
case"immediate-double-click":this.registerIncoming("immediate-double-click",n,e=>r(this._wrapImmediateDoubleClick(e)))
break
case"hold":this.registerIncoming("hold",n,e=>r(this._wrapHold(e)))
break
case"drag":this.registerIncoming("drag",n,e=>{const t=this._wrapDrag(e)
t&&r(t)})
break
case"key-down":this.registerIncoming("key-down",n,e=>r(this._wrapKeyDown(e)))
break
case"key-up":this.registerIncoming("key-up",n,e=>r(this._wrapKeyUp(e)))
break
case"pointer-down":this.registerIncoming("pointer-down",n,e=>r(this._wrapPointer(e,"pointer-down")))
break
case"pointer-move":this.registerIncoming("pointer-move",n,e=>r(this._wrapPointer(e,"pointer-move")))
break
case"pointer-up":this.registerIncoming("pointer-up",n,e=>r(this._wrapPointer(e,"pointer-up")))
break
case"pointer-drag":this.registerIncoming("pointer-drag",n,e=>r(this._wrapPointerDrag(e)))
break
case"mouse-wheel":this.registerIncoming("mouse-wheel",n,e=>r(this._wrapMouseWheel(e)))
break
case"pointer-enter":this.registerIncoming("pointer-enter",n,e=>r(this._wrapPointer(e,"pointer-enter")))
break
case"pointer-leave":this.registerIncoming("pointer-leave",n,e=>r(this._wrapPointer(e,"pointer-leave")))
break
case"gamepad":this.registerIncoming("gamepad",n,e=>{r(this._wrapGamepad(e))})
break
case"focus":this.registerIncoming("focus",n,e=>{r(this._wrapFocus(e))})
break
case"blur":this.registerIncoming("blur",n,e=>{r(this._wrapBlur(e))})}}_wrapFocus(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapBlur(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapClick(e){const{pointerType:t,button:n,buttons:r,x:s,y:a,native:o,eventId:l}=e.data,{cancelable:c,timestamp:u}=e
return{type:"click",pointerType:t,button:n,buttons:r,x:s,y:a,native:o,timestamp:u,screenPoint:Object(i.f)(s,a),mapPoint:this._getMapPoint(s,a),eventId:l,cancelable:c,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapDoubleClick(e){const{pointerType:t,button:n,buttons:r,x:i,y:s,native:a,eventId:o}=e.data,{cancelable:l,timestamp:c}=e
return{type:"double-click",pointerType:t,button:n,buttons:r,x:i,y:s,native:a,timestamp:c,mapPoint:this._getMapPoint(i,s),eventId:o,cancelable:l,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapImmediateClick(e){const{pointerType:t,button:n,buttons:r,x:i,y:s,native:a,eventId:o}=e.data,l=a.pointerId,{cancelable:c,timestamp:u}=e
return{type:"immediate-click",pointerId:l,pointerType:t,button:n,buttons:r,x:i,y:s,native:a,timestamp:u,mapPoint:this._getMapPoint(i,s),eventId:o,cancelable:c,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapImmediateDoubleClick(e){const{pointerType:t,button:n,buttons:r,x:i,y:s,native:a,eventId:o}=e.data,l=a.pointerId,{cancelable:c,timestamp:u}=e
return{type:"immediate-double-click",pointerId:l,pointerType:t,button:n,buttons:r,x:i,y:s,native:a,timestamp:u,mapPoint:this._getMapPoint(i,s),eventId:o,cancelable:c,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapHold(e){const{pointerType:t,button:n,buttons:r,x:i,y:s,native:a}=e.data,{cancelable:o,timestamp:l}=e
return{type:"hold",pointerType:t,button:n,buttons:r,x:i,y:s,native:a,timestamp:l,mapPoint:this._getMapPoint(i,s),cancelable:o,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_getMapPoint(e,t){return this.view.toMap(Object(i.f)(e,t),{exclude:[]})}_wrapDrag(e){const t=e.data,{x:n,y:i}=t.center,{action:s,pointerType:a,button:o}=t
if("start"===s&&(this._latestDragStart=t),!this._latestDragStart)return
const l=t.pointer.native,c=t.buttons,{cancelable:u,timestamp:d}=e,h={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y}
return"end"===s&&(this._latestDragStart=void 0),{type:"drag",action:s,x:n,y:i,origin:h,pointerType:a,button:o,buttons:c,radius:t.radius,angle:Object(r.q)(t.angle),native:l,timestamp:d,cancelable:u,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapKeyDown(e){const{key:t,repeat:n,native:r}=e.data,{cancelable:i,timestamp:s}=e
return{type:"key-down",key:t,repeat:n,native:r,timestamp:s,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapKeyUp(e){const{key:t,native:n}=e.data,{cancelable:r,timestamp:i}=e
return{type:"key-up",key:t,native:n,timestamp:i,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapPointer(e,t){const{x:n,y:r,button:i,buttons:s,native:a,eventId:o}=e.data,l=a.pointerId,c=a.pointerType,{cancelable:u,timestamp:d}=e
return{type:t,x:n,y:r,pointerId:l,pointerType:c,button:i,buttons:s,native:a,timestamp:d,eventId:o,cancelable:u,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapPointerDrag(e){const{x:t,y:n,buttons:r,native:i,eventId:s}=e.data.currentEvent,{button:a}=e.data.startEvent,o=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,c=e.data.action,u={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:d,timestamp:h}=e
return{type:"pointer-drag",x:t,y:n,pointerId:o,pointerType:l,button:a,buttons:r,action:c,origin:u,native:i,timestamp:h,eventId:s,cancelable:d,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapMouseWheel(e){const{cancelable:t,data:n,timestamp:r}=e,{x:i,y:s,deltaY:a,native:o}=n
return{type:"mouse-wheel",x:i,y:s,deltaY:a,native:o,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapGamepad(e){const{action:t,state:n,device:r}=e.data,{cancelable:i,timestamp:s}=e,{buttons:a,axes:o}=n
return{type:"gamepad",device:r,timestamp:s,action:t,buttons:a,axes:o,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}}},1609:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return _}))
var r=n(147),i=n(1280),s=n(1311),a=n(34),o=n(1277),l=n(132),c=n(1161),u=n(376),d=n(1190),h=n(97),p=n(1232),f=n(1646),b=n(1494),m=n(1585)
class y extends c.g{constructor(e,t,n){super(e,t=t||"UNKNOWN_ERROR",n=Object(l.a)(n,"rootCause",n)),this.name="HubError",this.stack=Object(l.a)(n,"stack",(new Error).stack)}}function g(e,t){let n=null
const r=t.filter(t=>t.predicates.find(t=>!!t[e]))
if(r.length>1)throw new Error(`Only 1 IFilter can have a '${e}' predicate but ${r.length} were detected`)
if(r.length){const t=r[0],i=t.predicates.filter(t=>!!t[e])
if(i.length>1)throw new Error(`Only 1 '${e}' predicate is allowed but ${i.length} were detected`)
if("AND"!==t.operation&&t.predicates.length>1)throw new Error(`'${e}' predicates cannot be OR'd to other predicates`)
const s=i[0]
if("string"!=typeof s[e])throw new Error(`'${e}' predicate must have a string value, string[] and IMatchOptions are not allowed.`)
n=s}return n}const v=["created","modified","lastlogin"],O=["bbox","categoriesAsParam","categoryFilter","filterType","isopendata","isviewonly","memberType","name","searchUserAccess","searchUserName","term"],j=[...v,...O]
function w(e){const t={}
return Object.entries(e).forEach(([n,o])=>{if(j.includes(n)||Object(s.a)(n,Object(i.g)(o),t),v.includes(n)){const o=Object(r.c)(Object(a.a)(e,n))
"relative-date"===Object(a.a)(e,n+".type")?Object(s.a)(n,Object(i.f)(o),t):Object(s.a)(n,o,t)}O.includes(n)&&e.hasOwnProperty(n)&&Object(s.a)(n,o,t)}),t}function _(e){const t=x(e.filters.map(T).filter(S),"AND"),n=g("bbox",e.filters)
return n&&(t.params={bbox:n.bbox}),t}function S(e){return!(null==e||""===e)}function x(e,t){return e.reduce((e,n)=>(Object.entries(n).forEach(([n,r])=>{e[n]&&""!==r?e[n]=`${e[n]} ${t} ${r}`:""!==r&&(e[n]=r)}),e),{q:""})}function T(e){const t=e.operation||"AND",n=e.predicates.map(w),r=x(n.map(I).filter(e=>null!=e),t)
return n.length>1&&(r.q=`(${r.q})`),r}function I(e){const t=["created","modified"],n=["isopendata","isviewonly"],r=["searchUserAccess","searchUserName","memberType","name","categoriesAsParam","categoryFilter","bbox","joined"],i=["filterType","term",...t,...n,...r],s=["access","capabilities","created","categories","categoriesAsParam","categoryFilter","description","disabled","email","emailstatus","firstname","fullname","group","id","isInvitationOnly","isopendata","joined","lastlogin","lastname","memberType","modified","name","orgid","orgIds","owner","provider","role","searchUserAccess","searchUserName","snippet","tags","term","title","type","typekeywords","userlicensetype","username","isviewonly"],a=Object.entries(e).map(([e,a])=>{if(s.includes(e)){const s={q:""}
return i.includes(e)||"term"===e||(s.q=function(e,t){let n=""
return t.any&&(n=""+M("OR",e,t.any)),t.all&&(n=(n?n+" AND ":"")+M("AND",e,t.all)),t.not&&(n=(n?n+" AND ":"")+M("OR","-"+e,t.not)),n}(e,a)),t.includes(e)&&(s.q=function(e,t){return`${e}:[${t.from} TO ${t.to}]`}(e,a)),n.includes(e)&&(s.q=`${e}:${a}`),r.includes(e)&&(s[e]="joined"===e?`${a.from},${a.to}`:a),"term"===e&&(s.q=a),s}}).filter(S)
if(a.length){const e=x(a,"AND")
return e.q&&(e.q=`(${e.q})`),e}return null}function M(e,t,n){let r=""
return Array.isArray(n)?(r=`${t}:"${n.join(`" ${e} ${t}:"`)}"`,n.length>1&&(r=`(${r})`)):r=`${t}:"${n}"`,r}function E(e){var t
return(null===(t=e.aggregations)||void 0===t?void 0:t.counts)?e.aggregations.counts.map(e=>({mode:"terms",field:e.fieldName,values:e.fieldValues})):[]}async function k(e,t,n){const i={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,tags:e.tags,typeKeywords:e.typeKeywords,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:Object(u.c)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},s=(t=[...t].filter(r.k)).map(o.v),l=Object(h.l)("enrichment",s).filter(r.k)
let f={}
return l.length&&(f=await Object(c.h)(e,l,n)),s.forEach(e=>{i[e.prop]=Object(a.a)(f,e.path)}),i.links.thumbnail=Object(p.a)(e,n),i.links.self=Object(d.l)(i.id,n),i.links.siteRelative=Object(d.k)(i.type,i.id,e.typeKeywords),i}async function C(e,t){return F(R(t,e))}function A(e,t){return P(R(t,e))}function L(e){let t=function(e){const t=Object(r.c)(e)
if(t.collection){const{collection:n,targetEntity:r,filters:i}=e,s=Object(f.b)("",r,n),o=Object(a.a)(s,"scope.filters")||[]
t.filters=[...i,...o]}return t}(e)
return t=function(e){const t=Object(r.c)(e)
return t.filters=t.filters.map(e=>{let t=!1
return e.predicates=e.predicates.reduce((e,n)=>{if(function(e){let t=!1
return"string"==typeof e&&(t=e in D),t}(n.type)){const i=(r=n.type,D[r])
e=[...e,...i],t=!0}else e.push(n)
var r
return e},[]),t&&(e.operation="OR"),e}),t}(t),t.filters=t.filters.map(e=>(e.predicates=e.predicates.map(w),e)),t}function R(e,t){var n
if(!e.requestOptions)throw new y("portalSearchItems","options.requestOptions is required.")
const r=_(L(t))
return["num","sortField","sortOrder","include","start","requestOptions"].forEach(t=>{e.hasOwnProperty(t)&&(r[t]=e[t])}),e.requestOptions.authentication?r.authentication=e.requestOptions.authentication:r.portal=e.requestOptions.portal,(null===(n=e.aggFields)||void 0===n?void 0:n.length)&&(r.countFields=e.aggFields.join(","),r.countSize=e.aggLimit||10),r}async function P(e){const t=await Object(b.c)(e),n=E(t)
return{total:t.total,results:t.results,aggregations:n,hasNext:t.nextStart>-1,next:Object(i.b)(e,t.nextStart,t.total,P)}}async function F(e){const t=await Object(b.c)(e),n=await Promise.all(t.results.map(t=>N(t,e.includes,e.requestOptions))),r=E(t)
return{total:t.total,results:n,aggregations:r,hasNext:t.nextStart>-1,next:Object(i.b)(e,t.nextStart,t.total,F)}}async function N(e,t=[],n){let r=k
switch(e.type){case"Hub Site Application":case"Site Application":r=o.k
break
case"Hub Page":case"Site Page":r=o.g
break
case"Hub Project":r=m.a
break
case"Web Mapping Application":e.typeKeywords.includes("hubSite")&&(r=o.k)}return r(e,t,n)}const D={$application:[{type:{any:["Web Mapping Application","Application","Insights","Web Experience"],not:["Insights Theme","Insights Model"]},typekeywords:{not:["hubSite","Story Map"]}},{type:"Web Mapping Experience",typekeywords:"EXB Experience"}],$dashboard:[{type:{any:["Dashboard"],not:["Operation View"]},typekeywords:{not:["Extension","ArcGIS Operation View"]}}],$dataset:[{type:{any:["Scene Service","Feature Collection","Route Layer","Layer","Explorer Layer","Tile Package","Vector Tile Package","Scene Package","Layer Package","Feature Service","Stream Service","Map Service","Vector Tile Service","Image Service","WMS","WFS","WMTS","KML","KML Collection","Globe Service","CSV","Shapefile","GeoJson","Service Definition","File Geodatabase","CAD Drawing","Relational Database Connection"],not:["Web Mapping Application","Geodata Service"]}},{typekeywords:["OGC","Geodata Service"]}],$document:[{type:["PDF","Microsoft Excel","Microsoft Word","Microsoft Powerpoint","iWork Keynote","iWork Pages","iWork Numbers","Visio Document","Document Link"]}],$initiative:[{type:"Hub Initiative"}],$experience:[{type:"Web Experience"}],$feedback:[{type:"Form"}],$page:[{typekeywords:"hubPage"}],$site:[{type:["Hub Site Application","Site Application"]}],$storymap:[{type:"Storymap"},{type:"Web Mapping Application",typekeywords:"Story Map"}],$template:[{type:["Web Mapping Application","Hub Initiative","Hub Initiative Template","Solution"],typekeywords:{any:["hubInitiativeTemplate","hubSolutionTemplate","Template"],not:"Deployed"}}],$webmap:[{type:{any:["Web Map","Web Scene"],not:"Web Mapping Application"}}]}},1611:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n(995)
var r=n(1039),i=n(1506),s=n(1065)
const a="<",o=">",l=Object(r.a)("short-date")
function c(e,t,n,s){let c=""
0===t?c=a+" ":t===n&&(c=o+" ")
let u=null
return u=s?Object(r.b)(e,l):Object(i.a)(e),c+u}const u=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="]
async function d(e){var t
if(!("visualVariables"in e)||!e.visualVariables)return null
const r=e.visualVariables.find(e=>"color"===e.type)
if(!r)return null
let i=null,s=null
if(r.stops){if(1===r.stops.length)return r.stops[0].color
i=r.stops[0].value,s=r.stops[r.stops.length-1].value}const a=null!=i&&null!=s?i+(s-i)/2:0,{getColor:o}=await Promise.resolve().then(n.bind(null,1107))
return null!=(t=o(r,a))?t:null}async function h(e,t){const n=e.trailCap,r=e.trailWidth||1,i=t||await d(e)||e.color
return new s.a({cap:n,color:i,width:r})}},1612:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r=n(1507),i=n(1191),s=n(998),a=n(1018)
const o="esri-relationship-ramp",l=o+"--diamond",c=o+"--square",u={diamondContainer:l+"__container",diamondLeftCol:l+"__left-column",diamondRightCol:l+"__right-column",diamondMidCol:l+"__middle-column",diamondMidColLabel:l+"__middle-column--label",diamondMidColRamp:l+"__middle-column--ramp",squareTable:c+"__table",squareTableRow:c+"__table-row",squareTableCell:c+"__table-cell",squareTableLabel:c+"__table-label",squareTableLabelLeftBottom:c+"__table-label--left-bottom",squareTableLabelRightBottom:c+"__table-label--right-bottom",squareTableLabelLeftTop:c+"__table-label--left-top",squareTableLabelRightTop:c+"__table-label--right-top"}
function d(e,t,n,o){const{focus:l,labels:c}=e,d=!!l,p=function(e,t,n,s,o=60){const{focus:l,numClasses:c,colors:d,rotation:p}=e,f=!!l,b=Math.sqrt(o**2+o**2)+(f?0:5),m=[],y=[],g=[],v=(o||75)/c
for(let e=0;e<c;e++){const t=e*v
for(let n=0;n<c;n++){const i=n*v,s=Object(r.b)(d[e][n]),a=Object(r.c)(null),o={type:"rect",x:i,y:t,width:v,height:v},l=Object(r.f)(s)
l&&m.push(l)
const c=Object(r.h)(o,s.fill,a,null)
c&&y.push(c),g.push(Object(r.d)(o))}}let O=null
f||(O="margin: -15px -15px -18px -15px")
const j=h("left",l,t),w=h("right",l,t),_=Object(r.a)(g),S=Object(r.e)(_,b,b,0,!1,p,!1),x=Object(r.e)(_,b,b,0,!1,f?-45:null,!1),T={filter:Object(i.f)(s),opacity:null==n?"":""+n}
return Object(a.a)("div",{styles:T,class:f?u.diamondMidColRamp:u.squareTableCell},Object(a.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:b,height:b,style:O},Object(a.a)("defs",null,Object(a.a)("marker",{id:t+"_arrowStart",markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},Object(a.a)("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),Object(a.a)("marker",{id:t+"_arrowEnd",markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},Object(a.a)("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),m),Object(a.a)("g",{transform:S},y),Object(a.a)("g",{transform:x},Object(a.a)("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":j.markerStart,"marker-end":j.markerEnd,x1:-10,y1:o-15,x2:-10,y2:15}),Object(a.a)("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":w.markerStart,"marker-end":w.markerEnd,x1:15,y1:o+10,x2:o-15,y2:o+10}))))}(e,t,n,o),f=Object(s.e)()
return d?Object(a.a)("div",{class:u.diamondContainer,styles:{justifyContent:"center"}},Object(a.a)("div",{class:u.diamondLeftCol},f?c.right:c.left),Object(a.a)("div",{class:u.diamondMidCol},Object(a.a)("div",{class:u.diamondMidColLabel},c.top),p,Object(a.a)("div",{class:u.diamondMidColLabel},c.bottom)),Object(a.a)("div",{class:u.diamondRightCol},f?c.left:c.right)):Object(a.a)("div",{class:u.squareTable},Object(a.a)("div",{class:u.squareTableRow},Object(a.a)("div",{class:Object(s.a)(u.squareTableCell,u.squareTableLabel,u.squareTableLabelRightBottom)},f?c.top:c.left),Object(a.a)("div",{class:u.squareTableCell}),Object(a.a)("div",{class:Object(s.a)(u.squareTableCell,u.squareTableLabel,u.squareTableLabelLeftBottom)},f?c.left:c.top)),Object(a.a)("div",{class:u.squareTableRow},Object(a.a)("div",{class:u.squareTableCell}),p,Object(a.a)("div",{class:u.squareTableCell})),Object(a.a)("div",{class:u.squareTableRow},Object(a.a)("div",{class:Object(s.a)(u.squareTableCell,u.squareTableLabel,u.squareTableLabelRightTop)},f?c.right:c.bottom),Object(a.a)("div",{class:u.squareTableCell}),Object(a.a)("div",{class:Object(s.a)(u.squareTableCell,u.squareTableLabel,u.squareTableLabelLeftTop)},f?c.bottom:c.right)))}function h(e,t,n){const r=n+"_arrowStart",i=n+"_arrowEnd",s="left"===e,a={markerStart:null,markerEnd:null}
switch(t){case"HL":s?a.markerStart=`url(#${i})`:a.markerEnd=`url(#${r})`
break
case"LL":a.markerStart=`url(#${i})`
break
case"LH":s?a.markerEnd=`url(#${r})`:a.markerStart=`url(#${i})`
break
default:a.markerEnd=`url(#${r})`}return a}},1618:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1262)
function i(e,t){return`${Object(r.a)(t)}/home/user.html?user=${e}`}},1619:function(e,t,n){"use strict"
function r(e,t={}){return(...n)=>e(...n).catch(e=>t)}n.d(t,"a",(function(){return r}))},1620:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1372)
function i(e){return Object(r.b)(e,"user")}},1642:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r=n(968),i=n(972),s=n(970),a=(n(971),n(445),n(969)),o=n(983)
let l=class extends i.a{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(e=>e.toJSON()),t=this.geometries[0],n={}
return n.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),n.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),n.geometries=JSON.stringify({geometryType:Object(o.c)(t),geometries:e}),this.transformation&&(n.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(n.transformForward=this.transformForward),n}}
Object(r.a)([Object(s.b)()],l.prototype,"geometries",void 0),Object(r.a)([Object(s.b)({json:{read:{source:"outSR"}}})],l.prototype,"outSpatialReference",void 0),Object(r.a)([Object(s.b)()],l.prototype,"transformation",void 0),Object(r.a)([Object(s.b)()],l.prototype,"transformForward",void 0),l=Object(r.a)([Object(a.a)("esri.rest.support.ProjectParameters")],l)
const c=l},1646:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}))
var r=n(376)
function i(e){return e&&"."!==e.slice(-1)?e+".":e}function s(e,t,n,r){switch(n){case"item":return function(e,t,n){let r
const s=function(e,t,n){const r=l(e=i(e),"item")
return((null==n?void 0:n.length)?n:["appAndMap","dataset","document","feedback","site"]).reduce((e,t)=>(r[t]&&e.push(r[t]),e),[])}(e=i(e),0,null==n?void 0:n.collectionNames)
switch(t){case"myContent":o(t,n),r=a(e,t,[{owner:n.user.username}],s,"item")
break
case"favorites":o(t,n),r=a(e,t,[{group:n.user.favGroupId}],s,"item")
break
case"organization":o(t,n),r=a(e,t,[{orgid:n.user.orgId}],s,"item")
break
case"world":r=a(e,t,[{type:{not:["code attachment"]}}],s,"item")}return r}(e,t,r)
case"group":return function(e,t,n){let r
e=i(e)
const s=[{targetEntity:"group",key:t,label:t,scope:{targetEntity:"group",filters:[{predicates:[{q:"*"}]}]}}]
switch(t){case"editGroups":o(t,n),r=a(e,t,[{capabilities:["updateitemcontrol"]}],s,"group")
break
case"viewGroups":o(t,n),r=a(e,t,[{capabilities:{not:["updateitemcontrol"]}}],s,"group")
break
case"allGroups":o(t,n),r=a(e,t,[{capabilities:[""]}],s,"group")}return r}(e,t,r)
default:throw new Error(`Wellknown catalog not implemented for "${n}"`)}}function a(e,t,n,r,i){let s
switch(i){case"item":s={item:{targetEntity:"item",filters:[{predicates:n}]}}
break
case"group":s={group:{targetEntity:"group",filters:[{predicates:n}]}}}return{schemaVersion:1,title:`{{${e}catalog.${t}:translate}}`,scopes:s,collections:r}}function o(e,t){if(!t||!t.user)throw new Error(`User needed to get "${e}" catalog`)}function l(e,t){return{appAndMap:{key:"appAndMap",label:`{{${e}collection.appsAndMaps:translate}}`,targetEntity:t,include:[],scope:{targetEntity:t,filters:[{predicates:[{type:[...Object(r.a)("app"),...Object(r.a)("map")]}]}]}},dataset:{key:"dataset",label:`{{${e}collection.dataset:translate}}`,targetEntity:t,include:[],scope:{targetEntity:t,filters:[{predicates:[{type:Object(r.a)("dataset")}]}]}},document:{key:"document",label:`{{${e}collection.documents:translate}}`,targetEntity:t,include:[],scope:{targetEntity:t,filters:[{predicates:[{type:Object(r.a)("document")}]}]}},feedback:{key:"feedback",label:`{{${e}collection.feedback:translate}}`,targetEntity:t,include:[],scope:{targetEntity:t,filters:[{predicates:[{type:Object(r.a)("feedback")}]}]}},site:{key:"site",label:`{{${e}collection.sites:translate}}`,targetEntity:t,include:[],scope:{targetEntity:t,filters:[{predicates:[{type:Object(r.a)("site")}]}]}},template:{key:"template",label:`{{${e}collection.templates:translate}}`,targetEntity:t,include:[],scope:{targetEntity:t,filters:[{predicates:[{type:Object(r.a)("template")}]}]}}}}function c(e,t,n){return l(e=i(e),t)[n]}},1649:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1279)
function i(e){return new r.a({getCollections:()=>[e.tables,e.layers],getChildrenFunction:e=>{const t=[]
return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent
return!!t&&"tables"in t&&t.tables.includes(e)}})}},1650:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h}))
var r=n(968),i=n(993),s=n(1179),a=n(233),o=n(973),l=n(970),c=(n(971),n(445),n(969)),u=n(777)
function d(e,t,n){let r,i
if(e)for(let a=0,o=e.length;a<o;a++){var s
if(r=e.getItemAt(a),r[t]===n)return r
if("group"===(null==(s=r)?void 0:s.type)&&(i=d(r.layers,t,n),i))return i}}const h=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new i.a
const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||a.a.getLogger(this.declaredClass).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},n=e=>{e.parent=null,this.layerRemoved(e)}
this.layers.on("before-add",e=>(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item)),this.layers.on("after-add",e=>t(e.item)),this.layers.on("after-remove",e=>n(e.item))}destroy(){const e=this.layers.removeAll()
for(const t of e)this.layerRemoved(t),t.destroy()
this.layers.destroy()}set layers(e){this._set("layers",Object(s.b)(e,this._get("layers")))}add(e,t){const n=this.layers
if(t=n.getNextIndex(t),e instanceof u.default){const r=e
r.parent===this?this.reorder(r,t):n.add(r,t)}else Object(o.l)(e)?e.then(e=>{this.destroyed||this.add(e,t)}):a.a.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const n=this.layers
let r=n.getNextIndex(t)
e.slice().forEach(e=>{e.parent!==this?(n.add(e,r),r+=1):this.reorder(e,r)})}findLayerById(e){return d(this.layers,"id",e)}findLayerByUid(e){return d(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}}
return Object(r.a)([Object(l.b)()],t.prototype,"layers",null),t=Object(r.a)([Object(c.a)("esri.support.LayersMixin")],t),t}},1651:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r=n(968),i=n(993),s=n(1179),a=n(233),o=n(970),l=(n(971),n(445),n(969))
function c(e,t,n){if(e)for(let r=0,i=e.length;r<i;r++){const i=e.getItemAt(r)
if(i[t]===n)return i
if("group"===(null==i?void 0:i.type)){const e=c(i.tables,t,n)
if(e)return e}}}const u=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new i.a,this.tables.on("after-add",e=>{const t=e.item
t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&a.a.getLogger(this.declaredClass).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",e=>{e.item.parent=null})}destroy(){const e=this.tables.removeAll()
for(const t of e)t.destroy()
this.tables.destroy()}set tables(e){this._set("tables",Object(s.b)(e,this._get("tables")))}findTableById(e){return c(this.tables,"id",e)}findTableByUid(e){return c(this.tables,"uid",e)}}
return Object(r.a)([Object(o.b)()],t.prototype,"tables",null),t=Object(r.a)([Object(l.a)("esri.support.TablesMixin")],t),t}},1652:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d}))
var r=n(990),i=n(1611)
const s=new r.a([64,64,64])
function a(e,t){const n=[],r=e.length-1
return 5===e.length?n.push(0,2,4):n.push(0,r),e.map((e,s)=>n.includes(s)?Object(i.d)(e,s,r,t):null)}async function o(e,t,r){let i=!1,s=[],o=[]
if(e.stops){const t=e.stops
s=t.map(e=>e.value),i=t.some(e=>!!e.label),i&&(o=t.map(e=>e.label))}const c=s[0],u=s[s.length-1]
if(null==c&&null==u)return null
const d=i?null:a(s,null!=r&&r)
return(await Promise.all(s.map(async(r,s)=>{var a
return{value:r,color:"opacity"===e.type?await l(r,e,t):(await Promise.resolve().then(n.bind(null,1107))).getColor(e,r),label:i?o[s]:null!=(a=null==d?void 0:d[s])?a:""}}))).reverse()}async function l(e,t,i=s){const a=new r.a(i),o=(await Promise.resolve().then(n.bind(null,1107))).getOpacity(t,e)
return null!=o&&(a.a=o),a}function c(e){let t=!1,n=[],r=[]
n=e.map(e=>e.value),t=e.some(e=>!!e.label),t&&(r=e.map(e=>{var t
return null!=(t=e.label)?t:""}))
const i=n[0],s=n[n.length-1]
if(null==i&&null==s)return null
const o=t?null:a(n,!1)
return n.map((n,i)=>{var s
return{value:n,color:u(n,e),label:t?r[i]:null!=(s=null==o?void 0:o[i])?s:""}}).reverse()}function u(e,t){const{startIndex:n,endIndex:i,weight:s}=function(e,t){let n=0,r=t.length-1
return t.some((t,i)=>e<t.value?(r=i,!0):(n=i,!1)),{startIndex:n,endIndex:r,weight:(e-t[n].value)/(t[r].value-t[n].value)}}(e,t)
if(n===i)return t[n].color
const a=r.a.blendColors(t[n].color,t[i].color,s)
return new r.a(a)}function d(e,t){let n=[]
if(e&&"multipart"===e.type)e.colorRamps.reverse().forEach((i,s)=>{0===s?n.push({value:t.max,color:new r.a(i.toColor),label:"high"}):n.push({value:null,color:new r.a(i.toColor),label:""}),s===e.colorRamps.length-1?n.push({value:t.min,color:new r.a(i.fromColor),label:"low"}):n.push({value:null,color:new r.a(i.fromColor),label:""})})
else{let i,s
e&&"algorithmic"===e.type?(i=e.fromColor,s=e.toColor):(i=[0,0,0,1],s=[255,255,255,1]),n=[{value:t.max,color:new r.a(s),label:"high"},{value:t.min,color:new r.a(i),label:"low"}]}return n}},1653:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1245)
function i(e){if(!e.colorStops)return[]
const t=[...e.colorStops].filter(e=>{var t
return(null==(t=e.color)?void 0:t.a)>0})
let n=t.length-1
if(t&&t[0]){const e=t[n]
e&&1!==e.ratio&&(t.push(new r.a({ratio:1,color:e.color})),n++)}return t.map((t,r)=>{var i,s
let a=""
return 0===r?a=(null==(i=e.legendOptions)?void 0:i.minLabel)||"low":r===n&&(a=(null==(s=e.legendOptions)?void 0:s.maxLabel)||"high"),{color:t.color,label:a,ratio:t.ratio}}).reverse()}},1654:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
const r="OBJECTID"},1655:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n(234)
var r=n(1275),i=n(1520)
const s={HH:315,HL:45,LL:135,LH:225},a={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]}
function o(e){if(!e)return
const{type:t}=e
if(t.includes("3d"))return Object(i.getSymbolLayerFill)(e.symbolLayers.getItemAt(0))
if("simple-line"===t){const t=Object(r.e)(e)
return t&&t.color}if("simple-marker"===e.type&&("x"===e.style||"cross"===e.style)){const t=Object(r.e)(e)
return t&&t.color}return Object(r.c)(e)}function l(e,t){const n=t.HH.label,r=t.LL.label,i=t.HL.label,s=t.LH.label
switch(e){case"HH":default:return{top:n,bottom:r,left:i,right:s}
case"HL":return{top:i,bottom:s,left:r,right:n}
case"LL":return{top:r,bottom:n,left:s,right:i}
case"LH":return{top:s,bottom:i,left:n,right:r}}}function c(e){const{focus:t,infos:n,numClasses:r}=e,i=a[r],s={}
n.forEach(e=>{s[e.value]={label:e.label,fill:o(e.symbol)}})
const c=[]
for(let e=0;e<r;e++){const t=[]
for(let n=0;n<r;n++){const r=s[i[e][n]]
t.push(r.fill)}c.push(t)}return{type:"relationship-ramp",numClasses:r,focus:t,colors:c,labels:l(t,s),rotation:u(t)}}function u(e){let t=s[e]
return e&&null==t&&(t=s.HH),t||0}},1656:function(e,t,n){"use strict"
n.r(t),n.d(t,"fetchSymbolFromStyle",(function(){return b})),n.d(t,"resolveWebStyleSymbol",(function(){return f}))
var r=n(995),i=n(1436),s=n(446),a=n(23),o=n(374),l=n(1028),c=n(1054),u=n(1147),d=n(1870),h=n(1181),p=n(1853)
function f(e,t,n,r){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,n){const r=h.a.replace(/\{SymbolName\}/gi,e.name),i=Object(a.l)(t.portal)?t.portal:l.a.getDefault()
return Object(h.d)(r,n).then(e=>{const t=Object(h.c)(e.data)
return Object(u.a)(t,{portal:i,url:Object(o.Q)(Object(o.L)(r)),origin:"portal-item"})})}(e,t,r):Object(h.b)(e,t,r).then(i=>b(Object(a.w)(i),e.name,t,n,r)):Promise.reject(new s.a("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function b(e,t,n,f,b){var m,y,g
const v=e.data,O=n&&Object(a.l)(n.portal)?n.portal:l.a.getDefault(),j={portal:O,url:Object(o.Q)(e.baseUrl),origin:"portal-item"},w=v.items.find(e=>e.name===t)
if(!w){const e=`The symbol name '${t}' could not be found`
return Promise.reject(new s.a("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let _=Object(c.d)(Object(h.e)(w,f),j),S=null!=(m=null==(y=w.thumbnail)?void 0:y.href)?m:null
const x=w.thumbnail&&w.thumbnail.imageData
Object(i.b)()&&(_=null!=(g=Object(i.a)(_))?g:"",S=Object(i.a)(S))
const T={portal:O,url:Object(o.Q)(Object(o.L)(_)),origin:"portal-item"}
return Object(h.d)(_,b).then(i=>{const s="cimRef"===f?Object(h.c)(i.data):i.data,a=Object(u.a)(s,T)
if(a&&Object(r.c)(a)){if(S){const e=Object(c.d)(S,j)
a.thumbnail=new p.a({url:e})}else x&&(a.thumbnail=new p.a({url:"data:image/png;base64,"+x}))
e.styleUrl?a.styleOrigin=new d.a({portal:n.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(a.styleOrigin=new d.a({portal:n.portal,styleName:e.styleName,name:t}))}return a})}},1677:function(e,t,n){"use strict"
function r(e,t,n,r){const i=3*e,s=3*(n-e)-i,a=1-i-s,o=3*t,l=3*(r-t)-o,c=1-o-l
function u(e){return((a*e+s)*e+i)*e}function d(e){return(3*a*e+2*s)*e+i}return function(e,t=1e-6){return function(e){return((c*e+l)*e+o)*e}(function(e,t){let n,r,i,s,a,o
for(i=e,o=0;o<8;o++){if(s=u(i)-e,Math.abs(s)<t)return i
if(a=d(i),Math.abs(a)<1e-6)break
i-=s/a}if(n=0,r=1,i=e,i<n)return n
if(i>r)return r
for(;n<r;){if(s=u(i),Math.abs(s-e)<t)return i
e>s?n=i:r=i,i=.5*(r-n)+n}return i}(e,t))}}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}))
const i=/^cubic-bezier\((.*)\)/,s={}
function a(e){let t=s[e]||null
if(!t){const n=i.exec(e)
if(n){const e=n[1].split(",").map(e=>parseFloat(e.trim()))
4!==e.length||e.some(e=>isNaN(e))||(t=r.apply(r,e))}}return t}s.ease=r(.25,.1,.25,1),s.linear=r(0,0,1,1),s.easeIn=s["ease-in"]=r(.42,0,1,1),s.easeOut=s["ease-out"]=r(0,0,.58,1),s.easeInOut=s["ease-in-out"]=r(.42,0,.58,1)},1678:function(e,t,n){"use strict"
n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return x})),n.d(t,"p",(function(){return h}))
var r=n(1207),i=n(1339),s=n(991),a=n(23),o=n(447),l=n(997),c=n(1038)
function u(e,t,n){return e.units[t][n]}function d(e,t,n,r=2,i="abbr"){return`${Object(c.b)(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:t>0?"never":"exceptZero"})} ${u(e,n,i)}`}function h(e,t,n,r=2,i="abbr"){return`${Object(c.b)(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${u(e,n,i)}`}function p(e,t,n,r=2,i="abbr"){const s=Object(l.u)(t,n)
return d(e,Object(l.e)(t,n,s),s,r,i)}function f(e,t,n,r=2,i="abbr"){const s=Object(l.u)(t,n)
return h(e,Object(l.e)(t,n,s),s,r,i)}function b(e,t,n,r=2,i="abbr"){const s=Object(l.v)(t,n)
return d(e,Object(l.e)(t,n,s),s,r,i)}function m(e,t,n,r=2,i="abbr"){const s=Object(l.v)(t,n)
return h(e,Object(l.e)(t,n,s),s,r,i)}function y(e,t,n,r=2,i="abbr"){const s=Object(l.q)(t,n)
return d(e,Object(l.e)(t,n,s),s,r,i)}function g(e,t,n,r=2,i="abbr"){const s=Object(l.q)(t,n)
return h(e,Object(l.e)(t,n,s),s,r,i)}function v(e,t,n,r=2,i="abbr"){const s=Object(l.r)(t,n)
return d(e,Object(l.e)(t,n,s),s,r,i)}function O(e,t,n,r=2,i="abbr"){const s=Object(l.r)(t,n)
return h(e,Object(l.e)(t,n,s),s,r,i)}function j(e,t,n,r=2,i="abbr"){const s=Object(l.t)(t,n)
return d(e,Object(l.e)(t,n,s),s,r,i)}function w(e,t,n,r=2,i="abbr"){const s=Object(l.p)(t,n)
return d(e,Object(l.e)(t,n,s),s,r,i)}function _(e,t,n=2){let r=Object(l.e)(e,t,"degrees"),i=r-Math.floor(r)
r-=i,i*=60
let s=i-Math.floor(i)
return i-=s,s*=60,`${r.toFixed()} ${i.toFixed()}' ${s.toFixed(n)}"`}function S(e,t,n,r,s){s=Object(a.v)(s,2)
let o=i.c.normalize(function(e,t,n){if(t===n)return e
switch(n){case"arithmetic":return function(e){return 90-e}(e)
case"geographic":return function(e){return-e-90}(e)}}(Object(l.e)(e,t,"degrees"),n,r),0,!0)
const u={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:s,minimumFractionDigits:s,signDisplay:o>0?"never":"exceptZero"}
return o=I(o,u),Object(c.b)(o,u)}function x(e,t,n,r,i){n!==r&&(e=-e)
const s={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:i=Object(a.v)(i,2),minimumFractionDigits:i,signDisplay:"exceptZero"}
let o=Object(l.e)(e,t,"degrees")%360
return o=I(o,s),Object(c.b)(o,s)}const T=new Map
function I(e,t){const n=JSON.stringify(t)
let r=T.get(n)
return r||(r=new Intl.NumberFormat("en-US",t),T.set(n,r)),/\-?\+?360/.test(r.format(e))?0:e}const M=["B","kB","MB","GB","TB"]
function E(e,t){let n=0===t?0:Math.floor(Math.log(t)/Math.log(r.a.KILOBYTES))
n=Object(s.f)(n,0,M.length-1)
const i=Object(c.b)(t/r.a.KILOBYTES**n,{maximumFractionDigits:2})
return Object(o.c)(e.units.bytes[M[n]],{fileSize:i})}},1679:function(e,t,n){"use strict"
n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return u}))
var r=n(445),i=n(233),s=n(1110),a=(n(23),n(1039)),o=(n(1506),n(1210),n(1191)),l=n(1652),c=n(1653)
i.a.getLogger("esri.renderers.support.utils")
const u=Object(a.a)("short-date")
async function d(e,t,n){Object(s.b)(e,t,()=>[]).push(...n)}async function h(e){var t
const n=new Map
if(!e)return n
if("visualVariables"in e&&e.visualVariables){const t=e.visualVariables.filter(e=>"color"===e.type)
for(const e of t){var i
const t=(null!=(i=await Object(l.b)(e))?i:[]).map(e=>e.color)
await d(n,e.field||e.valueExpression,t)}}if("heatmap"===e.type){const t=Object(c.a)(e).map(e=>e.color)
await d(n,e.field||e.valueExpression,t)}else if("pie-chart"===e.type){var s
for(const t of e.attributes)await d(n,t.field||t.valueExpression,[t.color])
await d(n,"default",[null==e||null==(s=e.othersCategory)?void 0:s.color,Object(o.g)(e.backgroundFillSymbol,null)])}else if("dot-density"===e.type){for(const t of e.attributes)await d(n,t.field||t.valueExpression,[t.color])
await d(n,"default",[e.backgroundColor])}else if("unique-value"===e.type)if("predominance"===(null==(t=e.authoringInfo)?void 0:t.type))for(const t of null!=(a=e.uniqueValueInfos)?a:[]){var a
await d(n,t.value.toString(),[Object(o.g)(t.symbol,null)])}else{var u
const t=(null!=(u=e.uniqueValueInfos)?u:[]).map(e=>Object(o.g)(e.symbol,null)),{field:r,field2:i,field3:s,valueExpression:a}=e;(r||a)&&await d(n,r||a,t),i&&await d(n,i,t),s&&await d(n,s,t)}else if("class-breaks"===e.type){const t=e.classBreakInfos.map(e=>Object(o.g)(e.symbol,null)),{field:r,valueExpression:i}=e
await d(n,null!=r?r:i,t)}else"simple"===e.type&&await d(n,"default",[Object(o.g)(e.symbol,null)])
return"defaultSymbol"in e&&e.defaultSymbol&&await d(n,"default",[Object(o.g)(e.defaultSymbol,null)]),n.forEach((e,t)=>{const i=Object(r.q)(e.filter(Boolean),(e,t)=>JSON.stringify(e)===JSON.stringify(t))
n.set(t,i)}),n}},1701:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return a})),n(235)
var r=n(991),i=n(23)
function s(e,t){const{format:n,quality:i,rotation:s,disableDecorations:a}=e||{},o=m(e,t.padding),l=function(e,t){const n={x:0,y:0,width:t.width,height:t.height}
if(e&&e.area){null!=e.area.x&&(n.x=Math.floor(e.area.x)),null!=e.area.y&&(n.y=Math.floor(e.area.y))
const r=null!=e.area.width?Math.floor(e.area.width):null,i=null!=e.area.height?Math.floor(e.area.height):null
if(n.width=t.width-n.x,n.height=t.height-n.y,null!=r&&null!=i)n.width=Math.min(n.width,r),n.height=Math.min(n.height,i)
else if(null==r&&null!=i){const e=Math.min(n.width,r)
n.height=e/n.width*n.height,n.width=e}else if(null!=r&&null==i){const e=Math.min(n.height,i)
n.width=e/n.height*n.width,n.height=e}}return function(e,t){const n=Math.floor(Math.max(e.x,0)),r=Math.floor(Math.max(e.y,0)),i={x:n,y:r,width:Math.floor(Math.min(e.width,t.width-n)),height:Math.floor(Math.min(e.height,t.height-r))},s=i.width/i.height,a=e.width/e.height
if(a===s)return i
if(a>s){const e=Math.floor(i.width/a),t=i.height-e
return{x:i.x,y:Math.floor(i.y+t/2),width:i.width,height:e}}const o=Math.floor(i.height*a),l=i.width-o
return{x:Math.floor(i.x+l/2),y:i.y,width:o,height:i.height}}(function(e,t){if(!t||null==t.width||null==t.height)return e
const n=t.width/t.height,r=e.width/e.height
if(r===n)return e
if(r<n){const t=Math.floor(e.height*n)
return e.x-=(t-e.width)/2,e.width=t,e}const i=Math.floor(e.width/n)
return e.y-=(i-e.height)/2,e.height=i,e}(n,e),t)}(e,{width:t.width-o.left-o.right,height:t.height-o.top-o.bottom}),{width:c,height:u}=function(e,t){if(!e)return t
const n=e.width,r=e.height
if(null!=n&&null!=r)return{width:Math.floor(n),height:Math.floor(r)}
if(null==n&&null==r)return t
const i=t.width/t.height
return null==r?{width:Math.floor(n),height:Math.floor(n/i)}:{width:Math.floor(r*i),height:Math.floor(r)}}(e,l),d=y(n),h=O[d]
return{format:d,quality:Object(r.f)(null!=i?i:h,0,100),area:l,width:c,height:u,rotation:s,disableDecorations:!!a,ignoreBackground:!(!e||!e.ignoreBackground),ignorePadding:!(!e||!e.ignorePadding)}}function a(e,t){const n=s(e,t),r=n.area,i=n.width/r.width,a=m(n,t.padding),o=a.left+a.right,l=a.top+a.bottom,c=t.width-o,u=t.height-l,d=Math.floor(c*i+o),h=Math.floor(u*i+l),p=e&&e.layers?e.layers:[],f=n.ignoreBackground,b=n.ignorePadding
return{framebufferWidth:d,framebufferHeight:h,region:{x:Math.floor(r.x*i)+a.left,y:Math.floor(r.y*i)+a.top,width:n.width,height:n.height},format:n.format,quality:n.quality,rotation:n.rotation,pixelRatio:i,layers:p,disableDecorations:n.disableDecorations,ignoreBackground:f,ignorePadding:b,objectAndLayerIdColor:!1}}function o(e,t,n){const{ctx:r,canvas:i}=c(e,n),s=r.getImageData(0,0,e.width,e.height),a=function(e,t){const n=g[t.format],r=t.quality/100
return e.toDataURL(n,r)}(i,t)
return u(i),{dataUrl:a,data:s}}function l(e,t){const{ctx:n,canvas:r}=c(e,t),i=n.getImageData(0,0,e.width,e.height)
return u(r),i}function c(e,t){const n=(Object(i.k)(d)&&(d=document.createElement("canvas")),d)
t.premultipliedAlpha&&function(e){const t=e.data,n=t.length
for(let e=0;e<n;e+=4){const n=t[e+3]
if(255!==n&&n>0){const r=255/n
t[e+0]=t[e+0]*r,t[e+1]=t[e+1]*r,t[e+2]=t[e+2]*r}}}(e),n.width=e.width,n.height=e.height
const r=n.getContext("2d",{willReadFrequently:!0})
return r.putImageData(e,0,0),t.flipY&&function(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}(r),{ctx:r,canvas:n}}function u(e){e.width=0,e.height=0}n(1523)
let d=null
function h(e,t){const n=y(e),i=O[n]
return{format:n,quality:Object(r.f)(null!=t?t:i,0,100)}}function p(e,t){return t/Math.max(e[0],e[1])}function f(e,t,n,r=0,i=0,s=e.width-r,a=e.height-i,o=!1){const{data:l}=e,{width:c,height:u,data:d}=t,h=s/c,p=a/u,f=Math.ceil(h/2),b=Math.ceil(p/2),m=e.width
for(let e=0;e<u;e++)for(let t=0;t<c;t++){const s=4*(t+(o?u-e-1:e)*c)
let a=0,y=0,g=0,v=0,O=0,j=0
const w=(e+.5)*p
for(let s=Math.floor(e*p);s<(e+1)*p;s++){const e=Math.abs(w-(s+.5))/b,o=(t+.5)*h,c=e*e
for(let e=Math.floor(t*h);e<(t+1)*h;e++){const t=Math.abs(o-(e+.5))/f,u=Math.sqrt(c+t*t)
if(u>=1)continue
let d=2*u*u*u-3*u*u+1
const h=4*(r+e+(i+s)*m)
j+=d*l[h+3],y+=d,!n&&l[h+3]<255&&(d=d*l[h+3]/255),g+=d*l[h],v+=d*l[h+1],O+=d*l[h+2],a+=d}}d[s]=g/a,d[s+1]=v/a,d[s+2]=O/a,d[s+3]=j/y}return t}function b(e,t,n){if(!t)return e
const{framebufferWidth:r,framebufferHeight:i,pixelRatio:s,region:a}=e,o=m(e,n),l=o.left+o.right,c=o.top+o.bottom,u=r-l,d=i-c,h=Math.min(8,Math.min((2048-l)/u,(2048-c)/d))
return h<1.5?e:{...e,framebufferWidth:Math.round(u*h)+l,framebufferHeight:Math.round(d*h)+c,pixelRatio:s*h,resample:{region:{x:Math.round((a.x-o.left)*h)+o.left,y:Math.round((a.y-o.top)*h)+o.top,width:Math.round(a.width*h),height:Math.round(a.height*h)},width:r,height:i}}}function m(e,t){return!t||e&&e.ignorePadding?j:t}function y(e){switch(e){case"png":case"jpg":case"jpeg":return e
default:return v}}const g={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},v="png",O={png:100,jpg:98,jpeg:98},j={top:0,right:0,bottom:0,left:0}},1718:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d}))
var r,i=n(968),s=n(990),a=n(972),o=n(234),l=n(970),c=(n(971),n(969))
let u=r=class extends a.a{constructor(e){super(e),this.color=new s.a([0,0,0,1])}clone(){return new r(Object(o.a)({color:this.color}))}}
Object(i.a)([Object(l.b)({type:s.a,json:{write:!0}})],u.prototype,"color",void 0),u=r=Object(i.a)([Object(c.a)("esri.webmap.background.ColorBackground")],u)
const d=u},1734:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(968),i=n(233),s=n(23),a=(n(971),n(445),n(446),n(235),n(969)),o=n(1365)
let l=class extends o.a{constructor(e){super(e),this.handles.add(this.on("before-add",e=>{Object(s.k)(e.item)||e.item.parent===this.owner&&(i.a.getLogger(this.declaredClass).warn("Analysis inside the collection must be unique. Not adding this element again."),e.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}}
l=Object(r.a)([Object(a.a)("esri.support.AnalysesCollection")],l)},1735:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r=n(968),i=n(975),s=n(23),a=n(970),o=(n(971),n(445),n(969)),l=n(1148)
let c=class extends i.a{constructor(e,t){var n
super({}),this._stage=e,this._textureRequests=new Map,this._frameTask=null!=(n=null==t?void 0:t.registerTask(l.c.TEXTURE_UNLOAD))?n:l.a}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(e=>this._releaseTextureRequest(e)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(e,t,n){const r=this.makeUid(e)
let i=this._textureRequests.get(r)
if(!i){const e=t()
i={referenceCount:0,texture:e,textureAsync:null,abortController:null,onRemove:n},this._stage&&(this._stage.add(e),this._stage.loadImmediate(e)),this._textureRequests.set(r,i)}return i.referenceCount++,{uid:r,texture:i.texture,release:()=>this._release(r)}}_release(e){const t=this._textureRequests.get(e)
t?(t.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+e),t.referenceCount--,t.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(e))):console.warn(`TextureCollection: texture doesn't exist: '${e}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(e){if(!this._textureRequests)return
const t=this._textureRequests.get(e)
!t||t.referenceCount>0||(this._releaseTextureRequest(t),this._textureRequests.delete(e))}_releaseTextureRequest(e){var t
e.onRemove&&e.onRemove(),e.texture?null==(t=this._stage)||t.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null)}makeUid(e,t=null){return Object(s.l)(t)?`${e}.${t}px`:e}}
Object(r.a)([Object(a.b)()],c.prototype,"_frameTask",void 0),Object(r.a)([Object(a.b)()],c.prototype,"updating",null),c=Object(r.a)([Object(o.a)("esri.views.3d.support.TextureCollection")],c)},1760:function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r=n(968),i=n(1117),s=n(1007),a=n(23),o=n(978),l=n(970),c=(n(971),n(445),n(969))
const u={widthBreakpoint:{getValue(e){const t=e.viewSize[0],n=e.breakpoints,r=this.values
return t<=n.xsmall?r.xsmall:t<=n.small?r.small:t<=n.medium?r.medium:t<=n.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],n=e.breakpoints,r=this.values
return t<=n.xsmall?r.xsmall:t<=n.small?r.small:t<=n.medium?r.medium:t<=n.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,n=t[0],r=t[1],i=this.values
return r>=n?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},d={xsmall:544,small:768,medium:992,large:1200}
function h(e,t){return t?u[e].valueToClassName[t].split(" "):[]}const p=e=>{let t=class extends e{constructor(...e){super(...e),this._breakpointsHandles=new s.a,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=d}initialize(){this._breakpointsHandles.add(Object(o.f)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),o.a))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=Object(a.e)(this._breakpointsHandles))}set breakpoints(e){if(e===this._get("breakpoints"))return
const t=function(e){const t=e
return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}(e)
if(!t){const e=JSON.stringify(d,null,2)
console.warn("provided breakpoints are not valid, using defaults:"+e)}e=t?e:d,this._set("breakpoints",{...e})}_updateClassNames(){if(!this.container)return
const e=i.a.acquire(),t=i.a.acquire()
let n,r=!1
for(n in u){const i=this[n],s=u[n].getValue({viewSize:this.size,breakpoints:this.breakpoints})
i!==s&&(r=!0,this[n]=s,h(n,i).forEach(e=>t.push(e)),h(n,s).forEach(t=>e.push(t)))}r&&(this._applyClassNameChanges(e,t),i.a.release(e),i.a.release(t))}_applyClassNameChanges(e,t){const n=this.container
n&&(t.forEach(e=>n.classList.remove(e)),e.forEach(e=>n.classList.add(e)))}_removeActiveClassNames(){const e=this.container
if(!e)return
let t
for(t in u)h(t,this[t]).forEach(t=>e.classList.remove(t))}}
return Object(r.a)([Object(l.b)()],t.prototype,"breakpoints",null),Object(r.a)([Object(l.b)()],t.prototype,"orientation",void 0),Object(r.a)([Object(l.b)()],t.prototype,"widthBreakpoint",void 0),Object(r.a)([Object(l.b)()],t.prototype,"heightBreakpoint",void 0),t=Object(r.a)([Object(c.a)("esri.views.BreakpointsOwner")],t),t}},1761:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r=n(968),i=n(23),s=n(973),a=(n(233),n(971),n(445),n(446),n(235),n(969))
const o=e=>{let t=class extends e{async fetchPopupFeatures(e,t){await this.when()
const{location:n,queryArea:r,layerViewsAndGraphics:i,clientOnlyGraphics:a}=await this._prepareFetchPopupFeatures(e,t),o=Promise.resolve(a),l=this._queryLayerPopupFeatures(r,i,t),c=l.map(e=>e.promise)
return{location:n,clientOnlyGraphics:a,allGraphicsPromise:Object(s.h)([o,...c]).then(e=>Array.from(new Set(e.flat()))),promisesPerLayerView:l}}_queryLayerPopupFeatures(e,t,n){return t.map(({layerView:t,graphics:r})=>{const s={clientGraphics:r,event:Object(i.l)(n)?n.event:void 0,signal:Object(i.l)(n)?n.signal:void 0,defaultPopupTemplateEnabled:!!Object(i.l)(n)&&!!n.defaultPopupTemplateEnabled},a=t.fetchPopupFeatures(e,s)
return{layerView:t,promise:a}})}_isValidPopupGraphic(e,t){return e&&!!e.getEffectivePopupTemplate(Object(i.l)(t)&&t.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(e,t){const{clientGraphics:n,queryArea:r,location:i}=await this._popupHitTestGraphics(e,t),s=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:a,clientOnlyGraphics:o}=this._graphicsPerFetchPopupLayerView(n,s)
return{clientOnlyGraphics:o,layerViewsAndGraphics:a,queryArea:r,location:i}}async _popupHitTestGraphics(e,t){const n=await this.popupHitTest(e),r=n.results,i=n.mapPoint,s=r.filter(e=>"graphic"===e.type&&this._isValidPopupGraphic(e.graphic,t)),a=s.length?s[0].mapPoint:null
return{clientGraphics:s.map(e=>e.graphic),queryArea:i,location:i||a}}_getFetchPopupLayerViews(){const e=[]
return this.allLayerViews.forEach(t=>{this._isValidPopupLayerView(t)&&e.push(t)}),Object(i.l)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&e.push(this.graphicsView),e.reverse()}_isValidPopupLayerView(e){return Object(i.l)(e)&&(!("layer"in e)||!e.suspended)&&"fetchPopupFeatures"in e}_graphicsPerFetchPopupLayerView(e,t){const n=[],r=new Map,i=t.map(e=>{const t=[]
return"layer"in e?r.set(e.layer,t):r.set(e.graphics,t),{layerView:e,graphics:t}})
for(const t of e){const e=r.get(t.layer)||r.get(t.sourceLayer)||null
e?e.push(t):n.push(t)}return{layerViewsAndGraphics:i,clientOnlyGraphics:n}}}
return t=Object(r.a)([Object(a.a)("esri.views.PopupView")],t),t}},1762:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return s}))
var r=n(985)
function i(e){let t=e*e
return e<0&&(t*=-1),t}function s(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function a(e,t,n){const s=n,a=e.state,o=e.device,l="forward-down"===t.tiltDirection?1:-1
return"standard"===o.deviceType?(s.translation[0]=i(a.axes[0]),s.translation[1]=i(a.axes[1]),s.translation[2]=i(a.buttons[7])-i(a.buttons[6]),s.heading=i(a.axes[2]),s.tilt=i(a.axes[3])):"spacemouse"===o.deviceType&&(s.translation[0]=1.2*i(a.axes[0]),s.translation[1]=1.2*i(a.axes[1]),s.translation[2]=2*-i(a.axes[2]),s.heading=1.2*i(a.axes[5]),s.tilt=1.2*i(a.axes[3])),s.tilt*=l,Object(r.p)(s.translation,s.translation,1),s}function o(e,t){const n=t
return n.translation[0]=e[1]-e[0],n.translation[1]=e[3]-e[2],n.translation[2]=e[4]-e[5],n.heading=e[7]-e[6],n.tilt=e[8]-e[9],n.zoom=e[10]-e[11],n}function l(e){return 0===e.translation[0]&&0===e.translation[1]&&0===e.translation[2]&&0===e.heading&&0===e.tilt&&0===e.zoom}},1763:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(1053)
class i extends r.a{constructor(){super(!0),this.registerIncoming("context-menu",e=>{e.data.native.preventDefault()})}}},1764:function(e,t,n){"use strict"
n.d(t,"a",(function(){return c}))
var r,i,s=n(980),a=n(1152),o=n(1053),l=n(1359)
class c extends o.a{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,t,n,r){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:t.buttons,timestamp:r,pointers:h(this._activePointerMap),pointer:t,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(e){const t=e.native.pointerId,n=d(this._activePointerMap).angle,r={event:e,initialAngle:0,lastAngle:0}
this._activePointerMap.set(t,r)
const i=p(r,u(this._activePointerMap))
r.initialAngle=i,r.lastAngle=i,this._updatePointerAngles(n)}_updatePointer(e){if(e&&null==e.x&&null==e.y)return
const t=e.native.pointerId,n=this._activePointerMap.get(t)
n?n.event=e:this._addPointer(e)}_removePointer(e){const t=d(this._activePointerMap).angle
this._activePointerMap.delete(e),this._updatePointerAngles(t)}_updatePointerAngles(e){const t=d(this._activePointerMap)
this._activePointerMap.forEach(n=>{n.initialAngle=p(n,t)-e,n.lastAngle=p(n,t)-e})}_emitEvent(e,t,n){const r=d(this._activePointerMap)
this._drag.emit(this._createPayload(e,t,r,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const t=e.data.native.pointerId,n=Object(a.a)(e.timestamp)
this._activePointerMap.get(t)&&(1===this._activePointerMap.size?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(t)):(this._removePointer(t),this._emitEvent("removed",e.data,Object(a.a)(e.timestamp))))}_handlePointerDrag(e){const t=e.data,n=t.currentEvent,r=Object(a.a)(e.timestamp)
switch(t.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,r)):(this._addPointer(n),this._emitEvent("added",n,r),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,r))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function u(e){const t=[]
return e.forEach(e=>{t.push(Object(s.f)(e.event.x,e.event.y))}),Object(l.b)(t)}function d(e){const t=u(e)
let n=0
return e.forEach(e=>{let r=p(e,t),i=r-e.lastAngle
for(;i>Math.PI;)i-=2*Math.PI
for(;i<-Math.PI;)i+=2*Math.PI
r=e.lastAngle+i,e.lastAngle=r
const s=r-e.initialAngle
n+=s}),n/=e.size||1,{angle:n,radius:t.radius,center:t.center}}function h(e){const t=new Map
return e.forEach((e,n)=>t.set(n,e.event)),t}function p(e,t){const n=e.event,r=n.x-t.center.x,i=n.y-t.center.y
return Math.atan2(i,r)}(i=r||(r={}))[i.Left=0]="Left",i[i.Middle=1]="Middle",i[i.Right=2]="Right",i[i.Back=3]="Back",i[i.Forward=4]="Forward",i[i.Undefined=-1]="Undefined"},1765:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r=n(1166),i=n(1053),s=n(1509),a=n(1359)
class o extends i.a{constructor(e=s.a.maximumDoubleClickDelay,t=s.a.maximumDoubleClickDistance,n=s.a.maximumDoubleTouchDelay,i=s.a.maximumDoubleTouchDistance,a=r.a){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=i,this._clock=a,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(e){const t=e.data,n=Object(a.c)(t)
if(!this._pointerState.has(n)){const e={downButton:t.native.button,immediateDoubleClick:null}
this._pointerState.set(n,e),this.startCapturingPointer(t.native)}}_handlePointerUp(e){const t=e.data,n=Object(a.c)(t),r=this._pointerState.get(n)
if(r&&r.downButton===t.native.button){const n=r.immediateDoubleClick
if(n){n.timeoutHandle.remove()
const i="touch"===e.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance
Object(a.d)(n,e.data)>i?this._startImmediateDoubleClick(e,r):(this._immediateDoubleClick.emit(e.data,void 0,n.modifiers),this._removeState(t))}else this._startImmediateDoubleClick(e,r)}}_startImmediateDoubleClick(e,t){const n="touch"===e.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay
t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(e.data),n)}}_removeState(e){const t=Object(a.c)(e)
this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}}},1766:function(e,t,n){"use strict"
n.d(t,"a",(function(){return o}))
var r=n(1166),i=n(23),s=n(1053),a=n(1359)
class o extends s.a{constructor(e=300,t=1.5,n=6,i=6,s=500,a=r.a){super(!1),this._maximumClickDelay=e,this._movementUntilMouseDrag=t,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=i,this._holdDelay=s,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",e=>{this._handlePointerLoss(e,"pointer-up")}),this.registerIncoming("pointer-capture-lost",e=>{this._handlePointerLoss(e,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",e=>{this._handlePointerLoss(e,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(e=>{e.holdTimeout=Object(i.s)(e.holdTimeout)}),super.onUninstall()}_handlePointerDown(e){const t=e.data,n=t.native.pointerId
let r=null
0===this._pointerState.size&&(r=this._clock.setTimeout(()=>{const t=this._pointerState.get(n)
if(t){if(!t.isDragging){const n=t.previousEvent
this._pointerHold.emit(n,void 0,e.modifiers),t.holdEmitted=!0}t.holdTimeout=null}},this._holdDelay))
const i={startEvent:t,previousEvent:t,startTimestamp:e.timestamp,isDragging:!1,downButton:t.native.button,holdTimeout:r,modifiers:new Set}
this._pointerState.set(n,i),this.startCapturingPointer(t.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_createPointerDragData(e,t,n){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:n}}_handlePointerMove(e){const t=e.data,n=t.native.pointerId,r=this._pointerState.get(n)
r&&(r.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",r,t),void 0,r.modifiers):Object(a.a)(t,r.startEvent)>this._getDragThreshold(t.native.pointerType)&&this._startDragging(e),r.previousEvent=t)}_getDragThreshold(e){switch(e){case"touch":return this._movementUntilTouchDrag
case"pen":return this._movementUntilPenDrag
default:return this._movementUntilMouseDrag}}_startDragging(e){const t=e.data,n=t.native.pointerId
this._pointerState.forEach(r=>{null!=r.holdTimeout&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=e.modifiers,r.isDragging=!0,n===r.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",r,t)):this._pointerDrag.emit(this._createPointerDragData("start",r,r.previousEvent),e.timestamp))})}_handlePointerLoss(e,t){const n=e.data,r=n.native.pointerId,i=this._pointerState.get(r)
i&&(null!=i.holdTimeout&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",i,"pointer-up"===t?n:i.previousEvent),void 0,i.modifiers):"pointer-up"===t&&i.downButton===n.native.button&&e.timestamp-i.startTimestamp<=this._maximumClickDelay&&!i.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),0===this._pointerState.size&&this._moveHandle.pause())}}},1767:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a}))
var r=n(446),i=n(1333),s=n(1088)
function a(e){const t=Object(i.a)(e)
if(!t.available)return new r.a("webgl:required","WebGL is required but not supported.")
if("3d"===e&&t.majorPerformanceCaveat)return new r.a("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.")
if(!t.supportsHighPrecisionFragment)return new r.a("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.")
if(!t.supportsVertexShaderSamplers)return new r.a("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.")
if(t.type===s.a.WEBGL1){if(!t.supportsElementIndexUint)return new r.a("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.")
if(!t.supportsStandardDerivatives)return new r.a("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.")
if(!t.supportsInstancedArrays)return new r.a("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}},1775:function(e,t,n){"use strict"
n.d(t,"a",(function(){return fr}))
var r=n(968),i=n(1337),s=n(233),a=n(23),o=n(978),l=n(1024),c=n(970),u=(n(971),n(445),n(969)),d=n(975),h=n(993),p=n(1138),f=(n(1344),n(1347))
let b=class extends d.a{constructor(){super(...arguments),this.items=new h.a,this._watchUpdatingTracking=new p.a,this._callbacks=new Map,this._projector=Object(f.a)(),this._hiddenProjector=Object(f.a)()}get needsRender(){return this.items.length>0}get updating(){var e,t
return null!=(e=null==(t=this._watchUpdatingTracking)?void 0:t.updating)&&e}initialize(){const e=document.createElement("div")
e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,e=>{for(const t of e.added){const e=()=>t.render()
this._callbacks.set(t,e),this._projector.append(this.surface,e)}for(const t of e.removed){const e=this._projector.detach(this._callbacks.get(t))
this.surface.removeChild(e.domNode),this._callbacks.delete(t)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,n=this._hiddenProjector
let r
const i=()=>(r=e.render(),r)
n.append(t,i),n.renderNow()
const s={left:0,top:0,right:0,bottom:0}
if(r&&r.domNode){const e=r.domNode.getBoundingClientRect()
s.left=e.left,s.top=e.top,s.right=e.right,s.bottom=e.bottom}for(n.detach(i);t.firstChild;)t.removeChild(t.firstChild)
return s}overlaps(e,t){const n=this.computeBoundingRect(e),r=this.computeBoundingRect(t)
return Math.max(n.left,r.left)<=Math.min(n.right,r.right)&&Math.max(n.top,r.top)<=Math.min(n.bottom,r.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(e){if(!this.items.some(e=>e.visible))return
const t=e.getContext("2d")
t.save(),t.font=this._fontString(),this.items.forEach(e=>{t.save(),e.renderCanvas(t),t.restore()}),t.restore()}_fontString(){return"10px "+getComputedStyle(this.surface).fontFamily}}
Object(r.a)([Object(c.b)({readOnly:!0})],b.prototype,"surface",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],b.prototype,"items",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],b.prototype,"needsRender",null),Object(r.a)([Object(c.b)({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],b.prototype,"updating",null),b=Object(r.a)([Object(u.a)("esri.views.overlay.ViewOverlay")],b)
const m=b
n(1083)
var y=n(1043),g=n(1007),v=n(1398),O=n(987),j=n(1061),w=n(446),_=n(1678),S=n(772),x=n(1415),T=n(1233),I=n(447),M=n(1039),E=n(1038),k=n(989),C=n(1037),A=n(1465),L=n(1010)
const R=s.a.getLogger("esri.widgets.Feature.support.featureUtils"),P=/href=(""|'')/gi,F=/(\{([^\{\r\n]+)\})/g,N=/\'/g,D=/^\s*expression\//i,V=/(\n)/gi,U=/[\u00A0-\u9999<>\&]/gim,G=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,z=/^(?:mailto:|tel:)/,q="relationships/",B=Object(M.a)("short-date-short-time")
function $(e){if(!Object(a.k)(e))return e.get("sourceLayer")||e.get("layer")}async function H(e,t){return"function"==typeof e?e.call(null,t):e}function W(e=""){if(e)return!z.test(e.trim().toLowerCase())}function Z(e){return!!e&&D.test(e)}function K(e,t){const n=function(e,t){if(!Z(t)||!e)return null
const n=t.replace(D,"").toLowerCase()
let r=null
return e.some(e=>e.name.toLowerCase()===n&&(r=e,!0)),r}(t,null==e?void 0:e.fieldName)
return n?n.title||null:e?e.label||e.fieldName:null}function J(e,t){const n=Y(t,e)
return n?n.name:e}function Y(e,t){var n
return e&&"function"==typeof e.getField&&t&&null!=(n=e.getField(t))?n:null}function X(e){return(""+e).trim()}function Q({attributes:e,globalAttributes:t,layer:n,text:r,expressionAttributes:i,fieldInfoMap:s}){return r?ee({formattedAttributes:t,template:ne(r,{...t,...i,...e},n),fieldInfoMap:s}):""}function ee({formattedAttributes:e,template:t,fieldInfoMap:n}){return X(function(e){return e.replace(P,"")}(Object(I.c)(Object(I.c)(t,e=>function(e,t){const n=t.get(e.toLowerCase())
return`{${n&&n.fieldName||e}}`}(e,n)),e)))}function te(e,t){return e.replace(F,(e,n,r)=>{const i=Y(t,r)
return i?`{${i.name}}`:n})}function ne(e,t,n){const r=te(e,n)
return r?r.replace(G,(e,n,r)=>function(e,t,n){const r=(t=X(t))&&"{"!==t[0]
return Object(I.c)(e,function(e,t=!1){const n={...e}
return Object.keys(n).forEach(e=>function(e,t,n=!1){const r=t[e]
if("string"==typeof r){const i="%27",s=(n?encodeURIComponent(r):r).replace(N,i)
t[e]=s}}(e,n,t)),n}(n,r||!1))}(e,n||r,t)):r}function re(e){return!(null==e||!e.layer)}function ie(e,t){if(!e||!e.length||!t)return
const n=t.toLowerCase()
let r
return e.some(e=>!(!e.fieldName||e.fieldName.toLowerCase()!==n||(r=e,0))),r}function se(e){const t=[]
if(!e)return t
const{fieldInfos:n,content:r}=e
return n&&t.push(...n),r&&Array.isArray(r)?(r.forEach(e=>{if("fields"===e.type){const n=e&&e.fieldInfos
n&&t.push(...n)}}),t):t}function ae(e){return e.replace(U,e=>`&#${e.charCodeAt(0)};`)}function oe(e){return"string"==typeof e?e.replace(V,'<br class="esri-text-new-line" />'):e}function le(e){const{value:t,fieldName:n,fieldInfos:r,fieldInfoMap:i,layer:s,graphic:a}=e
if(null==t)return""
const o=function({fieldName:e,value:t,graphic:n,layer:r}){if(de(e))return null
if(!r||"function"!=typeof r.getFieldDomain)return null
const i=n&&r.getFieldDomain(e,{feature:n})
return i&&"coded-value"===i.type?i.getName(t):null}({fieldName:n,value:t,graphic:a,layer:s})
if(o)return o
const l=function({fieldName:e,graphic:t,layer:n}){if(de(e))return null
if(!n||"function"!=typeof n.getFeatureType)return null
const{typeIdField:r}=n
if(!r||e!==r)return null
const i=n.getFeatureType(t)
return i?i.name:null}({fieldName:n,graphic:a,layer:s})
if(l)return l
if(i.get(n.toLowerCase()))return function(e,t){var n
const r=t.fieldInfos,i=t.fieldName,s=null==(n=ie(r,i))?void 0:n.clone(),a=t.preventPlacesFormatting,o=t.layer,l=Y(o,i)
if(s&&"date"===(null==l?void 0:l.type)){const e=s.format||new A.a
e.dateFormat=e.dateFormat||"short-date-short-time",e.dateTimeFormatOptions=!re(o)&&function(e){return"feature"===(null==e?void 0:e.type)}(o)&&o.datesInUnknownTimezone||re(o)&&function(e){return"map-image"===(null==e?void 0:e.type)}(o.layer)&&o.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,s.format=e}const c=s&&s.format
return"string"==typeof e&&Object(k.r)(i)&&c?c.formatRasterPixelValue(e):"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){const t=Number(e)
if(!isNaN(t))return t}return e}(e,c))||null==e||null==c?oe(e):a?Object(E.b)(e,{...Object(E.a)(c),minimumFractionDigits:0,maximumFractionDigits:20}):c.format(e)}(t,{fieldInfos:r||Array.from(i.values()),fieldName:n,layer:s})
const c=s&&s.fieldsIndex
return c&&c.isDateField(n)?Object(M.b)(t,B):oe(t)}function ce({fieldInfos:e,attributes:t,layer:n,graphic:r,fieldInfoMap:i,relatedInfos:s}){const a={}
return null!=s&&s.forEach(t=>function({attributes:e,relatedInfo:t,fieldInfoMap:n,fieldInfos:r,layer:i}){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(s=>he({attributes:e,graphic:s,relatedInfo:t,fieldInfoMap:n,fieldInfos:r,layer:i})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(s=>he({attributes:e,graphic:s,relatedInfo:t,fieldInfoMap:n,fieldInfos:r,layer:i})))}({attributes:a,relatedInfo:t,fieldInfoMap:i,fieldInfos:e,layer:n})),t&&Object.keys(t).forEach(s=>{const o=t[s]
a[s]=le({fieldName:s,fieldInfos:e,fieldInfoMap:i,layer:n,value:o,graphic:r})}),a}async function ue(e,t){var n,r
const{layer:i,graphic:s,outFields:a,objectIds:o,returnGeometry:l,spatialReference:c}=e,u=o[0]
if("number"!=typeof u&&"string"!=typeof u){const e="Could not query required fields for the specified feature. The feature's ID is invalid.",t={layer:i,graphic:s,objectId:u,requiredFields:a}
return R.warn(e,t),null}if(null==(n=Object(C.b)(i))||null==(r=n.operations)||!r.supportsQuery){const e="The specified layer cannot be queried. The following fields will not be available.",t={layer:i,graphic:s,requiredFields:a,returnGeometry:l}
return R.warn(e,t),null}const d=i.createQuery()
return d.objectIds=o,d.outFields=null!=a&&a.length?a:[i.objectIdField],d.returnGeometry=!!l,d.returnZ=!!l,d.returnM=!!l,d.outSpatialReference=c,(await i.queryFeatures(d,t)).features[0]}function de(e=""){return!!e&&e.includes(q)}function he({attributes:e,graphic:t,relatedInfo:n,fieldInfos:r,fieldInfoMap:i,layer:s}){e&&t&&n&&Object.keys(t.attributes).forEach(a=>{const o=function(e){return e?`${q}${e.layerId}/${e.fieldName}`:""}({layerId:n.relation.id.toString(),fieldName:a}),l=t.attributes[a]
e[o]=le({fieldName:o,fieldInfos:r,fieldInfoMap:i,layer:s,value:l,graphic:t})})}const pe=e=>{if(!e)return!1
const t=e.toUpperCase()
return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},fe=({layer:e,method:t,query:n,definitionExpression:r})=>{var i,s
if(null==(i=e.capabilities)||null==(s=i.query)||!s.supportsCacheHint||"attachments"===t)return
const o=Object(a.l)(n.where)?n.where:null,l=Object(a.l)(n.geometry)?n.geometry:null
pe(r)||pe(o)||"extent"===(null==l?void 0:l.type)||"tile"===n.resultType||(n.cacheHint=!0)}
function be(e,t,n){return e.find(e=>e!==t&&"feature"===e.type&&e.url===t.url&&e.layerId===n.relatedTableId)}const me={editing:!1,operations:{add:!0,update:!0,delete:!0}},ye=h.a.ofType(x.a)
let ge=class extends d.a{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities={...me},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new ye,this.fileInfos=new h.a,this.graphic=null,this.mode="view",this.filesEnabled=!1,this.addHandles(Object(o.f)(()=>this.graphic,()=>this._graphicChanged(),o.a))}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(e){return{...me,...e}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:e}=this
if(!e)return!1
const t=e.layer||e.sourceLayer
return(null==t?void 0:t.loaded)&&"capabilities"in t&&t.capabilities&&"operations"in t.capabilities&&"supportsResizeAttachments"in t.capabilities.operations&&t.capabilities.operations.supportsResizeAttachments||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t}=this
if(!e||"function"!=typeof e.queryAttachments)throw new w.a("invalid-layer","getAttachments(): A valid layer is required.")
const n=this._getObjectId(),r=new T.a({objectIds:[n],returnMetadata:!0}),i=[],s=e.queryAttachments(r).then(e=>e[n]||i).catch(()=>i)
this._getAttachmentsPromise=s,this.notifyChange("state")
const a=await s
return t.removeAll(),a.length&&t.addMany(a),this._getAttachmentsPromise=null,this.notifyChange("state"),a}async addAttachment(e,t=this.graphic){var n
const{_attachmentLayer:r,attachmentInfos:i,abilities:s}=this
if(!t)throw new w.a("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:t})
if(!e)throw new w.a("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e})
if(null==(n=s.operations)||!n.add)throw new w.a("invalid-abilities","addAttachment(): add abilities are required.")
if(!r||"function"!=typeof r.addAttachment)throw new w.a("invalid-layer","addAttachment(): A valid layer is required.")
const a=r.addAttachment(t,e).then(e=>this._queryAttachment(e.objectId,t)),o=await a
return i.add(o),o}async deleteAttachment(e){var t
const{_attachmentLayer:n,attachmentInfos:r,graphic:i,abilities:s}=this
if(!e)throw new w.a("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e})
if(null==(t=s.operations)||!t.delete)throw new w.a("invalid-abilities","deleteAttachment(): delete abilities are required.")
if(!n||"function"!=typeof n.deleteAttachments)throw new w.a("invalid-layer","deleteAttachment(): A valid layer is required.")
if(!i)throw new w.a("invalid-graphic","deleteAttachment(): A graphic is required.")
const a=n.deleteAttachments(i,[e.id]).then(()=>e),o=await a
return r.remove(o),o}async updateAttachment(e,t=this.activeAttachmentInfo){var n
const{_attachmentLayer:r,attachmentInfos:i,graphic:s,abilities:a}=this
if(!e)throw new w.a("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e})
if(!t)throw new w.a("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t})
if(null==(n=a.operations)||!n.update)throw new w.a("invalid-abilities","updateAttachment(): Update abilities are required.")
const o=i.findIndex(e=>e===t)
if(!r||"function"!=typeof r.updateAttachment)throw new w.a("invalid-layer","updateAttachment(): A valid layer is required.")
if(!s)throw new w.a("invalid-graphic","updateAttachment(): A graphic is required.")
const l=r.updateAttachment(s,t.id,e).then(e=>this._queryAttachment(e.objectId)),c=await l
return i.splice(o,1,c),c}async commitFiles(){return await Promise.all(this.fileInfos.items.map(e=>this.addAttachment(e.form))),this.fileInfos.removeAll(),this.getAttachments()}addFile(e,t){if(!e||!t)return null
const n={file:e,form:t}
return this.fileInfos.add(n),n}updateFile(e,t,n=this.activeFileInfo){if(!e||!t||!n)return null
const r=this.fileInfos.findIndex(e=>n===e)
return r>-1&&this.fileInfos.splice(r,1,{file:e,form:t}),this.fileInfos.items[r]}deleteFile(e){const t=this.fileInfos.find(t=>t.file===e)
return t?(this.fileInfos.remove(t),t):null}async _queryAttachment(e,t){const{_attachmentLayer:n}=this
if(!e||null==n||!n.queryAttachments)throw new w.a("invalid-attachment-id","Could not query attachment.")
const r=this._getObjectId(t),i=new T.a({objectIds:[r],attachmentsWhere:"AttachmentId="+e,returnMetadata:!0})
return n.queryAttachments(i).then(e=>e[r][0])}_getObjectId(e=this.graphic){var t
return null!=(t=null==e?void 0:e.getObjectId())?t:null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:e}=this,t=$(e)
this._attachmentLayer=t?"scene"===t.type&&Object(a.l)(t.associatedLayer)?t.associatedLayer:t:null}}
Object(r.a)([Object(c.b)()],ge.prototype,"abilities",void 0),Object(r.a)([Object(O.a)("abilities")],ge.prototype,"castAbilities",null),Object(r.a)([Object(c.b)()],ge.prototype,"activeAttachmentInfo",void 0),Object(r.a)([Object(c.b)()],ge.prototype,"activeFileInfo",void 0),Object(r.a)([Object(c.b)({readOnly:!0,type:ye})],ge.prototype,"attachmentInfos",void 0),Object(r.a)([Object(c.b)()],ge.prototype,"fileInfos",void 0),Object(r.a)([Object(c.b)({type:S.default})],ge.prototype,"graphic",void 0),Object(r.a)([Object(c.b)()],ge.prototype,"mode",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],ge.prototype,"state",null),Object(r.a)([Object(c.b)()],ge.prototype,"filesEnabled",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],ge.prototype,"supportsResizeAttachments",null),ge=Object(r.a)([Object(u.a)("esri.widgets.Attachments.AttachmentsViewModel")],ge)
const ve=ge
var Oe=n(1019)
function je(e){const t=e.toLowerCase()
return"image/bmp"===t||"image/emf"===t||"image/exif"===t||"image/gif"===t||"image/x-icon"===t||"image/jpeg"===t||"image/png"===t||"image/tiff"===t||"image/x-wmf"===t}var we=n(998),_e=n(1099),Se=n(1018)
const xe={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},Te="esri-attachments",Ie={base:Te,loaderContainer:Te+"__loader-container",loader:Te+"__loader",fadeIn:Te+"--fade-in",container:Te+"__container",containerList:Te+"__container--list",containerPreview:Te+"__container--preview",actions:Te+"__actions",deleteButton:Te+"__delete-button",addAttachmentButton:Te+"__add-attachment-button",errorMessage:Te+"__error-message",items:Te+"__items",item:Te+"__item",itemButton:Te+"__item-button",itemMask:Te+"__item-mask",itemMaskIcon:Te+"__item-mask--icon",itemImage:Te+"__image",itemImageResizable:Te+"__image--resizable",itemLabel:Te+"__label",itemFilename:Te+"__filename",itemChevronIcon:Te+"__item-chevron-icon",itemLink:Te+"__item-link",itemLinkOverlay:Te+"__item-link-overlay",itemLinkOverlayIcon:Te+"__item-link-overlay-icon",itemEditIcon:Te+"__item-edit-icon",itemAddIcon:Te+"__item-add-icon",itemAddButton:Te+"__item-add-button",formNode:Te+"__form-node",fileFieldset:Te+"__file-fieldset",fileLabel:Te+"__file-label",fileName:Te+"__file-name",fileInput:Te+"__file-input",metadata:Te+"__metadata",metadataFieldset:Te+"__metadata-fieldset",progressBar:Te+"__progress-bar",esriWidget:"esri-widget",esriButton:"esri-button",buttonDisabled:"esri-button--disabled",esriButtonSecondary:"esri-button--secondary",esriButtonTertiary:"esri-button--tertiary",esriButtonThird:"esri-button--third",esriButtonSmall:"esri-button--small",esriButtonHalf:"esri-button--half",empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},Me=window.CSS
let Ee=class extends j.a{constructor(e,t){super(e,t),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...xe},this._supportsImageOrientation=Me&&Me.supports&&Me.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.viewModel||(this.viewModel=new ve),this.addHandles([Object(o.b)(()=>{var e
return null==(e=this.viewModel)?void 0:e.attachmentInfos},"change",()=>this.scheduleRender()),Object(o.b)(()=>{var e
return null==(e=this.viewModel)?void 0:e.fileInfos},"change",()=>this.scheduleRender()),Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.mode},()=>this._modeChanged(),o.a)])}loadDependencies(){return Promise.all([n.e(41).then(n.bind(null,2936))])}get abilities(){return this.viewModel.abilities}set abilities(e){this.viewModel.abilities=e}get effectiveDisplayType(){const{displayType:e}=this
return e&&"auto"!==e?e:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get label(){var e,t
return null!=(e=null==(t=this.messages)?void 0:t.widgetLabel)?e:""}set label(e){this._overrideIfSome("label",e)}castVisibleElements(e){return{...xe,...e}}addAttachment(){const{_addAttachmentForm:e,viewModel:t}=this
return this._set("submitting",!0),this._set("error",null),t.addAttachment(e).then(e=>(this._set("submitting",!1),this._set("error",null),t.mode="view",e)).catch(e=>{throw this._set("submitting",!1),this._set("error",new w.a("attachments:add-attachment",this.messages.addErrorMessage,e)),e})}deleteAttachment(e){const{viewModel:t}=this
return this._set("submitting",!0),this._set("error",null),t.deleteAttachment(e).then(e=>(this._set("submitting",!1),this._set("error",null),t.mode="view",e)).catch(e=>{throw this._set("submitting",!1),this._set("error",new w.a("attachments:delete-attachment",this.messages.deleteErrorMessage,e)),e})}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:t}=this
return this._set("submitting",!0),this._set("error",null),e.updateAttachment(t).then(t=>(this._set("submitting",!1),this._set("error",null),e.mode="view",t)).catch(e=>{throw this._set("submitting",!1),this._set("error",new w.a("attachments:update-attachment",this.messages.updateErrorMessage,e)),e})}addFile(){const e=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm)
return this.viewModel.mode="view",e}updateFile(){const{viewModel:e}=this,t=e.updateFile(this.selectedFile,this._updateAttachmentForm,e.activeFileInfo)
return e.mode="view",t}deleteFile(e){var t
const n=this.viewModel.deleteFile(e||(null==(t=this.viewModel.activeFileInfo)?void 0:t.file))
return this.viewModel.mode="view",n}render(){const{submitting:e,viewModel:t}=this,{state:n}=t
return Object(Se.a)("div",{class:this.classes(Ie.base,Ie.esriWidget)},e?this.renderProgressBar():null,"loading"===n?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:e,visibleElements:t}=this
return e&&t.errorMessage?Object(Se.a)("div",{key:"error-message",class:Ie.errorMessage},e.message):null}renderAttachments(){const{activeFileInfo:e,mode:t,activeAttachmentInfo:n}=this.viewModel
return"add"===t?this.renderAddForm():"edit"===t?this.renderDetailsForm(n||e):this.renderAttachmentContainer()}renderLoading(){return Object(Se.a)("div",{class:Ie.loaderContainer,key:"loader"},Object(Se.a)("div",{class:Ie.loader}))}renderProgressBar(){return this.visibleElements.progressBar?Object(Se.a)("div",{class:Ie.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:e,selectedFile:t}=this,n=e||!t,r=this.visibleElements.cancelAddButton?Object(Se.a)("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(Ie.esriButton,Ie.esriButtonTertiary,Ie.esriButtonSmall,Ie.esriButtonHalf,e&&Ie.buttonDisabled)},this.messages.cancel):null,i=this.visibleElements.addSubmitButton?Object(Se.a)("button",{type:"submit",disabled:n,class:this.classes(Ie.esriButton,Ie.esriButtonSecondary,Ie.esriButtonSmall,Ie.esriButtonHalf,{[Ie.buttonDisabled]:n})},this.messages.add):null,s=t?Object(Se.a)("span",{key:"file-name",class:Ie.fileName},t.name):null,a=Object(Se.a)("form",{bind:this,afterCreate:we.i,afterRemoved:we.c,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},Object(Se.a)("fieldset",{class:Ie.fileFieldset},s,Object(Se.a)("label",{class:this.classes(Ie.fileLabel,Ie.esriButton,Ie.esriButtonSecondary)},t?this.messages.changeFile:this.messages.selectFile,Object(Se.a)("input",{class:Ie.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),i,r)
return Object(Se.a)("div",{key:"add-form-container",class:Ie.formNode},a)}renderDetailsForm(e){var t,n,r,i
const{visibleElements:s,viewModel:o,selectedFile:l,submitting:c}=this,{abilities:u}=o,d=c||!l
let h,p,f,b
l?(h=l.type,p=l.name,f=l.size):e&&"file"in e?(h=e.file.type,p=e.file.name,f=e.file.size):e&&"contentType"in e&&(h=e.contentType,p=e.name,f=e.size,b=e.url)
const m=u.editing&&null!=(t=u.operations)&&t.delete&&s.deleteButton?Object(Se.a)("button",{key:"delete-button",type:"button",disabled:c,bind:this,onclick:t=>this._submitDeleteAttachment(t,e),class:this.classes(Ie.esriButton,Ie.esriButtonSmall,Ie.esriButtonTertiary,Ie.deleteButton,{[Ie.buttonDisabled]:c})},this.messages.delete):void 0,y=u.editing&&null!=(n=u.operations)&&n.update&&s.updateButton?Object(Se.a)("button",{disabled:d,key:"update-button",type:"submit",class:this.classes(Ie.esriButton,Ie.esriButtonSmall,Ie.esriButtonThird,{[Ie.buttonDisabled]:d})},this.messages.update):void 0,g=this.visibleElements.cancelUpdateButton?Object(Se.a)("button",{disabled:c,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(Ie.esriButton,Ie.esriButtonSmall,Ie.esriButtonTertiary,Ie.esriButtonThird,{[Ie.buttonDisabled]:c})},this.messages.cancel):void 0,v=u.editing&&null!=(r=u.operations)&&r.update?Object(Se.a)("fieldset",{key:"file",class:Ie.fileFieldset},Object(Se.a)("span",{key:"file-name",class:Ie.fileName},p),Object(Se.a)("label",{class:this.classes(Ie.fileLabel,Ie.esriButton,Ie.esriButtonSecondary)},this.messages.changeFile,Object(Se.a)("input",{class:Ie.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):void 0,O=Object(Se.a)("fieldset",{key:"size",class:Ie.metadataFieldset},Object(Se.a)("label",null,Object(_.d)(this.messagesUnits,null!=(i=f)?i:0))),j=Object(Se.a)("fieldset",{key:"content-type",class:Ie.metadataFieldset},Object(Se.a)("label",null,h)),w=Object(a.l)(b)?Object(Se.a)("a",{class:Ie.itemLink,href:b,rel:"noreferrer",target:"_blank"},this.renderImageMask(e,400),Object(Se.a)("div",{class:Ie.itemLinkOverlay},Object(Se.a)("span",{class:Ie.itemLinkOverlayIcon},Object(Se.a)("calcite-icon",{icon:"launch"})))):this.renderImageMask(e,400),S=Object(Se.a)("form",{bind:this,afterCreate:we.i,afterRemoved:we.c,"data-node-ref":"_updateAttachmentForm",onsubmit:t=>this._submitUpdateAttachment(t,e)},Object(Se.a)("div",{class:Ie.metadata},O,j),v,Object(Se.a)("div",{class:Ie.actions},m,g,y))
return Object(Se.a)("div",{key:"edit-form-container",class:Ie.formNode},w,S)}renderImageMask(e,t){return e?"file"in e?this.renderGenericImageMask(e.file.name,e.file.type):this.renderImageMaskForAttachment(e,t):null}renderGenericImageMask(e,t){const{supportsResizeAttachments:n}=this.viewModel,r=function(e){const t=Object(Oe.b)("esri/themes/base/images/files/")
return e?"text/plain"===e?t+"text-32.svg":"application/pdf"===e?t+"pdf-32.svg":"text/csv"===e?t+"csv-32.svg":"application/gpx+xml"===e?t+"gpx-32.svg":"application/x-dwf"===e?t+"cad-32.svg":"application/postscript"===e||"application/json"===e||"text/xml"===e||"model/vrml"===e?t+"code-32.svg":"application/x-zip-compressed"===e||"application/x-7z-compressed"===e||"application/x-gzip"===e||"application/x-tar"===e||"application/x-gtar"===e||"application/x-bzip2"===e||"application/gzip"===e||"application/x-compress"===e||"application/x-apple-diskimage"===e||"application/x-rar-compressed"===e||"application/zip"===e?t+"zip-32.svg":e.includes("image/")?t+"image-32.svg":e.includes("audio/")?t+"sound-32.svg":e.includes("video/")?t+"video-32.svg":e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?t+"excel-32.svg":e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?t+"word-32.svg":e.includes("powerpoint")||e.includes("presentationml")?t+"report-32.svg":t+"generic-32.svg":t+"generic-32.svg"}(t),i={[Ie.itemImageResizable]:n}
return Object(Se.a)("div",{class:this.classes(Ie.itemMaskIcon,Ie.itemMask)},Object(Se.a)("img",{title:e,alt:e,src:r,class:this.classes(i,Ie.itemImage)}))}renderImageMaskForAttachment(e,t){const{supportsResizeAttachments:n}=this.viewModel
if(!e)return null
const{contentType:r,name:i,url:s}=e
if(!n||!je(r))return this.renderGenericImageMask(i,r)
const a=this._getCSSTransform(e),o=a?{transform:a,"image-orientation":"none"}:{},l=`${s}${null!=s&&s.includes("?")?"&":"?"}w=${t}`,c={[Ie.itemImageResizable]:n}
return Object(Se.a)("div",{class:this.classes(Ie.itemMask)},Object(Se.a)("img",{styles:o,alt:i,title:i,src:l,class:this.classes(c,Ie.itemImage)}))}renderFile(e){const{file:t}=e
return Object(Se.a)("li",{class:Ie.item,key:t},Object(Se.a)("button",{key:"details-button",bind:this,class:Ie.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,onclick:()=>this._startEditFile(e),type:"button"},this.renderImageMask(e),Object(Se.a)("label",{class:Ie.itemLabel},Object(Se.a)("span",{class:Ie.itemFilename},t.name||this.messages.noTitle),Object(Se.a)("span",{"aria-hidden":"true",class:this.classes(Ie.itemChevronIcon,Object(we.e)(this.container)?Ie.iconLeft:Ie.iconRight)}))))}renderAttachmentInfo({attachmentInfo:e,displayType:t}){const{viewModel:n,effectiveDisplayType:r}=this,{abilities:i,supportsResizeAttachments:s}=n,{contentType:a,name:o,url:l}=e,c=this.renderImageMask(e,"list"===t?48:400),u=i.editing?Object(Se.a)("span",{"aria-hidden":"true",class:this.classes(Ie.itemChevronIcon,Object(we.e)(this.container)?Ie.iconLeft:Ie.iconRight)}):null,d=[c,"preview"===r&&s&&je(a)?null:Object(Se.a)("label",{class:Ie.itemLabel},Object(Se.a)("span",{class:Ie.itemFilename},o||this.messages.noTitle),u)],h=i.editing?Object(Se.a)("button",{key:"details-button",bind:this,class:Ie.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":e.id,onclick:()=>this._startEditAttachment(e),type:"button"},d):Object(Se.a)("a",{key:"details-link",class:Ie.itemButton,href:null!=l?l:void 0,target:"_blank"},d)
return Object(Se.a)("li",{class:Ie.item,key:e},h)}renderAttachmentContainer(){var e
const{effectiveDisplayType:t,viewModel:n,visibleElements:r}=this,{attachmentInfos:i,abilities:s,fileInfos:a}=n,o=!(null==i||!i.length),l=!(null==a||!a.length),c={[Ie.containerList]:"preview"!==t,[Ie.containerPreview]:"preview"===t},u=s.editing&&null!=(e=s.operations)&&e.add&&r.addButton?Object(Se.a)("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(Ie.esriButton,Ie.esriButtonTertiary,Ie.addAttachmentButton),type:"button"},Object(Se.a)("span",{"aria-hidden":"true",class:this.classes(Ie.itemAddIcon,Ie.iconPlus)}),this.messages.add):void 0,d=o?Object(Se.a)("ul",{key:"attachments-list",class:Ie.items},i.toArray().map(e=>this.renderAttachmentInfo({attachmentInfo:e,displayType:t}))):void 0,h=l?Object(Se.a)("ul",{key:"file-list",class:Ie.items},a.toArray().map(e=>this.renderFile(e))):void 0,p=l||o?void 0:Object(Se.a)("div",{class:Ie.empty},this.messages.noAttachments)
return Object(Se.a)("div",{key:"attachments-container",class:this.classes(Ie.container,c)},d,h,p,u)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){const t=e.target,n=t&&t.files&&t.files.item(0)
this._set("selectedFile",n)}_submitDeleteAttachment(e,t){e.preventDefault(),t&&("file"in t?this.deleteFile(t.file):t&&this.deleteAttachment(t))}_submitAddAttachment(e){e.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(e,t){e.preventDefault(),t&&"file"in t?this.updateFile():this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this
t.activeFileInfo=null,t.activeAttachmentInfo=e,t.mode="edit"}_startEditFile(e){const{viewModel:t}=this
t.activeAttachmentInfo=null,t.activeFileInfo=e,t.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e){const{orientationInfo:t}=e
return!this._supportsImageOrientation&&t?[t.rotation?`rotate(${t.rotation}deg)`:"",t.mirrored?"scaleX(-1)":""].join(" "):""}}
Object(r.a)([Object(c.b)()],Ee.prototype,"abilities",null),Object(r.a)([Object(c.b)()],Ee.prototype,"displayType",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Ee.prototype,"effectiveDisplayType",null),Object(r.a)([Object(c.b)()],Ee.prototype,"graphic",null),Object(r.a)([Object(c.b)()],Ee.prototype,"label",null),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/widgets/Attachments/t9n/Attachments")],Ee.prototype,"messages",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/core/t9n/Units")],Ee.prototype,"messagesUnits",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Ee.prototype,"selectedFile",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Ee.prototype,"submitting",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Ee.prototype,"error",void 0),Object(r.a)([Object(c.b)({type:ve})],Ee.prototype,"viewModel",void 0),Object(r.a)([Object(c.b)()],Ee.prototype,"visibleElements",void 0),Object(r.a)([Object(O.a)("visibleElements")],Ee.prototype,"castVisibleElements",null),Ee=Object(r.a)([Object(u.a)("esri.widgets.Attachments")],Ee)
const ke=Ee
let Ce=class extends ve{constructor(e){super(e),this.description=null,this.title=null}}
Object(r.a)([Object(c.b)()],Ce.prototype,"description",void 0),Object(r.a)([Object(c.b)()],Ce.prototype,"title",void 0),Ce=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],Ce)
const Ae=Ce
var Le=n(1458)
const Re="esri-feature-element-info",Pe="esri-feature-element-info__title",Fe="esri-feature-element-info__description"
let Ne=class extends j.a{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return Object(Se.a)("div",{class:Re},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:e}=this
return e?Object(Se.a)(Le.a,{level:this.headingLevel,class:Pe},e):null}renderDescription(){const{description:e}=this
return e?Object(Se.a)("div",{key:"description",class:Fe},e):null}}
Object(r.a)([Object(c.b)()],Ne.prototype,"description",void 0),Object(r.a)([Object(c.b)()],Ne.prototype,"headingLevel",void 0),Object(r.a)([Object(c.b)()],Ne.prototype,"title",void 0),Ne=Object(r.a)([Object(u.a)("esri.widgets.Feature.support.FeatureElementInfo")],Ne)
const De=Ne
let Ve=class extends j.a{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attachmentsWidget=new ke,this.headingLevel=2,this.viewModel=new Ae}initialize(){this._featureElementInfo=new De,this.addHandles([Object(o.f)(()=>{var e,t
return[null==(e=this.viewModel)?void 0:e.description,null==(t=this.viewModel)?void 0:t.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),o.a),Object(o.f)(()=>this.viewModel,e=>this.attachmentsWidget.viewModel=e,o.a)])}destroy(){var e
this.attachmentsWidget.destroy(),null==(e=this._featureElementInfo)||e.destroy()}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get displayType(){return this.attachmentsWidget.displayType}set displayType(e){this.attachmentsWidget.displayType=e}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){var e
const{attachmentsWidget:t}=this
return Object(Se.a)("div",{class:"esri-feature-attachments"},null==(e=this._featureElementInfo)?void 0:e.render(),null==t?void 0:t.render())}_setupFeatureElementInfo(){var e
const{description:t,title:n,headingLevel:r}=this
null==(e=this._featureElementInfo)||e.set({description:t,title:n,headingLevel:r})}}
Object(r.a)([Object(c.b)({readOnly:!0})],Ve.prototype,"attachmentsWidget",void 0),Object(r.a)([Object(c.b)()],Ve.prototype,"description",null),Object(r.a)([Object(c.b)()],Ve.prototype,"displayType",null),Object(r.a)([Object(c.b)()],Ve.prototype,"graphic",null),Object(r.a)([Object(c.b)()],Ve.prototype,"headingLevel",void 0),Object(r.a)([Object(c.b)()],Ve.prototype,"title",null),Object(r.a)([Object(c.b)({type:Ae})],Ve.prototype,"viewModel",void 0),Ve=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureAttachments")],Ve)
const Ue=Ve
var Ge=n(1025)
let ze=class extends(Object(Ge.b)(d.a)){constructor(e){super(e),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(Object(o.f)(()=>this.creator,e=>{this._destroyContent(),this._createContent(e)},o.a))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:e,graphic:t,destroyer:n}=this
e&&t&&(H(n,{graphic:t}).catch(()=>null),this._set("created",null))}async _createContent(e){const t=this.graphic
if(!t||!e)return
const n=H(e,{graphic:t}).catch(()=>null)
this._loadingPromise=n,this.notifyChange("state")
const r=await n
n===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",r))}}
Object(r.a)([Object(c.b)({readOnly:!0})],ze.prototype,"created",void 0),Object(r.a)([Object(c.b)()],ze.prototype,"creator",void 0),Object(r.a)([Object(c.b)()],ze.prototype,"destroyer",void 0),Object(r.a)([Object(c.b)({type:S.default})],ze.prototype,"graphic",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],ze.prototype,"state",null),ze=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],ze)
const qe=ze
var Be=n(1566)
const $e="esri-feature-content",He="esri-feature-content__loader-container",We="esri-feature-content__loader"
let Ze=class extends j.a{constructor(e,t){super(e,t),this.viewModel=null,this._addTargetToAnchors=e=>{Array.from(e.querySelectorAll("a")).forEach(e=>{W(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")})}}get creator(){var e
return null==(e=this.viewModel)?void 0:e.creator}set creator(e){this.viewModel&&(this.viewModel.creator=e)}get graphic(){var e
return null==(e=this.viewModel)?void 0:e.graphic}set graphic(e){this.viewModel&&(this.viewModel.graphic=e)}renderLoading(){return Object(Se.a)("div",{class:He,key:"loader"},Object(Se.a)("div",{class:We}))}renderCreated(){var e
const t=null==(e=this.viewModel)?void 0:e.created
return t?t instanceof HTMLElement?Object(Se.a)("div",{key:t,bind:t,afterCreate:this._attachToNode}):Object(Be.b)(t)?Object(Se.a)("div",{key:t},!t.destroyed&&t.render()):Object(Se.a)("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null}render(){var e
const t=null==(e=this.viewModel)?void 0:e.state
return Object(Se.a)("div",{class:$e},"loading"===t?this.renderLoading():this.renderCreated())}_attachToNode(e){e.appendChild(this)}}
Object(r.a)([Object(c.b)()],Ze.prototype,"creator",null),Object(r.a)([Object(c.b)()],Ze.prototype,"graphic",null),Object(r.a)([Object(c.b)({type:qe})],Ze.prototype,"viewModel",void 0),Ze=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureContent")],Ze)
const Ke=Ze
var Je=n(1954),Ye=n(1374)
let Xe=class extends d.a{constructor(e){super(e),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:e,fieldInfos:t}=this,n=[]
return null!=t&&t.forEach(t=>{if(t.hasOwnProperty("visible")&&!t.visible)return
const r=t.clone()
r.label=K(r,e),n.push(r)}),n}}
Object(r.a)([Object(c.b)()],Xe.prototype,"attributes",void 0),Object(r.a)([Object(c.b)({type:[Je.a]})],Xe.prototype,"expressionInfos",void 0),Object(r.a)([Object(c.b)()],Xe.prototype,"description",void 0),Object(r.a)([Object(c.b)({type:[Ye.a]})],Xe.prototype,"fieldInfos",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Xe.prototype,"formattedFieldInfos",null),Object(r.a)([Object(c.b)()],Xe.prototype,"title",void 0),Xe=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Xe)
const Qe=Xe,et=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}]
const tt="esri-feature-fields",nt="esri-feature-fields__field-header",rt="esri-feature-fields__field-data",it="esri-feature-fields__field-data--date",st="esri-widget__table"
let at=class extends j.a{constructor(e,t){super(e,t),this._featureElementInfo=null,this.viewModel=new Qe,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new De,this.addHandles(Object(o.f)(()=>{var e,t
return[null==(e=this.viewModel)?void 0:e.description,null==(t=this.viewModel)?void 0:t.title]},()=>this._setupFeatureElementInfo(),o.a))}destroy(){var e
null==(e=this._featureElementInfo)||e.destroy()}get attributes(){return this.viewModel.attributes}set attributes(e){this.viewModel.attributes=e}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(e){this.viewModel.expressionInfos=e}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(e){this.viewModel.fieldInfos=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}renderFieldInfo(e,t){const{attributes:n}=this.viewModel,r=e.fieldName,i=e.label||r,s=n?null==n[r]?"":n[r]:"",a=!(!e.format||!e.format.dateFormat),o="number"!=typeof s||a?function(e,t){if("string"!=typeof t||!t)return t
const n=function(e){let t=null
return et.some(n=>(n.pattern.test(e)&&(t=n),!!t)),t}(t)
if(!n)return t
const r=t.match(n.pattern),i=r&&r[2],s=Object(I.c)(Object(I.c)(n.label,{messages:e,hierPart:i}),{appName:n.appName}),a=n.target?` target="${n.target}"`:"",o="_blank"===n.target?' rel="noreferrer"':""
return t.replace(n.pattern,`<a${a} href="$1"${o}>${s}</a>`)}(this.messagesURIUtils,s):this._forceLTR(s),l={[it]:a}
return Object(Se.a)("tr",{key:`fields-element-info-row-${r}-${t}`},Object(Se.a)("th",{key:`fields-element-info-row-header-${r}-${t}`,class:nt,innerHTML:i}),Object(Se.a)("td",{key:`fields-element-info-row-data-${r}-${t}`,class:this.classes(rt,l),innerHTML:o}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel
return null!=e&&e.length?Object(Se.a)("table",{class:st,summary:this.messages.fieldsSummary},Object(Se.a)("tbody",null,e.map((e,t)=>this.renderFieldInfo(e,t)))):null}render(){var e
return Object(Se.a)("div",{class:tt},null==(e=this._featureElementInfo)?void 0:e.render(),this.renderFields())}_setupFeatureElementInfo(){var e
const{description:t,title:n}=this
null==(e=this._featureElementInfo)||e.set({description:t,title:n})}_forceLTR(e){return"&lrm;"+e}}
Object(r.a)([Object(c.b)()],at.prototype,"attributes",null),Object(r.a)([Object(c.b)()],at.prototype,"description",null),Object(r.a)([Object(c.b)()],at.prototype,"expressionInfos",null),Object(r.a)([Object(c.b)()],at.prototype,"fieldInfos",null),Object(r.a)([Object(c.b)()],at.prototype,"title",null),Object(r.a)([Object(c.b)({type:Qe,nonNullable:!0})],at.prototype,"viewModel",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/widgets/Feature/t9n/Feature")],at.prototype,"messages",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/widgets/support/t9n/uriUtils")],at.prototype,"messagesURIUtils",void 0),at=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureFields")],at)
const ot=at
var lt=n(1679),ct=n(1984),ut=n(771),dt=n(973),ht=(n(235),n(1106),n(1430)),pt=(n(110),n(196),n(374),n(997),n(988),n(1057),n(770),n(1004),n(1055),n(992)),ft=(n(773),n(1021),n(1155),n(1282),n(1047),n(1014)),bt=(n(982),n(1242)),mt=(n(1272),n(1123))
const yt=s.a.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),gt=new Map
function vt(e){if(!de(e))return null
const[t,n]=e.split("/").slice(1)
return{layerId:t,fieldName:n}}const Ot={chartAnimation:!0}
let jt=class extends d.a{constructor(e){super(e),this.abilities={...Ot},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(e){return{...Ot,...e}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(e){this._setContentElementMedia(e)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(e){const{formattedMediaInfoCount:t}=this,n=(e+t)%t
this.activeMediaInfoIndex=n}_pageContentElementMedia(e){const{activeMediaInfoIndex:t}=this,n=t+e
this._setContentElementMedia(n)}_formatMediaInfos(){var e,t,n,r,i
const{mediaInfos:s,layer:o}=this,l=null!=(e=this.attributes)?e:{},c=null!=(t=this.formattedAttributes)?t:{},u=null!=(n=this.expressionAttributes)?n:{},d=null!=(r=this.fieldInfoMap)?r:new Map
return null!=(i=null==s?void 0:s.map(e=>{const t=null==e?void 0:e.clone()
if(!t)return null
if(t.title=Q({attributes:l,fieldInfoMap:d,globalAttributes:c,expressionAttributes:u,layer:o,text:t.title}),t.caption=Q({attributes:l,fieldInfoMap:d,globalAttributes:c,expressionAttributes:u,layer:o,text:t.caption}),t.altText=Q({attributes:l,fieldInfoMap:d,globalAttributes:c,expressionAttributes:u,layer:o,text:t.altText}),"image"===t.type){const{value:e}=t
return this._setImageValue({value:e,formattedAttributes:c,layer:o}),t.value.sourceURL?t:void 0}if("pie-chart"===t.type||"line-chart"===t.type||"column-chart"===t.type||"bar-chart"===t.type){const{value:e}=t
return this._setChartValue({value:e,chartType:t.type,attributes:l,formattedAttributes:c,layer:o,expressionAttributes:u}),t}return null}).filter(a.l))?i:[]}_setImageValue(e){var t
const n=null!=(t=this.fieldInfoMap)?t:new Map,{value:r,formattedAttributes:i,layer:s}=e,{linkURL:a,sourceURL:o}=r
if(o){const e=te(o,s)
r.sourceURL=ee({formattedAttributes:i,template:e,fieldInfoMap:n})}if(a){const e=te(a,s)
r.linkURL=ee({formattedAttributes:i,template:e,fieldInfoMap:n})}}_setChartValue(e){var t
const{value:n,attributes:r,formattedAttributes:i,chartType:s,layer:a,expressionAttributes:o}=e,{popupTemplate:l,relatedInfos:c}=this,{fields:u,normalizeField:d}=n,h=a
if(n.fields=function(e,t){return e&&e.map(e=>J(e,t))}(u,h),d&&(n.normalizeField=J(d,h)),!u.some(e=>!!(null!=i[e]||de(e)&&null!=c&&c.size)))return
const p=null!=(t=null==l?void 0:l.fieldInfos)?t:[]
u.forEach(e=>{if(de(e))return void(n.series=[...n.series,...this._getRelatedChartInfos({fieldInfos:p,fieldName:e,formattedAttributes:i,chartType:s,value:n})])
const t=this._getChartOption({value:n,attributes:r,chartType:s,formattedAttributes:i,expressionAttributes:o,fieldName:e,fieldInfos:p})
n.series.push(t)})}_getRelatedChartInfos(e){var t
const{fieldInfos:n,fieldName:r,formattedAttributes:i,chartType:s,value:a}=e,o=[],l=vt(r),c=l&&(null==(t=this.relatedInfos)?void 0:t.get(l.layerId.toString()))
if(!c)return o
const{relatedFeatures:u,relation:d}=c
if(!d||!u)return o
const{cardinality:h}=d
return u.forEach(e=>{const{attributes:t}=e
t&&Object.keys(t).forEach(e=>{e===l.fieldName&&o.push(this._getChartOption({value:a,attributes:t,formattedAttributes:i,fieldName:r,chartType:s,relatedFieldName:e,hasMultipleRelatedFeatures:(null==u?void 0:u.length)>1,fieldInfos:n}))})}),"one-to-many"===h||"many-to-many"===h?o:[o[0]]}_getTooltip({label:e,value:t,chartType:n}){return"pie-chart"===n?""+e:`${e}: ${t}`}_getChartOption(e){var t,n
const{value:r,attributes:i,formattedAttributes:s,expressionAttributes:a,fieldName:o,relatedFieldName:l,fieldInfos:c,chartType:u,hasMultipleRelatedFeatures:d}=e,h=this.layer,p=null!=(t=this.fieldInfoMap)?t:new Map,{normalizeField:f,tooltipField:b}=r,m=f?de(f)?i[vt(f).fieldName]:i[f]:null,y=Z(o)&&a&&void 0!==a[o]?a[o]:l&&void 0!==i[l]?i[l]:void 0!==i[o]?i[o]:s[o],g=new ct.a({fieldName:o,value:void 0===y?null:y&&m?y/m:y})
if(de(o)){var v,O,j,w,_
const e=p.get(o.toLowerCase()),t=b&&p.get(b.toLowerCase()),n=null!=(v=null==e?void 0:e.fieldName)?v:o,r=d&&b?vt(b).fieldName:null!=(O=null==t?void 0:t.fieldName)?O:b,a=d&&r?i[r]:null!=(j=null!=(w=null!=(_=s[r])?_:null==e?void 0:e.label)?w:null==e?void 0:e.fieldName)?j:l,c=d&&l?i[l]:s[n]
return g.tooltip=this._getTooltip({label:a,value:c,chartType:u}),g}const S=ie(c,o),x=J(o,h),T=b&&void 0!==s[b]?s[b]:K(S||new Ye.a({fieldName:x}),null==(n=this.popupTemplate)?void 0:n.expressionInfos),I=s[x]
return g.tooltip=this._getTooltip({label:T,value:I,chartType:u}),g}}
Object(r.a)([Object(c.b)()],jt.prototype,"abilities",void 0),Object(r.a)([Object(O.a)("abilities")],jt.prototype,"castAbilities",null),Object(r.a)([Object(c.b)()],jt.prototype,"activeMediaInfoIndex",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],jt.prototype,"activeMediaInfo",null),Object(r.a)([Object(c.b)()],jt.prototype,"attributes",void 0),Object(r.a)([Object(c.b)()],jt.prototype,"description",void 0),Object(r.a)([Object(c.b)()],jt.prototype,"fieldInfoMap",void 0),Object(r.a)([Object(c.b)()],jt.prototype,"formattedAttributes",void 0),Object(r.a)([Object(c.b)()],jt.prototype,"expressionAttributes",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],jt.prototype,"formattedMediaInfos",null),Object(r.a)([Object(c.b)()],jt.prototype,"isAggregate",void 0),Object(r.a)([Object(c.b)()],jt.prototype,"layer",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],jt.prototype,"formattedMediaInfoCount",null),Object(r.a)([Object(c.b)()],jt.prototype,"mediaInfos",void 0),Object(r.a)([Object(c.b)()],jt.prototype,"popupTemplate",void 0),Object(r.a)([Object(c.b)()],jt.prototype,"relatedInfos",void 0),Object(r.a)([Object(c.b)()],jt.prototype,"title",void 0),jt=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],jt)
const wt=jt
var _t=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],St=[].concat(_t.slice(30,39),_t.slice(28,30).reverse()),xt=[{name:"default",colors:St},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}],Tt=n(1005)
const It=new Map([["ar",()=>n.e(419).then(n.bind(null,2937)).then(e=>e.a)],["bg-bg",()=>n.e(420).then(n.bind(null,2938)).then(e=>e.b)],["bs-ba",()=>n.e(421).then(n.bind(null,2939)).then(e=>e.b)],["ca-es",()=>n.e(422).then(n.bind(null,2940)).then(e=>e.c)],["cs-cz",()=>n.e(423).then(n.bind(null,2941)).then(e=>e.c)],["da-dk",()=>n.e(424).then(n.bind(null,2942)).then(e=>e.d)],["de-de",()=>n.e(426).then(n.bind(null,2943)).then(e=>e.d)],["de-ch",()=>n.e(425).then(n.bind(null,2944)).then(e=>e.d)],["el-gr",()=>n.e(427).then(n.bind(null,2945)).then(e=>e.e)],["en-us",()=>n.e(429).then(n.bind(null,2946)).then(e=>e.e)],["en-ca",()=>n.e(428).then(n.bind(null,2947)).then(e=>e.e)],["es-es",()=>n.e(430).then(n.bind(null,2948)).then(e=>e.e)],["et-ee",()=>n.e(431).then(n.bind(null,2949)).then(e=>e.e)],["fi-fi",()=>n.e(432).then(n.bind(null,2950)).then(e=>e.f)],["fr-fr",()=>n.e(433).then(n.bind(null,2951)).then(e=>e.f)],["he-il",()=>n.e(434).then(n.bind(null,2952)).then(e=>e.h)],["hr-hr",()=>n.e(435).then(n.bind(null,2953)).then(e=>e.h)],["hu-hu",()=>n.e(436).then(n.bind(null,2954)).then(e=>e.h)],["id-id",()=>n.e(437).then(n.bind(null,2955)).then(e=>e.i)],["it-it",()=>n.e(438).then(n.bind(null,2956)).then(e=>e.i)],["ja-jp",()=>n.e(439).then(n.bind(null,2957)).then(e=>e.j)],["ko-kr",()=>n.e(440).then(n.bind(null,2958)).then(e=>e.k)],["lt-lt",()=>n.e(441).then(n.bind(null,2959)).then(e=>e.l)],["lv-lv",()=>n.e(442).then(n.bind(null,2960)).then(e=>e.l)],["nb-no",()=>n.e(443).then(n.bind(null,2961)).then(e=>e.n)],["nl-nl",()=>n.e(444).then(n.bind(null,2962)).then(e=>e.n)],["pl-pl",()=>n.e(445).then(n.bind(null,2963)).then(e=>e.p)],["pt-br",()=>n.e(446).then(n.bind(null,2964)).then(e=>e.p)],["pt-pt",()=>n.e(447).then(n.bind(null,2965)).then(e=>e.p)],["ro-ro",()=>n.e(448).then(n.bind(null,2966)).then(e=>e.r)],["ru-ru",()=>n.e(449).then(n.bind(null,2967)).then(e=>e.r)],["sk-sk",()=>n.e(450).then(n.bind(null,2968)).then(e=>e.s)],["sl-sl",()=>n.e(451).then(n.bind(null,2969)).then(e=>e.s)],["sr-rs",()=>n.e(452).then(n.bind(null,2970)).then(e=>e.s)],["sv-se",()=>n.e(453).then(n.bind(null,2971)).then(e=>e.s)],["th-th",()=>n.e(454).then(n.bind(null,2972)).then(e=>e.t)],["tr-tr",()=>n.e(455).then(n.bind(null,2973)).then(e=>e.t)],["uk-ua",()=>n.e(456).then(n.bind(null,2974)).then(e=>e.u)],["vi-vn",()=>n.e(457).then(n.bind(null,2975)).then(e=>e.v)],["zh-cn",()=>n.e(458).then(n.bind(null,2976)).then(e=>e.z)],["zh-hk",()=>n.e(88).then(n.bind(null,2977)).then(e=>e.z)],["zh-tw",()=>n.e(88).then(n.bind(null,2977)).then(e=>e.z)]])
let Mt=null,Et=null
var kt=n(1211)
const Ct="esri-feature-media",At={base:Ct,mediaContainer:Ct+"__container",mediaItemContainer:Ct+"__item-container",mediaItem:Ct+"__item",mediaItemTitle:Ct+"__item-title",mediaItemCaption:Ct+"__item-caption",mediaPrevious:Ct+"__previous",mediaPreviousIconLTR:Ct+"__previous-icon",mediaPreviousIconRTL:Ct+"__previous-icon--rtl",mediaNext:Ct+"__next",mediaNextIconLTR:Ct+"__next-icon",mediaNextIconRTL:Ct+"__next-icon--rtl",mediaChart:Ct+"__chart",mediaButton:Ct+"__button",mediaIcon:Ct+"__icon",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"}
let Lt=class extends j.a{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.viewModel=new wt,this.messages=null,this._getChartDependencies=async e=>{const t=await async function(e=Object(Tt.b)()){if(e=function(e){return e?It.has(e.toLowerCase())?e.toLowerCase():function(e){const t=e.split("-")[0].toLowerCase()
let n=null
for(const e of It.keys())if(e.startsWith(t)){n=e
break}return n}(e)||"en-us":"en-us"}(e),Mt&&e===Et)return Mt
Mt=n.e(755).then(n.bind(null,2978)).then(e=>e.i),Et=e
try{const[t,n]=await Promise.all([Mt,It.get(Et)()])
Et===e&&(t.am4core.options.defaultLocale=n.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return Mt=null,Et=null,null}return Mt}(),{destroyed:r,viewModel:i}=this
if(r||!i||!e)return
const{activeMediaInfo:s}=i,a=await this._getRendererColors(t)
this._renderChart({chartDiv:e,mediaInfo:s,chartsModule:t,colorMap:a})}}initialize(){this._featureElementInfo=new De,this.addHandles([Object(o.f)(()=>{var e,t
return[null==(e=this.viewModel)?void 0:e.activeMediaInfo,null==(t=this.viewModel)?void 0:t.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),o.a),Object(o.f)(()=>{var e,t
return[null==(e=this.viewModel)?void 0:e.description,null==(t=this.viewModel)?void 0:t.title]},()=>this._setupFeatureElementInfo(),o.a)])}destroy(){var e
this._clearMediaRefreshTimer(),null==(e=this._featureElementInfo)||e.destroy()}get attributes(){return this.viewModel.attributes}set attributes(e){this.viewModel.attributes=e}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(e){this.viewModel.activeMediaInfoIndex=e}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(e){this.viewModel.fieldInfoMap=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(e){this.viewModel.mediaInfos=e}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(e){this.viewModel.popupTemplate=e}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(e){this.viewModel.relatedInfos=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){var e
return Object(Se.a)("div",{bind:this,class:At.base,onkeyup:this._handleMediaKeyup},null==(e=this._featureElementInfo)?void 0:e.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e}=this.viewModel
return e?Object(Se.a)("div",{key:"media-element-container",class:At.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:n,formattedMediaInfoCount:r}=this.viewModel,{value:i,refreshInterval:s,altText:a,title:o,type:l}=e,{sourceURL:c,linkURL:u}=i,d=W(null!=u?u:void 0)?"_blank":"_self",h="_blank"===d?"noreferrer":"",p=s?t:null,f=p?p.timestamp:0,b=p?p.sourceURL:c,m=Object(Se.a)("img",{alt:a||o,key:`media-${l}-${n}-${r}-${f}`,src:null!=b?b:void 0})
return(u?Object(Se.a)("a",{title:o,href:u,rel:h,target:d},m):null)||m}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:n}=this.viewModel
return Object(Se.a)("div",{key:`media-${e.type}-${t}-${n}`,bind:this,class:At.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel
return e?"image"===e.type?this.renderImageMediaInfo(e):e.type.includes("chart")?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel
if(!e)return null
const t=e.title?Object(Se.a)("div",{key:"media-title",class:At.mediaItemTitle,innerHTML:e.title}):null,n=e.caption?Object(Se.a)("div",{key:"media-caption",class:At.mediaItemCaption,innerHTML:e.caption}):null
return Object(Se.a)("div",{key:"media-container",class:At.mediaItemContainer},Object(Se.a)("div",{key:"media-item-container",class:At.mediaItem},this.renderMediaInfoType()),t,n)}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null
const t="previous"===e,n=t?this.messages.previous:this.messages.next,r=t?this.classes(At.mediaButton,At.mediaPrevious):this.classes(At.mediaButton,At.mediaNext),i=t?this.classes(At.mediaIcon,At.mediaPreviousIconLTR,At.iconLeftTriangleArrow):this.classes(At.mediaIcon,At.mediaNextIconLTR,At.iconRightTriangleArrow),s=t?this.classes(At.mediaIcon,At.mediaPreviousIconRTL,At.iconRightTriangleArrow):this.classes(At.mediaIcon,At.mediaNextIconRTL,At.iconLeftTriangleArrow),a=t?"media-previous":"media-next",o=t?this._previous:this._next
return Object(Se.a)("button",{type:"button",key:a,title:n,"aria-label":n,tabIndex:0,class:r,bind:this,onclick:o},Object(Se.a)("span",{"aria-hidden":"true",class:i}),Object(Se.a)("span",{"aria-hidden":"true",class:s}))}_setupFeatureElementInfo(){var e
const{description:t,title:n}=this
null==(e=this._featureElementInfo)||e.set({description:t,title:n})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){const{isAggregate:e,layer:t}=this.viewModel
return e&&null!=t&&t.featureReduction&&"renderer"in t.featureReduction?t.featureReduction.renderer:null==t?void 0:t.renderer}async _getRendererColors(e){const{am4core:t}=e,n=new Map,r=this._getRenderer()
if(!r)return n
const i=await Object(lt.a)(r)
return i.delete("default"),Array.from(i.values()).every(e=>1===(null==e?void 0:e.length))?(n.set("default-line-value",t.color({r:50,g:50,b:50,a:1})),Array.from(i.keys()).forEach(e=>{var r
e&&n.set(e,t.color(null==(r=i.get(e))?void 0:r[0].toCss(!0)))}),n):n}_handleMediaKeyup(e){const t=Object(y.a)(e)
"ArrowLeft"===t&&(e.stopPropagation(),this.viewModel.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.viewModel.next())}_renderChart(e){const{abilities:t}=this.viewModel,{chartsModule:n,chartDiv:r,mediaInfo:i,colorMap:s}=e,{value:a,type:o}=i,{am4core:l}=n,c=function(e,t="default"){const n=xt.find(e=>e.name===t)
return n?n.colors.map(t=>e.color(t)):null}(l)
Object(kt.b)()&&l.useTheme(n.am4themes_dark)
const u=window.matchMedia("(prefers-reduced-motion: reduce)")
t.chartAnimation&&!u.matches?l.useTheme(n.am4themes_animated):l.unuseTheme(n.am4themes_animated),l.useTheme((function(e){e instanceof l.ColorSet&&c&&(e.list=c)}))
const d="pie-chart"===o?this._createPieChart(e):this._createXYChart(e)
r.setAttribute("aria-label",i.altText||i.title),d.data=a.series.map(e=>({tooltip:e.tooltip,value:e.value,color:s.get(e.fieldName)})).filter(e=>"pie-chart"!==o||null!=e.value&&e.value>0)}_customizeChartTooltip(e,t){e&&(e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7}))}_createPieChart(e){const{chartDiv:t,chartsModule:n}=e,{am4core:r,am4charts:i}=n,s=r.create(t,i.PieChart)
s.rtl=Object(we.e)(this.container)
const a=s.series.push(new i.PieSeries)
return a.labels.template.disabled=!0,a.ticks.template.disabled=!0,a.dataFields.value="value",a.dataFields.category="tooltip",this._customizeChartTooltip(a.tooltip,r),a.slices.template.propertyFields.fill="color",a.slices.template.propertyFields.stroke="color",s}_getMinSeriesValue(e){let t=0
return e.forEach(e=>t=Math.min(e.value,t)),t}_createColumnChart(e,t){const{chartsModule:n,mediaInfo:r}=t,{value:i}=r,{am4core:s,am4charts:a}=n,o=e.xAxes.push(new a.CategoryAxis)
o.dataFields.category="tooltip",o.renderer.labels.template.disabled=!0
const l=o.tooltip
this._customizeChartTooltip(l,s),l.events.on("sizechanged",()=>{l.dy=-l.contentHeight})
const c=e.yAxes.push(new a.ValueAxis),u=c.renderer.labels.template
c.renderer.minLabelPosition=.05,c.renderer.maxLabelPosition=.95,c.min=this._getMinSeriesValue(i.series),this._customizeChartTooltip(c.tooltip,s),u.wrap=!0
const d=e.series.push(new a.ColumnSeries)
d.dataFields.valueY="value",d.dataFields.categoryX="tooltip",d.columns.template.propertyFields.fill="color",d.columns.template.propertyFields.stroke="color",e.cursor=new a.XYCursor,i.series.length>15&&(e.scrollbarX=new s.Scrollbar)}_createBarChart(e,t){const{chartsModule:n,mediaInfo:r}=t,{value:i}=r,{am4core:s,am4charts:a}=n,o=e.yAxes.push(new a.CategoryAxis)
o.dataFields.category="tooltip",o.renderer.inversed=!0,o.renderer.labels.template.disabled=!0
const l=o.tooltip
this._customizeChartTooltip(l,s),l.events.on("sizechanged",()=>{l.dx=l.contentWidth})
const c=e.xAxes.push(new a.ValueAxis),u=c.renderer.labels.template
c.renderer.minLabelPosition=.05,c.renderer.maxLabelPosition=.95,c.min=this._getMinSeriesValue(i.series),this._customizeChartTooltip(c.tooltip,s),u.wrap=!0
const d=e.series.push(new a.ColumnSeries)
d.dataFields.valueX="value",d.dataFields.categoryY="tooltip",d.columns.template.propertyFields.fill="color",d.columns.template.propertyFields.stroke="color",e.cursor=new a.XYCursor,i.series.length>15&&(e.scrollbarY=new s.Scrollbar)}_createLineChart(e,t){const{chartsModule:n,mediaInfo:r,colorMap:i}=t,{value:s}=r,{am4core:a,am4charts:o}=n,l=e.xAxes.push(new o.CategoryAxis)
l.dataFields.category="tooltip",l.renderer.labels.template.disabled=!0
const c=l.tooltip
this._customizeChartTooltip(c,a),c.events.on("sizechanged",()=>{c.dy=-c.contentHeight})
const u=e.yAxes.push(new o.ValueAxis),d=u.renderer.labels.template
u.renderer.minLabelPosition=.05,u.renderer.maxLabelPosition=.95,u.min=this._getMinSeriesValue(s.series),this._customizeChartTooltip(u.tooltip,a),d.wrap=!0
const h=e.series.push(new o.LineSeries)
h.dataFields.categoryX="tooltip",h.dataFields.valueY="value",h.strokeWidth=1
const p=i.get("default-line-value")
p&&(h.stroke=p)
const f=h.bullets.push(new o.CircleBullet)
f.propertyFields.fill="color",f.propertyFields.stroke="color",e.cursor=new o.XYCursor,s.series.length>15&&(e.scrollbarX=new a.Scrollbar)}_createXYChart(e){const{chartDiv:t,chartsModule:n,mediaInfo:r}=e,{type:i}=r,{am4core:s,am4charts:a}=n,o=s.create(t,a.XYChart)
return o.rtl=Object(we.e)(this.container),"column-chart"===i&&this._createColumnChart(o,e),"bar-chart"===i&&this._createBarChart(o,e),"line-chart"===i&&this._createLineChart(o,e),o}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this
e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now()
this._refreshIntervalInfo={timestamp:t,sourceURL:e&&this._getImageSource(e,t)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer()
const{activeMediaInfo:e}=this.viewModel
e&&"image"===e.type&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:n}=e
if(!t)return
const r=6e4*t
this._updateMediaInfoTimestamp(n.sourceURL)
const i=setInterval(()=>{this._updateMediaInfoTimestamp(n.sourceURL)},r)
this._refreshTimer=i}_getImageSource(e,t){const n=e.includes("?")?"&":"?",[r,i=""]=e.split("#")
return`${r}${n}timestamp=${t}${i?"#":""}${i}`}}
Object(r.a)([Object(c.b)()],Lt.prototype,"attributes",null),Object(r.a)([Object(c.b)()],Lt.prototype,"activeMediaInfoIndex",null),Object(r.a)([Object(c.b)()],Lt.prototype,"description",null),Object(r.a)([Object(c.b)()],Lt.prototype,"fieldInfoMap",null),Object(r.a)([Object(c.b)()],Lt.prototype,"layer",null),Object(r.a)([Object(c.b)()],Lt.prototype,"mediaInfos",null),Object(r.a)([Object(c.b)()],Lt.prototype,"popupTemplate",null),Object(r.a)([Object(c.b)()],Lt.prototype,"relatedInfos",null),Object(r.a)([Object(c.b)()],Lt.prototype,"title",null),Object(r.a)([Object(c.b)({type:wt})],Lt.prototype,"viewModel",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/widgets/Feature/t9n/Feature")],Lt.prototype,"messages",void 0),Lt=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureMedia")],Lt)
const Rt=Lt
n(1439),n(1386),n(1440),n(1441)
var Pt=n(1442),Ft=n(1443),Nt=(n(1444),n(1369)),Dt=n(1983),Vt=n(779)
const Ut=["$datastore","$map","$layer","$aggregatedfeatures"],Gt=s.a.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils")
function zt(e){return"string"==typeof e?oe(ae(e)):Array.isArray(e)?function(e){return`<ul class="esri-widget__list">${e.map(e=>`<li>${"string"==typeof e?oe(ae(e)):e}</li>`).join("")}</ul>`}(e):"esri.arcade.Dictionary"===(null==e?void 0:e.declaredClass)?function(e){return`<table class="esri-widget__table">${e.keys().map(t=>{const n=e.field(t)
return`<tr><th>${t}</th><td>${"string"==typeof n?oe(ae(n)):n}</td></tr>`}).join("")}</table>`}(e):e}function qt(){return n.e(52).then(n.bind(null,1319))}async function Bt({graphic:e,view:t}){const{isAggregate:n,layer:r}=e
if(!n||!r||"2d"!==(null==t?void 0:t.type))return[]
const i=await t.whenLayerView(r)
if(!function(e){return"createQuery"in e&&"queryFeatures"in e}(i))return[]
const s=i.createQuery(),a=e.getObjectId()
s.aggregateIds=null!=a?[a]:[]
const{features:o}=await i.queryFeatures(s)
return o}async function $t({expressionInfo:e,arcadeUtils:t,interceptor:n,spatialReference:r,map:i,graphic:s,view:a}){if(!e||!e.expression)return null
const o=t.createSyntaxTree(e.expression),l=Ut.filter(e=>t.hasVariable(o,e)),[c]=await Promise.all([Bt({graphic:s,view:a}),t.loadScriptDependencies(o,!0,l)]),u=t.getViewInfo({spatialReference:r}),d=t.createExecContext(s,u)
d.interceptor=n,d.useAsync=!0,function({aggregatedFeatures:e,arcadeUtils:t,featureSetVars:n,context:r,viewInfo:i,map:s,graphic:a,interceptor:o}){n.forEach(n=>{const l=n.toLowerCase(),c=i.sr,u={map:s,spatialReference:c,interceptor:o}
if("$map"===l&&(r.vars[l]=t.convertMapToFeatureSetCollection(u)),"$layer"===l&&(r.vars[l]=t.convertFeatureLayerToFeatureSet({layer:a.sourceLayer,spatialReference:c,interceptor:o})),"$datastore"===l&&(r.vars[l]=t.convertServiceUrlToWorkspace({url:a.sourceLayer.url,spatialReference:c,interceptor:o})),"$aggregatedfeatures"===l){const n=a.layer,{fields:i,objectIdField:s,geometryType:c,spatialReference:u,displayField:d}=n,h=new Vt.default({fields:i,objectIdField:s,geometryType:c,spatialReference:u,displayField:d,..."feature"===n.type?{templates:n.templates,typeIdField:n.typeIdField,types:n.types}:null,source:e})
r.vars[l]=t.convertFeatureLayerToFeatureSet({layer:h,spatialReference:u,interceptor:o})}})}({aggregatedFeatures:c,arcadeUtils:t,featureSetVars:l,context:d,viewInfo:u,map:i,graphic:s,interceptor:n})
const h=t.createFunction(o,d)
return t.executeAsyncFunction(h,d).catch(t=>Gt.error("arcade-execution-error",{error:t,graphic:s,expressionInfo:e}))}async function Ht({expressionInfos:e,spatialReference:t,graphic:n,interceptor:r,map:i,view:s}){if(!e||!e.length)return{}
const a=await qt(),o={}
for(const l of e)o["expression/"+l.name]=$t({expressionInfo:l,arcadeUtils:a,interceptor:r,spatialReference:t,map:i,graphic:n,view:s})
const l=await Object(dt.g)(o),c={}
for(const e in l)c[e]=zt(l[e].value)
return c}let Wt=class extends(Object(Ge.b)(d.a)){constructor(e){super(e),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:e}=this
e&&e.abort(),this._abortController=null},this._createVM=()=>{var e,t
const n=null==(e=this.contentElement)?void 0:e.type
null==(t=this.contentElementViewModel)||t.destroy()
const r="fields"===n?new Qe:"media"===n?new wt:"text"===n?new qe:null
this._set("contentElementViewModel",r)},this._compile=async()=>{this._cancelQuery()
const e=new AbortController
this._abortController=e,await this._compileExpression(),this._abortController===e&&(this._abortController=null)},this._compileThrottled=Object(v.a)(this._compile,1,this),this._compileExpression=async()=>{const{expressionInfo:e,graphic:t,interceptor:n,spatialReference:r,map:i,view:s,_abortController:a}=this
if(!(e&&t&&r&&i))return void this._set("contentElement",null)
const o=await qt()
if(a!==this._abortController)return
const l=await $t({arcadeUtils:o,expressionInfo:e,graphic:t,interceptor:n,map:i,spatialReference:r,view:s})
if(!l||"esri.arcade.Dictionary"!==l.declaredClass)return void this._set("contentElement",null)
const c=await l.castAsJsonAsync(null==a?void 0:a.signal),u=null==c?void 0:c.type,d="media"===u?Ft.a.fromJSON(c):"text"===u?Nt.a.fromJSON(c):"fields"===u?Pt.a.fromJSON(c):null
this._set("contentElement",d)},this.handles.add([Object(o.f)(()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view],()=>this._compileThrottled(),o.a),Object(o.f)(()=>[this.contentElement],()=>this._createVM(),o.a)])}destroy(){var e
this._cancelQuery(),null!=(e=this.contentElementViewModel)&&e.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var e,t
return null!=(e=null==(t=this.view)?void 0:t.spatialReference)?e:null}set spatialReference(e){this._override("spatialReference",e)}get state(){const{_abortController:e,contentElement:t,contentElementViewModel:n}=this
return e?"loading":t||n?"ready":"disabled"}get map(){var e,t
return null!=(e=null==(t=this.view)?void 0:t.map)?e:null}set map(e){this._override("map",e)}}
Object(r.a)([Object(c.b)()],Wt.prototype,"_abortController",void 0),Object(r.a)([Object(c.b)({type:Dt.a})],Wt.prototype,"expressionInfo",void 0),Object(r.a)([Object(c.b)({type:S.default})],Wt.prototype,"graphic",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Wt.prototype,"contentElement",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Wt.prototype,"contentElementViewModel",void 0),Object(r.a)([Object(c.b)()],Wt.prototype,"interceptor",void 0),Object(r.a)([Object(c.b)()],Wt.prototype,"spatialReference",null),Object(r.a)([Object(c.b)({readOnly:!0})],Wt.prototype,"state",null),Object(r.a)([Object(c.b)()],Wt.prototype,"map",null),Object(r.a)([Object(c.b)()],Wt.prototype,"view",void 0),Wt=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],Wt)
const Zt=Wt
let Kt=class extends j.a{constructor(e,t){super(e,t),this._contentWidget=null,this.viewModel=new Zt}initialize(){this.addHandles(Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.contentElementViewModel},()=>this._setupExpressionWidget(),o.a))}destroy(){this._destroyContentWidget()}renderLoading(){return Object(Se.a)("div",{key:"loading-container",class:"esri-feature__loading-container"},Object(Se.a)("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))}render(){var e
const{state:t}=this.viewModel
return Object(Se.a)("div",{class:"esri-feature-expression"},"loading"===t?this.renderLoading():"disabled"===t?null:null==(e=this._contentWidget)?void 0:e.render())}_destroyContentWidget(){const{_contentWidget:e}=this
e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,n=null==t?void 0:t.type
this._destroyContentWidget()
const r=e?"fields"===n?new ot({viewModel:e}):"media"===n?new Rt({viewModel:e}):"text"===n?new Ke({viewModel:e}):null:null
this._contentWidget=r,this.scheduleRender()}}
Object(r.a)([Object(c.b)({type:Zt})],Kt.prototype,"viewModel",void 0),Kt=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureExpression")],Kt)
const Jt=Kt
var Yt=n(986),Xt=n(1063)
let Qt=class extends(Object(Yt.b)(Object(Xt.b)(Object(Ge.b)(d.a)))){constructor(e){super(e),this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:e}=this
e&&e.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:e}=this
e&&e.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:e}=this
e&&e.abort(),this._queryPageAbortController=null},this._queryController=async()=>{this._cancelQuery()
const e=new AbortController
this._queryAbortController=e,await Object(dt.i)(this._query()),this._queryAbortController===e&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._cancelQueryFeatureCount()
const e=new AbortController
this._queryFeatureCountAbortController=e,await Object(dt.i)(this._queryFeatureCount()),this._queryFeatureCountAbortController===e&&(this._queryFeatureCountAbortController=null)},this._queryPageController=async()=>{const e=new AbortController
this._queryPageAbortController=e,await Object(dt.i)(this._queryPage()),this._queryPageAbortController===e&&(this._queryPageAbortController=null)},this._queryThrottled=Object(v.a)(this._queryController,100,this),this._queryFeatureCountThrottled=Object(v.a)(this._queryFeatureCountController,100,this),this._queryPageThrottled=Object(v.a)(this._queryPageController,100,this),this._query=async()=>{const{_queryAbortController:e,relatedFeatures:t}=this
this._destroyRelatedFeatureViewModels(),this.featurePage=1,t.removeAll(),t.addMany(this._sliceFeatures(await this._queryRelatedFeatures({signal:null==e?void 0:e.signal})))},this.handles.add([Object(o.f)(()=>[this.displayCount,this.graphic,this.layer,this.map,this.orderByFieldsFixedCasing,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount],()=>this._queryThrottled(),o.a),Object(o.f)(()=>[this.featurePage,this.showAllEnabled],()=>this._queryPageThrottled()),Object(o.f)(()=>[this.layer,this.relationshipId,this.objectId,this.canQuery],()=>this._queryFeatureCountThrottled())])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.removeAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(e){const{featuresPerPage:t,featureCount:n}=this,r=Math.ceil(n/t)||1
this._set("featurePage",Math.min(Math.max(e,1),r))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:e,relatedLayer:t}=this
return e&&null!=t&&t.loaded?e.map(e=>{const n=e.clone(),r=J(e.field,t)
return n.field=r,n}):null!=e?e:[]}get supportsCacheHint(){var e,t,n
return!(null==(e=this.layer)||null==(t=e.capabilities)||null==(n=t.queryRelated)||!n.supportsCacheHint)}get canQuery(){var e,t
const n=null==(e=this.layer)||null==(t=e.capabilities)?void 0:t.queryRelated
return!!(this.relatedLayer&&this.relationship&&"number"==typeof this.relationshipId&&"number"==typeof this.objectId&&null!=n&&n.supportsCount&&null!=n&&n.supportsPagination)}get itemDescriptionFieldName(){var e,t
return(null==(e=this.orderByFieldsFixedCasing)||null==(t=e[0])?void 0:t.field)||null}set displayCount(e){this._set("displayCount",Math.min(Math.max(e,0),10))}get displayCount(){return this._get("displayCount")}get objectId(){var e,t,n
return null!=(e=this.objectIdField&&(null==(t=this.graphic)||null==(n=t.attributes)?void 0:n[this.objectIdField]))?e:null}get objectIdField(){var e
return(null==(e=this.layer)?void 0:e.objectIdField)||null}get relatedFeatures(){return this._get("relatedFeatures")||new h.a}get relatedLayer(){var e
const{layer:t,map:n,relationship:r}=this
return null!=t&&t.loaded&&n&&r&&null!=(e=function(e,t,n){return e&&t&&n?be(e.allLayers,t,n)||be(e.allTables,t,n):null}(n,t,r))?e:null}get relationship(){var e,t
const{relationshipId:n,layer:r}=this
return"number"==typeof n&&null!=(e=null==r||null==(t=r.relationships)?void 0:t.find(({id:e})=>e===n))?e:null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new h.a}get state(){const{_queryAbortController:e,_queryFeatureCountAbortController:t,_queryPageAbortController:n,canQuery:r}=this
return t?"loading":e||n?"querying":r?"ready":"disabled"}_destroyRelatedFeatureViewModels(){var e
null!=(e=this.relatedFeatureViewModels)&&e.forEach(e=>!e.destroyed&&e.destroy()),this.relatedFeatureViewModels.removeAll()}async _queryFeatureCount(){const{layer:e,relatedLayer:t,relationshipId:n,objectId:r,_queryFeatureCountAbortController:i,canQuery:s,supportsCacheHint:o}=this
if(await(null==e?void 0:e.load()),await(null==t?void 0:t.load()),!s||!e||!t)return void this._set("featureCount",0)
const l=t.createQuery(),c=new bt.default({cacheHint:o,relationshipId:n,returnGeometry:!1,objectIds:[r],where:Object(a.x)(l.where,void 0)}),u=await e.queryRelatedFeaturesCount(c,{signal:null==i?void 0:i.signal})
this._set("featureCount",u[r]||0)}_sliceFeatures(e){const{showAllEnabled:t,displayCount:n}=this
return t?e:n?e.slice(0,n):[]}async _queryPage(){const{relatedFeatures:e,featurePage:t,showAllEnabled:n,_queryPageAbortController:r}=this
!n||t<2||e.addMany(await this._queryRelatedFeatures({signal:null==r?void 0:r.signal}))}async _queryRelatedFeatures(e){var t
const{orderByFieldsFixedCasing:n,showAllEnabled:r,featuresPerPage:i,displayCount:s,layer:o,relationshipId:l,featurePage:c,featureCount:u,relatedLayer:d,supportsCacheHint:h}=this,{canQuery:p,objectId:f}=this
if(!p||!o||!d)return[]
const b=r?((c-1)*i+u)%u:0,m=r?i:s,y=d.objectIdField,g=[...null==n?void 0:n.map(e=>e.field),y].filter(a.l),v=null==n?void 0:n.map(e=>`${e.field} ${e.order}`),O=d.createQuery(),j=new bt.default({orderByFields:v,start:b,num:m,outFields:g,cacheHint:h,relationshipId:l,returnGeometry:!1,objectIds:[f],where:Object(a.x)(O.where,void 0)}),w=(null==(t=(await o.queryRelatedFeatures(j,{signal:null==e?void 0:e.signal}))[f])?void 0:t.features)||[]
return w.forEach(e=>{e.sourceLayer=d,e.layer=d}),w}}
Object(r.a)([Object(c.b)()],Qt.prototype,"_queryAbortController",void 0),Object(r.a)([Object(c.b)()],Qt.prototype,"_queryPageAbortController",void 0),Object(r.a)([Object(c.b)()],Qt.prototype,"_queryFeatureCountAbortController",void 0),Object(r.a)([Object(c.b)({value:1})],Qt.prototype,"featurePage",null),Object(r.a)([Object(c.b)()],Qt.prototype,"featuresPerPage",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"orderByFieldsFixedCasing",null),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"supportsCacheHint",null),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"canQuery",null),Object(r.a)([Object(c.b)()],Qt.prototype,"description",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"itemDescriptionFieldName",null),Object(r.a)([Object(c.b)({value:3})],Qt.prototype,"displayCount",null),Object(r.a)([Object(c.b)({type:S.default})],Qt.prototype,"graphic",void 0),Object(r.a)([Object(c.b)()],Qt.prototype,"layer",void 0),Object(r.a)([Object(c.b)()],Qt.prototype,"map",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"objectId",null),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"objectIdField",null),Object(r.a)([Object(c.b)()],Qt.prototype,"orderByFields",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"relatedFeatures",null),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"relatedLayer",null),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"relationship",null),Object(r.a)([Object(c.b)()],Qt.prototype,"featureCount",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Qt.prototype,"relatedFeatureViewModels",null),Object(r.a)([Object(c.b)()],Qt.prototype,"relationshipId",void 0),Object(r.a)([Object(c.b)()],Qt.prototype,"showAllEnabled",void 0),Object(r.a)([Object(c.b)()],Qt.prototype,"state",null),Object(r.a)([Object(c.b)()],Qt.prototype,"title",void 0),Qt=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],Qt)
const en=Qt
var tn=n(1115)
const nn="esri-feature-relationship",rn="esri-widget",sn="esri-feature-relationship__list",an="esri-feature-relationship__list--querying",on="esri-feature__feature-observer",ln="esri-feature__sticky-loading-container",cn="esri-feature__loading-container",un="esri-feature__loading-spinner",dn="esri-icon-loading-indicator esri-rotating",hn={title:!0,description:!0}
let pn=class extends j.a{constructor(e,t){super(e,t),this._featureElementInfo=null,this._relatedFeatureIntersectionObserverNode=null,this._relatedFeatureIntersectionObserver=new IntersectionObserver(([e])=>{(null==e?void 0:e.isIntersecting)&&this._increaseFeaturePage()},{root:window.document}),this.headingLevel=2,this.viewModel=new en,this.messages=null,this.messagesCommon=null,this.visibleElements={...hn},this._increaseFeaturePage=()=>{const{state:e,showAllEnabled:t,relatedFeatures:n,featuresPerPage:r,featurePage:i}=this.viewModel
"ready"===e&&t&&n.length>=r*i&&this.viewModel.featurePage++}}initialize(){this._featureElementInfo=new De,this.addHandles([Object(o.f)(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),o.a),Object(o.f)(()=>[this.viewModel.state,this.viewModel.showAllEnabled,this._relatedFeatureIntersectionObserverNode],()=>this._handleRelatedFeatureObserverChange()),Object(o.b)(()=>this.viewModel.relatedFeatureViewModels,"change",()=>this._setupRelatedFeatureViewModels())])}loadDependencies(){return Promise.all([Promise.all([n.e(32),n.e(324)]).then(n.bind(null,3089)),n.e(328).then(n.bind(null,2979)),n.e(41).then(n.bind(null,2936)),n.e(71).then(n.bind(null,3099))])}destroy(){this._unobserveRelatedFeatureObserver(),this._featureElementInfo=Object(a.e)(this._featureElementInfo)}get displayShowAllButton(){const{showAllEnabled:e,featureCount:t,displayCount:n}=this.viewModel
return!e&&!!t&&(t>n||0===n)}get displayListItems(){return this.displayShowAllButton||this.viewModel.relatedFeatureViewModels.length>0}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get featureCountDescription(){const{messages:e}=this,{featureCount:t}=this.viewModel
return Object(tn.a)(1===t?null==e?void 0:e.numberRecord:null==e?void 0:e.numberRecords,{number:t})}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}castVisibleElements(e){return{...hn,...e}}renderStickyLoading(){return"querying"===this.viewModel.state?Object(Se.a)("div",{key:"sticky-loader",class:ln},this.renderLoadingIcon()):null}renderLoadingIcon(){return Object(Se.a)("span",{class:this.classes(dn,un)})}renderLoading(){return Object(Se.a)("div",{key:"loading-container",class:cn},this.renderLoadingIcon())}renderShowAllIconNode(){return Object(Se.a)("calcite-icon",{scale:"s",icon:"list",slot:"content-end"})}renderChevronIconNode(){const e=Object(we.e)(this.container)?"chevron-left":"chevron-right"
return Object(Se.a)("calcite-icon",{scale:"s",icon:e,slot:"content-end"})}renderRelatedFeature(e){var t,n,r
const{itemDescriptionFieldName:i}=this.viewModel,s=e.title
e.description=i&&(null==(t=e.formattedAttributes)?void 0:t.global[i])
const a="loading"===e.state
return Object(Se.a)("calcite-list-item",{key:e.uid,label:a?(null==(n=this.messagesCommon)?void 0:n.loading)+"":s,description:a?"":null!=(r=e.description)?r:"",onCalciteListItemSelect:()=>this.emit("select-record",{featureViewModel:e})},this.renderChevronIconNode())}renderShowAllListItem(){var e
return this.displayShowAllButton?Object(Se.a)("calcite-list-item",{key:"show-all-item",label:null==(e=this.messages)?void 0:e.showAll,description:this.featureCountDescription,onCalciteListItemSelect:()=>this.emit("show-all-records")},this.renderShowAllIconNode()):null}renderNoRelatedFeaturesMessage(){var e
return Object(Se.a)("calcite-notice",{key:"no-related-features-message",icon:"information",open:!0,kind:"brand",scale:"s",width:"full"},Object(Se.a)("div",{slot:"message"},null==(e=this.messages)?void 0:e.noRelatedFeatures))}renderFeatureObserver(){return Object(Se.a)("div",{key:"feature-observer",class:on,bind:this,afterCreate:this._relatedFeatureIntersectionObserverCreated})}renderList(){const{relatedFeatureViewModels:e}=this.viewModel
return Object(Se.a)("calcite-list",null,e.toArray().map(e=>this.renderRelatedFeature(e)),this.renderShowAllListItem())}renderRelatedFeatures(){const{displayListItems:e}=this,{state:t}=this.viewModel
return Object(Se.a)("div",{key:"list-container",class:this.classes(sn,{[an]:"querying"===t})},e?this.renderList():"ready"===t?this.renderNoRelatedFeaturesMessage():null,this.renderStickyLoading(),this.renderFeatureObserver())}renderRelationshipNotFound(){var e
return Object(Se.a)("calcite-notice",{key:"relationship-not-found",icon:"exclamation-mark-triangle",open:!0,kind:"danger",scale:"s",width:"full"},Object(Se.a)("div",{slot:"message"},null==(e=this.messages)?void 0:e.relationshipNotFound))}render(){var e
const{state:t}=this.viewModel
return Object(Se.a)("div",{class:this.classes(nn,rn)},null==(e=this._featureElementInfo)?void 0:e.render(),"loading"===t?this.renderLoading():"disabled"===t?this.renderRelationshipNotFound():this.renderRelatedFeatures())}_setupRelatedFeatureViewModels(){const{relatedFeatureViewModels:e}=this.viewModel,t="related-feature-viewmodels"
this.removeHandles(t),null!=e&&e.forEach(e=>{this.addHandles(Object(o.f)(()=>[e.title,e.state],()=>this.scheduleRender(),o.a),t)}),this.scheduleRender()}_setupFeatureElementInfo(){var e
const{headingLevel:t,visibleElements:n}=this,r=n.description&&this.description,i=n.title&&this.title
null==(e=this._featureElementInfo)||e.set({description:r,title:i,headingLevel:t})}async _handleRelatedFeatureObserverChange(){this._unobserveRelatedFeatureObserver()
const{state:e,showAllEnabled:t}=this.viewModel
await Object(dt.a)(0),this._relatedFeatureIntersectionObserverNode&&"ready"===e&&t&&this._relatedFeatureIntersectionObserver.observe(this._relatedFeatureIntersectionObserverNode)}_relatedFeatureIntersectionObserverCreated(e){this._relatedFeatureIntersectionObserverNode=e}_unobserveRelatedFeatureObserver(){this._relatedFeatureIntersectionObserverNode&&this._relatedFeatureIntersectionObserver.unobserve(this._relatedFeatureIntersectionObserverNode)}}
Object(r.a)([Object(c.b)()],pn.prototype,"_relatedFeatureIntersectionObserverNode",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],pn.prototype,"displayShowAllButton",null),Object(r.a)([Object(c.b)({readOnly:!0})],pn.prototype,"displayListItems",null),Object(r.a)([Object(c.b)()],pn.prototype,"description",null),Object(r.a)([Object(c.b)({readOnly:!0})],pn.prototype,"featureCountDescription",null),Object(r.a)([Object(c.b)()],pn.prototype,"headingLevel",void 0),Object(r.a)([Object(c.b)()],pn.prototype,"title",null),Object(r.a)([Object(c.b)({type:en})],pn.prototype,"viewModel",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/widgets/Feature/t9n/Feature")],pn.prototype,"messages",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/t9n/common")],pn.prototype,"messagesCommon",void 0),Object(r.a)([Object(c.b)()],pn.prototype,"visibleElements",void 0),Object(r.a)([Object(O.a)("visibleElements")],pn.prototype,"castVisibleElements",null),pn=Object(r.a)([Object(u.a)("esri.widgets.Feature.FeatureRelationship")],pn)
const fn=pn
var bn
const mn={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0}
let yn=bn=class extends(Object(Xt.b)(d.a)){constructor(e){super(e),this._handles=new g.a,this._error=null,this._featureAbortController=null,this._graphicChangedThrottled=Object(v.a)(this._graphicChanged,1,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...mn},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=e=>{const{abilities:t}=this
return"attachments"===e.type&&!!t.attachmentsContent||"custom"===e.type&&!!t.customContent||"fields"===e.type&&!!t.fieldsContent||"media"===e.type&&!!t.mediaContent||"text"===e.type&&!!t.textContent||"expression"===e.type&&!!t.expressionContent||"relationship"===e.type&&!!t.relationshipContent},this._handles.add(Object(o.f)(()=>[this.graphic,this._effectivePopupTemplate,this.abilities],()=>this._graphicChangedThrottled(),o.a))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return Object(a.l)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return function(e,t){const n=new Map
return e?(e.forEach(e=>{const r=J(e.fieldName,t)
e.fieldName=r,n.set(r.toLowerCase(),e)}),n):n}(se(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return $(this.graphic)}castAbilities(e){return{...mn,...e}}get isTable(){var e
return(null==(e=this._sourceLayer)?void 0:e.isTable)||!1}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?e.clone():null)}get spatialReference(){var e,t
return null!=(e=null==(t=this.view)?void 0:t.spatialReference)?e:null}set spatialReference(e){this._override("spatialReference",e)}get map(){var e
return(null==(e=this.view)?void 0:e.map)||null}set map(e){this._override("map",e)}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const n=this.contentViewModels[e]
n instanceof wt&&n.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e]
t instanceof wt&&t.next()}previousMedia(e){const t=this.contentViewModels[e]
t instanceof wt&&t.previous()}async updateGeometry(){var e
const{graphic:t,spatialReference:n,_sourceLayer:r}=this
await(null==r?void 0:r.load())
const i=null==r?void 0:r.objectIdField
if(!i||!t||!r)return
const s=null==t||null==(e=t.attributes)?void 0:e[i]
if(null==s)return
const a=[s]
if(!t.geometry){var o
const e=null==(o=await ue({layer:r,graphic:t,outFields:[],objectIds:a,returnGeometry:!0,spatialReference:n}))?void 0:o.geometry
e&&(t.geometry=e)}}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear()
const{graphic:e}=this
if(!e)return
const t=new AbortController
this._featureAbortController=t
try{await this._queryFeature({signal:t.signal})}catch(t){Object(dt.j)(t)||(this._error=t,s.a.getLogger(this.declaredClass).error("error","The popupTemplate could not be displayed for this feature.",{error:t,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this
e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return"attachments"===e.type?this._compileAttachments(e,t):"custom"===e.type?this._compileCustom(e,t):"fields"===e.type?this._compileFields(e,t):"media"===e.type?this._compileMedia(e,t):"text"===e.type?this._compileText(e,t):"expression"===e.type?this._compileExpression(e,t):"relationship"===e.type?this._compileRelationship(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((e,t)=>this._compileContentElement(e,t)).filter(a.l):"string"==typeof e?this._compileText(new Nt.a({text:e}),0).text:e}_destroyContentViewModels(){var e,t
null!=(e=this._handles)&&e.remove("relationship-view-models"),null!=(t=this._handles)&&t.remove("content-view-models"),this.contentViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("contentViewModels",[])}_matchesFeature(e,t){var n
const r=null==e||null==(n=e.graphic)?void 0:n.getObjectId(),i=null==t?void 0:t.getObjectId()
return Object(a.l)(r)&&Object(a.l)(i)&&r===i}_setRelatedFeaturesViewModels({relatedFeatureViewModels:e,relatedFeatures:t,map:n}){const{view:r,spatialReference:i}=this
null!=t&&t.filter(Boolean).forEach(t=>{e.find(e=>this._matchesFeature(e,t))||e.add(new bn({abilities:{relationshipContent:!1},map:n,view:r,spatialReference:i,graphic:t}))}),e.forEach(n=>{(null==t?void 0:t.find(e=>this._matchesFeature(n,e)))||e.remove(n)})}_setExpressionContentVM(e,t){const n=this.formattedAttributes,{contentElement:r,contentElementViewModel:i}=e,s=null==r?void 0:r.type
i&&s&&("fields"===s&&(this._createFieldsFormattedAttributes({contentElement:r,contentElementIndex:t,formattedAttributes:n}),i.set(this._createFieldsVMParams(r,t))),"media"===s&&(this._createMediaFormattedAttributes({contentElement:r,contentElementIndex:t,formattedAttributes:n}),i.set(this._createMediaVMParams(r,t))),"text"===s&&i.set(this._createTextVMParams(r)))}_compileRelationship(e,t){const{displayCount:n,orderByFields:r,relationshipId:i,title:s,description:a}=e,{_sourceLayer:l,graphic:c,map:u}=this,d=new en({displayCount:n,graphic:c,orderByFields:r,relationshipId:i,layer:l,map:u,...this._compileTitleAndDesc({title:s,description:a})})
return this.contentViewModels[t]=d,this._handles.add(Object(o.b)(()=>d.relatedFeatures,"change",()=>this._setRelatedFeaturesViewModels(d)),"relationship-view-models"),e}_compileExpression(e,t){const{expressionInfo:n}=e,{graphic:r,map:i,spatialReference:s,view:a}=this,l=new Zt({expressionInfo:n,graphic:r,interceptor:bn.interceptor,map:i,spatialReference:s,view:a})
return this.contentViewModels[t]=l,this._handles.add(Object(o.f)(()=>l.contentElementViewModel,()=>this._setExpressionContentVM(l,t),o.a),"content-view-models"),e}_compileAttachments(e,t){const{graphic:n}=this,{description:r,title:i}=e
return this.contentViewModels[t]=new Ae({graphic:n,...this._compileTitleAndDesc({title:i,description:r})}),e}_compileCustom(e,t){const{graphic:n}=this,{creator:r,destroyer:i}=e
return this.contentViewModels[t]=new qe({graphic:n,creator:r,destroyer:i}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:n,_sourceLayer:r,graphic:i,formattedAttributes:s}=this,a=null==i?void 0:i.attributes,o=this._expressionAttributes,l=s.global
return{title:Q({attributes:a,fieldInfoMap:n,globalAttributes:l,expressionAttributes:o,layer:r,text:e}),description:Q({attributes:a,fieldInfoMap:n,globalAttributes:l,expressionAttributes:o,layer:r,text:t})}}_createFieldsVMParams(e,t){var n
const r=this._effectivePopupTemplate,i=this.formattedAttributes,s={...null==i?void 0:i.global,...null==i?void 0:i.content[t]},a=null==(n=(null==e?void 0:e.fieldInfos)||(null==r?void 0:r.fieldInfos))?void 0:n.filter(({fieldName:e})=>Z(e)||de(e)||s.hasOwnProperty(e)),o=null==r?void 0:r.expressionInfos,{description:l,title:c}=e
return{attributes:s,expressionInfos:o,fieldInfos:a,...this._compileTitleAndDesc({title:c,description:l})}}_compileFields(e,t){const n=e.clone(),r=new Qe(this._createFieldsVMParams(e,t))
return this.contentViewModels[t]=r,n.fieldInfos=r.formattedFieldInfos.slice(0),n}_createMediaVMParams(e,t){var n
const{abilities:r,graphic:i,_fieldInfoMap:s,_effectivePopupTemplate:a,relatedInfos:o,_sourceLayer:l,_expressionAttributes:c}=this,u=this.formattedAttributes,d=null!=(n=null==i?void 0:i.attributes)?n:{},{description:h,mediaInfos:p,title:f}=e
return{abilities:{chartAnimation:r.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:d,isAggregate:null==i?void 0:i.isAggregate,layer:l,fieldInfoMap:s,formattedAttributes:{...null==u?void 0:u.global,...null==u?void 0:u.content[t]},expressionAttributes:c,mediaInfos:p,popupTemplate:a,relatedInfos:o,...this._compileTitleAndDesc({title:f,description:h})}}_compileMedia(e,t){const n=e.clone(),r=new wt(this._createMediaVMParams(e,t))
return n.mediaInfos=r.formattedMediaInfos.slice(0),this.contentViewModels[t]=r,n}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:n,_sourceLayer:r,_expressionAttributes:i}=this
if(e&&e.text){var s,a,o
const l=null!=(s=null==t?void 0:t.attributes)?s:{},c=null!=(a=null==(o=this.formattedAttributes)?void 0:o.global)?a:{}
e.text=Q({attributes:l,fieldInfoMap:n,globalAttributes:c,expressionAttributes:i,layer:r,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const n=e.clone()
return this.contentViewModels[t]=new qe(this._createTextVMParams(n)),n}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:n}=this
if(!e)return
const{lastEditInfoEnabled:r}=e,i=null==t?void 0:t.editFieldsInfo
return r&&i?function(e,t){const{creatorField:n,creationDateField:r,editorField:i,editDateField:s}=e
if(!t)return
const a=t[s]
if("number"==typeof a){const e=t[i]
return{type:"edit",date:Object(M.b)(a,B),user:e}}const o=t[r]
if("number"==typeof o){const e=t[n]
return{type:"create",date:Object(M.b)(o,B),user:e}}return null}(i,null==n?void 0:n.attributes):void 0}_compileTitle(e){var t,n,r
const{_fieldInfoMap:i,_sourceLayer:s,graphic:a,_expressionAttributes:o}=this
return Q({attributes:null!=(t=null==a?void 0:a.attributes)?t:{},fieldInfoMap:i,globalAttributes:null!=(n=null==(r=this.formattedAttributes)?void 0:r.global)?n:{},expressionAttributes:o,layer:s,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this
return t?H(null==e?void 0:e.title,{graphic:t}):null}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this
return t?H(null==e?void 0:e.content,{graphic:t}):null}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:n,graphic:r,_effectivePopupTemplate:i}=this,s=this.map,a=this.view,o=this.spatialReference
if(t!==this._featureAbortController||!r)return
await async function({graphic:e,popupTemplate:t,layer:n,spatialReference:r},i){if(!n||!t)return
if("function"==typeof n.load&&await n.load(i),!e.attributes)return
const s=e.attributes[n.objectIdField]
if(null==s)return
const a=[s],o=await t.getRequiredFields(n.fieldsIndex),l=Object(k.i)(o,e),c=l?[]:o,u=t.returnGeometry||await async function(e){var t
if(null==(t=e.expressionInfos)||!t.length)return!1
const n=await Object(L.e)(),{arcadeUtils:{hasGeometryFunctions:r}}=n
return r(e)}(t)
if(l&&!u)return
const d=await ue({layer:n,graphic:e,outFields:c,objectIds:a,returnGeometry:u,spatialReference:r},i)
d&&(d.geometry&&(e.geometry=d.geometry),d.attributes&&(e.attributes={...e.attributes,...d.attributes}))}({graphic:r,popupTemplate:i,layer:n,spatialReference:o},e)
const{content:{value:l},title:{value:c}}=await Object(dt.g)({content:this._getContent(),title:this._getTitle()}),{expressionAttributes:{value:u}}=await Object(dt.g)({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:Ht({expressionInfos:null==i?void 0:i.expressionInfos,spatialReference:o,graphic:r,map:s,interceptor:bn.interceptor,view:a})})
t===this._featureAbortController&&r&&(this._expressionAttributes=u,this._graphicExpressionAttributes={...r.attributes,...u},this._set("formattedAttributes",this._createFormattedAttributes(l)),this._set("title",this._compileTitle(c)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(l)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:n}){const{_effectivePopupTemplate:r,graphic:i,relatedInfos:s,_sourceLayer:a,_fieldInfoMap:o,_graphicExpressionAttributes:l}=this
n.content[t]=ce({fieldInfos:null==r?void 0:r.fieldInfos,graphic:i,attributes:{...l,...e.attributes},layer:a,fieldInfoMap:o,relatedInfos:s})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:n}){if(e.fieldInfos){const{graphic:r,relatedInfos:i,_sourceLayer:s,_fieldInfoMap:a,_graphicExpressionAttributes:o}=this
n.content[t]=ce({fieldInfos:e.fieldInfos,graphic:r,attributes:{...o,...e.attributes},layer:s,fieldInfoMap:a,relatedInfos:i})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:n,relatedInfos:r,_sourceLayer:i,_fieldInfoMap:s,_graphicExpressionAttributes:a}=this,o={global:ce({fieldInfos:null==t?void 0:t.fieldInfos,graphic:n,attributes:a,layer:i,fieldInfoMap:s,relatedInfos:r}),content:[]}
return Array.isArray(e)&&e.forEach((e,t)=>{"fields"===e.type&&this._createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:o}),"media"===e.type&&this._createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:o})}),o}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:n}=this
return this._queryRelatedInfos(t,se(n),e)}async _queryRelatedInfos(e,t,n){const{relatedInfos:r,_sourceLayer:i}=this
r.clear()
const s=Object(a.l)(null==i?void 0:i.associatedLayer)?await(null==i?void 0:i.associatedLayer.load(n)):i
if(!s||!e)return
const o=t.filter(e=>e&&de(e.fieldName))
if(!o||!o.length)return
t.forEach(e=>this._configureRelatedInfo(e,s))
const l=await function({relatedInfos:e,layer:t},n){const r={}
return e.forEach((e,n)=>{const{relation:i}=e
if(!i){const e=new w.a("relation-required","A relation is required on a layer to retrieve related records.")
throw yt.error(e),e}const{relatedTableId:s}=i
if("number"!=typeof s){const e=new w.a("A related table ID is required on a layer to retrieve related records.")
throw yt.error(e),e}const a=`${t.url}/${s}`,o=gt.get(a),l=o||function(e,t){return Object(ut.default)(e,{query:{f:"json"},signal:t})}(a)
o||gt.set(a,l),r[n]=l}),Object(dt.v)(Object(dt.g)(r),n)}({relatedInfos:r,layer:s},n)
Object.keys(l).forEach(e=>{var t
const n=r.get(e.toString()),i=null==(t=l[e])?void 0:t.value
n&&i&&(n.layerInfo=i.data)})
const c=await function({graphic:e,relatedInfos:t,layer:n},r){const i={}
return t.forEach((t,s)=>{t.layerInfo&&(i[s]=async function(e,t,n,r){const i=n.layerId.toString(),{layerInfo:s,relation:a,relatedFields:o,outStatistics:l,url:c,sourceSpatialReference:u}=t
if(!s||!a)return null
const d=function({originRelationship:e,relationships:t,layerId:n}){let r=null
return t&&t.some(t=>(""+t.relatedTableId===n&&t.id===(null==e?void 0:e.id)&&(r=t),!!r)),r}({originRelationship:a,relationships:s.relationships,layerId:i})
if(null!=d&&d.relationshipTableId&&d.keyFieldInRelationshipTable){const t=(await function(e,t,n,r){var i
const s=new bt.default
return s.outFields=["*"],s.relationshipId="number"==typeof t.id?t.id:parseInt(t.id,10),s.objectIds=[e.attributes[n.objectIdField]],null!=(i=null==n.queryRelatedFeatures?void 0:n.queryRelatedFeatures(s,r))?i:Promise.resolve({})}(e,d,n,r))[e.attributes[n.objectIdField]]
if(!t)return null
const i=t.features.map(e=>e.attributes[s.objectIdField])
if(null!=l&&l.length&&s.supportsStatistics){const e=new ft.a
e.where=function(e,t,n){let r=0
const i=[]
for(;r<t.length;)i.push(`${e} IN (${t.slice(r,1e3+r)})`),r+=1e3
return i.join(" OR ")}(s.objectIdField,i),e.outFields=o,e.outStatistics=l,e.sourceSpatialReference=u
const n={features:Promise.resolve(t),statsFeatures:Object(ht.a)(c,e)}
return Object(dt.g)(n)}}const h=null==d?void 0:d.keyField
if(h){const n=Object(k.q)(function(e,t){if(null!=e){t=t.toLowerCase()
for(const n of e)if(n&&n.name.toLowerCase()===t)return n}return null}(s.fields,h)),i=function(e,t){const n=t.toLowerCase()
for(const t in e)if(t.toLowerCase()===n)return e[t]
return null}(e.attributes,a.keyField),o=n?`${h}=${i}`:`${h}='${i}'`,l=Object(ht.a)(c,new ft.a({where:o,outFields:t.relatedFields,sourceSpatialReference:u}),r),d=t.outStatistics&&t.outStatistics.length>0&&s.supportsStatistics?Object(ht.a)(c,new ft.a({where:o,outFields:t.relatedFields,outStatistics:t.outStatistics,sourceSpatialReference:u}),r):null,p={features:l}
return d&&(p.statsFeatures=d),Object(dt.g)(p)}return null}(e,t,n,r))}),Object(dt.g)(i)}({graphic:e,relatedInfos:r,layer:s},n)
Object.keys(c).forEach(e=>{var t
!function(e,t){if(!t)return
if(!e)return
const{features:n,statsFeatures:r}=e,i=n&&n.value
t.relatedFeatures=i?i.features:[]
const s=r&&r.value
t.relatedStatsFeatures=s?s.features:[]}(null==(t=c[e])?void 0:t.value,r.get(e.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:n}=this,r=vt(e.fieldName)
if(!r)return
const{layerId:i,fieldName:s}=r
if(!i)return
const a=n.get(i.toString())||function(e,t){const n=function(e,t){if(!t.relationships)return null
let n=null
const{relationships:r}=t
return r.some(t=>t.id===parseInt(e,10)&&(n=t,!0)),n}(e,t)
if(n)return{url:`${t.url}/${n.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:n,relatedFields:[],outStatistics:[]}}(i,t)
a&&(function({relatedInfo:e,fieldName:t,fieldInfo:n}){var r
if(null!=(r=e.relatedFields)&&r.push(t),n.statisticType){var i
const r=new mt.a({statisticType:n.statisticType,onStatisticField:t,outStatisticFieldName:t})
null==(i=e.outStatistics)||i.push(r)}}({relatedInfo:a,fieldName:s,fieldInfo:e}),this.relatedInfos.set(i,a))}}
yn.interceptor=new class{constructor(e,t){this.preLayerQueryCallback=e,this.preRequestCallback=t,this.preLayerQueryCallback||(this.preLayerQueryCallback=e=>{}),this.preRequestCallback||(this.preLayerQueryCallback=e=>{})}}(({query:e,layer:t,method:n})=>{fe({layer:t,method:n,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},({queryPayload:e,layer:t,method:n})=>{fe({layer:t,method:n,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})}),Object(r.a)([Object(c.b)()],yn.prototype,"_error",void 0),Object(r.a)([Object(c.b)()],yn.prototype,"_featureAbortController",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"_effectivePopupTemplate",null),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"_fieldInfoMap",null),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"_sourceLayer",null),Object(r.a)([Object(c.b)()],yn.prototype,"abilities",void 0),Object(r.a)([Object(O.a)("abilities")],yn.prototype,"castAbilities",null),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"content",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"contentViewModels",void 0),Object(r.a)([Object(c.b)()],yn.prototype,"description",void 0),Object(r.a)([Object(c.b)({type:Boolean})],yn.prototype,"defaultPopupTemplateEnabled",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"isTable",null),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"state",null),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"formattedAttributes",void 0),Object(r.a)([Object(c.b)({type:S.default,value:null})],yn.prototype,"graphic",null),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"lastEditInfo",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"relatedInfos",void 0),Object(r.a)([Object(c.b)()],yn.prototype,"spatialReference",null),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"title",void 0),Object(r.a)([Object(c.b)()],yn.prototype,"map",null),Object(r.a)([Object(c.b)({readOnly:!0})],yn.prototype,"waitingForContent",null),Object(r.a)([Object(c.b)()],yn.prototype,"view",void 0),yn=bn=Object(r.a)([Object(u.a)("esri.widgets.FeatureViewModel")],yn)
const gn=yn,vn="esri-feature",On={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:vn,container:vn+"__size-container",title:vn+"__title",main:vn+"__main-container",btn:vn+"__button",icon:vn+"__icon",content:vn+"__content",contentNode:vn+"__content-node",contentElement:vn+"__content-element",text:vn+"__text",lastEditedInfo:vn+"__last-edited-info",fields:vn+"__fields",fieldHeader:vn+"__field-header",fieldData:vn+"__field-data",fieldDataDate:vn+"__field-data--date",loadingSpinnerContainer:vn+"__loading-container",spinner:vn+"__loading-spinner"},jn=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=e=>Object(Be.b)(e)&&!e.destroyed?Object(Se.a)("div",{class:On.contentNode,key:e},e.render()):e instanceof HTMLElement?Object(Se.a)("div",{class:On.contentNode,key:e,bind:e,afterCreate:this._attachToNode}):Object(Be.a)(e)?Object(Se.a)("div",{class:On.contentNode,key:e,bind:e.domNode,afterCreate:this._attachToNode}):null}_attachToNode(e){e.appendChild(this)}}
return t=Object(r.a)([Object(u.a)("esri.widgets.Feature.ContentMixin")],t),t}
var wn
const _n={title:!0,content:!0,lastEditedInfo:!0}
let Sn=wn=class extends(jn(j.a)){constructor(e,t){super(e,t),this._contentWidgets=[],this.flowItems=null,this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.visibleElements={..._n},this.viewModel=new gn}initialize(){this.addHandles(Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.contentViewModels},()=>this._setupContentWidgets(),o.a))}loadDependencies(){return n.e(71).then(n.bind(null,3099))}destroy(){this._destroyContentWidgets()}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get isTable(){return this.viewModel.isTable}get label(){var e,t
return null!=(e=null==(t=this.messages)?void 0:t.widgetLabel)?e:""}set label(e){this._overrideIfSome("label",e)}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(e){this.viewModel.spatialReference=e}get title(){return this.viewModel.title}castVisibleElements(e){return{..._n,...e}}get map(){return this.viewModel.map}set map(e){this.viewModel.map=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{state:e}=this.viewModel,t=Object(Se.a)("div",{class:On.container,key:"container"},this.renderTitle(),"error"===e?this.renderError():"loading"===e?this.renderLoading():this.renderContentContainer())
return Object(Se.a)("div",{class:this.classes(On.base,On.esriWidget)},t)}setActiveMedia(e,t){return this.viewModel.setActiveMedia(e,t)}nextMedia(e){return this.viewModel.nextMedia(e)}previousMedia(e){return this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:n}=this
return Object(Se.a)("calcite-notice",{open:!0,kind:"danger",icon:"exclamation-mark-circle",scale:"s"},n.title?Object(Se.a)("div",{key:"error-title",slot:"title"},e.errorMessage):null,Object(Se.a)("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return Object(Se.a)("div",{key:"loading-container",class:On.loadingSpinnerContainer},Object(Se.a)("span",{class:this.classes(On.iconLoading,On.spinner)}))}renderContentContainer(){const{visibleElements:e}=this
return e.content?Object(Se.a)("div",{class:On.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this
return e.title?Object(Se.a)(Le.a,{level:this.headingLevel,class:On.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t="content"
if(!e)return null
if(Array.isArray(e))return e.length?Object(Se.a)("div",{class:On.contentNode,key:t+"-content-elements"},e.map(this.renderContentElement,this)):null
if("string"==typeof e){const e=this._contentWidgets[0]
return!e||e.destroyed?null:Object(Se.a)("div",{class:On.contentNode,key:t+"-content"},e.render())}return this.renderNodeContent(e)}renderContentElement(e,t){var n
const{visibleElements:r}=this
if("boolean"!=typeof r.content&&(null==(n=r.content)||!n[e.type]))return null
switch(e.type){case"attachments":return this.renderAttachments(t)
case"custom":return this.renderCustom(e,t)
case"fields":return this.renderFields(t)
case"media":return this.renderMedia(t)
case"text":return this.renderText(e,t)
case"expression":return this.renderExpression(t)
case"relationship":return this.renderRelationship(t)
default:return null}}renderAttachments(e){const t=this._contentWidgets[e]
if(!t||t.destroyed)return null
const{state:n,attachmentInfos:r}=t.viewModel
return"loading"===n||r.length>0?Object(Se.a)("div",{key:this._buildKey("attachments-element",e),class:this.classes(On.contentElement)},t.render()):null}renderRelationship(e){const t=this._contentWidgets[e]
return t&&!t.destroyed&&this.flowItems?Object(Se.a)("div",{key:this._buildKey("relationship-element",e),class:On.contentElement},t.render()):null}renderExpression(e){const t=this._contentWidgets[e]
return!t||t.destroyed?null:Object(Se.a)("div",{key:this._buildKey("expression-element",e),class:On.contentElement},t.render())}renderCustom(e,t){const{creator:n}=e,r=this._contentWidgets[t]
return!r||r.destroyed?null:n?Object(Se.a)("div",{key:this._buildKey("custom-element",t),class:On.contentElement},r.render()):null}renderFields(e){const t=this._contentWidgets[e]
return!t||t.destroyed?null:Object(Se.a)("div",{key:this._buildKey("fields-element",e),class:On.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e]
return!t||t.destroyed?null:Object(Se.a)("div",{key:this._buildKey("media-element",e),class:On.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:n}=this.viewModel
if(!n||!e.lastEditedInfo)return null
const{date:r,user:i}=n,s="edit"===n.type?i?t.lastEditedByUser:t.lastEdited:i?t.lastCreatedByUser:t.lastCreated,a=Object(tn.a)(s,{date:r,user:i})
return Object(Se.a)("div",{key:"edit-info-element",class:this.classes(On.lastEditedInfo,On.contentElement)},a)}renderText(e,t){const n=e.text,r=this._contentWidgets[t]
return!r||r.destroyed?null:n?Object(Se.a)("div",{key:this._buildKey("text-element",t),class:this.classes(On.contentElement,On.text)},r.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this.removeHandles("relationship-handles"),this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_addFeatureRelationshipHandles(e){const{flowItems:t,visibleElements:n}=this
this.addHandles([Object(o.b)(()=>e,"select-record",({featureViewModel:e})=>{t&&(e.abilities={relationshipContent:!0},t.push(new wn({flowItems:t,viewModel:e,visibleElements:n})))}),Object(o.b)(()=>e,"show-all-records",()=>{if(!t)return
const{viewModel:n}=e
n.showAllEnabled=!0
const r=new fn({visibleElements:{title:!1,description:!1},viewModel:n})
this._addFeatureRelationshipHandles(r),t.push(r)})],"relationship-handles")}_setupContentWidgets(){this._destroyContentWidgets()
const{headingLevel:e,visibleElements:t}=this,n=this.get("viewModel.content"),{contentViewModels:r}=this.viewModel
if(Array.isArray(n))n.forEach((n,i)=>{if("attachments"===n.type&&(this._contentWidgets[i]=new Ue({displayType:n.displayType,headingLevel:t.title?e+1:e,viewModel:r[i]})),"fields"===n.type&&(this._contentWidgets[i]=new ot({viewModel:r[i]})),"media"===n.type&&(this._contentWidgets[i]=new Rt({viewModel:r[i]})),"text"===n.type&&(this._contentWidgets[i]=new Ke({viewModel:r[i]})),"custom"===n.type&&(this._contentWidgets[i]=new Ke({viewModel:r[i]})),"expression"===n.type&&(this._contentWidgets[i]=new Jt({viewModel:r[i]})),"relationship"===n.type){const e=new fn({viewModel:r[i]})
this._addFeatureRelationshipHandles(e),this._contentWidgets[i]=e}},this)
else{const e=r[0]
e&&!e.destroyed&&(this._contentWidgets[0]=new Ke({viewModel:e}))}this.scheduleRender()}}
Object(r.a)([Object(c.b)()],Sn.prototype,"graphic",null),Object(r.a)([Object(c.b)()],Sn.prototype,"defaultPopupTemplateEnabled",null),Object(r.a)([Object(c.b)()],Sn.prototype,"flowItems",void 0),Object(r.a)([Object(c.b)()],Sn.prototype,"headingLevel",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],Sn.prototype,"isTable",null),Object(r.a)([Object(c.b)()],Sn.prototype,"label",null),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/widgets/Feature/t9n/Feature")],Sn.prototype,"messages",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/t9n/common")],Sn.prototype,"messagesCommon",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/widgets/support/t9n/uriUtils")],Sn.prototype,"messagesURIUtils",void 0),Object(r.a)([Object(c.b)()],Sn.prototype,"spatialReference",null),Object(r.a)([Object(c.b)({readOnly:!0})],Sn.prototype,"title",null),Object(r.a)([Object(c.b)()],Sn.prototype,"visibleElements",void 0),Object(r.a)([Object(O.a)("visibleElements")],Sn.prototype,"castVisibleElements",null),Object(r.a)([Object(c.b)()],Sn.prototype,"map",null),Object(r.a)([Object(c.b)()],Sn.prototype,"view",null),Object(r.a)([Object(c.b)({type:gn})],Sn.prototype,"viewModel",void 0),Sn=wn=Object(r.a)([Object(u.a)("esri.widgets.Feature")],Sn)
const xn=Sn
var Tn,In=n(1002)
const Mn=Symbol("anchorHandles")
let En=class extends In.a.EventedAccessor{constructor(e){super(e),this[Tn]=new g.a,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[Mn].add([Object(o.g)(()=>Object(a.b)(this.screenLocationEnabled?this.view:null,e=>[e.size,"3d"===e.type?e.camera:e.viewpoint]),()=>this.notifyChange("screenLocation")),Object(o.f)(()=>this.screenLocation,(e,t)=>{Object(a.l)(e)&&Object(a.l)(t)&&this.emit("view-change")})])}destroy(){this.view=null,this[Mn]=Object(a.e)(this[Mn])}get screenLocation(){const{location:e,view:t,screenLocationEnabled:n}=this
return n&&Object(a.l)(e)&&Object(a.l)(t)&&t.ready?null==t.toScreen?void 0:t.toScreen(e):null}}
Tn=Mn,Object(r.a)([Object(c.b)()],En.prototype,"location",void 0),Object(r.a)([Object(c.b)()],En.prototype,"screenLocation",null),Object(r.a)([Object(c.b)()],En.prototype,"screenLocationEnabled",void 0),Object(r.a)([Object(c.b)()],En.prototype,"view",void 0),En=Object(r.a)([Object(u.a)("esri.widgets.support.AnchorElementViewModel")],En)
const kn=En
let Cn=class extends kn{constructor(e){super(e),this.visible=!1}}
Object(r.a)([Object(c.b)()],Cn.prototype,"visible",void 0),Cn=Object(r.a)([Object(u.a)("esri.widgets.CompassViewModel")],Cn)
const An=Cn
let Ln=class extends j.a{constructor(e,t){super(e,t),this._animationDelay=500,this._animationPromise=null,this.viewModel=new An}initialize(){this.addHandles(Object(o.f)(()=>this.visible,e=>this._visibleChange(e)))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(e){this.viewModel.location=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}show(e){const{location:t,promise:n}=null!=e?e:{}
t&&(this.viewModel.location=t),this.visible=!0,n&&n.catch(()=>{}).then(()=>this.hide())}hide(){this.visible=!1}render(){const{visible:e}=this,{screenLocation:t}=this.viewModel,n=!!t,r={"esri-spinner--start":e&&n,"esri-spinner--finish":!e&&n},i=this._getPositionStyles()
return Object(Se.a)("div",{class:this.classes("esri-spinner",r),styles:i})}_visibleChange(e){if(e)return void(this.viewModel.screenLocationEnabled=!0)
const t=Object(dt.a)(this._animationDelay)
this._animationPromise=t,t.catch(()=>{}).then(()=>{this._animationPromise===t&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:e,view:t}=this.viewModel
if(Object(a.k)(t)||Object(a.k)(e))return{}
const{padding:n}=t
return{left:e.x-n.left+"px",top:e.y-n.top+"px"}}}
Object(r.a)([Object(c.b)()],Ln.prototype,"location",null),Object(r.a)([Object(c.b)()],Ln.prototype,"view",null),Object(r.a)([Object(c.b)({type:An})],Ln.prototype,"viewModel",void 0),Object(r.a)([Object(c.b)()],Ln.prototype,"visible",null),Ln=Object(r.a)([Object(u.a)("esri.widgets.Spinner")],Ln)
const Rn=Ln
var Pn=n(1590)
const Fn=s.a.getLogger("esri.widgets.Popup.PopupViewModel")
function Nn(e){var t
const{selectedFeature:n,location:r,view:i}=e
return i?"3d"===i.type?null!=(t=null!=n?n:r)?t:null:e.get("selectedFeature.geometry")||r:null}function Dn(e){var t,n
return!!e&&e.isAggregate&&"cluster"===(null==(t=e.sourceLayer)||null==(n=t.featureReduction)?void 0:n.type)}async function Vn(e,t){const n=await e.whenLayerView(t.sourceLayer),r=n.createQuery(),i=t.getObjectId()
return r.aggregateIds=null!=i?[i]:[],[n,r]}function Un(e){var t
if(Object(a.k)(e))return null
switch(e.type){case"point":return e
case"extent":return e.center
case"polygon":return e.centroid
case"multipoint":case"polyline":return null==(t=e.extent)?void 0:t.center
default:return null}}const Gn="esri-popup",zn=Gn+"__header",qn=Gn+"--is-docked",Bn={calciteThemeLight:"calcite-mode-light",calciteThemeDark:"calcite-mode-dark",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:Gn,widget:"esri-widget",main:Gn+"__main-container",loadingContainer:Gn+"__loading-container",isCollapsible:Gn+"--is-collapsible",isCollapsed:Gn+"--is-collapsed",shadow:Gn+"--shadow",isDocked:qn,isDockedTopLeft:qn+"-top-left",isDockedTopCenter:qn+"-top-center",isDockedTopRight:qn+"-top-right",isDockedBottomLeft:qn+"-bottom-left",isDockedBottomCenter:qn+"-bottom-center",isDockedBottomRight:qn+"-bottom-right",alignTopCenter:Gn+"--aligned-top-center",alignBottomCenter:Gn+"--aligned-bottom-center",alignTopLeft:Gn+"--aligned-top-left",alignBottomLeft:Gn+"--aligned-bottom-left",alignTopRight:Gn+"--aligned-top-right",alignBottomRight:Gn+"--aligned-bottom-right",isFeatureMenuOpen:Gn+"--feature-menu-open",isActionsMenuOpen:Gn+"--actions-menu-open",hasFeatureUpdated:Gn+"--feature-updated",header:zn,headerButtons:zn+"-buttons",headerContainer:zn+"-container",headerContainerButton:zn+"-container--button",headerTitle:zn+"-title",content:Gn+"__content",contentHasFlows:"esri-content--has-flows",contentFlowItem:"esri-content__flow-item",footer:Gn+"__footer",footerHasPagination:Gn+"__footer--has-pagination",footerHasActions:Gn+"__footer--has-actions",footerHasActionsMenu:Gn+"__footer--has-actions-menu",button:Gn+"__button",buttonDisabled:Gn+"__button--disabled",buttonDock:Gn+"__button--dock",icon:Gn+"__icon",iconDock:Gn+"__icon--dock-icon",inlineActionsContainer:Gn+"__inline-actions-container",actionsMenuButton:Gn+"__actions-menu-button",actions:Gn+"__actions",action:Gn+"__action",actionImage:Gn+"__action-image",actionText:Gn+"__action-text",actionToggle:Gn+"__action-toggle",actionToggleOn:Gn+"__action-toggle--on",actionExit:Gn+"__action--exit",actionSelectFeature:Gn+"__action--select-feature",pointer:Gn+"__pointer",pointerDirection:Gn+"__pointer-direction",navigation:Gn+"__navigation",paginationPrevious:Gn+"__pagination-previous",paginationNext:Gn+"__pagination-next",paginationPreviousIconLTR:Gn+"__pagination-previous-icon",paginationPreviousIconRTL:Gn+"__pagination-previous-icon--rtl",paginationNextIconLTR:Gn+"__pagination-next-icon",paginationNextIconRTL:Gn+"__pagination-next-icon--rtl",featureMenu:Gn+"__feature-menu",featureMenuList:Gn+"__feature-menu-list",featureMenuItem:Gn+"__feature-menu-item",featureMenuViewport:Gn+"__feature-menu-viewport",featureMenuHeader:Gn+"__feature-menu-header",featureMenuNote:Gn+"__feature-menu-note",featureMenuSelected:Gn+"__feature-menu-item--selected",featureMenuButton:Gn+"__feature-menu-button",featureMenuTitle:Gn+"__feature-menu-title",featureMenuObserver:Gn+"__feature-menu-observer",featureMenuLoader:Gn+"__feature-menu-loader",collapseButton:Gn+"__collapse-button",collapseIcon:Gn+"__collapse-icon"}
n(995)
var $n=n(774),Hn=n(777),Wn=n(1654),Zn=n(1921),Kn=n(1715),Jn=n(1985),Yn=n(1449),Xn=n(1334),Qn=n(1417),er=n(1521),tr=n(1073)
const nr=h.a.ofType({key:"type",defaultKeyValue:"button",base:Zn.a,typeMap:{button:Kn.a,toggle:Jn.a}})
let rr=class extends(Object(er.a)(kn)){get isLoadingFeature(){return this.featureViewModels.some(e=>e.waitingForContent)}constructor(e){super(e),this._handles=new g.a,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._highlightSelectedFeaturePromise=null,this._highlightActiveFeaturePromise=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new nr,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new S.default({symbol:new tr.a({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}initialize(){this._handles.add([Object(o.f)(()=>[this.autoOpenEnabled,this.view],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),Object(o.f)(()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view],()=>this._highlightSelectedFeature()),Object(o.f)(()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view],()=>this._highlightActiveFeature()),Object(o.f)(()=>{var e,t
return null==(e=this.view)||null==(t=e.animation)?void 0:t.state},e=>this._animationStateChange(e)),Object(o.f)(()=>this.location,e=>this._locationChange(e)),Object(o.f)(()=>this.selectedFeature,e=>this._selectedFeatureChange(e)),Object(o.f)(()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage],()=>this._selectedFeatureIndexChange()),Object(o.f)(()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels],()=>this._setGraphicOnFeatureViewModels()),Object(o.f)(()=>this.featureViewModels,()=>this._featureViewModelsChange()),this.on("trigger-action",e=>(e=>{const{event:t,view:n}=e,{action:r}=t,i=n&&n.popup
if(!r)return Promise.reject(new w.a("trigger-action:missing-arguments","Event has no action"))
if(!i)return Promise.reject(new w.a("trigger-action:missing-arguments","view.popup is missing"))
const{disabled:s,id:o}=r
if(!o)return Promise.reject(new w.a("trigger-action:invalid-action","action.id is missing"))
if(s)return Promise.reject(new w.a("trigger-action:invalid-action","Action is disabled"))
if(o===Pn.d.id)return async function(e){var t
const{location:n,selectedFeature:r,view:i,zoomFactor:s}=e,o=Nn(e)
if(!i||!o){const e=new w.a("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:o,view:i})
throw Fn.error(e),e}const l=i.scale/s,c=null==(t=e.selectedFeature)?void 0:t.geometry,u=null!=c?c:n,d=Object(a.l)(u)&&"point"===u.type&&await async function(e,t){if("3d"!==(null==t?void 0:t.type)||!e||"esri.Graphic"!==e.declaredClass)return!0
const n=t.getViewForGraphic(e)
if(n&&"whenGraphicBounds"in n){let t
try{t=await n.whenGraphicBounds(e,{useViewElevation:!0})}catch(e){}return!t||!t.boundingBox||t.boundingBox[0]===t.boundingBox[3]&&t.boundingBox[1]===t.boundingBox[4]&&t.boundingBox[2]===t.boundingBox[5]}return!0}(r,i)
Pn.d.active=!0,Pn.d.disabled=!0
try{await e.zoomTo({target:{target:o,scale:d?l:void 0}})}catch(e){const t=new w.a("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:r})
Fn.error(t)}finally{Pn.d.active=!1,Pn.d.disabled=!1,e.zoomToLocation=null,d&&(e.location=u)}}(i.viewModel).catch(dt.r)
if(o===Pn.c.id)return async function(e){const{selectedFeature:t,view:n}=e
if("2d"!==(null==n?void 0:n.type)){const e=new w.a("zoomToCluster:invalid-view","View must be 2d MapView.",{view:n})
throw Fn.error(e),e}if(!t||!Dn(t)){const e=new w.a("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t})
throw Fn.error(e),e}const[r,i]=await Vn(n,t)
Pn.c.active=!0,Pn.c.disabled=!0
const{extent:s}=await r.queryExtent(i)
await e.zoomTo({target:s}),Pn.c.active=!1,Pn.c.disabled=!1}(i.viewModel)
if(o===Pn.a.id)return i.featureMenuOpen=!i.featureMenuOpen,i.viewModel.browseClusterEnabled=!i.viewModel.browseClusterEnabled,Promise.resolve()
if(i.viewModel.browseClusterEnabled=!1,o===Pn.b.id){i.close()
const{selectedFeature:e}=i
if(!e)return Promise.reject(new w.a("trigger-action:"+Pn.b.id,"selectedFeature is required",{selectedFeature:e}))
const{sourceLayer:t}=e
return t?t.remove(e):n.graphics.remove(e),Promise.resolve()}return Promise.resolve()})({event:e,view:this.view})),Object(o.g)(()=>!this.waitingForResult,()=>this._waitingForResultChange(),o.d),Object(o.f)(()=>{var e,t
return[this.features,null==(e=this.view)?void 0:e.map,null==(t=this.view)?void 0:t.spatialReference]},()=>this._updateFeatureVMs()),Object(o.f)(()=>{var e
return null==(e=this.view)?void 0:e.scale},()=>this._viewScaleChange()),Object(o.g)(()=>!this.visible,()=>this.browseClusterEnabled=!1),Object(o.f)(()=>this.browseClusterEnabled,e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get("allActions")||new nr
e.removeAll()
const{actions:t,defaultActions:n,defaultPopupTemplateEnabled:r,includeDefaultActions:i,selectedFeature:s}=this,a=i?n.concat(t):t,o=s&&("function"==typeof s.getEffectivePopupTemplate&&s.getEffectivePopupTemplate(r)||s.popupTemplate),l=o&&o.actions,c=o&&o.overwriteActions?l:l?l.concat(a):a
return c&&c.filter(Boolean).forEach(t=>e.add(t)),e}get defaultActions(){const e=this._get("defaultActions")||new nr
return e.removeAll(),e.addMany(Dn(this.selectedFeature)?[Pn.c.clone(),Pn.a.clone()]:[Pn.d.clone()]),e}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(e){const t=e||[]
this._set("features",t)
const{pendingPromisesCount:n,promiseCount:r,selectedFeatureIndex:i}=this,s=r&&t.length
s&&n&&-1===i?this.selectedFeatureIndex=0:s&&-1!==i||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get("location")||null}set location(e){var t,n,r
let i=e
const s=null==(t=this.view)||null==(n=t.spatialReference)?void 0:n.isWebMercator
e&&null!=e&&null!=(r=e.spatialReference)&&r.isWGS84&&s&&(i=Object($n.geographicToWebMercator)(e)),this._set("location",i)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount")
this._set("promises",e),(e=e.slice(0)).forEach(e=>{this._pendingPromises.add(e),e.then(t=>{this._pendingPromises.has(e)&&this._updateFeatures(t),this._updatePendingPromises(e)},()=>this._updatePendingPromises(e))}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this
return-1===t?null:e[t]||null}get selectedFeatureIndex(){const e=this._get("selectedFeatureIndex")
return"number"==typeof e?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this
e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this.activeFeature=null,this._set("selectedFeatureIndex",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:e}=this,t=Nn(this)
return t&&e?this.callGoTo({target:{target:t,scale:e.scale}}):Promise.reject(new w.a("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e}))}zoomTo(e){return this.callGoTo(e)}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(e,t){const{view:n}=this
if(!n||!e)throw new w.a("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:n})
return n.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:n}=t
delete t.fetchFeatures,n&&this._setFetchFeaturesPromises(t.location)
const r=["actionsMenuOpen","collapsed","featureMenuOpen"]
for(const e of r)delete t[e]
this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e)
t&&!t.disabled&&this.emit("trigger-action",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){(function(e){const t=e.features.filter(e=>Dn(e))
t.length&&(e.features=t)})(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:e,selectedFeature:t}=this
"2d"===(null==e?void 0:e.type)?Dn(t)?(await async function(e){const{view:t,selectedFeature:n}=e
if(!t||!n)return
const[r,i]=await Vn(t,n),{extent:s}=await r.queryExtent(i)
e.selectedClusterBoundaryFeature.geometry=s,t.graphics.add(e.selectedClusterBoundaryFeature)}(this),await async function(e){var t
const{selectedFeature:n,view:r}=e
if(!r||!n)return
const[i,s]=await Vn(r,n)
Pn.a.active=!0,Pn.a.disabled=!0
const{features:a}=await i.queryFeatures(s)
Pn.a.active=!1,Pn.a.disabled=!1,null==(t=r.popup)||t.open({features:[n].concat(a),featureMenuOpen:!0})}(this)):s.a.getLogger(this.declaredClass).warn("enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.",t):s.a.getLogger(this.declaredClass).warn("enableClusterBrowsing:invalid-view: View must be 2d MapView.",t)}_animationStateChange(e){this.zoomToLocation||(Pn.d.disabled="waiting-for-target"===e)}_clearBrowsedClusterGraphics(){var e
const t=null==(e=this.view)?void 0:e.graphics
t&&(t.remove(this.selectedClusterBoundaryFeature),this._selectedClusterFeature&&t.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(Dn(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear()
this.browseClusterEnabled&&(this.features=this.selectedFeature?[this.selectedFeature]:[])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:n}=this
n&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:n,featuresPerPage:r,featureViewModels:i}=this
if(null===n)return
const s=((n-1)*r+t)%t,a=s+r
i.slice(s,a).forEach((t,n)=>{t&&!t.graphic&&(t.graphic=e[s+n])})}async _selectedFeatureChange(e){const{location:t,updateLocationEnabled:n,view:r}=this
if(e&&r){if(this.browseClusterEnabled){if(this._selectedClusterFeature&&(r.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),Dn(e))return
return e.symbol=await Object(Yn.b)(e),this._selectedClusterFeature=e,void r.graphics.add(this._selectedClusterFeature)}!n&&t||!e.geometry?n&&!e.geometry&&this.centerAtLocation().then(()=>{var e
const t=null==(e=r.center)?void 0:e.clone()
t&&(this.location=t)}):this.location=Object(a.u)(Un(e.geometry))}}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then(e=>{const{clientOnlyGraphics:t,promisesPerLayerView:n}=e,r=Promise.resolve(t),i=n.map(e=>e.promise)
this.promises=[r,...i]})}_destroyFeatureVMs(){this.featureViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:n}=this
if(Dn(e)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return
const r=n.slice(0),i=[]
t.forEach((t,n)=>{if(!t)return
let s=null
if(r.some((e,n)=>(e&&e.graphic===t&&(s=e,r.splice(n,1)),!!s)),s)i[n]=s
else{var a,o
const r=new gn({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:null==(a=this.view)?void 0:a.spatialReference,graphic:t===e?t:null,map:null==(o=this.view)?void 0:o.map,view:this.view})
i[n]=r}}),r.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("featureViewModels",i)}_getScreenPoint(e){const{view:t}=this
return t&&e&&"function"==typeof t.toScreen?t.toScreen(e):null}_autoOpenEnabledChange(){const e="auto-fetch-features",{_handles:t,autoOpenEnabled:n}=this
if(t.remove(e),n&&this.view){const n=this.view.on("click",e=>{"mouse"===e.pointerType&&0!==e.button||this._fetchFeaturesAndOpen(e)},Xn.b.WIDGET)
t.add(n,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController
e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures()
const n=new AbortController,{signal:r}=n
this._fetchFeaturesController=n,this.notifyChange("waitingForResult")
const i=this.fetchFeatures(e,{signal:r,event:t})
return i.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),i}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:n}=e,{view:r}=this
this._fetchFeaturesWithController(t,e).then(e=>{var t
const{clientOnlyGraphics:i,promisesPerLayerView:s,location:a}=e,o=[Promise.resolve(i),...s.map(e=>e.promise)]
return null!=r&&null!=(t=r.popup)&&t.open({location:a||n,promises:o}),e})}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}_getHighlightLayer(e){const{layer:t,sourceLayer:n}=e
return n&&"layer"in n&&n.layer?n.layer:"map-notes"===(null==n?void 0:n.type)||"subtype-group"===(null==n?void 0:n.type)?n:t}_getHighlightTarget(e,t){const n="imagery"===t.type?void 0:"objectIdField"in t?t.objectIdField||Wn.a:null,r=e.attributes
return r&&n&&r[n]||e}async _highlightActiveFeature(){const e="highlight-active-feature"
this._handles.remove(e)
const{highlightEnabled:t,view:n,activeFeature:r,visible:i}=this
if(!(r&&n&&t&&i))return
const s=this._getHighlightLayer(r)
if(!(s&&s instanceof Hn.default))return
const a=this._getLayerView(n,s)
this._highlightActiveFeaturePromise=a
const o=await a
if(!(o&&Object(Qn.b)(o)&&this._highlightActiveFeaturePromise===a&&this.activeFeature&&this.highlightEnabled))return
const l=o.highlight(this._getHighlightTarget(r,s))
this._handles.add(l,e)}async _highlightSelectedFeature(){const e="highlight-selected-feature"
this._handles.remove(e)
const{selectedFeature:t,highlightEnabled:n,view:r,visible:i}=this
if(!(t&&r&&n&&i))return
const s=this._getHighlightLayer(t)
if(!(s&&s instanceof Hn.default))return
const a=this._getLayerView(r,s)
this._highlightSelectedFeaturePromise=a
const o=await a
if(!(o&&Object(Qn.b)(o)&&this._highlightSelectedFeaturePromise===a&&this.selectedFeature&&this.highlightEnabled&&this.visible))return
const l=o.highlight(this._getHighlightTarget(t,s))
this._handles.add(l,e)}_updateFeatures(e){const{features:t}=this
if(!e||!e.length)return
if(!t.length)return void(this.features=e)
const n=e.filter(e=>!t.includes(e))
this.features=t.concat(n)}}
Object(r.a)([Object(c.b)()],rr.prototype,"featurePage",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"isLoadingFeature",null),Object(r.a)([Object(c.b)({type:nr})],rr.prototype,"actions",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"active",null),Object(r.a)([Object(c.b)()],rr.prototype,"activeFeature",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"allActions",null),Object(r.a)([Object(c.b)({type:Boolean})],rr.prototype,"defaultPopupTemplateEnabled",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"autoCloseEnabled",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"autoOpenEnabled",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"browseClusterEnabled",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"content",void 0),Object(r.a)([Object(c.b)({type:nr,readOnly:!0})],rr.prototype,"defaultActions",null),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"featureCount",null),Object(r.a)([Object(c.b)()],rr.prototype,"features",null),Object(r.a)([Object(c.b)()],rr.prototype,"featuresPerPage",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"featureViewModelAbilities",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"featureViewModels",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"highlightEnabled",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"includeDefaultActions",void 0),Object(r.a)([Object(c.b)({type:pt.a})],rr.prototype,"location",null),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"pendingPromisesCount",null),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"selectedClusterBoundaryFeature",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"waitingForResult",null),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"promiseCount",null),Object(r.a)([Object(c.b)()],rr.prototype,"promises",null),Object(r.a)([Object(c.b)({value:null,readOnly:!0})],rr.prototype,"selectedFeature",null),Object(r.a)([Object(c.b)({value:-1})],rr.prototype,"selectedFeatureIndex",null),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"selectedFeatureViewModel",null),Object(r.a)([Object(c.b)({readOnly:!0})],rr.prototype,"state",null),Object(r.a)([Object(c.b)()],rr.prototype,"title",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"updateLocationEnabled",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"view",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"visible",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"zoomFactor",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"zoomToLocation",void 0),Object(r.a)([Object(c.b)()],rr.prototype,"centerAtLocation",null),rr=Object(r.a)([Object(u.a)("esri.widgets.Popup.PopupViewModel")],rr)
const ir=rr
var sr=n(1205),ar=n(1395)
const or={buttonEnabled:!0,position:"auto",breakpoint:{width:544}}
function lr(e,t){return void 0===t?"esri-popup__"+e:`esri-popup__${e}-${t}`}const cr={closeButton:!0,featureNavigation:!0}
let ur=class extends(jn(j.a)){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new g.a,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverNode=null,this._featureMenuViewportNode=null,this._rootFlowItemNode=null,this._featureMenuIntersectionObserverCallback=([e])=>{(null==e?void 0:e.isIntersecting)&&null!=this.viewModel.featurePage&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=Object(v.a)(()=>this._displaySpinner(),0),this._exitRelatedRecordsActions=new WeakMap,this._featureSelectionActions=new WeakMap,this._flowItems=new h.a,this.alignment="auto",this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureMenuOpen=!1,this.headingLevel=2,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.spinnerEnabled=!0,this.viewModel=new ir,this.visibleElements={...cr},this._handleOpenRelatedFeature=e=>{this._openRelatedFeature(e)},this._addSelectedFeatureIndexHandle(),this.addHandles([Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.screenLocation},()=>this._positionContainer()),Object(o.f)(()=>{var e
return[null==(e=this.viewModel)?void 0:e.active,this.dockEnabled]},()=>this._toggleScreenLocationEnabled()),Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.screenLocation},(e,t)=>{!!e!=!!t&&this.reposition()}),Object(o.f)(()=>{var e,t,n,r,i,s
return[null==(e=this.viewModel)||null==(t=e.view)?void 0:t.padding,null==(n=this.viewModel)||null==(r=n.view)?void 0:r.size,null==(i=this.viewModel)?void 0:i.active,null==(s=this.viewModel)?void 0:s.location,this.alignment]},()=>this.reposition()),Object(o.f)(()=>this.spinnerEnabled,e=>this._spinnerEnabledChange(e)),Object(o.f)(()=>{var e,t
return null==(e=this.viewModel)||null==(t=e.view)?void 0:t.size},(e,t)=>this._updateDockEnabledForViewSize(e,t)),Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.view},(e,t)=>this._viewChange(e,t)),Object(o.f)(()=>{var e,t
return null==(e=this.viewModel)||null==(t=e.view)?void 0:t.ready},(e,t)=>this._viewReadyChange(null!=e&&e,null!=t&&t)),Object(o.f)(()=>{var e,t
return[null==(e=this.viewModel)?void 0:e.waitingForResult,null==(t=this.viewModel)?void 0:t.location]},()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),Object(o.f)(()=>this.selectedFeatureWidget,()=>this._destroyFlowItemWidgets()),Object(o.f)(()=>{var e,t,n,r
return[null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.title,null==(n=this.selectedFeatureWidget)||null==(r=n.viewModel)?void 0:r.state]},()=>this._setTitleFromFeatureWidget()),Object(o.f)(()=>{var e,t,n,r
return[null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.content,null==(n=this.selectedFeatureWidget)||null==(r=n.viewModel)?void 0:r.state]},()=>this._setContentFromFeatureWidget()),Object(o.g)(()=>!this.collapsed,()=>{var e,t
"xsmall"===(null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint)&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),Object(o.b)(()=>{var e
return null==(e=this.viewModel)?void 0:e.allActions},"change",()=>this._watchActions()),Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.allActions},()=>this._watchActions(),o.a),Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.featureViewModels},()=>this._featureMenuViewportScrollTop()),Object(o.b)(()=>this._flowItems,"change",()=>{this.notifyChange("_activeFlowItemWidget"),this.scheduleRender()}),Object(o.f)(()=>{var e,t,n,r
return[null==(e=this._activeFlowItemWidget)||null==(t=e.viewModel)?void 0:t.state,null==(n=this._activeFlowItemWidget)||null==(r=n.viewModel)?void 0:r.title]},()=>this.scheduleRender())])}loadDependencies(){return Promise.all([n.e(463).then(n.bind(null,2933)),Promise.all([n.e(32),n.e(42),n.e(75),n.e(379)]).then(n.bind(null,3104)),Promise.all([n.e(32),n.e(90)]).then(n.bind(null,2934)),Promise.all([n.e(42),n.e(464)]).then(n.bind(null,2935)),n.e(41).then(n.bind(null,2936))])}destroy(){var e,t
this._destroyFlowItemWidgets(),this._destroySelectedFeatureWidget(),this._destroySpinner(),null!=(e=this._handles)&&e.destroy(),this._unobserveFeatureMenuObserver(),null==(t=this._featureMenuIntersectionObserver)||t.disconnect()}get actionsMenuId(){return this.id+"-actions-menu"}get actionsMenuButtonId(){return this.id+"-actions-menu-button"}get featureMenuId(){return this.id+"-feature-menu"}get titleId(){return this.id+"-popup-title"}get contentId(){return this.id+"-popup-content"}get hasContent(){const{selectedFeatureWidget:e,viewModel:t}=this
if(!e)return!(null==t||!t.content)
const n=e.viewModel
if(null!=n&&n.waitingForContent||"error"===(null==n?void 0:n.state))return!0
const r=null==n?void 0:n.content
return Array.isArray(r)?!!r.length:!!r}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&null!=this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}get _activeFlowItemWidget(){const{_flowItems:e}=this
return e.getItemAt(e.length-1)||null}get actions(){return this.viewModel.actions}set actions(e){this.viewModel.actions=e}set actionsMenuOpen(e){this._set("actionsMenuOpen",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get autoCloseEnabled(){return this.viewModel.autoCloseEnabled}set autoCloseEnabled(e){this.viewModel.autoCloseEnabled=e}get autoOpenEnabled(){return this.viewModel.autoOpenEnabled}set autoOpenEnabled(e){this.viewModel.autoOpenEnabled=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get content(){return this.viewModel.content}set content(e){this.viewModel.content=e}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||or}set dockOptions(e){var t,n
const r={...or},i=null==(t=this.viewModel)||null==(n=t.view)?void 0:n.breakpoints,s={}
i&&(s.width=i.xsmall,s.height=i.xsmall)
const a={...r,...e},o={...r.breakpoint,...s},{breakpoint:l}=a
"object"==typeof l?a.breakpoint={...o,...l}:l&&(a.breakpoint=o),this._set("dockOptions",a),this._setCurrentDockPosition(),this.reposition()}get featureCount(){return this.viewModel.featureCount}get features(){return this.viewModel.features}set features(e){this.viewModel.features=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(e){this.viewModel.highlightEnabled=e}get location(){return this.viewModel.location}set location(e){this.viewModel.location=e}get label(){var e,t
return null!=(e=null==(t=this.messages)?void 0:t.widgetLabel)?e:""}set label(e){this._overrideIfSome("label",e)}get promises(){return this.viewModel.promises}set promises(e){this.viewModel.promises=e}get selectedFeature(){return this.viewModel.selectedFeature}get selectedFeatureIndex(){return this.viewModel.selectedFeatureIndex}set selectedFeatureIndex(e){this.viewModel.selectedFeatureIndex=e}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:n,_flowItems:r}=this,{selectedFeatureViewModel:i}=this.viewModel,s={...t,title:!1}
return i?(e?(e.viewModel=i,e.visibleElements=s):this._feature=new xn({flowItems:r,headingLevel:n+1,viewModel:i,visibleElements:s}),this._feature):null}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}get updateLocationEnabled(){return this.viewModel.updateLocationEnabled}set updateLocationEnabled(e){this.viewModel.updateLocationEnabled=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}castVisibleElements(e){return{...cr,...e}}blur(){const{active:e}=this.viewModel
e||s.a.getLogger(this.declaredClass).warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){return this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel
e||s.a.getLogger(this.declaredClass).warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var t,n
this._handles.remove("selected-index")
const r=!!e&&!!e.featureMenuOpen,i=!!e&&!!e.actionsMenuOpen,s={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:i,featureMenuOpen:r}
"xsmall"===(null==(t=this.viewModel)||null==(n=t.view)?void 0:n.widthBreakpoint)&&(s.collapsed=!0),this.set(s),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){return this.viewModel.triggerAction(e)}render(){var e,t,n,r
const{actionsMenuOpen:i,dockEnabled:s,featureMenuVisible:a,dividedActions:o,currentAlignment:l,currentDockPosition:c}=this,{active:u}=this.viewModel,{menuActions:d}=o,h=u&&d.length>1&&i,p=u&&s,f=u&&!s,b=null==(e=this.selectedFeature)||null==(t=e.layer)?void 0:t.title,m=null==(n=this.selectedFeature)||null==(r=n.layer)?void 0:r.id,y={[Bn.alignTopCenter]:"top-center"===l,[Bn.alignBottomCenter]:"bottom-center"===l,[Bn.alignTopLeft]:"top-left"===l,[Bn.alignBottomLeft]:"bottom-left"===l,[Bn.alignTopRight]:"top-right"===l,[Bn.alignBottomRight]:"bottom-right"===l,[Bn.isDocked]:p,[Bn.shadow]:f,[Bn.isDockedTopLeft]:"top-left"===c,[Bn.isDockedTopCenter]:"top-center"===c,[Bn.isDockedTopRight]:"top-right"===c,[Bn.isDockedBottomLeft]:"bottom-left"===c,[Bn.isDockedBottomCenter]:"bottom-center"===c,[Bn.isDockedBottomRight]:"bottom-right"===c,[Bn.isFeatureMenuOpen]:a,[Bn.isActionsMenuOpen]:h}
return Object(Se.a)("div",{class:this.classes(Bn.base,y),role:"presentation","data-layer-title":b,"data-layer-id":m,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},u?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return Object(Se.a)("span",{"aria-hidden":"true",class:this.classes(Bn.icon,Bn.iconLoading,Bn.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this
return this.viewModel.pendingPromisesCount?Object(Se.a)("div",{key:lr("loading-container"),role:"presentation",class:Bn.loadingContainer,"aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=Object(we.e)(this.container),t={[Bn.iconRightTriangleArrow]:e,[Bn.paginationPreviousIconRTL]:e,[Bn.iconLeftTriangleArrow]:!e,[Bn.paginationPreviousIconLTR]:!e}
return Object(Se.a)("span",{"aria-hidden":"true",class:this.classes(Bn.icon,t)})}renderPreviousButton(){const{messages:e}=this
return Object(Se.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Bn.button,Bn.paginationPrevious),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=Object(we.e)(this.container),t={[Bn.iconLeftTriangleArrow]:e,[Bn.paginationNextIconRTL]:e,[Bn.iconRightTriangleArrow]:!e,[Bn.paginationNextIconLTR]:!e}
return Object(Se.a)("span",{"aria-hidden":"true",class:this.classes(Bn.icon,t)})}renderNextButton(){const{messages:e}=this
return Object(Se.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Bn.button,Bn.paginationNext),"aria-label":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:n}=this,{featureCount:r,selectedFeatureIndex:i}=this.viewModel
return Object(Se.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Bn.button,Bn.featureMenuButton),"aria-haspopup":"true","aria-controls":t,"aria-expanded":e.toString(),"aria-label":n.menu,title:n.menu},this._getPageText(r,i))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:[]}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),n={[Bn.iconUndock]:e,[Bn.iconDock]:!e,[Bn.iconDockToRight]:!e&&("top-right"===t||"bottom-right"===t),[Bn.iconDockToLeft]:!e&&("top-left"===t||"bottom-left"===t),[Bn.iconDockToTop]:!e&&"top-center"===t,[Bn.iconDockToBottom]:!e&&"bottom-center"===t}
return Object(Se.a)("span",{"aria-hidden":"true",class:this.classes(n,Bn.icon)})}renderDockButton(){var e,t,n
const{dockEnabled:r,messages:i}=this,s=null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint,a=r?i.undock:i.dock
return"xsmall"!==s&&null!=(n=this.dockOptions)&&n.buttonEnabled?Object(Se.a)("div",{role:"button","aria-label":a,title:a,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Bn.button,Bn.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:n,contentCollapsed:r,messagesCommon:i}=this,s={[Bn.headerContainerButton]:n},a=Object(Se.a)(Le.a,{level:this.headingLevel,class:Bn.headerTitle,innerHTML:null!=e?e:""}),o=n?Object(Se.a)("button",{key:e+"--collapsible",id:t,title:r?i.expand:i.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Bn.headerContainer,s),"aria-expanded":r?"false":"true",onclick:this._toggleCollapsed,type:"button"},a,Object(Se.a)("calcite-icon",{class:Bn.collapseIcon,key:"collapse-icon",icon:r?"chevron-down":"chevron-up",scale:"m"})):Object(Se.a)("div",{key:null!=e?e:"title",id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Bn.headerContainer,s)},a)
return e?o:null}renderCloseIcon(){return Object(Se.a)("span",{"aria-hidden":"true",class:this.classes(Bn.icon,Bn.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this
return e.closeButton?Object(Se.a)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Bn.button,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return Object(Se.a)("header",{class:Bn.header},this.renderTitle(),Object(Se.a)("div",{class:Bn.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:n,_flowItems:r}=this,{content:i}=this.viewModel,s=r.toArray(),a={[Bn.contentHasFlows]:!!s.length}
return t&&!n?Object(Se.a)("div",{key:null!=i?i:"content",enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:this.classes(Bn.content,a)},Object(Se.a)("calcite-flow",{bind:this},Object(Se.a)("calcite-flow-item",{bind:this,"data-node-ref":"_rootFlowItemNode",afterCreate:we.i,key:"root-flow-item",onCalciteFlowItemBack:this._handleBackClick},this.renderContent()),s.map(e=>this.renderFlowItem(e))),s.map(e=>this.renderFlowItemTooltips(e))):null}renderFlowItem(e){var t
const{messages:n}=this,r=Object(kt.b)(),i="graphic"in e&&!e.isTable
return Object(Se.a)("calcite-flow-item",{bind:this,class:this.classes({[Bn.calciteThemeDark]:!r,[Bn.calciteThemeLight]:r}),heading:null!=(t=e.title)?t:"",description:this._getFlowItemDescription(e),onCalciteFlowItemBack:this._handleBackClick,key:"flow-item-"+e.viewModel.uid},Object(Se.a)("calcite-action",{class:Bn.actionExit,icon:"move-up",label:null==n?void 0:n.exitRelatedRecords,text:null==n?void 0:n.exitRelatedRecords,slot:"header-actions-start",bind:this,afterCreate:t=>this._storeExitRelatedRecordsAction(e,t),onclick:this._destroyFlowItemWidgets}),i?Object(Se.a)("calcite-action",{class:Bn.actionSelectFeature,icon:"zoom-to-object",label:null==n?void 0:n.selectFeature,text:null==n?void 0:n.selectFeature,slot:"header-actions-end",bind:this,afterCreate:t=>this._storeFeatureSelectionAction(e,t),onclick:()=>this._handleOpenRelatedFeature(e)}):null,Object(Se.a)("div",{class:this.classes(Bn.contentFlowItem,{[Bn.calciteThemeDark]:r,[Bn.calciteThemeLight]:!r})},e.render()))}renderFlowItemTooltips(e){const{messages:t,_exitRelatedRecordsActions:n,_featureSelectionActions:r}=this,i=Object(kt.b)(),s=r.get(e)
return[Object(Se.a)("calcite-tooltip",{class:this.classes({[Bn.calciteThemeDark]:!i,[Bn.calciteThemeLight]:i}),key:"exit-related-records-tooltip-"+e.viewModel.uid,label:null==t?void 0:t.exitRelatedRecords,overlayPositioning:"fixed",referenceElement:n.get(e),placement:"top"},null==t?void 0:t.exitRelatedRecords),s?Object(Se.a)("calcite-tooltip",{class:this.classes({[Bn.calciteThemeDark]:!i,[Bn.calciteThemeLight]:i}),key:"select-related-record-tooltip-"+e.viewModel.uid,label:null==t?void 0:t.selectFeature,overlayPositioning:"fixed",referenceElement:s,placement:"top"},null==t?void 0:t.selectFeature):null]}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:n,dividedActions:r,messagesCommon:i}=this,s=n?i.close:i.open,{menuActions:a}=r
return a.length?Object(Se.a)("div",{key:lr("actions-menu-button"),class:this.classes(Bn.button,Bn.actionsMenuButton),role:"button",id:t,"aria-haspopup":"true","aria-controls":n?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":s,title:s},Object(Se.a)("span",{"aria-hidden":"true",class:Bn.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:n,dividedActions:r}=this,{menuActions:i}=r
return i.length&&n?Object(Se.a)("ul",{id:e,role:"menu","aria-labelledby":t,key:lr("actions"),class:Bn.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},i.toArray().map(e=>this.renderAction({action:e,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions
return e.length?e.toArray().map(e=>this.renderAction({action:e,type:"inline"})):[]}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,n=!!e.length,r=!!t.length
return n||r?Object(Se.a)("div",{key:"inline-actions-container","data-inline-actions":n.toString(),"data-menu-actions":r.toString(),class:Bn.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?Object(Se.a)("section",{key:lr("navigation"),class:this.classes(Bn.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:n,menuActions:r}=t,i=!!n.length,s=!!r.length,a={[Bn.footerHasPagination]:e,[Bn.footerHasActions]:i,[Bn.footerHasActionsMenu]:s}
return e||i?Object(Se.a)("div",{key:lr("feature-buttons"),class:this.classes(Bn.footer,a)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:n}=this.viewModel,r=Object(tn.a)(e.selectedFeatures,{total:t.length})
return Object(Se.a)("section",{key:lr("menu"),class:Bn.featureMenu},Object(Se.a)("strong",{class:Bn.featureMenuHeader},r),Object(Se.a)("nav",{bind:this,class:Bn.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:we.i},this.renderFeatureMenu(),Object(Se.a)("div",{class:Bn.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),n?Object(Se.a)("div",{class:Bn.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:Object(Se.a)("div",{key:lr("pointer"),class:Bn.pointer,role:"presentation"},Object(Se.a)("div",{class:this.classes(Bn.pointerDirection,Bn.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:n,titleId:r,contentId:i,collapsible:s,hasContent:a,contentCollapsed:o,visibleElements:l}=this,{title:c}=this.viewModel,u="bottom-left"===t||"bottom-center"===t||"bottom-right"===t||"top-left"===n||"top-center"===n||"top-right"===n,d="top-left"===t||"top-center"===t||"top-right"===t||"bottom-left"===n||"bottom-center"===n||"bottom-right"===n,h={[Bn.shadow]:e,[Bn.isCollapsible]:s,[Bn.isCollapsed]:o}
return Object(Se.a)("div",{class:this.classes(Bn.main,Bn.widget,h),tabIndex:l.closeButton?void 0:-1,role:"dialog","aria-labelledby":c?r:"","aria-describedby":a&&!o?i:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},u?this.renderFooter():null,u?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null)}renderContent(){var e
const t=null==(e=this.viewModel)?void 0:e.content
return t?"string"==typeof t?Object(Se.a)("div",{class:On.contentNode,key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(e){return Object(Se.a)("span",{key:"text",class:Bn.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),n=this._getActionImage(e),r={[Bn.iconLoading]:e.active,[Bn.rotating]:e.active,[Bn.icon]:!!t,[Bn.actionImage]:!e.active&&!!n}
return t&&(r[t]=!e.active),Object(Se.a)("span",{key:"icon","aria-hidden":"true",class:this.classes(Bn.icon,r),styles:this._getIconStyles(n)})}renderAction(e){const{action:t,type:n}=e,r=this._getActionTitle(t),i={[Bn.action]:"toggle"!==t.type,[Bn.actionToggle]:"toggle"===t.type,[Bn.actionToggleOn]:"toggle"===t.type&&t.value,[Bn.buttonDisabled]:t.disabled},s=[this.renderActionIcon(t),this.renderActionText(r)],a="menu-item"===n?Object(Se.a)("li",{key:t.uid,role:"menuitem",tabIndex:0,title:r,"aria-label":r,class:this.classes(Bn.button,i),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s):Object(Se.a)("div",{key:t.uid,role:"button",tabIndex:0,title:r,"aria-label":r,class:this.classes(Bn.button,i),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s)
return t.visible?a:null}renderFeatureMenuItem(e,t){const{messages:n,messagesCommon:r}=this,{selectedFeatureIndex:i,selectedFeatureViewModel:s}=this.viewModel,a=e===s,o={[Bn.featureMenuSelected]:a},l=a?Object(Se.a)("span",{key:lr("feature-menu-selected-feature-"+i),title:n.selectedFeature,"aria-label":n.selectedFeature,class:Bn.iconCheckMark}):null,c=Object(Se.a)("span",{innerHTML:e.title||r.untitled})
return Object(Se.a)("li",{role:"menuitem",tabIndex:-1,key:lr("feature-menu-feature-"+i),class:this.classes(o,Bn.featureMenuItem),bind:this,"data-feature-index":t,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},Object(Se.a)("span",{class:Bn.featureMenuTitle},c,l))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel
return t.length>1?Object(Se.a)("ol",{class:Bn.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},t.filter(e=>!!e.graphic).map((e,t)=>this.renderFeatureMenuItem(e,t))):null}_storeFeatureSelectionAction(e,t){this._featureSelectionActions.set(e,t),this.scheduleRender()}_storeExitRelatedRecordsAction(e,t){this._exitRelatedRecordsActions.set(e,t),this.scheduleRender()}_getFlowItemDescription(e){var t
return"featureCountDescription"in e?e.featureCountDescription:null!=(t=e.viewModel.description)?t:""}async _openRelatedFeature(e){await e.viewModel.updateGeometry()
const t=e.graphic,n=null==t?void 0:t.geometry
if(Object(a.k)(n)||Object(a.k)(t))return
this._destroyFlowItemWidgets(),await this.viewModel.zoomTo({target:n})
const r=Un(n)
this.open({features:[t],location:Object(a.l)(r)?r:void 0})}_destroyFlowItemWidgets(){this._flowItems.removeAll().forEach(e=>{"showAllEnabled"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e.viewModel=null,e.destroy()})}_handleBackClick(){const e=this._flowItems.pop()
e&&(this._exitRelatedRecordsActions.delete(e),this._featureSelectionActions.delete(e),"showAllEnabled"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e&&(e.viewModel=null,e.destroy()))}_getActionTitle(e){var t
const{messages:n,selectedFeature:r,messagesCommon:i}=this,{id:s}=e,a=null==r?void 0:r.attributes,o=null!=(t=e.title)?t:"",l="zoom-to-feature"===s?Object(tn.a)(o,{messages:n}):"remove-selected-feature"===s?Object(tn.a)(o,{messages:i}):"zoom-to-clustered-features"===s||"browse-clustered-features"===s?Object(tn.a)(o,{messages:n}):e.title
return l&&a?Object(tn.a)(l,a):null!=l?l:""}_getActionClass(e){const{selectedFeature:t}=this,n=null==t?void 0:t.attributes,{className:r,image:i}=e,s=i||r?r:Bn.iconDefaultAction
return s&&n?Object(tn.a)(s,n):null!=s?s:""}_getActionImage(e){const{selectedFeature:t}=this,n=null==t?void 0:t.attributes,{image:r}=e
return r&&n?Object(tn.a)(r,n):null!=r?r:""}_createFeatureUpdatedAnimation(){return Object(we.b)("enter",Bn.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this
if("number"!=typeof e)return null
const n=Math.round(e)
return Math.max(t?n-1:n,0)}_watchActions(){const{allActions:e}=this.viewModel
this.notifyChange("dividedActions")
const t="actions"
this._handles.remove(t),e&&e.forEach(e=>{this._handles.add(Object(o.f)(()=>[e.uid,e.active,e.className,e.disabled,e.id,e.title,e.image,e.visible],()=>this.scheduleRender()),t)})}_divideActions(){const{allActions:e}=this.viewModel,t=e.filter(e=>e.visible),n=this._getInlineActionCount(),r=null===n,i=0===n
return{inlineActions:r?t.slice(0):i?new h.a:t.slice(0,n),menuActions:r?new h.a:i?t.slice(0):t.slice(n)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){var e,t
const{selectedFeatureWidget:n,messagesCommon:r}=this
n&&(this.viewModel.title="error"===(null==(e=n.viewModel)?void 0:e.state)?r.errorMessage:(null==(t=n.viewModel)?void 0:t.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this
e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){"Escape"===Object(y.a)(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){"Escape"===Object(y.a)(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(e){const{viewModel:t}=this,n=e.currentTarget["data-feature-index"]
t.activeFeature=t.features[n]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(e){const t=Object(y.a)(e),{_featureMenuNode:n}=this,r=e.currentTarget["data-feature-index"]
if(!n)return
const i=n.querySelectorAll("li"),s=i.length
"ArrowUp"!==t?"ArrowDown"!==t?"Home"!==t?"End"!==t||(e.stopPropagation(),i[i.length-1].focus()):(e.stopPropagation(),i[0].focus()):(e.stopPropagation(),i[(r+1+s)%s].focus()):(e.stopPropagation(),i[(r-1+s)%s].focus())}_handleActionMenuItemKeyup(e){const t=Object(y.a)(e),{_actionsMenuNode:n}=this,r=e.currentTarget.dataset.actionUid,{menuActions:i}=this.dividedActions,s=i.findIndex(e=>e.uid===r)
if(!n)return
const a=n.querySelectorAll("li"),o=a.length
"ArrowUp"!==t?"ArrowDown"!==t?"Home"!==t?"End"!==t||(e.stopPropagation(),a[a.length-1].focus()):(e.stopPropagation(),a[0].focus()):(e.stopPropagation(),a[(s+1+o)%o].focus()):(e.stopPropagation(),a[(s-1+o)%o].focus())}_handleMainKeyup(e){const t=Object(y.a)(e)
"ArrowLeft"===t&&(e.stopPropagation(),this.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return
const t=this.get("viewModel.view")
this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this
e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this
if(!e)return
const{location:t,waitingForResult:n}=this.viewModel
n&&t?e.show({location:t}):e.hide()}_getIconStyles(e){return{"background-image":e?`url(${e})`:""}}async _shouldFocus(e){(null==e?void 0:e.shouldFocus)&&(await Object(o.h)(()=>{var e
return!0===(null==(e=this.viewModel)?void 0:e.active)}),this.focus())}_addSelectedFeatureIndexHandle(){const e=Object(o.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.selectedFeatureIndex},(e,t)=>this._selectedFeatureIndexUpdated(e,t))
this._handles.add(e,"selected-index")}_selectedFeatureIndexUpdated(e,t){const{featureCount:n}=this
n&&e!==t&&-1!==e&&(this._destroyFlowItemWidgets(),this.actionsMenuOpen=!1,this.featureMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))}_destroySelectedFeatureWidget(){const{_feature:e}=this
e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:n,screenLocation:r,side:i,view:s}=e
if(isNaN(n)||isNaN(t)||!s||!r)return!1
const a=s.padding
return"right"===i&&r.x+n/2>s.width-a.right||"left"===i&&r.x-n/2<a.left||"top"===i&&r.y-t<a.top||"bottom"===i&&r.y+t>s.height-a.bottom}_calculateAutoAlignment(e){if("auto"!==e)return e
const{_pointerOffsetInPx:t,_containerNode:n,_mainContainerNode:r,viewModel:i}=this,{screenLocation:s,view:o}=i
if(Object(a.k)(s)||!o||!n)return"top-center"
if(!this._isScreenLocationWithinView(s,o))return this._get("currentAlignment")||"top-center"
function l(e){return parseInt(e.replace(/[^-\d\.]/g,""),10)}const c=r?window.getComputedStyle(r,null):null,u=c?l(c.getPropertyValue("max-height")):0,d=c?l(c.getPropertyValue("height")):0,{height:h,width:p}=n.getBoundingClientRect(),f=p+t,b=Math.max(h,u,d)+t,m=this._isOutsideView({popupHeight:b,popupWidth:f,screenLocation:s,side:"right",view:o}),y=this._isOutsideView({popupHeight:b,popupWidth:f,screenLocation:s,side:"left",view:o}),g=this._isOutsideView({popupHeight:b,popupWidth:f,screenLocation:s,side:"top",view:o}),v=this._isOutsideView({popupHeight:b,popupWidth:f,screenLocation:s,side:"bottom",view:o})
return y?g?"bottom-right":"top-right":m?g?"bottom-left":"top-left":g?v?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(e){return"function"==typeof e?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this
return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=["left","right"]
return Object(we.e)(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return"function"==typeof e?e.call(this):e}_getDockPosition(){var e
return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(e=this.dockOptions)?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var t
if("auto"!==e)return e
const n=null==(t=this.viewModel)?void 0:t.view,r=Object(we.e)(this.container)?"top-left":"top-right"
if(!n)return r
const i=n.padding||{left:0,right:0,top:0,bottom:0},s=n.width-i.left-i.right,{breakpoints:a}=n
return a&&s<=a.xsmall?"bottom-center":r}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!this._containerNode)return
const{screenLocation:t}=this.viewModel,{width:n}=this._containerNode.getBoundingClientRect(),r=this._calculatePositionStyle(t,n)
r&&Object.assign(this._containerNode.style,r)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:n}=this
return"top-left"===t||"bottom-left"===t||"top-right"===t||"bottom-right"===t?e+n:e}_calculateAlignmentPosition(e,t,n,r){const{currentAlignment:i,_pointerOffsetInPx:s}=this
if(!n)return
const{padding:a}=n,o=r/2,l=n.height-t,c=n.width-e
return"bottom-center"===i?{top:t+s-a.top,left:e-o-a.left}:"top-left"===i?{bottom:l+s-a.bottom,right:c+s-a.right}:"bottom-left"===i?{top:t+s-a.top,right:c+s-a.right}:"top-right"===i?{bottom:l+s-a.bottom,left:e+s-a.left}:"bottom-right"===i?{top:t+s-a.top,left:e+s-a.left}:"top-center"===i?{bottom:l+s-a.bottom,left:e-o-a.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:n,view:r}=this
if(!r)return
if(n)return{left:"",top:"",right:"",bottom:""}
if(Object(a.k)(e)||!t)return
const i=this._calculateFullWidth(t),s=this._calculateAlignmentPosition(e.x,e.y,r,i)
return s?{top:void 0!==s.top?s.top+"px":"auto",left:void 0!==s.left?s.left+"px":"auto",bottom:void 0!==s.bottom?s.bottom+"px":"auto",right:void 0!==s.right?s.right+"px":"auto"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const e=this.get("viewModel.view")
this._wireUpView(e)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return
const{spinnerEnabled:t}=this
t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,n){const[r,i]=e,[s,a]=t,{width:o=0,height:l=0}=null!=n?n:{}
return r<=o&&s>o||r>o&&s<=o||i<=l&&a>l||i>l&&a<=l}_updateDockEnabledForViewSize(e,t){if(!e||!t)return
const n=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},r=n.left+n.right,i=n.top+n.bottom,s=[],a=[]
s[0]=e[0]-r,s[1]=e[1]-i,a[0]=t[0]-r,a[1]=t[1]-i
const{dockOptions:o}=this,l=o.breakpoint
this._dockingThresholdCrossed(s,a,l)&&this._setDockEnabledForViewSize(o),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return
this._focusFirstFeature=!1
const t=e.querySelectorAll("li")
t.length&&t[0].focus()}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return
this._focusFirstAction=!1
const t=e.querySelectorAll("li")
t.length&&t[0].focus()}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this
if(!t)return
const n=t.active&&!e
t.screenLocationEnabled=n}_shouldDockAtCurrentViewSize(e){var t,n,r,i
const s=e.breakpoint,a=null==(t=this.viewModel)||null==(n=t.view)?void 0:n.ui
if(!a)return!1
const{width:o,height:l}=a
if(isNaN(o)||isNaN(l))return!1
if(!s)return!1
const c=s.hasOwnProperty("width")&&o<=(null!=(r=s.width)?r:0),u=s.hasOwnProperty("height")&&l<=(null!=(i=s.height)?i:0)
return c||u}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?Object(tn.a)(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this
e&&(t&&t.ui&&t.ui.remove(e,"popup-spinner"),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new Rn({view:e}),e.ui.add(this._spinner,{key:"popup-spinner",position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen
this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen
this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:n}=this.viewModel,r=n.findIndex(e=>e.uid===t),i=n.getItemAt(r)
i&&"toggle"===i.type&&(i.value=!i.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(r)}_selectFeature(e){const t=e.currentTarget["data-feature-index"]
isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}}
Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"actionsMenuId",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"actionsMenuButtonId",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"featureMenuId",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"titleId",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"contentId",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"hasContent",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"featureNavigationVisible",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"collapsible",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"featureMenuVisible",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"contentCollapsed",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"dividedActions",null),Object(r.a)([Object(c.b)({readOnly:!0,dependsOn:["_flowItems.length"]})],ur.prototype,"_activeFlowItemWidget",null),Object(r.a)([Object(c.b)()],ur.prototype,"actions",null),Object(r.a)([Object(c.b)()],ur.prototype,"actionsMenuOpen",null),Object(r.a)([Object(c.b)()],ur.prototype,"alignment",void 0),Object(r.a)([Object(c.b)()],ur.prototype,"autoCloseEnabled",null),Object(r.a)([Object(c.b)()],ur.prototype,"autoOpenEnabled",null),Object(r.a)([Object(c.b)()],ur.prototype,"defaultPopupTemplateEnabled",null),Object(r.a)([Object(c.b)()],ur.prototype,"content",null),Object(r.a)([Object(c.b)()],ur.prototype,"collapsed",void 0),Object(r.a)([Object(c.b)()],ur.prototype,"collapseEnabled",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"currentAlignment",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"currentDockPosition",null),Object(r.a)([Object(c.b)()],ur.prototype,"dockOptions",null),Object(r.a)([Object(c.b)()],ur.prototype,"dockEnabled",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"featureCount",null),Object(r.a)([Object(c.b)()],ur.prototype,"featureMenuOpen",void 0),Object(r.a)([Object(c.b)()],ur.prototype,"features",null),Object(r.a)([Object(c.b)()],ur.prototype,"goToOverride",null),Object(r.a)([Object(c.b)()],ur.prototype,"headingLevel",void 0),Object(r.a)([Object(c.b)()],ur.prototype,"highlightEnabled",null),Object(r.a)([Object(c.b)()],ur.prototype,"location",null),Object(r.a)([Object(c.b)()],ur.prototype,"label",null),Object(r.a)([Object(c.b)()],ur.prototype,"maxInlineActions",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/widgets/Popup/t9n/Popup")],ur.prototype,"messages",void 0),Object(r.a)([Object(c.b)(),Object(_e.a)("esri/t9n/common")],ur.prototype,"messagesCommon",void 0),Object(r.a)([Object(c.b)()],ur.prototype,"promises",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"selectedFeature",null),Object(r.a)([Object(c.b)()],ur.prototype,"selectedFeatureIndex",null),Object(r.a)([Object(c.b)({readOnly:!0})],ur.prototype,"selectedFeatureWidget",null),Object(r.a)([Object(c.b)()],ur.prototype,"spinnerEnabled",void 0),Object(r.a)([Object(c.b)()],ur.prototype,"title",null),Object(r.a)([Object(c.b)()],ur.prototype,"updateLocationEnabled",null),Object(r.a)([Object(c.b)()],ur.prototype,"view",null),Object(r.a)([Object(c.b)({type:ir}),Object(ar.a)(["triggerAction","trigger-action"])],ur.prototype,"viewModel",void 0),Object(r.a)([Object(c.b)()],ur.prototype,"visible",null),Object(r.a)([Object(c.b)()],ur.prototype,"visibleElements",void 0),Object(r.a)([Object(O.a)("visibleElements")],ur.prototype,"castVisibleElements",null),Object(r.a)([Object(sr.a)()],ur.prototype,"_close",null),Object(r.a)([Object(sr.a)()],ur.prototype,"_toggleDockEnabled",null),Object(r.a)([Object(sr.a)()],ur.prototype,"_toggleFeatureMenu",null),Object(r.a)([Object(sr.a)()],ur.prototype,"_toggleActionsMenu",null),Object(r.a)([Object(sr.a)()],ur.prototype,"_triggerAction",null),Object(r.a)([Object(sr.a)()],ur.prototype,"_selectFeature",null),Object(r.a)([Object(sr.a)()],ur.prototype,"_next",null),Object(r.a)([Object(sr.a)()],ur.prototype,"_previous",null),ur=Object(r.a)([Object(u.a)("esri.widgets.Popup")],ur)
const dr=ur,hr=[0,0]
function pr(e){e&&(Object(i.b)(e),e.parentNode&&e.parentNode.removeChild(e))}const fr=e=>{let t=class extends e{constructor(...e){var t
super(...e),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,0!==e.length&&void 0!==(null==(t=e[0])?void 0:t.popup)||(this.popup=new dr({view:this})),this.handles.add([Object(o.f)(()=>this.cursor,e=>{const{surface:t}=this
t&&t.setAttribute("data-cursor",e)}),Object(o.f)(()=>this.interacting,e=>{const{surface:t}=this
t&&t.setAttribute("data-interacting",e.toString())})])}initialize(){this.handles.add(Object(o.f)(()=>this.ui,(e,t)=>this._handleUIChange(e,t))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=Object(a.e)(this.ui),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}get container(){var e
return null!=(e=this._get("container"))?e:null}set container(e){const t=this._get("container"),n=Object(i.a)(e)
if(n||"string"!=typeof e||s.a.getLogger(this.declaredClass).error("#container",`element with id '${e}' not found`),t===n)return
const r="dom-size"
if(this.handles.remove(r),this._stopMeasuring(),t&&(t.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(pr(this.root),this._set("root",null)),this.userContent&&(Object(i.d)(this.userContent,t),pr(this.userContent),this._set("userContent",null))),!n)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null)
n.classList.add("esri-view")
const c=document.createElement("div")
c.className="esri-view-user-storage",Object(i.d)(n,c),n.appendChild(c),this._set("userContent",c)
const u=document.createElement("div")
u.className="esri-view-root",n.insertBefore(u,n.firstChild),this._set("root",u)
const d=document.createElement("div")
d.className="esri-view-surface",d.setAttribute("role","application"),d.tabIndex=0,u.appendChild(d),this._set("surface",d)
const h=new m
u.appendChild(h.surface),this._set("overlay",h),Object(o.f)(()=>h.needsRender,e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Object(l.a)({render:()=>{var e
return null==(e=this.overlay)?void 0:e.render()}}):this._overlayRenderTaskHandle=Object(a.s)(this._overlayRenderTaskHandle)}),this.forceDOMReadyCycle(),this.handles.add(Object(o.f)(()=>this.size,e=>{const[t,n]=e,r="esri-view-surface--inset-outline"
t>=document.body.clientWidth||n>=document.body.clientHeight?d.classList.add(r):d.classList.remove(r)},o.a),r),this._set("container",n),this._startMeasuring()}get focused(){const e=document.activeElement===this.surface
return document.hasFocus()&&e}set popup(e){const t=this._get("popup")
t&&t!==e&&t.destroy(),this._set("popup",e)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(e,t,n){const r=this.position
return e-=r?r[0]:0,t-=r?r[1]:0,n?(n[0]=e,n[1]=t):n=[e,t],n}containerToPage(e,t,n){const r=this.position
return e+=r?r[0]:0,t+=r?r[1]:0,n?(n[0]=e,n[1]=t):n=[e,t],n}_handleUIChange(e,t){t&&(this.handles.remove("ui"),t.destroy()),e&&this._wireUI(e),this._set("ui",e)}_wireUI(e){this.handles.remove("ui"),e&&(e.view=this,this.handles.add([Object(o.f)(()=>this.root,t=>{e.container=t?function(e){const t=document.createElement("div")
return e.appendChild(t),t}(t):null},o.a),Object(o.f)(()=>this.popup,(t,n)=>{const r="popup"
n&&e.remove(n,r),t&&(t.view=e.view,e.add(t,{key:r,position:"manual"}))},o.a)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const e=this._freqInfo
e.freq=16,e.time=750,this.handles.add([(()=>{const t=()=>{e.freq=16,e.time=750}
return window.addEventListener("resize",t),{remove(){window.removeEventListener("resize",t)}}})(),Object(l.a)({prepare:e=>{const t=this._measure(),n=this._freqInfo
if(n.time+=e.deltaTime,t&&(n.freq=16,this._get("resizing")||this._set("resizing",!0)),n.time<n.freq)return
n.time=0
const r=this._position()
n.freq=r||t?16:Math.min(750,2*n.freq),!t&&n.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const e=this.container,t=e?e.clientWidth:0,n=e?e.clientHeight:0
if(0===t||0===n)return this.suspended||this._set("suspended",!0),!1
const r=this.width,i=this.height
return t===r&&n===i?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",t),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:r,oldHeight:i,width:t,height:n}),!0)}_position(){const e=this.container,t=this.position,n=e&&function(e){var t,n
const r=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect()
return hr[0]=i.left+(null!=(t=null==r?void 0:r.pageXOffset)?t:0),hr[1]=i.top+(null!=(n=null==r?void 0:r.pageYOffset)?n:0),hr}(e)
return!(!n||t&&n[0]===t[0]&&n[1]===t[1]||(this._set("position",[n[0],n[1]]),0))}forceDOMReadyCycle(){}}
return Object(r.a)([Object(c.b)()],t.prototype,"container",null),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"focused",null),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"height",void 0),Object(r.a)([Object(c.b)({type:dr})],t.prototype,"popup",null),Object(r.a)([Object(c.b)({type:m})],t.prototype,"overlay",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"position",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"resizing",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"root",void 0),Object(r.a)([Object(c.b)({value:null,readOnly:!0})],t.prototype,"size",null),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"surface",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"suspended",void 0),Object(r.a)([Object(c.b)()],t.prototype,"ui",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"userContent",void 0),Object(r.a)([Object(c.b)({readOnly:!0})],t.prototype,"width",void 0),Object(r.a)([Object(c.b)()],t.prototype,"widthBreakpoint",void 0),t=Object(r.a)([Object(u.a)("esri.views.DOMContainer")],t),t}},1776:function(e,t,n){"use strict"
n.d(t,"a",(function(){return ge}))
var r=n(968),i=n(783),s=n(1009),a=n(975),o=n(1034),l=n(993),c=n(1279),u=n(446),d=n(1002),h=n(1025),p=n(1017),f=n(1046),b=n(233),m=n(23),y=n(1058),g=n(973),v=n(978),O=n(970),j=(n(971),n(445),n(969)),w=n(1365),_=n(770),S=n(1260),x=n(769),T=n(988),I=n(1734),M=n(1551),E=n(1135)
let k=class extends a.a{constructor(e){super(e),this.view=null,this.baseLayerViews=new l.a,this.referenceLayerViews=new l.a,this._loadingHandle=Object(v.f)(()=>{var e,t
return null==(e=this.view)||null==(t=e.map)?void 0:t.basemap},e=>{e&&e.load().catch(()=>{})},v.a)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var e,t
if(this.view&&this.view.suspended)return!1
const n=null==(e=this.view)||null==(t=e.map)?void 0:t.basemap
return!!n&&!!n.loaded&&(this.baseLayerViews.some(e=>e.updating)||this.referenceLayerViews.some(e=>e.updating))}}
Object(r.a)([Object(O.b)({constructOnly:!0})],k.prototype,"view",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],k.prototype,"baseLayerViews",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],k.prototype,"referenceLayerViews",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],k.prototype,"suspended",null),Object(r.a)([Object(O.b)({type:Boolean,readOnly:!0})],k.prototype,"updating",null),k=Object(r.a)([Object(j.a)("esri.views.BasemapView")],k)
var C=n(1110),A=n(1024),L=n(1138)
class R{constructor(e,t,n){this.layer=e,this.view=t,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=Object(g.d)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,Object(g.n)(this._controller.signal,()=>{const t=new u.a("cancelled:layerview-create","layerview creation cancelled",{layer:e})
this._deferred.reject(t)})}tryRecycle(e){if(!this.done||!this.layerView||!function(e){return"tryRecycleWith"in e}(this.layerView))return null
const t=this.layer.type,n=this._controller.signal
for(let r=0;r<e.length;r++){const i=e[r]
if(i.type!==t)continue
const s=this.layerView.tryRecycleWith(i,{signal:n})
if(s){e.splice(r,1),this.layer=i
const t=this.layerView,n=t.view
return this.promise=Promise.race([s.then(()=>(Object(g.q)(this._controller.signal),i.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{view:n,layerView:t}),i.emit("layerview-create",{view:n,layerView:t}),n.emit("layerview-create",{view:n,layerView:t}),t)),new Promise((e,t)=>Object(g.n)(this._controller.signal,()=>t(Object(g.c)())))]),this.promise}}return null}destroy(){this._controller.abort()
const{layerView:e}=this
if(!e)return
const{layer:t,view:n}=this
t.emit("layerview-destroy",{view:n,layerView:e}),n.emit("layerview-destroy",{layer:t,layerView:e}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){if(this._started)return
this._started=!0
const{_controller:{signal:e},layer:t,view:n}=this
this._map=n.map
try{var r,i
let s,a
if(await t.load({signal:e}),"prefetchResources"in t&&await(null==t.prefetchResources?void 0:t.prefetchResources({signal:e})),function(e){return"createLayerView"in e&&null!=e.createLayerView}(t))s=await t.createLayerView(n,{signal:e})
else{if(!this.layerViewImporter.hasLayerViewModule(t))throw new u.a("layer:view-not-supported","No layerview implementation was found")
const r=await this.layerViewImporter.importLayerView(t)
Object(g.q)(e),s="default"in r?new r.default({layer:t,view:n}):new r({layer:t,view:n})}const o=()=>{a=Object(m.s)(a),s.destroyed||s.destroy(),s.layer=null,s.parent=null,s.view=null,this.done=!0}
a=Object(g.n)(e,o),Object(g.q)(e)
try{await s.when()}catch(e){throw o(),e}if(!(null==(r=this._map)||null==(i=r.allLayers)?void 0:i.includes(t)))return o(),void this._deferred.reject(new u.a("view:no-layerview-for-layer","The layer has been removed from the map",{layer:t}))
this.layerView=s,t.emit("layerview-create",{view:n,layerView:s}),n.emit("layerview-create",{layer:t,layerView:s}),this.done=!0,this._deferred.resolve(s)}catch(e){t.emit("layerview-create-error",{view:n,error:e}),n.emit("layerview-create-error",{layer:t,error:e}),this.done=!0,this._deferred.reject(new u.a("layerview:create-error","layerview creation failed",{layer:t,error:e}))}}}let P=class extends a.a{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new L.a,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var e
const t=null==(e=this.view.map)?void 0:e.allLayers
if(t)for(const e of t)this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e)},this._reschedule=()=>(Object(m.k)(this._workPromise)&&(this._workPromise=Object(g.d)(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Object(A.b)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var e,t,n
const r=this.view.map
if(this._map!==r&&(this.clear(),this._map=r),Object(m.k)(this._workPromise))return void this.notifyChange("updating")
this.removeHandles("reschedule"),this.removeHandles("collection-change")
const i=new Set,s=[],a=this.view.ready,o=e=>{if(!Object(m.k)(e))for(const t of e)if(t){i.add(t)
const e=this._layerLayerViewInfoMap.get(t)
e&&a?e.start():e||this._recyclingInfoMap.has(t)||s.push(t),"layers"in t&&t.layers&&o(t.layers)}}
for(const e of this._rootCollectionNames)o(this.get(e))
for(const[e,t]of this._layerLayerViewInfoMap)if(!i.has(e)){this._layerLayerViewInfoMap.delete(t.layer)
const e=t.tryRecycle(s)
e?(this._recyclingInfoMap.set(t.layer,t),e.then(()=>{this._recyclingInfoMap.delete(t.layer),this._layerLayerViewInfoMap.set(t.layer,t),this._reschedule()}).catch(()=>{this._recyclingInfoMap.delete(t.layer),t.destroy(),this._reschedule()})):t.destroy()}for(const[e,t]of this._recyclingInfoMap)i.has(e)||(this._recyclingInfoMap.delete(t.layer),t.destroy())
for(const e of s)this._createLayerView(e)
this._refreshCollections()
const l=[null==r||null==(e=r.ground)?void 0:e.layers,null==r||null==(t=r.basemap)?void 0:t.baseLayers,null==r||null==(n=r.basemap)?void 0:n.referenceLayers,null==r?void 0:r.layers].filter(e=>!!e)
i.forEach(e=>"layers"in e&&l.push(e.layers)),this.addHandles(l.map(e=>this._watchUpdatingTracking.addOnCollectionChange(()=>e,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.own([Object(v.b)(()=>{var e,t
return null==(e=this.view)||null==(t=e.map)?void 0:t.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Object(v.f)(()=>{const e=this.view,t=null==e?void 0:e.map
return[null==t?void 0:t.basemap,null==t?void 0:t.ground,null==t?void 0:t.layers,null==e?void 0:e.ready]},()=>this._reschedule(),v.e)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null,Object(m.l)(this._workPromise)&&(this._workPromise.reject(Object(g.c)()),this._workPromise=null)}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]]
return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return Object(m.l)(this._workPromise)||this._watchUpdatingTracking.updating||Object(C.c)(this._layerLayerViewInfoMap,e=>!e.done)}get updatingRemaining(){let e=0
for(const t of this._layerLayerViewInfoMap.values())t.done||++e
return e}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy()
this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise
throw new u.a("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(t),this.view)
this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,t,n){if(!e||!t)return void(t&&t.removeAll())
let r=0
for(const i of e){const e=this._layerLayerViewInfoMap.get(i)
if(!e||!e.layerView)continue
const s=e.layerView
s.layer=i,s.parent=n,t.getItemAt(r)!==s&&t.splice(r,0,s),i.layers&&this._populateLayerViewsOwners(i.layers,s.layerViews,s),r+=1}r<t.length&&t.splice(r,t.length)}_createLayerView(e){e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e)
const t=new R(e,this.view,this.layerViewImporter)
t.promise.then(()=>this._refreshCollections(),t=>{var n,r
t&&(Object(g.j)(t)||"cancelled:layerview-create"===t.name)||b.a.getLogger(this.declaredClass).error(`Failed to create layerview for layer title:'${null!=(n=e.title)?n:"no title"}', id:'${null!=(r=e.id)?r:"no id"}' of type '${e.type}'.`,{layer:e,error:t}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}}
Object(r.a)([Object(O.b)()],P.prototype,"_workPromise",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],P.prototype,"_watchUpdatingTracking",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],P.prototype,"_layersToLayerViews",null),Object(r.a)([Object(O.b)({readOnly:!0})],P.prototype,"_rootCollectionNames",null),Object(r.a)([Object(O.b)()],P.prototype,"layerViewImporter",void 0),Object(r.a)([Object(O.b)()],P.prototype,"supportsGround",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],P.prototype,"updating",null),Object(r.a)([Object(O.b)({readOnly:!0})],P.prototype,"updatingRemaining",null),Object(r.a)([Object(O.b)({constructOnly:!0})],P.prototype,"view",void 0),P=Object(r.a)([Object(j.a)("esri.views.LayerViewManager")],P)
const F=P
var N=n(980)
let D=class extends a.a{constructor(e){super(e),this.factor=1.5,this.offset=Object(N.f)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}}
Object(r.a)([Object(O.b)({type:Number})],D.prototype,"factor",void 0),Object(r.a)([Object(O.b)({nonNullable:!0})],D.prototype,"offset",void 0),Object(r.a)([Object(O.b)()],D.prototype,"position",void 0),Object(r.a)([Object(O.b)({type:Number,range:{min:0}})],D.prototype,"size",void 0),Object(r.a)([Object(O.b)()],D.prototype,"maskUrl",void 0),Object(r.a)([Object(O.b)()],D.prototype,"maskEnabled",void 0),Object(r.a)([Object(O.b)()],D.prototype,"overlayUrl",void 0),Object(r.a)([Object(O.b)()],D.prototype,"overlayEnabled",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],D.prototype,"version",null),Object(r.a)([Object(O.b)({type:Boolean})],D.prototype,"visible",void 0),D=Object(r.a)([Object(j.a)("esri.views.Magnifier")],D)
const V=D
n(235)
var U=n(1735),G=n(1334),z=n(1600),q=n(1424)
function B(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(q.a.USER)&&e.getEditableFlag(q.a.MANAGER)}var $=n(1335),H=n(991),W=n(1409)
class Z{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(e,t){const n=()=>e.stopPropagation()
switch(e.type){case"pointer-move":K(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType})
break
case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),"end"===e.action&&(this._stopDrag=!1))
break
case"pointer-down":{if(!J(e))break
const r=Object(W.b)(e),i=this._intersect(r,e.pointerType,t.forEachTool)
if(Object(m.k)(i))break
const s=i.manipulator,a=i.tool
!(Object(m.l)(s)&&Object(m.l)(a)&&s.interactive)||s.grabbable&&s.grabbableForEvent(e)||!s.grabbing||s.dragging||this._ungrabManipulatorBeforeDragging(s,e,t),Object(m.l)(s)&&Object(m.l)(a)&&s.interactive&&s.grabbable&&s.grabbableForEvent(e)&&!s.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:s,tool:a,start:r,pointerType:e.pointerType}),1===this._grabbedManipulators.size&&Object(m.k)(t.activeTool)&&(this._revertToNullActiveTool=!0,t.setActiveTool(i.tool)),s.grabbing=!0,s.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:r}),n())
break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,t)
break
case"pointer-drag":{if(!J(e))break
const r=this._grabbedManipulators.get(e.pointerId),i=Object(m.b)(r,({manipulator:e})=>e),s=Object(m.b)(r,({tool:e})=>e)
if(Object(m.k)(i)||Object(m.k)(s))break
const a=Object(W.b)(e)
a.x=Object(H.f)(a.x,0,t.view.width),a.y=Object(H.f)(a.y,0,t.view.height)
const o=Object(m.u)(r).start,l=this._draggedManipulators.get(e.pointerId)
switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(i.dragging=!0,l?i.events.emit("drag",{action:"update",start:o,screenPoint:a}):i.events.emit("drag",{action:"start",start:o,screenPoint:a,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:s,manipulator:i,start:o}))
break
case"end":i.dragging=!1,l&&i.events.emit("drag",{action:"end",start:o,screenPoint:a}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}n()
break}case"immediate-click":{const r=Object(W.b)(e),i=this._intersect(r,e.pointerType,t.forEachTool)
if(function(e){return!!e.native.shiftKey}(e)||t.forEachTool(e=>{if((!Object(m.l)(i)||i.tool!==e||e.automaticManipulatorSelection)&&e.manipulators){let t=!1
e.manipulators.forEach(({manipulator:e})=>{e.selected&&(e.selected=!1,t=!0)}),t&&e.onManipulatorSelectionChanged&&e.onManipulatorSelectionChanged()}}),Object(m.k)(i))break
const{manipulator:s,tool:a}=i
if(!s.interactive)break
s.selectable&&a.automaticManipulatorSelection&&(s.selected=!s.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged())
const o=e.native.shiftKey
s.events.emit("immediate-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:n})
break}case"click":{const r=Object(W.b)(e),i=this._intersect(r,e.pointerType,t.forEachTool),s=Object(m.l)(i)?i.manipulator:null
if(Object(m.k)(s)||!s.interactive)break
const a=e.native.shiftKey
s.events.emit(e.type,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a}),n()
break}case"double-click":{const r=Object(W.b)(e),i=this._intersect(r,e.pointerType,t.forEachTool),s=Object(m.l)(i)?i.manipulator:null
if(Object(m.k)(s)||!s.interactive)break
const a=e.native.shiftKey
s.events.emit("double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:n})
break}case"immediate-double-click":{const r=Object(W.b)(e),i=this._intersect(r,e.pointerType,t.forEachTool),s=Object(m.l)(i)?i.manipulator:null
if(Object(m.k)(s)||!s.interactive)break
const a=e.native.shiftKey
s.events.emit("immediate-double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:n})
break}}this._onFocusChange(t.forEachTool)}_ungrabManipulatorBeforeDragging(e,t,n){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Object(W.b)(t)}),this._grabbedManipulators.forEach(({manipulator:t},n)=>{t===e&&this._grabbedManipulators.delete(n)}),this._afterManipulatorUngrab(n.setActiveTool)}_handlePointerEnd(e,t){const n=Object(m.b)(this._grabbedManipulators.get(e.pointerId),({manipulator:e})=>e)
Object(m.k)(n)||n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:Object(W.b)(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorUngrab(t.setActiveTool))}_cursorFromMap(e){let t=null
return Object(C.c)(e,({manipulator:e})=>!(Object(m.k)(e)||!e.interactive||(e.grabbing&&e.grabCursor?(t=e.grabCursor,0):!e.cursor||(t=e.cursor,0)))),t}_onFocusChange(e){this._updateCursor(),this._updateFocusedManipulatorTools(e)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(e){const t=new Set,n=new Set
this._grabbedManipulators.forEach(({tool:e})=>{t.add(e)}),this._hoveredManipulators.forEach(({tool:e})=>{n.add(e)}),e(e=>{e.hasGrabbedManipulators=t.has(e),e.hasHoveredManipulators=n.has(e)
const r=this._grabbedManipulators.values(),i=Object($.b)(r,({tool:t})=>t===e)
e.firstGrabbedManipulator=Object(m.l)(i)?i.manipulator:null})}clearPointers(e,{forEachTool:t,setActiveTool:n},r=!0,i){const s=(t,n)=>t===e&&(Object(m.k)(i)||i===n)
this._grabbedManipulators.forEach(({tool:e,manipulator:t,pointerType:n},r)=>{s(e,t)&&(this._grabbedManipulators.delete(r),t.grabbing=!1,t.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:n}))}),this._draggedManipulators.forEach(({tool:e,manipulator:t},n)=>{s(e,t)&&(this._draggedManipulators.delete(n),t.dragging=!1,t.events.emit("drag",{action:"cancel"}))}),r&&this._hoveredManipulators.forEach(({tool:e,manipulator:t},n)=>{s(e,t)&&(this._hoveredManipulators.delete(n),t.hovering=!1)}),this._afterManipulatorUngrab(n),this._onFocusChange(t)}_intersect(e,t,n){let r=null
return n(n=>{if(null==n.manipulators||!B(n))return!1
const i=n.manipulators.intersect(e,t)
return!Object(m.k)(i)&&(r={tool:n,manipulator:i},!0)}),r}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach((t,n)=>{this._updateHoveredStateForPointerAtScreenPosition(Object(N.f)(t.x,t.y),n,t.pointerType,e)})}handleHoverEvent(e,t){"pointer-up"!==e.type&&"immediate-click"!==e.type&&"pointer-move"!==e.type||!K(e.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Object(W.b)(e),e.pointerId,e.pointerType,t)}_updateHoveredStateForPointerAtScreenPosition(e,t,n,r){let i=this._intersect(e,n,r)
const s=Object(m.b)(this._hoveredManipulators.get(t),({manipulator:e})=>e)
Object(m.l)(i)&&!i.manipulator.interactive&&(i=null),Object(m.l)(i)&&s===i.manipulator||(Object(m.l)(s)&&(s.hovering=!1),Object(m.l)(i)?(i.manipulator.hovering=!0,this._hoveredManipulators.set(t,i)):this._hoveredManipulators.delete(t),this._onFocusChange(r))}_afterManipulatorUngrab(e){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}}function K(e){return"mouse"===e}function J(e){return"mouse"!==e.pointerType||0===e.button}const Y="attached"
let X=class extends h.a{constructor(e){super(e),this._manipulatorState=new Z,this.tools=new l.a,this.cursor=null,this._forEachTool=e=>{for(const t of this.tools.items)if(e(t))return}}initialize(){var e
this.handles.add([this.view.on(z.b,e=>{this._handleInputEvent(e)},G.b.TOOL),...(e=this.tools,[e.on("before-add",t=>{const n=t.item
if(null==n||e.includes(n))return b.a.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault()
n.onAdd()}),e.on("after-remove",e=>{const t=e.item
t.active&&(t.view.activeTool=null),t.destroy()})]),this.tools.on("before-add",({item:e})=>{this._updateToolEditableFlag(e)}),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(Object(m.l)(e)&&!this.view.ready)return void b.a.getLogger(this.declaredClass).error("Cannot set active tool while view is not ready.")
if(e===this.activeTool)return
const t=this.activeTool
this._set("activeTool",e),Object(m.l)(t)&&t.deactivate(),Object(m.l)(e)&&e.activate(),this._removeIncompleteTools(e)
for(const e of this.tools){this._updateToolEditableFlag(e)
const t=B(e)
!Object(m.k)(this.activeTool)&&t||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!t)}this._updateCursor()}get updating(){var e,t
return this.updatingHandles.updating||this.tools.some(e=>e.updating)||null!=(e=null==(t=this.textures)?void 0:t.updating)&&e}attach(){var e
"3d"===this.view.type?(this._set("textures",new U.a(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([Object(v.f)(()=>{const{state:e}=this.view
return"camera"in e&&e.camera},()=>this._forEachManipulator(e=>e.onViewChange())),null==(e=this.view.elevationProvider)?void 0:e.on("elevation-change",e=>this._forEachManipulator(t=>t.onElevationChange(e))),Object(p.c)(()=>this._set("textures",Object(m.e)(this.textures)))],Y)):this.handles.add(Object(v.f)(()=>this.view.extent,()=>this._forEachManipulator(e=>e.onViewChange())))}detach(){Object(m.l)(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(Y)}_forEachManipulator(e){this._forEachTool(t=>{t.manipulators&&t.manipulators.forEach(({manipulator:n})=>e(n,t))})}_handleInputEvent(e){let t=!1
const n={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}}
Object(m.l)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool(e=>{!t&&e.visible&&e.handleInputEvent(n)}),!t&&"key-down"===e.type&&"Escape"===e.key&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),!t&&Object(m.l)(this.activeTool)&&this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove("tools"),this._forEachTool(e=>{if(e instanceof a.a){const t=Object(v.f)(()=>[e.cursor,e.visible,e.editable],()=>{B(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()})
this.handles.add(t,"tools")}e.manipulators&&this.handles.add([e.manipulators.on("after-remove",t=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,t.item.manipulator)}),e.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],"tools")}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(e){null==e.setEditableFlag||e.setEditableFlag(q.a.MANAGER,Object(m.k)(this.activeTool)||e===this.activeTool)}_updateCursor(){let e=this._manipulatorState.cursor
Object(m.k)(e)&&this._forEachTool(t=>!(!Object(m.l)(t.cursor)||!t.visible||(e=t.cursor,0))),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter(t=>(Object(m.k)(e)||t!==e)&&!t.created&&t.removeIncompleteOnCancel).forEach(e=>{this.tools.remove(e)})}}
Object(r.a)([Object(O.b)({constructOnly:!0,nonNullable:!0})],X.prototype,"view",void 0),Object(r.a)([Object(O.b)({readOnly:!0,nonNullable:!0})],X.prototype,"textures",void 0),Object(r.a)([Object(O.b)({value:null})],X.prototype,"activeTool",null),Object(r.a)([Object(O.b)({readOnly:!0,type:l.a})],X.prototype,"tools",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],X.prototype,"cursor",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],X.prototype,"updating",null),X=Object(r.a)([Object(j.a)("esri.views.ToolViewManager")],X)
const Q=X
var ee=n(1508)
let te=class extends a.a{constructor(...e){super(...e),this.devices=new l.a,this.enabledFocusMode="document"}}
Object(r.a)([Object(O.b)({type:l.a.ofType(ee.a),readOnly:!0})],te.prototype,"devices",void 0),Object(r.a)([Object(O.b)({type:["document","view","none"]})],te.prototype,"enabledFocusMode",void 0),te=Object(r.a)([Object(j.a)("esri.views.input.gamepad.GamepadSettings")],te)
const ne=te
let re=class extends a.a{constructor(){super(...arguments),this.gamepad=new ne}}
Object(r.a)([Object(O.b)({readOnly:!0})],re.prototype,"gamepad",void 0),re=Object(r.a)([Object(j.a)("esri.views.input.Input")],re)
const ie=re
let se=class extends a.a{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}}
Object(r.a)([Object(O.b)({type:Boolean,nonNullable:!0})],se.prototype,"enabled",void 0),Object(r.a)([Object(O.b)({type:ee.a})],se.prototype,"device",void 0),Object(r.a)([Object(O.b)({type:["pan","zoom"],nonNullable:!0})],se.prototype,"mode",void 0),Object(r.a)([Object(O.b)({type:["forward-down","forward-up"],nonNullable:!0})],se.prototype,"tiltDirection",void 0),Object(r.a)([Object(O.b)({type:Number,nonNullable:!0})],se.prototype,"velocityFactor",void 0),se=Object(r.a)([Object(j.a)("esri.views.navigation.gamepad.GamepadSettings")],se)
const ae=se
let oe=class extends a.a{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new ae,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}}
Object(r.a)([Object(O.b)({type:Boolean})],oe.prototype,"browserTouchPanEnabled",void 0),Object(r.a)([Object(O.b)({type:ae,nonNullable:!0})],oe.prototype,"gamepad",void 0),Object(r.a)([Object(O.b)({type:Boolean})],oe.prototype,"momentumEnabled",void 0),Object(r.a)([Object(O.b)({type:Boolean})],oe.prototype,"mouseWheelZoomEnabled",void 0),oe=Object(r.a)([Object(j.a)("esri.views.navigation.Navigation")],oe)
const le=oe
var ce=n(1470),ue=n(1077),de=n(1015)
let he,pe=null
async function fe(e){pe||(pe=n.e(380).then(n.bind(null,1641)).then(e=>he=e)),await pe,Object(g.q)(e)}let be=class extends a.a{constructor(e){super(e),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Object(m.a)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return Object(m.l)(this.userSpatialReference)?this.userSpatialReference:Object(m.u)(this._spatialReferenceTask.spatialReference)}get extent(){return Object(m.u)(this._extentTask.extent)}get heightModelInfo(){return Object(m.u)(this._heightModelInfoTask.heightModelInfo)}get vcsWkid(){return Object(m.u)(this._heightModelInfoTask.vcsWkid)}get latestVcsWkid(){return Object(m.u)(this._heightModelInfoTask.latestVcsWkid)}get viewingMode(){return Object(m.k)(this.userSpatialReference)||this.userSpatialReference.equals(Object(m.u)(this._spatialReferenceTask.spatialReference))?Object(m.u)(this._spatialReferenceTask.viewingMode):null}get tileInfo(){return Object(m.u)(this._tileInfoTask.tileInfo)}get mapCollections(){var e,t,n,r
const i=null==(e=this.map)?void 0:e.call(this),s=[]
return Object(m.l)(this.priorityCollection)&&s.push(this.priorityCollection),s.push({parent:null==i?void 0:i.basemap,layers:null==i||null==(t=i.basemap)?void 0:t.baseLayers},{layers:null==i?void 0:i.layers},{parent:null==i?void 0:i.ground,layers:null==i||null==(n=i.ground)?void 0:n.layers},{parent:null==i?void 0:i.basemap,layers:null==i||null==(r=i.basemap)?void 0:r.referenceLayers}),s}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){var e
if(this.suspended)return null!=(e=this._get("_spatialReferenceTask"))?e:{updating:!1}
const{layers:t,updating:n}=this._allLayers
let r=null
for(const e of t){const t=this._getSupportedSpatialReferences(e)
if(t.length>0){const e=this._narrowDownSpatialReferenceCandidates(r,t)
Object(m.l)(e)&&(r=e)}if(Object(m.l)(r)&&1===r.length)break}if(n&&(Object(m.k)(r)||1!==r.length))return{updating:!0}
const i=this._pickSpatialReferenceCandidate(r)
return{spatialReference:Object(m.l)(i)?i.spatialReference:null,viewingMode:Object(m.l)(i)?i.viewingMode:null,updating:!1}}get _tileInfoTask(){var e,t,n,r,i,s,a,o
if(!this.required.tileInfo)return null!=(e=this._get("_tileInfoTask"))?e:{updating:!1}
if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating}
const{layers:l,updating:c}=this._collectLayers([{parent:null==(t=this.map)||null==(n=t.call(this))?void 0:n.basemap,layers:null==(r=this.map)||null==(i=r.call(this))||null==(s=i.basemap)?void 0:s.baseLayers},{layers:null==(a=this.map)||null==(o=a.call(this))?void 0:o.layers}])
if(l&&l.length>0&&"tileInfo"in l[0]){const e=l[0].tileInfo
return{tileInfo:e&&e.spatialReference.equals(this.spatialReference)?e:null,updating:!1}}return{updating:c}}get _heightModelInfoTask(){var e,t
if(!this.required.heightModelInfo||this.suspended&&null!=(e=this._get("_heightModelInfoTask"))&&e.heightModelInfo)return null!=(t=this._get("_heightModelInfoTask"))?t:{updating:!1}
const{layers:n,updating:r}=this._allLayers
for(const e of n)if(Object(ce.c)(e)){var i,s
const t=Object(ce.a)(e)
if(t)return{heightModelInfo:t,vcsWkid:null==(i=e.spatialReference)?void 0:i.vcsWkid,latestVcsWkid:null==(s=e.spatialReference)?void 0:s.latestVcsWkid,updating:!1}}return{updating:r}}get _extentCandidatesTask(){var e
if(this.suspended||!this.required.extent)return null!=(e=this._get("_extentCandidatesTask"))?e:{updating:!1}
if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating}
const t=this._allLayers,n=t.updating,r=[]
for(const e of t.layers){var i
const t="fullExtents"in e&&e.fullExtents||(Object(m.l)(e.fullExtent)?[e.fullExtent]:[]),n=this.requiresExtentInSpatialReference?null:t[0],s=null!=(i=t.find(e=>e.spatialReference.equals(this.spatialReference)))?i:n
if(s)return{candidates:[{extent:s,layer:e}],updating:!1}
if(this._getSupportedSpatialReferences(e).length>0)for(const n of t)r.push({extent:n,layer:e})}return{candidates:r,updating:n}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask
if(t)return{updating:t}
if(Object(m.k)(e)||0===e.length)return{updating:!1}
if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating}
const n=this._pickExtentCandidate(e),r=this.spatialReference
return n.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:Object(m.l)(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:(Object(m.l)(this._projectExtentTask.task)&&(this._projectExtentTask.task=Object(m.a)(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:r.clone(),task:Object(o.b)(async e=>{try{const t=await async function e(t,n,r,i){if(!t)return null
const s=t.spatialReference
return Object(de.h)()||Object(de.b)(s,n)?Object(de.m)(t,n):he?he.projectGeometry(t,n,r,i):(await Promise.race([fe(i),Object(de.i)(i)]),e(t,n,r,i))}(n.extent,r,n.layer.portalItem,e)
this._projectExtentTask={...this._projectExtentTask,task:null,output:t}}catch(t){if(Object(g.k)(e))return
this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(Object(m.k)(e))return t
const n=[],r=(e,t)=>Object(m.l)(e)?Object(m.l)(t)?e===t&&e:e:t
for(const i of e)for(const e of t){if(!i.spatialReference.equals(e.spatialReference))continue
const t=r(i.viewingMode,e.viewingMode)
if(!1!==t){n.push({spatialReference:i.spatialReference,viewingMode:t})
break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference
return Object(m.k)(e)||e.length<1?Object(m.l)(t)?{spatialReference:t,viewingMode:null}:null:(Object(m.l)(t)&&e.length>1&&e.some(({spatialReference:e})=>e.equals(t))&&(e=e.filter(({spatialReference:e})=>e.equals(t))),e.length>1&&e.some(({viewingMode:e})=>e!==ue.a.Local)&&(e=e.filter(({viewingMode:e})=>e!==ue.a.Local)),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[])
if(0===t.length)return[]
const n=[]
for(const r of t){const t=this.getSpatialReferenceSupport({spatialReference:r,layer:e})
if(Object(m.l)(t)){const e=Object(m.l)(t.constraints)?t.constraints:[{spatialReference:r,viewingMode:null}]
for(const{spatialReference:t,viewingMode:r}of e)(!this.requiresExtentInSpatialReference||Object(m.k)(this.userSpatialReference)||t.equals(this.userSpatialReference))&&n.push({spatialReference:t,viewingMode:r})}}return n}_pickExtentCandidate(e){const t=this.spatialReference
return e.find(({extent:e})=>t.equals(e.spatialReference))||e[0]}_collectLayers(e){var t
if("loaded"!==this._loadMaybe(null==(t=this.map)?void 0:t.call(this)))return{layers:[],updating:!0}
const n={layers:[],preloading:-1,updating:!1}
for(const t of e)if(this._collectCollection(t,n),n.preloading===this.sourcePreloadCount)break
return{layers:n.layers,updating:n.updating}}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading
case"failed":return}for(const n of e.layers){switch(this._loadMaybe(n)){case"failed":continue
case"loading":t.updating=!0,++t.preloading
break
case"loaded":t.updating||t.layers.push(n),"layers"in n&&this._collectCollection({layers:n.layers},t)}if(t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&null!=e.loadStatus?"not-loaded"===e.loadStatus?(e.load().catch(()=>{}),"loading"):e.loadStatus:"loaded"}}
var me
Object(r.a)([Object(O.b)()],be.prototype,"required",void 0),Object(r.a)([Object(O.b)({constructOnly:!0})],be.prototype,"map",void 0),Object(r.a)([Object(O.b)({constructOnly:!0})],be.prototype,"getSpatialReferenceSupport",void 0),Object(r.a)([Object(O.b)()],be.prototype,"defaultSpatialReference",void 0),Object(r.a)([Object(O.b)()],be.prototype,"userSpatialReference",void 0),Object(r.a)([Object(O.b)()],be.prototype,"sourcePreloadCount",void 0),Object(r.a)([Object(O.b)()],be.prototype,"priorityCollection",void 0),Object(r.a)([Object(O.b)()],be.prototype,"requiresExtentInSpatialReference",void 0),Object(r.a)([Object(O.b)()],be.prototype,"suspended",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"ready",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"heightModelInfoReady",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"spatialReference",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"extent",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"heightModelInfo",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"vcsWkid",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"latestVcsWkid",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"viewingMode",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"tileInfo",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"mapCollections",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"_allLayers",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"_spatialReferenceTask",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"_tileInfoTask",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"_heightModelInfoTask",null),Object(r.a)([Object(O.b)({readOnly:!0})],be.prototype,"_extentCandidatesTask",null),Object(r.a)([Object(O.b)()],be.prototype,"_extentTask",null),Object(r.a)([Object(O.b)()],be.prototype,"_projectExtentTask",void 0),be=Object(r.a)([Object(j.a)("esri.views.support.DefaultsFromMap")],be)
let ye=me=class extends(Object(h.b)(d.a.EventedMixin(Object(y.b)(a.a)))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new c.a({getCollections:()=>{var e,t,n
return[null==(e=this.basemapView)?void 0:e.baseLayerViews,null==(t=this.groundView)?void 0:t.layerViews,this.layerViews,null==(n=this.basemapView)?void 0:n.referenceLayerViews]},getChildrenFunction:e=>e.layerViews}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new M.a,this.analyses=new I.a,this.typeSpecificPreconditionsReady=!0,this.layerViews=new l.a,this.magnifier=new V,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.timeReference=new E.a,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new ie,this.navigation=new le,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new z.a(this),this.persistableViewModels=new l.a,this._isValid=!1,this._readyCycleForced=!1,this._currentSpatialReference=null,this.handles.add(Object(v.f)(()=>this.preconditionsReady,e=>{var t,n
e?(this._currentSpatialReference=this.spatialReference,me.views.add(this)):(this._currentSpatialReference=null,me.views.remove(this)),this.notifyChange("spatialReference"),!e&&this.ready?(null!=(t=this.toolViewManager)&&t.detach(),Object(m.l)(this.analysisViewManager)&&this.analysisViewManager.detach(),null!=(n=this.layerViewManager)&&n.clear(),this._teardown()):e&&!this.ready&&(this._startup(),Object(m.l)(this.analysisViewManager)&&this.analysisViewManager.attach(),this.toolViewManager.attach())},v.d))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,Object(v.h)(()=>this.ready)))),this.basemapView=new k({view:this}),this.layerViewManager=new F({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new Q({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([Object(v.f)(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},{sync:!0,initial:!0}),Object(v.f)(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),Object(v.f)(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null
this.handles.add([Object(v.f)(()=>{var e
return null==(e=this.defaultsFromMap)?void 0:e.ready},t=>{var n
const r=(null==(n=this.map)?void 0:n.allLayers.length)>0
if(t&&!this.spatialReference&&r){if(Object(m.l)(e))return
const t=Object(p.c)(()=>e=Object(m.a)(e))
e=Object(o.b)(async t=>{try{await Object(g.a)(this.spatialReferenceWarningDelay,null,t)}catch{return}finally{e=null}b.a.getLogger(this.declaredClass).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(t,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return
this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Object(m.e)(this.graphics),this.analyses=Object(m.e)(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Object(m.e)(this.analysisViewManager),this.toolViewManager=Object(m.e)(this.toolViewManager),this.layerViewManager=Object(m.e)(this.layerViewManager),this.basemapView=Object(m.e)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll()
const e=this.map
this.map=null,null==e||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return b.a.getLogger(this.declaredClass).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e
return null==(e=this.toolViewManager)?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new be({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e
return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||f.a.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&(null==(e=this.defaultsFromMap)||!e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){var t
e!==this._get("map")&&(null!=(t=e)&&t.destroyed&&(b.a.getLogger(this.declaredClass).warn("#map","The provided map is already destroyed",{map:e}),e=null),f.a.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}get spatialReference(){var e,t
let n=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null
return n&&null!=(e=this.defaultsFromMap)&&null!=(t=e.required)&&t.heightModelInfo&&(n=n.clone(),n.vcsWkid=this.defaultsFromMap.vcsWkid,n.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),n}set spatialReference(e){const t=!Object(T.d)(e,this._get("spatialReference"))
this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get tools(){var e
return null==(e=this.toolViewManager)?void 0:e.tools}get initialExtent(){var e
return null==(e=this.defaultsFromMap)?void 0:e.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null
return Object(m.l)(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){var e
return null==(e=this.defaultsFromMap)?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e,t,n
return null!=(e=null!=(t=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?t:null==(n=this.defaultsFromMap)?void 0:n.heightModelInfo)?e:null}importLayerView(e){throw new u.a("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return Object(m.l)(this.getSpatialReferenceSupport({spatialReference:e}))}when(e,t){return this.isResolved()&&!this.ready&&b.a.getLogger(this.declaredClass).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Object(v.g)(()=>!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}}
ye.views=new l.a,Object(r.a)([Object(O.b)()],ye.prototype,"_userSpatialReference",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"activeTool",null),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"allLayerViews",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"groundView",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"animation",null),Object(r.a)([Object(O.b)()],ye.prototype,"basemapView",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"center",null),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"_defaultsFromMapSettings",null),Object(r.a)([Object(O.b)()],ye.prototype,"defaultsFromMap",null),Object(r.a)([Object(O.b)()],ye.prototype,"fatalError",void 0),Object(r.a)([Object(O.b)({type:_.default})],ye.prototype,"extent",null),Object(r.a)([Object(O.b)(Object(w.b)(M.a,"graphics"))],ye.prototype,"graphics",void 0),Object(r.a)([Object(O.b)(Object(w.b)(I.a,"analyses"))],ye.prototype,"analyses",void 0),Object(r.a)([Object(O.b)({readOnly:!0,type:S.a})],ye.prototype,"heightModelInfo",null),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"interacting",null),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"navigating",null),Object(r.a)([Object(O.b)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ye.prototype,"preconditionsReady",null),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"typeSpecificPreconditionsReady",void 0),Object(r.a)([Object(O.b)({type:l.a,readOnly:!0})],ye.prototype,"layerViews",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"resolution",null),Object(r.a)([Object(O.b)({type:V})],ye.prototype,"magnifier",void 0),Object(r.a)([Object(O.b)({value:null,type:i.default})],ye.prototype,"map",null),Object(r.a)([Object(O.b)()],ye.prototype,"padding",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"ready",void 0),Object(r.a)([Object(O.b)({type:x.default})],ye.prototype,"spatialReference",null),Object(r.a)([Object(O.b)()],ye.prototype,"spatialReferenceWarningDelay",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"stationary",null),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"supportsGround",void 0),Object(r.a)([Object(O.b)({type:s.a})],ye.prototype,"timeExtent",void 0),Object(r.a)([Object(O.b)({type:E.a,nonNullable:!0})],ye.prototype,"timeReference",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"tools",null),Object(r.a)([Object(O.b)()],ye.prototype,"toolViewManager",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"type",void 0),Object(r.a)([Object(O.b)({type:Number})],ye.prototype,"scale",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"updating",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"initialExtentRequired",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"initialExtent",null),Object(r.a)([Object(O.b)()],ye.prototype,"cursor",null),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"input",void 0),Object(r.a)([Object(O.b)({type:le,nonNullable:!0})],ye.prototype,"navigation",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"layerViewManager",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"analysisViewManager",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"width",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"height",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"resizing",void 0),Object(r.a)([Object(O.b)({value:null,readOnly:!0})],ye.prototype,"size",null),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"suspended",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"viewEvents",void 0),Object(r.a)([Object(O.b)({readOnly:!0})],ye.prototype,"persistableViewModels",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"_isValid",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"_readyCycleForced",void 0),Object(r.a)([Object(O.b)()],ye.prototype,"_currentSpatialReference",void 0),ye=me=Object(r.a)([Object(j.a)("esri.views.View")],ye)
const ge=ye},1777:function(e,t,n){"use strict"
n.d(t,"a",(function(){return me}))
var r=n(968),i=(n(235),n(233),n(978)),s=n(970),a=(n(971),n(445),n(969)),o=n(975),l=n(1337),c=n(987)
const u="esri-component"
let d=class extends o.a{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(e){const t=this._get("node")
e!==t&&(e&&e.classList.add(u),t&&t.classList.remove(u),this._set("node",e))}castNode(e){return e?"string"==typeof e||function(e){return e&&"nodeType"in e}(e)?(this._set("widget",null),Object(l.a)(e)):(function(e){return e&&"function"==typeof e.render}(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}}
Object(r.a)([Object(s.b)({dependsOn:[]})],d.prototype,"id",null),Object(r.a)([Object(s.b)()],d.prototype,"node",null),Object(r.a)([Object(c.a)("node")],d.prototype,"castNode",null),Object(r.a)([Object(s.b)({readOnly:!0})],d.prototype,"widget",void 0),d=Object(r.a)([Object(a.a)("esri.views.ui.Component")],d)
const h=d
n(1083)
var p=n(1002),f=n(1211),b=n(998),m=n(1005)
const y={left:0,top:0,bottom:0,right:0},g={bottom:30,top:15,right:15,left:15},v="manual",O="esri-ui",j={ui:O,corner:O+"-corner",innerContainer:O+"-inner-container",manualContainer:O+"-manual-container",cornerContainer:O+"-corner-container",topLeft:O+"-top-left",topRight:O+"-top-right",bottomLeft:O+"-bottom-left",bottomRight:O+"-bottom-right"}
function w(e){const t=e,n="object"==typeof t&&null!==t&&Object.getPrototypeOf(t)
return null!==n&&n!==Object.prototype||!("component"in t||"index"in t||"position"in t)?null:e}function _(e,{top:t,bottom:n,left:r,right:i}){e.style.top=t,e.style.bottom=n,e.style.left=r,e.style.right=i}let S=class extends p.a.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._locale=Object(m.b)(),this.view=null,this._applyViewPadding=()=>{const e=this.container
e&&_(e,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const e=this._innerContainer
e&&_(e,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([Object(i.f)(()=>{var e
return[null==(e=this.view)?void 0:e.padding,this.container]},this._applyViewPadding,i.a),Object(i.f)(()=>this.padding,this._applyUIPadding,i.a),Object(i.f)(()=>[this.container,this._locale],([e,t])=>{e&&e.setAttribute("lang",t)},i.a),Object(m.c)(e=>{this._locale=e})])}destroy(){this.container=null
for(const e of this._components)e.destroy()
this._components.length=0,this._componentToKey.clear()}set container(e){const t=this._get("container")
e!==t&&(e&&(e.classList.add(j.ui),Object(f.c)(e),this._attachContainers(e)),t&&(t.classList.remove(j.ui),_(t,{top:"",bottom:"",left:"",right:""}),Object(l.b)(t)),this._set("container",e))}get height(){const e=this.get("view.height")||0
if(0===e)return e
const t=this._getViewPadding(),n=t.top+t.bottom
return Math.max(e-n,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return"number"==typeof e?{bottom:e,top:e,right:e,left:e}:{...g,...e}}get width(){const e=this.get("view.width")||0
if(0===e)return e
const t=this._getViewPadding(),n=t.left+t.right
return Math.max(e-n,0)}add(e,t){let n,r
if(Array.isArray(e))return void e.forEach(e=>this.add(e,t))
const i=w(e)
i&&({index:n,position:t,component:e,key:r}=i),t&&"object"==typeof t&&({index:n,key:r,position:t}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,n,r)}remove(e,t){if(!e)return
if(Array.isArray(e))return e.map(e=>this.remove(e,t))
const n=this._find(e)
if(n){const r=this._componentToKey
if(r.has(e)&&r.get(e)!==t)return
const i=this._components.indexOf(n)
return n.node.parentNode&&n.node.parentNode.removeChild(n.node),this._componentToKey.delete(e),this._components.splice(i,1)[0]}}empty(e){return Array.isArray(e)?e.map(e=>this.empty(e)).reduce((e,t)=>e.concat(t)):(e=e||v)===v?Array.prototype.slice.call(this._manualContainer.children).filter(e=>!e.classList.contains(j.corner)).map(e=>this.remove(e)):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}move(e,t){if(Array.isArray(e)&&e.forEach(e=>this.move(e,t)),!e)return
let n
const r=w(e)||w(t)
if(r&&(n=r.index,t=r.position,e=r.component||e),t&&!this._isValidPosition(t))return
const i=this.remove(e)
i&&this.add(i,{position:t,index:n})}find(e){if(!e)return null
const t=this._findById(e)
return t&&(t.widget||t.node)}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t
return null}_add(e,t,n,r){e instanceof h||(e=new h({node:e})),this._place({component:e,position:t,index:n}),this._components.push(e),r&&this._componentToKey.set(e,r)}_find(e){return e?e instanceof h?this._findByComponent(e):"string"==typeof e?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){return this.get("view.padding")||y}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div")
e.classList.add(j.innerContainer),e.classList.add(j.cornerContainer)
const t=document.createElement("div")
t.classList.add(j.innerContainer),t.classList.add(j.manualContainer)
const n=document.createElement("div")
n.classList.add(j.topLeft),n.classList.add(j.corner),e.appendChild(n)
const r=document.createElement("div")
r.classList.add(j.topRight),r.classList.add(j.corner),e.appendChild(r)
const i=document.createElement("div")
i.classList.add(j.bottomLeft),i.classList.add(j.corner),e.appendChild(i)
const s=document.createElement("div")
s.classList.add(j.bottomRight),s.classList.add(j.corner),e.appendChild(s),this._innerContainer=e,this._manualContainer=t
const a=Object(b.e)()
this._cornerNameToContainerLookup={"top-left":n,"top-right":r,"bottom-left":i,"bottom-right":s,"top-leading":a?r:n,"top-trailing":a?n:r,"bottom-leading":a?s:i,"bottom-trailing":a?i:s},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.component,n=e.position||v,r=e.index,i=this._positionNameToContainerLookup[n],s=null!=r&&r>-1
if(function(e){return e&&!e._started&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}(t.widget)&&t.widget.startup(),!s)return void i.appendChild(t.node)
const a=Array.prototype.slice.call(i.children)
0!==r?r>=a.length?i.appendChild(t.node):Object(l.c)(t.node,a[r]):i.firstChild?Object(l.c)(t.node,i.firstChild):i.appendChild(t.node)}_toPxPosition(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}_toPxUnit(e){return 0===e?"0":e+"px"}_findByComponent(e){let t,n=null
return this._components.some(r=>(t=r===e,t&&(n=r),t)),n}_findById(e){let t,n=null
return this._components.some(r=>(t=r.id===e,t&&(n=r),t)),n}_findByNode(e){let t,n=null
return this._components.some(r=>(t=r.node===e,t&&(n=r),t)),n}}
Object(r.a)([Object(s.b)()],S.prototype,"_locale",void 0),Object(r.a)([Object(s.b)()],S.prototype,"container",null),Object(r.a)([Object(s.b)()],S.prototype,"height",null),Object(r.a)([Object(s.b)({value:g})],S.prototype,"padding",null),Object(r.a)([Object(c.a)("padding")],S.prototype,"castPadding",null),Object(r.a)([Object(s.b)()],S.prototype,"view",void 0),Object(r.a)([Object(s.b)()],S.prototype,"width",null),S=Object(r.a)([Object(a.a)("esri.views.ui.UI")],S)
const x=S
var T=n(1061),I=(n(982),n(1034)),M=n(993),E=n(1025),k=n(1085),C=n(774),A=n(769)
function L(e,t){return e&&"copyright"in e&&(!t||"function"==typeof e.originOf&&"user"===e.originOf("copyright"))}function R(e,t,n){n&&t&&(e.find(e=>e.layerView===t&&e.text===n)||e.push({text:n,layerView:t}))}const P=[]
let F=class extends E.a{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new M.a,this.view=null,this._allLayerViewsChange=e=>{this.handles.remove("suspension")
const t=this.get("view.allLayerViews")
t&&this.handles.add(t.map(e=>Object(i.f)(()=>{var t
return[e.suspended,null==(t=e.layer)?void 0:t.attributionVisible]},()=>this._updateAttributionItems())),"suspension"),e&&e.removed&&e.removed.forEach(e=>{this._pendingAttributions.delete(e),this._fetchedAttributionData.delete(e)}),this._updateAttributionItems()},this.handles.add([Object(i.b)(()=>{var e
return null==(e=this.view)?void 0:e.allLayerViews},"change",e=>this._allLayerViewsChange(e),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Object(i.g)(()=>{var e
return!0===(null==(e=this.view)?void 0:e.stationary)},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,t=null==e?void 0:e.allLayerViews
P.length=0,e&&t?(t.forEach(t=>{var n
if(t.suspended||null==(n=t.layer)||!n.attributionVisible)return
const r=t.layer
if(L(r,"user"))return void R(P,t,r.copyright)
if(r.hasAttributionData){if(this._fetchedAttributionData.has(t)){const n=this._fetchedAttributionData.get(t)
return void(n?R(P,t,this._getDynamicAttribution(n,e,r)):L(r)&&R(P,t,r.copyright))}return void this._fetchAttributionData(t)}const i=r.get("portalItem.accessInformation")
R(P,t,i||r.copyright)}),function(e,t){return e.length!==t.length||e.some((e,n)=>e.text!==t[n].text)}(this.items,P)&&(this.items.removeAll(),this.items.addMany(P)),P.length=0,this.notifyChange("state")):this._clear()}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return
this._pendingAttributions.add(e)
const t=await Object(I.e)(e.layer.fetchAttributionData())
if(this._pendingAttributions.has(e)){const n=t.ok?this._createContributionIndex(t.value,function(e){return"bing-maps"===e.type}(e.layer)):null
this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,n)}this._updateAttributionItems()}_createContributionIndex(e,t){const n=e.contributors,r={}
if(!n)return r
for(let e=0;e<n.length;e++){const i=n[e],s=i.coverageAreas
if(!s)return
for(const n of s){const s=n.bbox,a=n.zoomMin-(t&&n.zoomMin?1:0),o=n.zoomMax-(t&&n.zoomMax?1:0),l={xmin:s[1],ymin:s[0],xmax:s[3],ymax:s[2],spatialReference:A.default.WGS84},c={extent:Object(C.geographicToWebMercator)(l),attribution:i.attribution||"",score:null!=n.score?n.score:100,id:e}
for(let e=a;e<=o;e++)r[e]=r[e]||[],r[e].push(c)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(e,t,n){var r,i,s
const{extent:a,scale:o}=t
let l=null!=(r=null==(i=n.tileInfo)?void 0:i.scaleToZoom(o))?r:0
if(l=Math.min(null!=(s=e.maxKey)?s:0,Math.round(l)),!a||null==l||l<=-1)return""
const c=e[l],u=Object(C.project)(a.center.clone().normalize(),t.spatialReference),d={}
return c?c.filter(e=>{const t=e.id,n=!d[t]&&u&&e.extent&&Object(k.e)(e.extent,u)
return n&&(d[t]=!0),n}).sort((e,t)=>t.score-e.score||e.objectId-t.objectId).map(e=>e.attribution).join(", "):""}}
Object(r.a)([Object(s.b)({readOnly:!0,type:M.a})],F.prototype,"items",void 0),Object(r.a)([Object(s.b)({readOnly:!0})],F.prototype,"state",null),Object(r.a)([Object(s.b)()],F.prototype,"view",void 0),F=Object(r.a)([Object(a.a)("esri.widgets.Attribution.AttributionViewModel")],F)
const N=F
var D=n(1205),V=n(1099),U=n(1018)
const G="esri-attribution esri-widget",z="esri-attribution__powered-by",q="esri-attribution__sources",B="esri-attribution--open",$="esri-attribution__sources--open",H="esri-attribution__link",W="esri-icon-description",Z="esri-interactive"
let K=class extends T.a{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(e=>e.forEach(({target:e})=>this._checkSourceTextOverflow(e))),this.iconClass=W,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new N}initialize(){this.addHandles(Object(i.b)(()=>{var e
return null==(e=this.viewModel)?void 0:e.items},"change",()=>this.scheduleRender()))}destroy(){var e
null==(e=this._resizeObserver)||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,t)=>(e.includes(t.text)||e.push(t.text),e),[]).join(this.itemDelimiter)}get label(){var e,t
return null!=(e=null==(t=this.messages)?void 0:t.widgetLabel)?e:""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[B]:this._isOpen}
return Object(U.a)("div",{bind:this,class:this.classes(G,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return Object(U.a)("div",{class:z},"Powered by"," ",Object(U.a)("a",{class:H,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,n=t?"0":"",{attributionText:r}=this,i={[$]:e,[Z]:t}
return Object(U.a)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(q,i),innerHTML:r,tabindex:n})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let t=!1
const{clientHeight:n,clientWidth:r,scrollWidth:i}=e,s=i>r,a=this._attributionTextOverflowed!==s
if(this._attributionTextOverflowed=s,a&&(t=!0),this._isOpen){const e=n<this._prevSourceNodeHeight
this._prevSourceNodeHeight=n,e&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}}
Object(r.a)([Object(s.b)()],K.prototype,"_isOpen",void 0),Object(r.a)([Object(s.b)()],K.prototype,"_isInteractive",null),Object(r.a)([Object(s.b)()],K.prototype,"_attributionTextOverflowed",void 0),Object(r.a)([Object(s.b)()],K.prototype,"_prevSourceNodeHeight",void 0),Object(r.a)([Object(s.b)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],K.prototype,"attributionText",null),Object(r.a)([Object(s.b)()],K.prototype,"iconClass",void 0),Object(r.a)([Object(s.b)()],K.prototype,"itemDelimiter",void 0),Object(r.a)([Object(s.b)()],K.prototype,"label",null),Object(r.a)([Object(s.b)(),Object(V.a)("esri/widgets/Attribution/t9n/Attribution")],K.prototype,"messages",void 0),Object(r.a)([Object(s.b)()],K.prototype,"view",null),Object(r.a)([Object(s.b)({type:N})],K.prototype,"viewModel",void 0),Object(r.a)([Object(D.a)()],K.prototype,"_toggleState",null),K=Object(r.a)([Object(a.a)("esri.widgets.Attribution")],K)
const J=K
var Y=n(1007),X=n(23),Q=n(1521)
let ee=class extends(Object(Q.a)(o.a)){constructor(e){super(e),this._handles=new Y.a,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(Object(i.f)(()=>this.view,this._updateRotationWatcher,i.a))}destroy(){Object(X.s)(this._handles),this.view=null}get canShowNorth(){const e=this.get("view.spatialReference")
return!(!e||!e.isWebMercator&&!e.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){var e
if(!this.get("view.ready"))return
const t={}
"2d"===(null==(e=this.view)?void 0:e.type)?t.rotation=0:t.heading=0,this.callGoTo({target:t})}_updateForRotation(e){null!=e&&(this.orientation={z:e})}_updateForCamera(e){if(!e)return
const t=-e.heading
this.orientation={x:0,y:0,z:t}}_updateRotationWatcher(e){this._handles.removeAll(),e&&this._handles.add("2d"===e.type?Object(i.f)(()=>null==e?void 0:e.rotation,this._updateForRotation,i.a):Object(i.f)(()=>null==e?void 0:e.camera,this._updateForCamera,i.a))}}
Object(r.a)([Object(s.b)({readOnly:!0})],ee.prototype,"canShowNorth",null),Object(r.a)([Object(s.b)()],ee.prototype,"orientation",void 0),Object(r.a)([Object(s.b)({readOnly:!0})],ee.prototype,"state",null),Object(r.a)([Object(s.b)()],ee.prototype,"view",void 0),ee=Object(r.a)([Object(a.a)("esri.widgets.CompassViewModel")],ee)
const te=ee
let ne=class extends T.a{constructor(e,t){super(e,t),this.iconClass="esri-icon-locate-circled",this.messages=null,this.viewModel=new te}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get label(){var e,t
return null!=(e=null==(t=this.messages)?void 0:t.widgetLabel)?e:""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,n="disabled"===t,r="compass"==("rotation"===t?"rotation":"compass"),i=n?-1:0,s={"esri-disabled":n,"esri-interactive":!n},a={"esri-icon-compass":r,"esri-icon-dial":!r},{messages:o}=this
return Object(U.a)("div",{bind:this,class:this.classes("esri-compass esri-widget--button esri-widget",s),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:i,"aria-label":o.reset,title:o.reset},Object(U.a)("span",{"aria-hidden":"true",class:this.classes("esri-compass__icon",a),styles:this._toRotationTransform(e)}),Object(U.a)("span",{class:"esri-icon-font-fallback-text"},o.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(e){return{transform:`rotateZ(${e.z}deg)`}}}
Object(r.a)([Object(s.b)()],ne.prototype,"goToOverride",null),Object(r.a)([Object(s.b)()],ne.prototype,"iconClass",void 0),Object(r.a)([Object(s.b)()],ne.prototype,"label",null),Object(r.a)([Object(s.b)(),Object(V.a)("esri/widgets/Compass/t9n/Compass")],ne.prototype,"messages",void 0),Object(r.a)([Object(s.b)()],ne.prototype,"view",null),Object(r.a)([Object(s.b)({type:te})],ne.prototype,"viewModel",void 0),Object(r.a)([Object(D.a)()],ne.prototype,"_reset",null),ne=Object(r.a)([Object(a.a)("esri.widgets.Compass")],ne)
const re=ne,ie="esri-navigation-toggle",se={base:ie+" esri-widget",button:ie+"__button esri-widget--button",activeButton:ie+"__button--active",panButton:ie+"__button--pan",rotateButton:ie+"__button--rotate",isLayoutHorizontal:ie+"--horizontal",rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"}
let ae=class extends o.a{constructor(e){super(e),this.navigationMode="pan",this.view=null}initialize(){this.own(Object(i.g)(()=>{var e
return null==(e=this.view)?void 0:e.inputManager},()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){var e
return this.get("view.ready")&&"3d"===(null==(e=this.view)?void 0:e.type)?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}}
Object(r.a)([Object(s.b)({readOnly:!0})],ae.prototype,"state",null),Object(r.a)([Object(s.b)()],ae.prototype,"navigationMode",void 0),Object(r.a)([Object(s.b)()],ae.prototype,"view",void 0),ae=Object(r.a)([Object(a.a)("esri.widgets.NavigationToggleViewModel")],ae)
const oe=ae
let le=class extends T.a{constructor(e,t){super(e,t),this.iconClass=se.widgetIcon,this.messages=null,this.viewModel=new oe}get label(){var e,t
return null!=(e=null==(t=this.messages)?void 0:t.widgetLabel)?e:""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}toggle(){return this.viewModel.toggle()}render(){const e="disabled"===this.get("viewModel.state"),t="pan"===this.get("viewModel.navigationMode"),n={[se.disabled]:e,[se.isLayoutHorizontal]:"horizontal"===this.layout},r={[se.activeButton]:t},i={[se.activeButton]:!t},s=e?-1:0,a=this.messages.toggle
return Object(U.a)("div",{bind:this,class:this.classes(se.base,n),onclick:this._toggle,onkeydown:this._toggle,tabIndex:s,"aria-label":a,title:a},Object(U.a)("div",{class:this.classes(se.button,se.panButton,r)},Object(U.a)("span",{class:se.panIcon})),Object(U.a)("div",{class:this.classes(se.button,se.rotateButton,i)},Object(U.a)("span",{class:se.rotationIcon})))}_toggle(){this.toggle()}}
Object(r.a)([Object(s.b)()],le.prototype,"iconClass",void 0),Object(r.a)([Object(s.b)()],le.prototype,"label",null),Object(r.a)([Object(s.b)({value:"vertical"})],le.prototype,"layout",null),Object(r.a)([Object(s.b)(),Object(V.a)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],le.prototype,"messages",void 0),Object(r.a)([Object(s.b)()],le.prototype,"view",null),Object(r.a)([Object(s.b)({type:oe})],le.prototype,"viewModel",void 0),Object(r.a)([Object(D.a)()],le.prototype,"_toggle",null),le=Object(r.a)([Object(a.a)("esri.widgets.NavigationToggle")],le)
const ce=le
let ue=class extends T.a{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const e=this.enabled?0:-1,t={"esri-disabled":!this.enabled,"esri-interactive":this.enabled},n={[this.iconClass]:!!this.iconClass}
return Object(U.a)("div",{bind:this,class:this.classes("esri-widget--button esri-widget",t),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:e,title:this.title},Object(U.a)("span",{"aria-hidden":"true",role:"presentation",class:this.classes("esri-icon",n)}),Object(U.a)("span",{class:"esri-icon-font-fallback-text"},this.title))}_triggerAction(){this.action.call(this)}}
Object(r.a)([Object(s.b)()],ue.prototype,"action",void 0),Object(r.a)([Object(s.b)()],ue.prototype,"enabled",void 0),Object(r.a)([Object(s.b)()],ue.prototype,"iconClass",void 0),Object(r.a)([Object(s.b)()],ue.prototype,"title",void 0),Object(r.a)([Object(D.a)()],ue.prototype,"_triggerAction",null),ue=Object(r.a)([Object(a.a)("esri.widgets.IconButton")],ue)
const de=ue
var he=n(1780)
let pe=class extends T.a{constructor(e,t){super(e,t),this.iconClass="esri-icon-zoom-in-magnifying-glass",this.messages=null,this.viewModel=new he.a}initialize(){this._zoomInButton=new de({action:this.zoomIn.bind(this),iconClass:"esri-icon-plus"}),this._zoomOutButton=new de({action:this.zoomOut.bind(this),iconClass:"esri-icon-minus"})}destroy(){this._zoomInButton=Object(X.e)(this._zoomInButton),this._zoomOutButton=Object(X.e)(this._zoomOutButton)}get label(){var e,t
return null!=(e=null==(t=this.messages)?void 0:t.widgetLabel)?e:""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e=this.viewModel,t={"esri-zoom--horizontal":"horizontal"===this.layout},{canZoomIn:n,canZoomOut:r}=e
this._zoomInButton.enabled=n,this._zoomOutButton.enabled=r
const{zoomIn:i,zoomOut:s}=this.messages
return this._zoomInButton.title=i,this._zoomOutButton.title=s,Object(U.a)("div",{class:this.classes("esri-zoom esri-widget",t)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}}
Object(r.a)([Object(s.b)()],pe.prototype,"iconClass",void 0),Object(r.a)([Object(s.b)()],pe.prototype,"label",null),Object(r.a)([Object(s.b)({value:"vertical"})],pe.prototype,"layout",null),Object(r.a)([Object(s.b)(),Object(V.a)("esri/widgets/Zoom/t9n/Zoom")],pe.prototype,"messages",void 0),Object(r.a)([Object(s.b)()],pe.prototype,"view",null),Object(r.a)([Object(s.b)({type:he.a})],pe.prototype,"viewModel",void 0),pe=Object(r.a)([Object(a.a)("esri.widgets.Zoom")],pe)
const fe=pe
let be=class extends x{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[]}initialize(){this.addHandles([Object(i.f)(()=>this.components,this._componentsWatcher.bind(this),i.a),Object(i.f)(()=>this.view,this._updateViewAwareWidgets.bind(this),i.a)])}_add(e,t,n,r){let i=e
if("string"==typeof e&&this._defaultPositionLookup[e]){if(this._find(e))return
i=this._createComponent(e)}super._add(i,t,n,r)}_removeComponents(e){e.forEach(e=>{const t=this._find(e)
t&&(this.remove(t),t.destroy())})}_updateViewAwareWidgets(e){this.components.forEach(t=>{const n=this._find(t),r=n&&n.widget;(function(e){return e&&void 0!==e.view})(r)&&(r.view=e)})}_componentsWatcher(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:e}=this.padding
this.padding=e}}_addComponents(e){this.constructed&&e.forEach(e=>this.add(this._createComponent(e),this._defaultPositionLookup[e]))}_createComponent(e){const t=this._createWidget(e)
if(t)return new h({id:e,node:t})}_createWidget(e){return"attribution"===e?this._createAttribution():"compass"===e?this._createCompass():"navigation-toggle"===e?this._createNavigationToggle():"zoom"===e?this._createZoom():void 0}_createAttribution(){return new J({view:this.view})}_createCompass(){return new re({view:this.view})}_createNavigationToggle(){return new ce({view:this.view})}_createZoom(){return new fe({view:this.view})}}
Object(r.a)([Object(s.b)()],be.prototype,"components",void 0),be=Object(r.a)([Object(a.a)("esri.views.ui.DefaultUI")],be)
const me=be},1779:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y}))
var r=n(235),i=n(23),s=n(1544),a=n(1024),o=n(1508)
function l(e){const t=e.native
return t?{buttons:t.buttons.map(e=>e.pressed?e.value?e.value:1:0),axes:t.axes.map(t=>function(e,t){const n=Math.abs(e)
return n<t?0:Math.sign(e)*(n-t)/(1-t)}(t,e.axisThreshold))}:{buttons:[],axes:[]}}class c{constructor(e,t){this._element=e,this._input=t,this._hasEventListeners=!1,this._onConnectGamepad=e=>{this._connectGamepad(e.gamepad)},this._onDisconnectGamepad=e=>{const t=e.gamepad,n=t.index,r=this._inputDevices[n]
r&&(this._emitGamepadEvent(t,l(r),!1),this._inputDevices.splice(n,1),this._latestUpdate.splice(n,1),this._input.gamepad.devices.remove(r),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null
const n="getGamepads"in window.navigator,r=window.isSecureContext
this.supported=n&&r,this.supported&&(this._forEachGamepad(e=>this._connectGamepad(e)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const t=new o.a(e)
"unknown"!==t.deviceType&&(this._inputDevices[e.index]=t,this._input.gamepad.devices.add(t)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=Object(a.a)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),t=this._element.contains(document.activeElement),n="document"===this._input.gamepad.enabledFocusMode&&!e||"view"===this._input.gamepad.enabledFocusMode&&!t
this._forEachGamepad(e=>{const t=this._inputDevices[e.index]
if(!t)return
const r=this._latestUpdate[e.index],i=l(t),s=n||function(e){for(let t=0;t<e.axes.length;t++)if(0!==e.axes[t])return!1
for(let t=0;t<e.buttons.length;t++)if(0!==e.buttons[t])return!1
return!0}(i)
if(r){if(r.timestamp===e.timestamp)return
if(!r.active&&s)return
if(function(e,t){if(e.axes.length!==t.axes.length)return!1
if(e.buttons.length!==t.buttons.length)return!1
for(let n=0;n<e.axes.length;n++)if(e.axes[n]!==t.axes[n])return!1
for(let n=0;n<e.buttons.length;n++)if(e.buttons[n]!==t.buttons[n])return!1
return!0}(r.state,i))return}this._emitGamepadEvent(e,i,!s)})}_forEachGamepad(e){const t=window.navigator.getGamepads()
for(let n=0;n<t.length;n++){const r=t[n]
this._validate(r)&&e(r)}}_emitGamepadEvent(e,t,n){const r=this._latestUpdate[e.index],i=r&&r.active
if(!i&&!n)return
const s=!i&&n?"start":i&&n?"update":"end"
this._latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:n},this._callback&&this._callback({device:this._inputDevices[e.index],state:t,action:s})}_validate(e){if(!e)return!1
if(!e.connected)return!1
for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1
return!0}}var u=n(1409)
const d=Object(r.a)("edge"),h=Object(r.a)("chrome"),p=Object(r.a)("ff"),f=Object(r.a)("safari"),b="esri-view-surface",m={touchNone:b+"--touch-none",touchPan:b+"--touch-pan"}
class y{constructor(e,t){this._input=t,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new c(e,this._input),this._gamepadSource.onEvent=e=>this._callback("gamepad",e)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>{this._releasePointerCaptureSafe(e)}),this._gamepadSource=Object(i.e)(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){var t
for(const t in this._active)if(!e||!e.has(t)){const e=this._active[t]
this._element.removeEventListener(g[t],e),delete this._active[t]}e&&e.forEach(e=>{if(!this._active[e]&&g[e]){const t=(this._eventHandlers[e]||this._handleDefault).bind(this,e)
this._element.addEventListener(g[e],t),this._active[e]=t}}),this._gamepadSource.hasEventListeners=null!=(t=null==e?void 0:e.has("gamepad"))&&t}setPointerCapture(e,t){t?(this._element.setPointerCapture(e.pointerId),this._activePointerCaptures.add(e.pointerId)):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?m.touchNone:m.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?m.touchPan:m.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(m.touchNone),this._element.classList.remove(m.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return
this._element.releasePointerCapture(e)}catch(e){}}_updateNormalizedPointerLikeEvent(e,t){const n=Object(u.c)(this._element,e)
return y.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),t.x=n.x,t.y=n.y,t}_handleKey(e,t){const n=Object(s.a)(t)
n&&"key-up"===e&&this._keyDownState.delete(n)
const r={native:t,key:n,repeat:!!n&&this._keyDownState.has(n)}
n&&"key-down"===e&&this._keyDownState.add(r.key),this._callback(e,r)}_handlePointer(e,t){const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++})
this._callback(e,n)}_handlePointerPreventDefault(e,t){const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++})
t.preventDefault(),this._callback(e,n)}_handleMouseWheel(e,t){let n=t.deltaY
switch(t.deltaMode){case 0:d&&(n=n/document.documentElement.clientHeight*600)
break
case 1:n*=30
break
case 2:n*=900}d?n*=.7:h||f?n*=.6:p&&(n*=1.375)
const r=Math.abs(n)
if(r>100){const e=.02
n=n/r*200/(1+Math.exp(-e*(r-100)))}const i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:n})
this._callback(e,i)}_handlePointerCaptureLost(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}_handleDefault(e,t){const n={native:t}
t.preventDefault(),this._callback(e,n)}_preventAltKeyDefault(e){"Alt"===e.key&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}}y.test={disableSubpixelCoordinates:!1}
const g={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"}},1780:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f}))
var r=n(968),i=n(975),s=n(23),a=n(973),o=n(970),l=(n(971),n(445),n(969))
let c=class extends i.a{get canZoomIn(){if(!this.get("view.ready"))return!1
const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale")
return 0===t||e>t}get canZoomOut(){if(!this.get("view.ready"))return!1
const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale")
return 0===t||e<t}}
Object(r.a)([Object(o.b)({readOnly:!0})],c.prototype,"canZoomIn",null),Object(r.a)([Object(o.b)({readOnly:!0})],c.prototype,"canZoomOut",null),Object(r.a)([Object(o.b)()],c.prototype,"view",void 0),c=Object(r.a)([Object(l.a)("esri.widgets.Zoom.ZoomConditions2D")],c)
const u=c
let d=class extends i.a{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}}
Object(r.a)([Object(o.b)({readOnly:!0})],d.prototype,"canZoomIn",null),Object(r.a)([Object(o.b)({readOnly:!0})],d.prototype,"canZoomOut",null),Object(r.a)([Object(o.b)()],d.prototype,"view",void 0),d=Object(r.a)([Object(l.a)("esri.widgets.Zoom.ZoomConditions3D")],d)
const h=d
let p=class extends i.a{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return Object(s.l)(this._zoomConditions)&&this._zoomConditions.canZoomIn}get canZoomOut(){var e
return Object(s.l)(this._zoomConditions)&&(null==(e=this._zoomConditions)?void 0:e.canZoomOut)}get state(){var e
return null!=(e=this.view)&&e.ready?"ready":"disabled"}set view(e){e?"2d"===e.type?this._zoomConditions=new u({view:e}):"3d"===e.type&&(this._zoomConditions=new h({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return
const e=this.view
"2d"===e.type?e.mapViewNavigation.zoomIn():Object(a.i)(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return
const e=this.view
"2d"===e.type?e.mapViewNavigation.zoomOut():Object(a.i)(e.goTo({zoomFactor:.5}))}}
Object(r.a)([Object(o.b)()],p.prototype,"_zoomConditions",void 0),Object(r.a)([Object(o.b)()],p.prototype,"canZoomIn",null),Object(r.a)([Object(o.b)()],p.prototype,"canZoomOut",null),Object(r.a)([Object(o.b)({readOnly:!0})],p.prototype,"state",null),Object(r.a)([Object(o.b)()],p.prototype,"view",null),p=Object(r.a)([Object(l.a)("esri.widgets.Zoom.ZoomViewModel")],p)
const f=p},1782:function(e,t,n){"use strict"
n.d(t,"a",(function(){return S}))
var r=n(968),i=(n(982),n(1265)),s=n(972),a=n(970),o=(n(971),n(445),n(969)),l=n(1016),c=n(1215),u=n(1192),d=n(1567),h=n(1109),p=n(1151),f=n(1013),b=n(1173),m=n(1026)
function y(e){return function(e){return e instanceof Float32Array&&e.length>=2}(e)||function(e){return Array.isArray(e)&&e.length>=2}(e)}var g,v=n(1310),O=n(770),j=n(992)
const w=[0,0]
let _=g=class extends s.a{constructor(e){super(e),this._viewpoint2D={center:Object(m.d)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new O.default,this.id=0,this.inverseTransform=Object(d.b)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Object(d.b)(),this.transformNoRotation=Object(d.b)(),this.displayMat3=Object(p.b)(),this.displayViewMat3=Object(p.b)(),this.viewMat3=Object(p.b)(),this.viewMat2d=Object(u.a)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,n=e.targetGeometry
t.center[0]=n.x,t.center[1]=n.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=n.spatialReference}this._update()}copy(e){const t=this.size,n=this.viewpoint
return n&&t?(this.viewpoint=Object(v.d)(n,e.viewpoint),this._set("size",Object(f.c)(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new g({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,n){return y(t)?Object(f.t)(e,t,this.inverseTransform):(w[0]=t,w[1]=n,Object(f.t)(e,w,this.inverseTransform))}toScreen(e,t,n){return y(t)?Object(f.t)(e,t,this.transform):(w[0]=t,w[1]=n,Object(f.t)(e,w,this.transform))}toScreenNoRotation(e,t,n){return y(t)?Object(f.t)(e,t,this.transformNoRotation):(w[0]=t,w[1]=n,Object(f.t)(e,w,this.transformNoRotation))}getScreenTransform(e,t){const{center:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,i=this._get("size")
return Object(v.i)(e,n,i,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:n,rotation:r}=this._viewpoint2D,s=this._get("pixelRatio")||1,a=this._get("size"),o=new i.a({targetGeometry:new j.a(e[0],e[1],t),scale:n,rotation:r})
if(this._set("viewpoint",o),!a||!t||!n)return
this.resolution=Object(v.k)(o),this.rotation=r,this.scale=n,this.spatialReference=t,Object(f.c)(this.center,e)
const u=0!==a[0]?2/a[0]:0,d=0!==a[1]?-2/a[1]:0
Object(h.o)(this.displayMat3,u,0,0,0,d,0,-1,1,1)
const p=Object(h.g)(this.viewMat3),m=Object(b.d)(a[0]/2,a[1]/2),y=Object(b.d)(-a[0]/2,-a[1]/2),g=Object(l.d)(r)
Object(h.h)(p,p,m),Object(h.n)(p,p,g),Object(h.h)(p,p,y),Object(h.l)(this.displayViewMat3,this.displayMat3,p)
const O=Object(c.a)(this.viewMat2d,m)
return Object(c.h)(O,O,g),Object(c.j)(O,O,y),Object(v.h)(this.extent,o,a),Object(v.l)(this.transform,o,a,s),Object(c.c)(this.inverseTransform,this.transform),Object(v.m)(this.transformNoRotation,o,a,s),this.worldScreenWidth=Object(v.n)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}}
Object(r.a)([Object(a.b)({readOnly:!0})],_.prototype,"id",void 0),Object(r.a)([Object(a.b)({value:1,json:{write:!0}})],_.prototype,"pixelRatio",null),Object(r.a)([Object(a.b)({json:{write:!0}})],_.prototype,"size",null),Object(r.a)([Object(a.b)()],_.prototype,"spatialReference",void 0),Object(r.a)([Object(a.b)({type:i.a,json:{write:!0}})],_.prototype,"viewpoint",null),_=g=Object(r.a)([Object(o.a)("esri.views.2d.ViewState")],_)
const S=_},1797:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u}))
var r=n(771),i=n(971),s=n(983),a=n(1074),o=n(1259),l=n(1642)
const c=Object(i.m)(l.a)
async function u(e,t,n){t=c(t)
const i=Object(a.c)(e),l={...i.query,f:"json",...t.toJSON()},u=t.outSpatialReference,d=Object(s.c)(t.geometries[0]),h=Object(a.a)(l,n)
return Object(r.default)(i.path+"/project",h).then(({data:{geometries:e}})=>Object(o.a)(e,d,u))}},1798:function(e,t,n){"use strict"
n.d(t,"a",(function(){return G}))
var r=n(1341),i=n(1609),s=n(147),a=n(1280),o=n(34),l=n(1586),c=n(1256),u=n(1161),d=n(197),h=n(1277),p=n(97),f=n(1618),b=n(1311),m=n(1619),y=n(236),g=n(1550),v=n(1620),O=n(1225),j=n(1476)
function w(e,t){const{api:n,requestOptions:{portal:r}}=t
let i
return i=n?Object(a.d)(n):function(e,t){const{requestOptions:{isPortal:n}}=t
return"channel"===e&&!n}(e,t)?{type:"arcgis-hub",url:null}:function(e,t){const{site:n,requestOptions:{isPortal:r}}=t
return"item"===e&&!!n&&!r}(e,t)?function(e){return{type:"arcgis-hub",url:`https://${new URL(e.requestOptions.hubApiUrl).hostname}/api/search/v1`}}(t):{type:"arcgis",url:r},i}function _(e,t){const n=t.api,r=e.collection||"all"
return`${n.url}/collections/${r}`}async function S(e,t,n){var r
const i=Object(s.c)(t),a=new URL(n.site).hostname
a!==new URL(e).hostname&&(i.target=a)
const o=e+function(e){const t=Object.entries(e).filter(([e,t])=>!!t).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&")
return t&&"?"+t}(i),l=(null===(r=n.requestOptions)||void 0===r?void 0:r.fetch)||fetch,c=await l(o,{method:"GET"})
if(!c.ok)throw new O.a(c.statusText,o,c.status)
return c.json()}function x(e){const t=e.operation||"OR"
return`(${e.predicates.map(T).filter(E).join(` ${t} `)})`}function T(e){return`(${Object.entries(e).filter(([e,t])=>"term"!==e&&"bbox"!==e&&!!t).reduce((e,[t,n])=>{let r
var i
return"string"==typeof n?r=I(t,n):Array.isArray(n)?r=function(e,t){const n=t.map(M)
return`${e} IN (${n.join(", ")})`}(t,n):(i=n,r=Number.isInteger(i.from)&&Number.isInteger(i.to)?function(e,t){return`${e} BETWEEN ${t.from} AND ${t.to}`}(t,n):function(e,t){const n=function(e,t){let n
if(Array.isArray(t)){const r=t.map(M)
n=`${e} IN (${r.join(", ")})`}else t&&(n=I(e,t))
return n}(e,t.any),r=function(e,t){let n
return Array.isArray(t)?n=t.map(t=>I(e,t)).join(" AND "):t&&(n=I(e,t)),n}(e,t.all),i=function(e,t){let n
if(t){const r=(Array.isArray(t)?t:[t]).map(M)
n=`${e} NOT IN (${r.join(", ")})`}return n}(e,t.not)
return[n,r,i].filter(e=>!!e).join(" AND ")}(t,n)),e.push(r),e},[]).join(" AND ")})`}function I(e,t){return`${e}=${M(t)}`}function M(e){return/\s/.test(e)?`'${e}'`:e}function E(e){return"()"!==e}async function k(e,t){const n=_(e,t)+"/items",r=function(e,t){return{filter:function(e){return e.filters.map(x).filter(E).join(" AND ")}(e),token:Object(o.a)(t,"requestOptions.authentication.token"),limit:t.num,startindex:t.start,q:function(e){const t=Object(i.d)("term",e.filters)
return null==t?void 0:t.term}(e),sortBy:function(e){const{sortField:t,sortOrder:n}=e
let r
return t&&(r="desc"===n?"-properties."+t:"properties."+t),r}(t),bbox:function(e){const t=Object(i.d)("bbox",e.filters)
return null==t?void 0:t.bbox}(e)}}(e,t)
return async function(e,t,n){const r=await Promise.all(e.features.map(e=>async function(e,t,n){const r=e.properties,s=await Object(i.e)(r,t,n)
return s.source=e.properties.source,s.license=e.properties.license,s}(e,n.include,n.requestOptions))),s=function(e,t,n){const r=e.links.find(e=>"next"===e.rel)
let i=()=>null
return r&&(i=()=>{const e=+new URL(r.href).searchParams.get("startindex"),i=Object.assign(Object.assign({},n),{start:e})
return k(t,i)}),i}(e,t,n),a=e.links.find(e=>"next"===e.rel)
return{total:e.numberMatched,results:r,hasNext:!!a,next:s}}(await S(n,r,t),e,t)}async function C(e,t){var n
return(null===(n=t.aggFields)||void 0===n?void 0:n.length)?async function(e,t){const n=_(e,t)+"/aggregations",r=function(e,t){return{aggregations:`terms(fields=(${t.aggFields.join()}))`,token:Object(o.a)(t,"requestOptions.authentication.token")}}(0,t),i=await S(n,r,t)
return{total:0,results:[],hasNext:!1,next:()=>null,aggregations:i.aggregations.aggregations.map(e=>({mode:"terms",field:e.field,values:e.aggregations.map(e=>({value:e.label,count:e.value}))}))}}(e,t):k(e,t)}async function A(e,t){if(!t.requestOptions)throw new i.a("portalSearchGroups","options.requestOptions is required.")
e.filters=e.filters.map(e=>(e.predicates=e.predicates.map(i.c),e))
const n=Object(i.g)(e)
return["num","sortField","sortOrder","include","start","requestOptions"].forEach(e=>{t.hasOwnProperty(e)&&(n[e]=t[e])}),t.requestOptions.authentication?n.authentication=t.requestOptions.authentication:n.portal=t.requestOptions.portal,L(n)}async function L(e){const t=await Object(g.h)(e),n=await Promise.all(t.results.map(t=>async function(e,t=[],n){return Object(g.e)(e,t,n)}(t,e.include,e.requestOptions)))
return{total:t.total,results:n,hasNext:t.nextStart>-1,next:Object(a.b)(e,t.nextStart,t.total,L)}}const R={org:e=>{const{data:t,stack:n,requestOptions:r}=e,i=n.start("enrichUserOrg")
if(t.user.orgId){const s=Object.assign(Object.assign({},r),{portal:Object(d.c)(r.portal)+"/sharing/rest"})
return Object(u.e)(t.user.orgId,s).then(e=>(n.finish(i),{data:Object.assign(Object.assign({},t),{org:e}),stack:n,requestOptions:r})).catch(t=>((e,t,n)=>{const{data:r,stack:i,requestOptions:s}=t
return i.finish(n,{error:e}),{data:Object.assign(Object.assign({},r),{errors:Object(u.i)(e,r.errors)}),stack:i,requestOptions:s}})(t,e,i))}return n.finish(i),Promise.resolve({data:Object.assign(Object.assign({},t),{org:null}),stack:n,requestOptions:r})}}
async function P(e,t,n){var r
const i={access:e.access,id:e.username,type:"User",name:e.fullName,owner:e.username,summary:e.hasOwnProperty("description")?e.description:void 0,createdDate:new Date(e.created),createdDateSource:"user.created",updatedDate:new Date(e.modified),updatedDateSource:"user.modified",family:"people",links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:null}}
e.memberType&&(i.memberType=e.memberType,i.isGroupOwner=e.isGroupOwner)
const l=(t=["org.name AS orgName",...t].filter(s.k)).map(h.v),c=Object(p.l)("enrichment",l).filter(s.k)
let d={}
c.length&&(d=await function(e,t,n){const r=t.reduce((e,t)=>{const n=R[t]
return n&&e.push(n),e},[])
return Object(u.f)(r)({data:{user:e},stack:new u.a,requestOptions:n}).then(e=>e.data)}(e,c,n)),l.forEach(e=>{i[e.prop]=Object(o.a)(d,e.path)})
const b=null===(r=n.authentication)||void 0===r?void 0:r.token
return e.thumbnail&&(i.links.thumbnail=Object(a.e)(n.portal,e,b)),i.links.self=Object(f.a)(i.id,n),i.links.siteRelative="/people/"+i.id,i}async function F(e,t){if(!t.requestOptions)throw new i.a("portalSearchUsers","requestOptions: IHubRequestOptions is required.")
if(!t.requestOptions.authentication)throw new i.a("portalSearchUsers","requestOptions must pass authentication.")
e.filters=e.filters.map(e=>(e.predicates=e.predicates.map(i.c),e))
const n=Object(i.g)(e)
return["num","sortField","sortOrder","include","start","requestOptions"].forEach(e=>{t.hasOwnProperty(e)&&(n[e]=t[e])}),n.authentication=t.requestOptions.authentication,N(n)}async function N(e){const t=await Object(v.a)(e),n=await Promise.all(t.results.map(t=>async function(e,t=[],n){return P(e,t,n)}(t,e.include,e.requestOptions)))
return{total:t.total,results:n,hasNext:t.nextStart>-1,next:Object(a.b)(e,t.nextStart,t.total,N)}}const D=async(e,t)=>{const n=((e,t)=>{if(!e.requestOptions)throw new i.a("hubSearchChannels","options.requestOptions is required")
const n={},r={sortField:"sortBy",term:"name"};["num","start","sortField","sortOrder"].forEach(t=>{if(e.hasOwnProperty(t)){const{[t]:i=t}=r,s=i,a=((e,t)=>{let n=t
return"sortOrder"===e?n=null==t?void 0:t.toUpperCase():"sortBy"===e&&(n={created:"createdAt",modified:"updatedAt",title:null}[t]),n})(s,e[t])
i&&a&&(n[s]=a)}})
const s={},a=["access","groups","name"]
return t.filters.forEach(e=>{e.predicates.forEach(e=>{Object.keys(e).forEach(t=>{const{[t]:n=t}=r
a.includes(n)&&(s[n]=[...s[n]||[],e[t]])})})}),Object.assign(Object.assign({},e.requestOptions),{data:Object.assign(Object.assign({},n),s)})})(t,e)
return(async(e,t,n)=>{const{total:r,items:i,nextStart:s}=e
return{total:r,results:await Promise.all(i.map(async e=>{var t
return Object.assign(Object.assign({},e),{id:e.id,name:e.name,createdDate:new Date(e.createdAt),createdDateSource:"channel",updatedDate:new Date(e.updatedAt),updatedDateSource:"channel",type:"channel",access:e.access,family:"channel",owner:e.creator,links:{thumbnail:null,self:null,siteRelative:null},includes:{groups:(null===(t=n.include)||void 0===t?void 0:t.includes("groups"))?await Promise.all(e.groups.map(async e=>{let t
try{t=await Object(c.b)(e,n.requestOptions)}catch(n){t=null,console.warn("Cannot fetch group enhancement for id = "+e,n)}return t})):[]}})})),hasNext:s>-1,next:()=>D(t,Object.assign(Object.assign({},n),{start:s}))}})(await Object(j.a)(n),e,t)}
async function V(e,t){let n
if(e.filters.forEach(e=>{e.predicates.forEach(e=>{const t=Object(o.a)(e,"group")
Array.isArray(t)?n=t[0]:"string"==typeof t?n=t:"object"==typeof t&&(n=Object(o.a)(t,"any[0]")||Object(o.a)(t,"all[0]"))})}),!n)throw new i.a("portalSearchGroupMembers","Group Id required. Please pass as a predicate in the query.")
e.filters=e.filters.map(e=>{const t=["name","memberType","joined"]
return e.predicates=e.predicates.map(e=>(e.term&&(e.name=e.term,delete e.term),e)).map(e=>function(e,t){return Object(l.a)(e,{},t)}(e,t)).filter(e=>Object.entries(e).length>0).map(i.c),e})
const r=Object(i.g)(e)
return["num","sortField","sortOrder","include","start"].forEach(e=>{t.hasOwnProperty(e)&&(r[e]=t[e])}),r.groupId=n,r.requestOptions=t.requestOptions,U(r)}async function U(e){const t=Object.assign(Object.assign({},e),e.requestOptions),n=await Object(c.c)(e.groupId,t),r=await Promise.all(n.users.map(t=>async function(e,t=[],n){const r={username:e.username,memberType:e.memberType||"member",access:"private",fullName:null,firstName:null,lastName:null,description:null,orgId:null,groups:[],tags:[],thumbnail:null,created:null,modified:null,isGroupOwner:e.isGroupOwner},i=Object(m.a)(y.a,r),s=await i({username:e.username,authentication:n.authentication,portal:n.portal})
return Object.keys(r).forEach(e=>{s.hasOwnProperty(e)&&""!==s[e]&&Object(b.a)(e,s[e],r)}),P(r,t,n)}(Object.assign(Object.assign({},t),{isGroupOwner:n.owner.username===t.username}),e.include,e.requestOptions)))
return{total:n.total,results:r,hasNext:n.nextStart>-1,next:Object(a.b)(e,n.nextStart,n.total,U)}}async function G(e,t){if(!e)throw new i.a("hubSearch","Query is required.")
if(!Array.isArray(e.filters))throw new i.a("hubSearch","Query must have a filters array.")
if(!e.filters.length&&!e.collection)throw new i.a("hubSearch","Query must contain at least one Filter or a collection.")
if(!t.requestOptions)throw new i.a("hubSearch","requestOptions: IHubRequestOptions is required.")
t.include||(t.include=[])
const n=e.targetEntity,{requestOptions:a}=t,l=Object(r.a)(t,["requestOptions"]),c=Object(s.c)(l)
c.requestOptions=a,c.api=w(n,c)
const u={arcgis:{item:i.f,group:A,user:F,groupMember:V},"arcgis-hub":{item:C,channel:D}},d=Object(o.a)(u,`${c.api.type}.${n}`)
if(!d)throw new i.a("hubSearch",`Search via "${n}" filter against "${c.api.type}" api is not implemented. Please ensure "targetEntity" is defined on the query.`)
return d(Object(s.c)(e),c)}},1799:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))
var r=n(1301),i=n(1190)
function s(e,t,n){var r,i,s,a,o,l
let c
if("event"===t)c="#"
else if("none"===t)c=void 0
else switch(e.type){default:c={self:null===(r=e.links)||void 0===r?void 0:r.self,siteRelative:n?`${n}${(null===(i=e.links)||void 0===i?void 0:i.siteRelative)||""}`:null===(s=e.links)||void 0===s?void 0:s.siteRelative,workspaceRelative:n?`${n}${(null===(a=e.links)||void 0===a?void 0:a.workspaceRelative)||""}`:null===(o=e.links)||void 0===o?void 0:o.workspaceRelative}[t]
break
case"Hub Site Application":c=null===(l=e.links)||void 0===l?void 0:l.self}return c}function a(e,t,n,s){let a
if("event"===n)a="#"
else if("none"===n)a=void 0
else switch(e.type){default:a={self:Object(i.l)(e.id,t.hubRequestOptions),siteRelative:s?`${s}${Object(i.k)(e.type,e.id)}`:Object(i.k)(e.type,e.id),workspaceRelative:s?`${s}${Object(r.a)(e.type,e.id)}`:Object(r.a)(e.type,e.id)}[n]
break
case"Hub Site Application":a=Object(i.l)(e.id,t.hubRequestOptions)}return a}},1807:function(e,t,n){"use strict"
n.d(t,"a",(function(){return m}))
var r=n(1002),i=n(235),s=n(1568),a=n(1117),o=n(770),l=n(996),c=n(1197),u=n(1150)
class d{constructor(e,t){this.key=new u.a(0,0,0,0),this.bounds=Object(l.m)(),this.objectIds=new Set,this.key.set(t)
const n=e.getLODInfoAt(this.key)
this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}get id(){return this.key.id}get extent(){return o.default.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const e=this.key.getChildKeys(),t=a.a.acquire()
for(let n=0;n<e.length;n++)t[n]=new d(this.tileInfoView,e[n])
return t}getQuantizationParameters(){return c.a.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}var h=n(1418)
const p={added:[],removed:[]},f=new Set,b=new u.a(0,0,0,0)
class m extends r.a{constructor(e){super(),this._tiles=new Map,this._index=Object(s.a)(9,Object(i.a)("esri-csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]}
for(const n of e.added)if(!this.has(n)){const e=new d(this.tileScheme,n)
this._tiles.set(n,e),this._index.insert(e),t.added.push(e)}for(const n of e.removed)if(this.has(n)){const e=this.get(n)
this._tiles.delete(n),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach(e=>this.tiles.push(e)),(t.added.length||t.removed.length)&&this.emit("update",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0)
if(!t)return
const{spans:n,lodInfo:r}=t,{level:i}=r
if(n.length>0)for(const{row:e,colFrom:t,colTo:s}of n)for(let n=t;n<=s;n++){const t=b.set(i,e,r.normalizeCol(n),r.getWorldForColumn(n)).id
if(f.add(t),!this.has(t)){const e=new d(this.tileScheme,t)
this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),p.added.push(e)}}for(let e=this.tiles.length-1;e>=0;e--){const t=this.tiles[e]
f.has(t.id)||(this._tiles.delete(t.id),this.tiles.splice(e,1),this._index.remove(t),p.removed.push(t))}(p.added.length||p.removed.length)&&this.emit("update",p),h.a.pool.release(t),f.clear(),p.added.length=0,p.removed.length=0}}},1809:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
class r{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),(e=>e.includes("Brush"))(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark("Esri."+e))}}},1863:function(e,t,n){"use strict"
function r(e,t=300){let n
return function(r,...i){clearTimeout(n),n=setTimeout(()=>e.apply(r,i),t)}}function i(e){return function(t,n,i){const{value:s}=i,a=n.toString()+"Debounced"
return Object.assign(Object.assign({},i),{value:function(...t){this[a]||Object.defineProperty(this,a,{value:r(s,e.timeout)}),this[a](this,...t)}})}}n.d(t,"a",(function(){return i}))},1969:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
const r={type:String,json:{read:{source:"token"},write:{target:"token"}}}},2124:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
class r{constructor(){this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.handlers=new WeakMap}static create(){return r.instance||(r.instance=new r),r.instance}static addHandler(e,t){this.create(),this.instance.addHandler(e,t)}static removeHandler(e,t){this.instance&&this.instance.removeHandler(e,t)}static unobserve(e){this.instance&&this.instance.unobserve(e)}addHandler(e,t){this.handlers.has(e)||(this.handlers.set(e,[]),this.resizeObserver.observe(e))
const n=this.handlers.get(e)
n.includes(t)||n.push(t)}removeHandler(e,t){if(this.handlers.has(e)){const n=this.handlers.get(e),r=n.indexOf(t),i=n.filter((e,t)=>t!==r)
i.length?this.handlers.set(e,i):(this.handlers.delete(e),this.resizeObserver.unobserve(e))}}unobserve(e){this.handlers.has(e)&&(this.handlers.delete(e),this.resizeObserver.unobserve(e))}onResize(e){requestAnimationFrame(t=>{e.forEach(e=>{var t;(null!==(t=this.handlers.get(e.target))&&void 0!==t?t:[]).forEach(e=>e())})})}}},2125:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}))
var r=n(1190),i=n(1799),s=n(376)
const a=(e,t,n)=>{const{actionLinks:r=[],baseUrl:s="",locale:a="en-US",target:o="self"}=n||{},c=Object(i.a)(e,t,o,s)
return Object.assign(Object.assign(Object.assign({},l(e,a)),{actionLinks:r,titleUrl:c}),e.thumbnailUrl&&{thumbnailUrl:e.thumbnailUrl})},o=(e,t)=>{const{actionLinks:n=[],baseUrl:r="",locale:s="en-US",target:a="self"}=t||{},o=Object(i.b)(e,a,r)
return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l(e,s)),{actionLinks:n}),!isNaN(e.index)&&{index:e.index}),{titleUrl:o}),e.links.thumbnail&&{thumbnailUrl:e.links.thumbnail})},l=(e,t)=>{var n,i
const a=[{i18nKey:"type",value:e.type},{i18nKey:"dateUpdated",value:e.updatedDate.toLocaleDateString(t)},...(null===(n=e.tags)||void 0===n?void 0:n.length)?[{i18nKey:"tags",value:e.tags.join(", ")}]:[],...(null===(i=e.categories)||void 0===i?void 0:i.length)?[{i18nKey:"categories",value:Object(r.n)(e.categories).join(", ")}]:[],{i18nKey:"dateCreated",value:e.createdDate.toLocaleDateString(t)}]
return{access:e.access,badges:[],id:e.id,family:Object(s.c)(e.type),source:e.owner,summary:e.summary,title:e.name,type:e.type,additionalInfo:a}}},2126:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}))
var r=n(1190),i=n(1799),s=n(376)
const a=(e,t,n)=>{const{actionLinks:r=[],baseUrl:s="",locale:a="en-US",target:o="self"}=n||{},c=Object(i.a)(e,t,o,s)
return Object.assign(Object.assign(Object.assign({},l(e,a)),{actionLinks:r,titleUrl:c}),e.thumbnailUrl&&{thumbnailUrl:e.thumbnailUrl})},o=(e,t)=>{const{actionLinks:n=[],baseUrl:r="",locale:s="en-US",target:a="self"}=t||{},o=Object(i.b)(e,a,r)
return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l(e,s)),{actionLinks:n}),!isNaN(e.index)&&{index:e.index}),{titleUrl:o}),e.links.thumbnail&&{thumbnailUrl:e.links.thumbnail})},l=(e,t)=>{var n,i
const a=[{i18nKey:"type",value:e.type},{i18nKey:"dateUpdated",value:e.updatedDate.toLocaleDateString(t)},...(null===(n=e.tags)||void 0===n?void 0:n.length)?[{i18nKey:"tags",value:e.tags.join(", ")}]:[],...(null===(i=e.categories)||void 0===i?void 0:i.length)?[{i18nKey:"categories",value:Object(r.n)(e.categories).join(", ")}]:[],{i18nKey:"dateCreated",value:e.createdDate.toLocaleDateString(t)}]
return{access:e.access,badges:[],id:e.id,family:Object(s.c)(e.type),source:e.owner,summary:e.summary,title:e.name,type:e.type,additionalInfo:a}}},2127:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(1095),i=(n(1043),n(234),n(233))
function s(e,t,n,r){return e.watch(t,n,r)}n(973),Object(r.c)(i.a.getLogger("esri.core.watchUtils"),"esri/core/watchUtils",{see:"https://arcg.is/1LTnuf",replacement:"esri/core/reactiveUtils",warnOnce:!0,version:"4.24"})},2242:function(e,t,n){"use strict"
n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return M}))
var r=n(110),i=n(446),s=n(235),a=n(233),o=n(992),l=n(774),c=n(1028),u=(n(771),n(196),n(445),n(374),n(982),n(770),n(1004),n(1055),n(773),n(1021)),d=n(976)
new d.a({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"})
var h=n(983)
new d.a({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"})
var p=n(968),f=n(972),b=n(23),m=n(970),y=n(971),g=n(969)
let v=class extends f.a{constructor(e){super(e),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}}
Object(p.a)([Object(m.b)({type:String,json:{write:!0}})],v.prototype,"deviationUnit",void 0),Object(p.a)([Object(m.b)({json:{read:{reader:e=>e?e.map(e=>Object(h.a)(e)).filter(b.l):null},write:{writer:(e,t)=>{var n
t.geometries=null!=(n=null==e?void 0:e.map(e=>e.toJSON()))?n:null}}}})],v.prototype,"geometries",void 0),Object(p.a)([Object(m.b)({type:Number,json:{write:!0}})],v.prototype,"maxDeviation",void 0),v=Object(p.a)([Object(g.a)("esri.rest.support.GeneralizeParameters")],v),v.from=Object(y.m)(v),new d.a({preserveShape:"preserve-shape"})
let O=class extends f.a{constructor(e){super(e),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}}
Object(p.a)([Object(m.b)({type:String,json:{write:!0}})],O.prototype,"calculationType",void 0),Object(p.a)([Object(m.b)({type:Boolean,json:{write:!0}})],O.prototype,"geodesic",void 0),Object(p.a)([Object(m.b)({json:{write:!0}})],O.prototype,"lengthUnit",void 0),Object(p.a)([Object(m.b)({type:[u.a],json:{read:{reader:e=>e?e.map(e=>Object(h.a)(e)):null},write:{writer:(e,t)=>{t.polylines=e.map(e=>e.toJSON())}}}})],O.prototype,"polylines",void 0),O=Object(p.a)([Object(g.a)("esri.rest.support.LengthsParameters")],O),O.from=Object(y.m)(O),new d.a({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),new d.a({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"})
let j=class extends f.a{constructor(e){super(e),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}}
Object(p.a)([Object(m.b)({type:Number,json:{write:!0}})],j.prototype,"bevelRatio",void 0),Object(p.a)([Object(m.b)({json:{read:{reader:e=>e?e.map(e=>Object(h.a)(e)).filter(b.l):null},write:{writer:(e,t)=>{var n
t.geometries=null!=(n=null==e?void 0:e.map(e=>e.toJSON()))?n:null}}}})],j.prototype,"geometries",void 0),Object(p.a)([Object(m.b)({type:Number,json:{write:!0}})],j.prototype,"offsetDistance",void 0),Object(p.a)([Object(m.b)({type:String,json:{write:!0}})],j.prototype,"offsetHow",void 0),Object(p.a)([Object(m.b)({type:String,json:{write:!0}})],j.prototype,"offsetUnit",void 0),j=Object(p.a)([Object(g.a)("esri.rest.support.OffsetParameters")],j),j.from=Object(y.m)(j)
var w=n(1797)
new d.a({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"})
let _=class extends f.a{constructor(e){super(e),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}}
Object(p.a)([Object(m.b)({json:{read:{reader:e=>e?e.map(e=>Object(h.a)(e)).filter(b.l):null},write:{writer:(e,t)=>{var n
t.geometries1=null!=(n=null==e?void 0:e.map(e=>e.toJSON()))?n:null}}}})],_.prototype,"geometries1",void 0),Object(p.a)([Object(m.b)({json:{read:{reader:e=>e?e.map(e=>Object(h.a)(e)).filter(b.l):null},write:{writer:(e,t)=>{var n
t.geometries2=null!=(n=null==e?void 0:e.map(e=>e.toJSON()))?n:null}}}})],_.prototype,"geometries2",void 0),Object(p.a)([Object(m.b)({type:String,json:{write:!0}})],_.prototype,"relation",void 0),Object(p.a)([Object(m.b)({type:String,json:{write:!0}})],_.prototype,"relationParameter",void 0),_=Object(p.a)([Object(g.a)("esri.rest.support.RelationParameters")],_),_.from=Object(y.m)(_),new d.a({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"})
let S=class extends f.a{constructor(e){super(e),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}}
Object(p.a)([Object(m.b)({type:String,json:{write:!0}})],S.prototype,"extendHow",void 0),Object(p.a)([Object(m.b)({type:[u.a],json:{read:{reader:e=>e?e.map(e=>Object(h.a)(e)):null},write:{writer:(e,t)=>{t.polylines=e.map(e=>e.toJSON())}}}})],S.prototype,"polylines",void 0),Object(p.a)([Object(m.b)({json:{read:{reader:e=>e?Object(h.a)(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],S.prototype,"trimExtendTo",void 0),S=Object(p.a)([Object(g.a)("esri.rest.support.TrimExtendParameters")],S),S.from=Object(y.m)(S)
var x=n(1642)
const T=a.a.getLogger("esri.widgets.support.geolocationUtils"),I={maximumAge:0,timeout:15e3,enableHighAccuracy:!0}
function M(){return function(){const e=Object(s.a)("esri-geolocation")
return e||T.warn("geolocation-unsupported","Geolocation unsupported."),e}()&&function(){const e=window.isSecureContext
return e||T.warn("insecure-context","Geolocation requires a secure origin."),e}()}function E(e){return e||(e=I),new Promise((t,n)=>{setTimeout(()=>n(new i.a("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(t,n,e)})}function k(e,t){var n
const{position:s,view:a}=e,u=null==(n=function(e){const t=e&&e.coords||{},n={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed}
return e?{coords:n,timestamp:e.timestamp}:e}(s))?void 0:n.coords
if(!u)throw new i.a("geometry-service:no-coords","Geolocation has no coordinates")
return function(e,t,n){if(!t)return Promise.resolve(e)
const s=t.spatialReference
return s.isWGS84?Promise.resolve(e):s.isWebMercator?Promise.resolve(Object(l.geographicToWebMercator)(e)):function(e){if(r.default.geometryServiceUrl)return Promise.resolve(r.default.geometryServiceUrl)
const t=c.a.getDefault()
return t.load(e).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}(n).then(t=>{if(!t)throw new i.a("geometry-service:missing-url","Geometry service URL is missing")
const r=new x.a({geometries:[e],outSpatialReference:s})
return Object(w.a)(t,r,n).then(e=>e[0])})}(function({longitude:e,latitude:t,altitude:n}){return new o.a({longitude:e,latitude:t,z:n||void 0,spatialReference:{wkid:4326}})}(u),a,t)}},2524:function(e,t,n){"use strict"
n.d(t,"a",(function(){return Ze}))
var r=n(968),i=n(1019),s=n(110),a=n(772),o=n(775),l=(n(995),n(975)),c=n(993),u=n(446),d=n(1002),h=n(1007),p=n(233),f=n(23),b=n(973),m=n(978),y=n(970),g=n(971),v=(n(445),n(969)),O=n(992),j=n(769),w=n(1005),_=n(1027),S=n(1028),x=n(1417),T=n(234),I=n(1063),M=n(972)
let E=class extends(Object(I.b)(M.a)){constructor(e){super(e),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}}
Object(r.a)([Object(y.b)()],E.prototype,"autoNavigate",void 0),Object(r.a)([Object(y.b)()],E.prototype,"filter",void 0),Object(r.a)([Object(y.b)()],E.prototype,"getResults",void 0),Object(r.a)([Object(y.b)()],E.prototype,"getSuggestions",void 0),Object(r.a)([Object(y.b)()],E.prototype,"maxResults",void 0),Object(r.a)([Object(y.b)()],E.prototype,"maxSuggestions",void 0),Object(r.a)([Object(y.b)()],E.prototype,"minSuggestCharacters",void 0),Object(r.a)([Object(y.b)()],E.prototype,"outFields",void 0),Object(r.a)([Object(y.b)()],E.prototype,"placeholder",void 0),Object(r.a)([Object(y.b)()],E.prototype,"popupEnabled",void 0),Object(r.a)([Object(y.b)()],E.prototype,"popupTemplate",void 0),Object(r.a)([Object(y.b)()],E.prototype,"prefix",void 0),Object(r.a)([Object(y.b)()],E.prototype,"resultGraphicEnabled",void 0),Object(r.a)([Object(y.b)()],E.prototype,"resultSymbol",void 0),Object(r.a)([Object(y.b)()],E.prototype,"suggestionsEnabled",void 0),Object(r.a)([Object(y.b)()],E.prototype,"suffix",void 0),Object(r.a)([Object(y.b)()],E.prototype,"withinViewEnabled",void 0),Object(r.a)([Object(y.b)()],E.prototype,"zoomScale",void 0),E=Object(r.a)([Object(v.a)("esri.widgets.Search.SearchSource")],E)
const k=E
n(1083)
var C=n(997),A=n(773),L=n(1273),R=(n(982),n(1538)),P=n(770)
const F=p.a.getLogger("esri.widgets.Search.support.geometryUtils")
function N(e,t){var n,r
if(!t)return F.error("missing-parameter: view is missing."),Promise.reject(new u.a("searchgeometryutils:missing-parameter","view is missing."))
if(!e)return F.error("missing-parameter: point is missing."),Promise.reject(new u.a("searchgeometryutils:missing-parameter","point is missing."))
if(e.hasZ||"2d"===t.type)return Promise.resolve(e)
const i=null==t||null==(n=t.map)?void 0:n.ground
return i&&i.layers.length?i.queryElevation(e,{cache:null==(r=t.basemapTerrain)?void 0:r.elevationQueryCache}).then(e=>e.geometry):Promise.resolve(e)}function D(e){if(Object(f.k)(e))return null
switch(e.type){case"point":return e
case"extent":return e.center
case"polygon":return e.centroid
case"multipoint":return e.getPoint(0)
case"polyline":return e.getPoint(0,0)}return null}function V(e,t,n){return Object(f.k)(e)?null:"extent"===e.type?e:"multipoint"===e.type||"polygon"===e.type||"polyline"===e.type?e.extent:"point"===e.type?G(e,t,n):void 0}function U(e,t,n){return Object(f.k)(e)||Object(f.k)(t)?null:G(e.center,t,n)}function G(e,t,n){const r=e.hasZ?e.z:void 0
return t&&t.map?(n?Object(R.a)(t,n):t.extent).clone().centerAt(e).set({zmax:r,zmin:r}):new P.default({xmin:e.x-.25,ymin:e.y-.25,xmax:e.x+.25,ymax:e.y+.25,spatialReference:e.spatialReference,zmin:r,zmax:r})}var z=n(1115),q=n(1039)
const B=/https?:\/\/services.*\.arcgis\.com/i,$=/(?:\{([^}]+)\})/g,H=p.a.getLogger("esri.widgets.Search.support.layerSearchUtils")
function W(e,t){const{filter:n,withinViewEnabled:r}=e,i=t&&t.extent
return n&&n.geometry||(r&&i?i:void 0)}function Z(e){return e&&e.includes("*")}async function K(e){e&&await e.load()}function J(e){return!(!e.fullText&&!e.where)}function Y(e,t){const n=null==e?void 0:e.indexes
return!(!n||null==t||!t.length)&&n.filter(e=>"FullText"===e.indexType).some(e=>{var n
const r=(null==(n=e.fields)?void 0:n.split(",").map(e=>e.trim().toLowerCase()))||[]
return t.every(e=>r.includes(e.toLowerCase()))})}function X({text:e,searchFields:t}){return e.trim().split(" ").filter(e=>!!e.trim()).map(e=>new L.a({onFields:t,searchTerm:e,searchType:"prefix"}))}function Q(e){var t,n,r
return null!=(t=null==e||null==(n=e.capabilities)||null==(r=n.query)?void 0:r.supportsFullTextSearch)&&t}function ee(e){var t,n,r
return null!=(t=null==e||null==(n=e.capabilities)||null==(r=n.query)?void 0:r.supportsPagination)&&t}function te(e){return e.displayField||e.layer.displayField||function(e){var t,n,r,i
return null!=(t=null==e||null==(n=e.fieldsIndex)||null==(r=n.fields)||null==(i=r.find(e=>"string"===e.type))?void 0:i.name)?t:""}(e.layer)}function ne(e,t){return!(!e||null==t||!t.length)&&t.every(t=>re(e,t))}function re(e,t){return!!e.getField(t)}function ie(e){return e.replace(/\'/g,"''")}function se(e,t){const n=t&&t.where
return n?`(${e}) AND (${n})`:e}function ae({searchTerm:e,layer:t,searchFields:n,filter:r,exactMatch:i,query:s,type:a}){const{definitionExpression:o,url:l}=t
let c=""
return!s.fullText&&e&&n&&n.forEach(n=>{const s=t.getField(n),o="function"==typeof t.getFieldDomain&&t.getFieldDomain(n),u=(o&&"coded-value"===o.type?function(e,t,n){let r=null
const{codedValues:i}=e
return i&&i.some(e=>{const i=e.name,s=n?i:i.toLowerCase()
return(n?t:t.toLowerCase())===s&&(r=e.code.toString(),!0)}),r}(o,e,i):null)||e||null
if(null!==u){const e=function({currentTerm:e,field:t,filter:n,exactMatch:r,url:i,type:s}){const a=t.type,o=t.name
if("string"===a||"date"===a||"global-id"===a){const t=B.test(i),a=t&&function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0
return!1}(e)?"N":""
return se(r&&"search"===s?`${o} = ${a}'${e}'`:t?`${o} LIKE ${a}'${e}%'`:`LOWER(${o}) LIKE ${a}'${e.toLowerCase()}%'`,n)}if("oid"===a||"small-integer"===a||"integer"===a||"single"===a||"double"===a){const t=Number(e)
return isNaN(t)?null:se(`${o} = ${t}`,n)}return se(`${o} = ${e}`,n)}({currentTerm:u,field:s,filter:r,exactMatch:i,url:l,type:a})
e&&(c+=function(e,t){return e?` OR (${t})`:`(${t})`}(c,e))}}),o&&c?`(${o}) AND (${c})`:o||c}function oe(e,t,n){const r=e.sourceLayer,{attributes:i}=e,s="function"==typeof r.getFieldDomain&&r.getFieldDomain(n)
if(t)return Object(z.a)(t,i)
if(n&&i){const e=r.getField(n),t=function(e,t){return e[Object.keys(e).find(e=>e.toLowerCase()===t.toLowerCase())]}(i,n)
return null==t?"":s&&"coded-value"===s.type?function(e,t){let n=null
const{codedValues:r}=e
return r&&r.length&&r.some(e=>e.code===t&&(n=e.name,!0)),n}(s,t):"date"===(null==e?void 0:e.type)?Object(q.b)(new Date(t)):"number"==typeof t?t.toString():"string"!=typeof t?"":t.trim()}return""}var le
let ce=le=class extends k{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(e,t)=>function(e,t){const{exactMatch:n=!1,location:r,maxResults:i,spatialReference:s,source:a,sourceIndex:o,suggestResult:l,view:c}=e,{layer:d,filter:h,zoomScale:p}=a,b=c&&c.scale,m=W(a,c),y=t&&t.signal
return K(d).then(()=>{const e=d.popupTemplate
return e?e.getRequiredFields(d.fieldsIndex):null}).then(e=>{var t,g,v
const{objectIdField:O,returnZ:j}=d,w=te(a)
if(!re(d,w))throw H.error("invalid-field: displayField is invalid."),new u.a("getResults():invalid-field","displayField is invalid.")
const _=e&&e.length?e:[w],S=a.outFields||_,x=Z(S)
if(S.includes(O)||x||S.push(O),(null==(t=d.floorInfo)?void 0:t.floorField)&&S.push(d.floorInfo.floorField),!x&&!ne(d,S))throw H.error("invalid-field: outField is invalid."),new u.a("getResults():invalid-field","outField is invalid.")
const I=d.createQuery(),{orderByFields:M}=a
if(M&&(I.orderByFields=M),s){I.outSpatialReference=s
const e=1/Object(C.g)(s)
e&&(I.maxAllowableOffset=e)}const E="mesh"===d.geometryType||"multipatch"===d.geometryType,k=(null==(g=d.capabilities)||null==(v=g.data)?void 0:v.supportsZ)&&!E
if(I.returnZ=k&&!1!==j,I.returnGeometry=!0,I.multipatchOption=E?"xyFootprint":null,S&&(I.outFields=S),r)I.geometry=r
else if(l.key)I.objectIds=[l.key]
else{const e=a.searchFields||[w]
if(!ne(d,e))throw H.error("invalid-field: search field is invalid."),new u.a("getResults():invalid-field","search field is invalid.")
if(ee(d)&&(I.num=i),m&&(I.geometry=m),!l.text.trim())return[]
const t=l.text,{prefix:r="",suffix:s=""}=a,o=ie(`${r}${t}${s}`)
Q(d)&&Y(d,e)&&!n&&t&&(I.fullText=X({text:t,searchFields:e}))
const c=ae({searchTerm:o,layer:d,searchFields:e,filter:h,exactMatch:n,query:I,type:"search"})
if(I.where=c,!J(I))return[]}return d.queryFeatures(I,{signal:y}).then(e=>function(e,t,n,r,i,s,a){return e.features.map(e=>function(e,t,n,r,i,s,a){const o=e.clone(),l=e.sourceLayer,c=l&&l.objectIdField,u=c&&e.attributes[c],d=oe(e,n.searchTemplate,i),h=V(o.geometry,t,s),p="number"==typeof a?U(Object(T.a)(h),t,a):h,b=e.clone()
return Object(f.l)(p)&&(b.geometry=A.default.fromExtent(p)),{extent:p,target:b,feature:o,key:u,name:d,sourceIndex:r}}(e,t,n,r,i,s,a))}(e,c,a,o,w,b,p))})}({source:this,...e},t),this.getSuggestions=(e,t)=>function(e,t){const{source:n,spatialReference:r,view:i,suggestTerm:s,maxSuggestions:a,sourceIndex:o,exactMatch:l}=e,{layer:c,filter:d}=n,h=t&&t.signal,p=W(n,i)
return K(c).then(()=>{if(!ee(c))return[]
const e=te(n),t=n.searchFields||[e],i=[]
n.suggestionTemplate?n.suggestionTemplate.replace($,(e,t)=>(i.push(t),e)):i.push(e)
const f=Z(i)
i.includes(c.objectIdField)||f||i.push(c.objectIdField)
const b=re(c,e),m=f||ne(c,i),y=ne(c,t)
if(!b)throw H.error("invalid-field: displayField is invalid."),new u.a("getSuggestions():invalid-field","displayField is invalid.")
if(!m)throw H.error("invalid-field: outField is invalid."),new u.a("getSuggestions():invalid-field","outField is invalid.")
if(!y)throw H.error("invalid-field: search field is invalid."),new u.a("getSuggestions():invalid-field","search field is invalid.")
const g=c.createQuery(),{orderByFields:v}=n
if(v&&(g.orderByFields=v),g.outSpatialReference=r,g.returnGeometry=!1,g.num=a,g.outFields=i,p&&(g.geometry=p),!s.trim())return[]
const{prefix:O="",suffix:j=""}=n,w=ie(`${O}${s}${j}`)
Q(c)&&Y(c,t)&&!l&&s&&(g.fullText=X({text:s,searchFields:t}))
const _=ae({searchTerm:w,layer:c,searchFields:t,filter:d,exactMatch:l,query:g,type:"suggest"})
return g.where=_,J(g)?c.queryFeatures(g,{signal:h}).then(t=>function(e,t,n,r){return e.features.map(e=>function(e,t,n,r){const i=e.sourceLayer,{attributes:s}=e,{objectIdField:a}=i,o=s[a]
return{text:oe(e,t.suggestionTemplate,r),key:o,sourceIndex:n}}(e,t,n,r))}(t,n,o,e)):[]})}({source:this,...e},t)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){var e
return null!=(e=this._getLayerTitle())?e:""}set name(e){this._overrideIfSome("name",e)}clone(){return new le({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Object(T.a)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?Object(T.a)(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t
return null!=(e=null==(t=this.layer.fieldsIndex.fields.find(e=>"string"===e.type))?void 0:t.name)?e:""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this
return e.loaded?": "+(t||[this._getDisplayField()]).map(t=>{const n=e.getField(t)
return n&&n.alias||t}).join(", "):""}_getLayerTitle(){const{layer:e}=this
if(!e)return
const{title:t}=e
return t?`${t}${this._getSearchFieldsString()}`:void 0}}
Object(r.a)([Object(y.b)({json:{read:{source:"field.name"},write:{target:"field.name"}}})],ce.prototype,"displayField",void 0),Object(r.a)([Object(y.b)({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],ce.prototype,"exactMatch",void 0),Object(r.a)([Object(y.b)({value:null})],ce.prototype,"layer",null),Object(r.a)([Object(y.b)()],ce.prototype,"name",null),Object(r.a)([Object(y.b)({type:[String],json:{write:!0}})],ce.prototype,"orderByFields",void 0),Object(r.a)([Object(y.b)()],ce.prototype,"searchFields",void 0),Object(r.a)([Object(y.b)()],ce.prototype,"searchTemplate",void 0),Object(r.a)([Object(y.b)()],ce.prototype,"suggestionTemplate",void 0),ce=le=Object(r.a)([Object(v.a)("esri.widgets.Search.LayerSearchSource")],ce)
const ue=ce
var de=n(771),he=n(1074)
let pe=class extends M.a{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}}
Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],pe.prototype,"address",void 0),Object(r.a)([Object(y.b)({type:Object,json:{write:!0}})],pe.prototype,"attributes",void 0),Object(r.a)([Object(y.b)({type:P.default,json:{write:!0}})],pe.prototype,"extent",void 0),Object(r.a)([Object(y.b)({type:O.a,json:{write:!0}})],pe.prototype,"location",void 0),Object(r.a)([Object(y.b)({type:Number,json:{write:!0}})],pe.prototype,"score",void 0),pe=Object(r.a)([Object(v.a)("esri.rest.support.AddressCandidate")],pe)
const fe=pe
var be=n(1969)
let me=class extends M.a{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}}
Object(r.a)([Object(y.b)({type:Object,json:{write:!0}})],me.prototype,"address",void 0),Object(r.a)([Object(y.b)(be.a)],me.prototype,"apiKey",void 0),Object(r.a)([Object(y.b)({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],me.prototype,"categories",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],me.prototype,"countryCode",void 0),Object(r.a)([Object(y.b)({type:Boolean,json:{write:!0}})],me.prototype,"forStorage",void 0),Object(r.a)([Object(y.b)({type:O.a,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],me.prototype,"location",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],me.prototype,"locationType",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],me.prototype,"magicKey",void 0),Object(r.a)([Object(y.b)({type:Number,json:{write:!0}})],me.prototype,"maxLocations",void 0),Object(r.a)([Object(y.b)({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],me.prototype,"outFields",void 0),Object(r.a)([Object(y.b)({type:j.default,json:{read:{source:"outSR"},write:{target:"outSR"}}})],me.prototype,"outSpatialReference",void 0),Object(r.a)([Object(y.b)({type:P.default,json:{write:{writer:(e,t)=>{const n=e?e.shiftCentralMeridian():null
t.searchExtent=n}}}})],me.prototype,"searchExtent",void 0),me=Object(r.a)([Object(v.a)("esri.rest.support.AddressToLocationsParameters")],me),me.from=Object(g.m)(me)
const ye=me
function ge({data:e}){if(!e)return[]
const{candidates:t,spatialReference:n}=e
return t?t.map(e=>{if(!e)return
const{extent:t,location:r}=e,i=!t||function(e){return e&&"number"==typeof e.xmin&&"number"==typeof e.ymin&&"number"==typeof e.xmax&&"number"==typeof e.ymax}(t)
return function(e){return!!e&&"number"==typeof e.x&&"number"==typeof e.y}(r)&&i?(t&&(t.spatialReference=n),r&&(r.spatialReference=n),fe.fromJSON(e)):void 0}):[]}let ve=class extends M.a{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}}
Object(r.a)([Object(y.b)(be.a)],ve.prototype,"apiKey",void 0),Object(r.a)([Object(y.b)({type:O.a,json:{write:{writer:(e,t)=>{const n=e?e.clone().normalize():null,r=void 0!==n
t.location=r?n:null}}}})],ve.prototype,"location",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],ve.prototype,"locationType",void 0),Object(r.a)([Object(y.b)({type:j.default,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ve.prototype,"outSpatialReference",void 0),ve=Object(r.a)([Object(v.a)("esri.rest.support.LocationToAddressParameters")],ve),ve.from=Object(g.m)(ve)
const Oe=ve
function je({data:e}){if(!e)return
const{address:t,location:n}=e,r=t&&t.Match_addr||""
return fe.fromJSON({address:r,attributes:t||{},location:n,score:100})}let we=class extends M.a{constructor(e){super(e),this.isCollection=null,this.magicKey=null,this.text=null}}
Object(r.a)([Object(y.b)({type:Boolean,json:{write:!0}})],we.prototype,"isCollection",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],we.prototype,"magicKey",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],we.prototype,"text",void 0),we=Object(r.a)([Object(v.a)("esri.rest.support.SuggestionCandidate")],we)
const _e=we
let Se=class extends M.a{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}}
Object(r.a)([Object(y.b)(be.a)],Se.prototype,"apiKey",void 0),Object(r.a)([Object(y.b)({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Se.prototype,"categories",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],Se.prototype,"countryCode",void 0),Object(r.a)([Object(y.b)({type:O.a,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Se.prototype,"location",void 0),Object(r.a)([Object(y.b)({type:Number,json:{write:!0}})],Se.prototype,"maxSuggestions",void 0),Object(r.a)([Object(y.b)({type:j.default,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Se.prototype,"outSpatialReference",void 0),Object(r.a)([Object(y.b)({type:P.default,json:{write:{writer:(e,t)=>{const n=e?e.shiftCentralMeridian():null
t.searchExtent=JSON.stringify(n)}}}})],Se.prototype,"searchExtent",void 0),Object(r.a)([Object(y.b)({type:String,json:{write:!0}})],Se.prototype,"text",void 0),Se=Object(r.a)([Object(v.a)("esri.rest.support.SuggestLocationsParameters")],Se),Se.from=Object(g.m)(Se)
const xe=Se
function Te(e){const{data:t}=e
if(!t)return[]
const{suggestions:n}=t
return n?n.map(e=>new _e(e)):[]}function Ie(e,t){if(t.localSearchDisabled)return null
const n=null==e?void 0:e.scale
return"number"==typeof n&&n<=3e5?e.get("extent.center"):null}function Me(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function Ee(e,t){const{filter:n,withinViewEnabled:r}=e,i=t&&t.scale,s=t&&t.extent
return V(n&&n.geometry,t,i)||(r&&s?s:void 0)}function ke(e,t){return e.filter(Boolean).map(e=>function(e,t){const{key:n,scale:r,sourceIndex:i,view:s,zoomScale:o,defaultZoomScale:l}=t,{attributes:c,extent:u,location:d,address:h}=e,p=new a.default({geometry:d,attributes:c}),b=u||d,m=V(b,s,r),y="number"==typeof o?U(m,s,o):"number"==typeof l&&"point"===b.type?U(m,s,l):m,g=d?`${d.x},${d.y}`:"",v=h||g,O=p.clone()
return Object(f.l)(y)&&(O.geometry=A.default.fromExtent(y)),{extent:y,feature:p,target:O,key:n,name:v,sourceIndex:i}}(e,t))}var Ce
let Ae=Ce=class extends k{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(e,t)=>function(e,t){return e.location?function(e,t){const{source:n,spatialReference:r,location:i,sourceIndex:s,view:a}=e,{apiKey:o,url:l,zoomScale:c,defaultZoomScale:u}=n,d=a&&a.scale,h=t&&t.signal,p=new Oe
return p.location=i,o&&(p.apiKey=o),r&&(p.outSpatialReference=r),async function(e,t,n){t=Oe.from(t)
const r=Object(he.c)(e),i={...t.toJSON(),f:"json"},s=Object(he.b)({...r.query,...i}),a=Object(he.a)(s,n),o=r.path+"/reverseGeocode"
return Object(de.default)(o,a).then(je)}(l,p,{signal:h}).then(e=>ke([e],{sourceIndex:s,scale:d,view:a,zoomScale:c,defaultZoomScale:u})).catch(()=>[])}(e,t):function(e,t){const{source:n,suggestResult:r,spatialReference:i,view:s,maxResults:a,sourceIndex:o}=e,l=n&&n.zoomScale,c=n&&n.defaultZoomScale
if(!r.text.trim())return Promise.resolve(null)
const u=!r.key&&n.prefix?n.prefix:"",d=!r.key&&n.suffix?n.suffix:"",h=`${u}${r.text}${d}`,p=new ye,{apiKey:b,url:m}=n,y=s&&s.scale,g=Ee(n,s),v=t&&t.signal
if(b&&(p.apiKey=b),!m)return Promise.resolve(null)
n.categories&&(p.categories=n.categories),n.locationType&&(p.locationType=n.locationType),i&&(p.outSpatialReference=i)
const O=Ie(s,n)
O&&(p.location=O),p.maxLocations=a,g&&(p.searchExtent=Object(f.u)(g)),n.countryCode&&(p.countryCode=n.countryCode)
const{key:j}=r,w=""+j
return j&&(p.magicKey=w),p.address={},p.address[n.singleLineFieldName||"Single Line Input"]=h,n.outFields&&(p.outFields=n.outFields),async function(e,t,n){t=ye.from(t)
const r=Object(he.c)(e),{address:i,...s}=t.toJSON(),a={...i,...s,f:"json"},o=Object(he.b)({...r.query,...a}),l=Object(he.a)(o,n),c=r.path+"/findAddressCandidates"
return Object(de.default)(c,l).then(ge)}(m,p,{signal:v}).then(e=>ke(e,{key:w,scale:y,sourceIndex:o,view:s,zoomScale:l,defaultZoomScale:c}))}(e,t)}({source:this,...e},t),this.getSuggestions=(e,t)=>function(e,t){const{source:n,spatialReference:r,view:i,suggestTerm:s,maxSuggestions:a,sourceIndex:o}=e,l=new xe,{apiKey:c,url:u}=n,d=Ee(n,i),h=t&&t.signal
if(!u)return Promise.resolve(null)
c&&(l.apiKey=c),n.categories&&(l.categories=n.categories),r&&(l.outSpatialReference=r)
const p=Ie(i,n)
if(p&&(l.location=p),!s.trim())return Promise.resolve(null)
const{prefix:b="",suffix:m=""}=n,y=`${b}${s}${m}`
return l.text=y,d&&(l.searchExtent=Object(f.u)(d)),l.maxSuggestions=a,n.countryCode&&(l.countryCode=n.countryCode),async function(e,t,n){const r=Object(he.c)(e),i={...(t=xe.from(t)).toJSON(),f:"json"},s=Object(he.b)({...r.query,...i}),a=Object(he.a)(s,n),o=r.path+"/suggest"
return Object(de.default)(o,a).then(Te)}(u,l,{signal:h}).then(e=>function(e,t){return e.map(e=>function(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}(e,t))}(e,o))}({source:this,...e},t)}clone(){return new Ce({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Object(T.a)(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?Object(T.a)(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}}
Object(r.a)([Object(y.b)()],Ae.prototype,"apiKey",void 0),Object(r.a)([Object(y.b)()],Ae.prototype,"categories",void 0),Object(r.a)([Object(y.b)()],Ae.prototype,"countryCode",void 0),Object(r.a)([Object(y.b)({json:{write:!0}})],Ae.prototype,"defaultZoomScale",void 0),Object(r.a)([Object(y.b)()],Ae.prototype,"localSearchDisabled",void 0),Object(r.a)([Object(y.b)()],Ae.prototype,"locationType",void 0),Object(r.a)([Object(y.b)({json:{write:!0}})],Ae.prototype,"name",void 0),Object(r.a)([Object(y.b)({json:{write:!0}})],Ae.prototype,"placeholder",void 0),Object(r.a)([Object(y.b)()],Ae.prototype,"searchTemplate",void 0),Object(r.a)([Object(y.b)({json:{write:!0}})],Ae.prototype,"singleLineFieldName",void 0),Object(r.a)([Object(y.b)({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Ae.prototype,"suggestionsEnabled",void 0),Object(r.a)([Object(y.b)({json:{write:!0}})],Ae.prototype,"url",void 0),Object(r.a)([Object(y.b)({json:{write:!0}})],Ae.prototype,"zoomScale",void 0),Ae=Ce=Object(r.a)([Object(v.a)("esri.widgets.Search.LocatorSearchSource")],Ae)
const Le=Ae
var Re=n(2242),Pe=n(1521),Fe=n(1402),Ne=n(1065),De=n(1073),Ve=n(1239)
function Ue(e,t){return e.hasOwnProperty(t)&&null!=e[t]&&""!==e[t]}const Ge="esri.widgets.Search.SearchViewModel",ze=p.a.getLogger(Ge),qe="highlight",Be=c.a.ofType({key:e=>e.layer?"layer":"locator",base:k,typeMap:{layer:ue,locator:Le}}),$e=j.default.WGS84,He=/<(?:.|\s)*?>/g
let We=class extends(Object(Pe.a)(d.a.EventedMixin(l.a))){constructor(e){super(e),this._handles=new h.a,this._gotoController=null,this._searching=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new Be,this.defaultSymbols={point:new Fe.a({url:Object(i.b)("esri/images/search/search-symbol-32.png"),size:24,width:24,height:24}),polyline:new Ne.a({color:[130,130,130,1],width:2}),polygon:new De.a({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=S.a.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new Be,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const e=async()=>{const e=await Object(_.a)("esri/widgets/Search/t9n/Search")
this.messages=e,this.defaultPopupTemplate=new o.default({title:e.searchResult,content:"{Match_addr}"})}
e(),this._handles.add([Object(m.f)(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),m.a),Object(w.c)(e)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){var e
return null!=(e=this.allSources.at(this.activeSourceIndex))?e:null}get activeSourceIndex(){return 1!==this.allSources.length&&this.searchAllEnabled?-1:0}set activeSourceIndex(e){this._overrideIfSome("activeSourceIndex",e)}get allPlaceholder(){var e
return null==(e=this.messages)?void 0:e.allPlaceholder}set allPlaceholder(e){this._overrideIfSome("allPlaceholder",e)}get allSources(){const{sources:e,defaultSources:t,includeDefaultSources:n}=this,r="function"==typeof n?n.call(null,{sources:e,defaultSources:t}):n?t.concat(e):e,i=this._get("allSources")||new Be
return i.removeAll(),i.addMany(r.filter(Boolean)),i}get locationEnabled(){return this._get("locationEnabled")||Object(Re.c)()}set locationEnabled(e){if(void 0===e)return void this._clearOverride("locationEnabled")
const t=Object(Re.c)()
if(e&&!t){const e=new u.a("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation})
ze.error(e)}this._override("locationEnabled",!!e&&t)}get placeholder(){const{allSources:e,activeSourceIndex:t,allPlaceholder:n}=this
if(-1===t)return n
const r=e.at(t)
return r?r.placeholder:""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),""===e&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":0===this.allSources.length?"disabled":"ready"}get updating(){return null!=this._updatingPromise}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(e,t){this.emit("search-start"),this.clearGraphics()
const n=this._createSuggestionForSearch(e),r=this.when().then(()=>this._getResultsFromSources(n,t).then(e=>{var r
if(null!=(r=Object(f.u)(null==t?void 0:t.signal))&&r.aborted)return null
const i={activeSourceIndex:this.activeSourceIndex,searchTerm:n.text,numResults:0,numErrors:0,errors:[],results:[]}
this._formatResponse(i,e,n)
const s=this._getFirstResult(i.results),a=(n.location&&s?s.name:n.text).replace(He,"")
return this._set("searchTerm",a),(n.key&&"number"==typeof n.sourceIndex||n.location)&&this._set("selectedSuggestion",n),this._set("results",i.results),this._set("resultCount",i.results.reduce((e,t)=>e+t.results.length,0)),this.emit("search-complete",i),this._selectFirstResult(s).then(()=>i)})).then(e=>(this._clearSearching(),e),e=>{throw this._clearSearching(),e})
return this._searching=r,r}searchNearby(e){if(!this.locationEnabled){const e=new u.a("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation})
return ze.error(e),Promise.reject(e)}const t=Object(Re.a)().then(t=>Object(Re.b)({position:t,view:this.view},e)).then(t=>this.search(t,e))
return this._searching=t,t.catch(()=>{}).then(()=>this._clearSearching()),t}select(e){if(this.clearGraphics(),!e){const t=new u.a("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e})
return ze.error(t),Promise.reject(t)}const{view:t}=this,n=Ue(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),r=this.allSources.at(n)
if(!r){const e=new u.a("select:missing-source","Cannot select without a source.",{source:r})
return ze.error(e),Promise.reject(e)}const i=r instanceof ue?this._getLayerSourcePopupTemplate(r):r.popupTemplate,s=r.resultSymbol||this._getDefaultSymbol(e),o=Ue(r,"resultGraphicEnabled")?r.resultGraphicEnabled:this.resultGraphicEnabled,l=Ue(r,"autoNavigate")?r.autoNavigate:this.autoNavigate,c=Ue(r,"popupEnabled")?r.popupEnabled:this.popupEnabled,d=c?i||this.popupTemplate||this.defaultPopupTemplate:null,{feature:h}=e
if(!h){const e=new u.a("select:missing-feature","Cannot select without a feature.",{feature:h})
return ze.error(e),Promise.reject(e)}const{attributes:p,geometry:m,layer:y,sourceLayer:g}=h,v=D(m),O={layerViewQuery:this._getLayerView(h),elevationQuery:t&&Object(f.l)(v)?N(v,t).catch(()=>v):Promise.resolve(v)}
return Object(b.g)(O).then(i=>{const u=i.layerViewQuery.value,b=i.elevationQuery.value
s instanceof Ve.a&&(s.text=e.name)
const v=t&&l?e.target||e.extent:null
return(Object(f.l)(v)?this._goToSearchResult(v):Promise.resolve()).then(()=>{var i
const l=u?h:new a.default({geometry:m,symbol:s,attributes:p,layer:y,sourceLayer:g,popupTemplate:d}),f=c&&(null==(i=this.view)?void 0:i.popup),v=f&&l.getEffectivePopupTemplate(f.defaultPopupTemplateEnabled)
return v&&t.popup.open({features:[l],location:b}),u&&Object(x.b)(u)&&!v&&this._highlightFeature({graphic:l,layerView:u}),!u&&o&&t&&t.graphics.push(l),this._setResultFloor(e),this._set("selectedResult",e),this._set("resultGraphic",l),this.emit("select-result",{result:e,source:r,sourceIndex:n}),e})})}suggest(e,t,n){const r=e||this.searchTerm
return this.emit("suggest-start",{searchTerm:r}),this._suggestTimer(t,n).then(()=>this._suggestImmediate(r,n).then(e=>(this._set("suggestions",e.results),this._set("suggestionCount",e.results.reduce((e,t)=>e+t.results.length,0)),this.emit("suggest-complete",e),e)))}async when(){await Object(m.h)(()=>!this.updating)}async _update(){const{portal:e,view:t}=this
if(this.includeDefaultSources){const n=this._updatingPromise=Object(b.g)([null==e?void 0:e.load(),null==t?void 0:t.when()])
if(this.destroyed)return
if(await n,n!==this._updatingPromise)return}await Object(m.h)(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var e,t
const n=null==(e=this.portal)||null==(t=e.helperServices)?void 0:t.geocode
return n?n.map(e=>{if(!1===e.placefinding)return
const t=s.default.apiKey&&Me(e.url)?{url:"https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer"}:null,n=Le.fromJSON({...e,...t}),r=n.url
if(Me(r)||function(e){return!!e&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}(r)||function(e){return!!e&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}(r)){const e=n.outFields||["Addr_type","Match_addr","StAddr","City"],t=n.placeholder||this.messages.placeholder,r="number"==typeof n.defaultZoomScale?n.defaultZoomScale:2500
n.set({singleLineFieldName:"SingleLine",outFields:e,placeholder:t,defaultZoomScale:r})}return n.singleLineFieldName?n:void 0}).filter(Boolean):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(e=>null==e?void 0:e.destroy()),this._createdFeatureLayers=[]}_getLayerSources(e,t){var n
const r=null==(n=this.view)?void 0:n.map
return e.map(e=>{const n=r.findLayerById(e.id)
if(!n)return
const i=this._getLayerJSON(e),s=ue.fromJSON(i)
return s.placeholder=t,this._getLayer(n,i).then(e=>{s.layer=e}),s}).filter(Boolean).toArray()}_getTableSources(e,t){var n
const r=null==(n=this.view)?void 0:n.map
return e.map(e=>{const n=r.findTableById(e.id)
if(!n)return
const i=this._getLayerJSON(e),s=ue.fromJSON(i)
return s.placeholder=t,this._getLayer(n,i).then(e=>{s.layer=e}),s}).filter(Boolean).toArray()}_convertApplicationProperties(){var e,t,n
const r=null==(e=this.view)?void 0:e.map,i=null==r||null==(t=r.applicationProperties)||null==(n=t.viewing)?void 0:n.search
if(!i)return[]
const{enabled:s,hintText:a,layers:o,tables:l}=i
return s?[...this._getLayerSources(o,a),...this._getTableSources(l,a)]:[]}async _getSubLayer(e,t){if(await e.load(),!e.allSublayers)throw new Error
const n=e.allSublayers.find(e=>e.id===t.subLayer)
if(!n)throw new Error
const r=await n.createFeatureLayer()
return this._createdFeatureLayers.push(r),r}async _getBuildingSubLayer(e,t){await e.load()
const n=e.allSublayers.find(e=>e.id===t.subLayer)
if("building-component"!==(null==n?void 0:n.type))throw new Error
if(await n.load(),null==n.associatedLayer)throw new Error
return await n.associatedLayer.load(),n}_getLayer(e,t){return"feature"===e.type||"scene"===e.type||"csv"===e.type||"geojson"===e.type||"ogc-feature"===e.type?Promise.resolve(e):"map-image"===e.type?this._getSubLayer(e,t).catch(()=>{const t=new u.a("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e})
return ze.error(t),null}):"building-scene"===e.type?this._getBuildingSubLayer(e,t):Promise.resolve(null)}_getLayerJSON(e){return"function"==typeof e.toJSON?e.toJSON():e}_updateDefaultSources(){const{defaultSources:e,includeDefaultSources:t}=this
this._destroyFeatureLayers(),e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var e
const t=null==(e=this.view)?void 0:e.popup,{resultGraphic:n}=this
if(!t||!n)return
const{selectedFeature:r}=t
r&&r===n&&t.close()}_suggestTimer(e,t){const n=null!=e?e:this.suggestionDelay
return Object(b.a)(n,null,t&&t.signal)}_createLocationForSearch(e){return e instanceof a.default?D(e.geometry):e instanceof O.a?e:Array.isArray(e)&&2===e.length?new O.a({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&Ue(e,"key")&&Ue(e,"text")&&Ue(e,"sourceIndex"))return e
const t=this._createLocationForSearch(e),n="string"==typeof e?e:this.searchTerm,{selectedSuggestion:r,selectedResult:i}=this,s=!e&&r&&i,a=s&&r.key===i.key&&r.sourceIndex===i.sourceIndex,o=s&&r.location
return a||o?r:{location:Object(f.u)(t),text:t?"":n,sourceIndex:null,key:null}}_getFirstResult(e){let t=null
return e&&e.some(e=>{const{results:n}=e,r=n[0],i=!!r
return i&&(t=r),i}),t}_selectFirstResult(e){return this.autoSelect&&e?this.select(e):Promise.resolve(null)}_suggestImmediate(e,t){return this.when().then(()=>this._getSuggestionsFromSources(e,t)).then(n=>{var r
if(null!=(r=Object(f.u)(null==t?void 0:t.signal))&&r.aborted)return null
const i={activeSourceIndex:this.activeSourceIndex,searchTerm:e,numResults:0,numErrors:0,errors:[],results:[]}
return this._formatResponse(i,n),i})}_formatSourceResponse(e,t,n){const r=t&&t.value||[],i=t&&t.error,s=this.allSources.at(n)
if(i){const t={sourceIndex:n,source:s,error:i}
e.errors.push(t),ze.error(i),e.numErrors++}else{const t={sourceIndex:n,source:s,results:r}
e.results.push(t),e.numResults+=r.length}}_formatResponse(e,t,n){if(t)if(-1===e.activeSourceIndex){const r=n&&Ue(n,"sourceIndex")&&-1!==n.sourceIndex?n.sourceIndex:void 0
t.forEach((t,n)=>{const i=void 0!==r?r:n
this._formatSourceResponse(e,t,i)})}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}_getResultsFromSources(e,t){const{allSources:n}=this,r=!e.location&&Ue(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,i=[]
if(!n.length){const e=new u.a("search:no-sources-defined","At least one source is required.",{allSources:n})
return ze.error(e),Promise.reject(e)}return-1===r?n.forEach((n,r)=>{i.push(this._getResultsFromSource(e,r,t))}):i.push(this._getResultsFromSource(e,r,t)),Object(b.g)(i)}_getSuggestionsFromSources(e,t){const{allSources:n,activeSourceIndex:r}=this,i=[]
if(!n.length){const e=new u.a("suggest:no-sources-defined","At least one source is required.",{allSources:n})
return ze.error(e),Promise.reject(e)}return-1===r?n.forEach((n,r)=>{i.push(this._getSuggestionsFromSource(e,r,t))}):i.push(this._getSuggestionsFromSource(e,r,t)),Object(b.g)(i)}_getResultsFromSource(e,t,n){var r
const i=this.allSources.at(t),{location:s=null}=e,a=(null==(r=this.view)?void 0:r.spatialReference)||$e,o=Ue(i,"maxResults")?i.maxResults:this.maxResults,l=!!(i instanceof ue&&Ue(i,"exactMatch"))&&i.exactMatch,{view:c}=this
return i.getResults({view:c,sourceIndex:t,location:s,suggestResult:e,spatialReference:a,exactMatch:l,maxResults:o},n)}_getSuggestionsFromSource(e,t,n){const r=this.allSources.at(t),i=Ue(r,"suggestionsEnabled")?r.suggestionsEnabled:this.suggestionsEnabled,s=e.length,a=Ue(r,"minSuggestCharacters")?r.minSuggestCharacters:this.minSuggestCharacters
if(i&&e.trim()&&s>=a){var o
const i=(null==(o=this.view)?void 0:o.spatialReference)||$e,s=Ue(r,"maxSuggestions")?r.maxSuggestions:this.maxSuggestions,{view:a}=this,l=!!(r instanceof ue&&Ue(r,"exactMatch"))&&r.exactMatch
return r.getSuggestions({view:a,sourceIndex:t,suggestTerm:e,spatialReference:i,maxSuggestions:s,exactMatch:l},n)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(e){const{layer:t}=e
if(t)return Ue(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){const t=this.results
let n=null
return t.some(t=>t.results.some(r=>r===e&&(n=t.sourceIndex,!0))),n}async _goToSearchResult(e){const t=!!e
this._abortGoTo()
const n=new AbortController
this._gotoController=n
const r={target:{target:e},options:{animate:t,signal:n.signal}}
await this.callGoTo(r),this._gotoController=null}_getDefaultSymbol(e){var t
const{defaultSymbols:n}=this,r=null==(t=e.feature)?void 0:t.geometry
if(Object(f.k)(r))return null
switch(r.type){case"point":case"multipoint":return n.point
case"polyline":return n.polyline
case"extent":case"polygon":return n.polygon
default:return null}}_removeHighlight(){this._handles.remove(qe)}async _getLayerView(e){const{view:t}=this
if(!e||!t||"building-component"===e.layer.type||"subtype-sublayer"===e.layer.type)return null
const{layer:n}=e
return await t.when(),t.whenLayerView(n)}_highlightFeature(e){const{graphic:t,layerView:n}=e,{attributes:r,layer:i}=t,{objectIdField:s}=i,a=r&&r[s],o=n.highlight(a||t)
this._handles.add(o,qe)}_setResultFloor(e){var t,n,r
const{view:i}=this,s=null==(t=e.feature)?void 0:t.attributes,a=null==(n=e.feature)?void 0:n.sourceLayer
if(a&&"floorInfo"in a&&null!=a&&null!=(r=a.floorInfo)&&r.floorField&&s){const e=s[a.floorInfo.floorField]
null==i||i.emit("select-result-floor",e)}}}
We.ALL_INDEX=-1,Object(r.a)([Object(y.b)()],We.prototype,"_searching",void 0),Object(r.a)([Object(y.b)()],We.prototype,"_updatingPromise",void 0),Object(r.a)([Object(y.b)({readOnly:!0,value:null})],We.prototype,"activeSource",null),Object(r.a)([Object(y.b)()],We.prototype,"activeSourceIndex",null),Object(r.a)([Object(y.b)()],We.prototype,"allPlaceholder",null),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"allSources",null),Object(r.a)([Object(y.b)()],We.prototype,"autoNavigate",void 0),Object(r.a)([Object(y.b)()],We.prototype,"autoSelect",void 0),Object(r.a)([Object(y.b)()],We.prototype,"defaultPopupTemplate",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"defaultSources",void 0),Object(r.a)([Object(y.b)()],We.prototype,"defaultSymbols",void 0),Object(r.a)([Object(y.b)()],We.prototype,"includeDefaultSources",void 0),Object(r.a)([Object(y.b)()],We.prototype,"locationEnabled",null),Object(r.a)([Object(y.b)()],We.prototype,"maxInputLength",void 0),Object(r.a)([Object(y.b)()],We.prototype,"maxResults",void 0),Object(r.a)([Object(y.b)()],We.prototype,"maxSuggestions",void 0),Object(r.a)([Object(y.b)()],We.prototype,"messages",void 0),Object(r.a)([Object(y.b)()],We.prototype,"minSuggestCharacters",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"placeholder",null),Object(r.a)([Object(y.b)()],We.prototype,"popupEnabled",void 0),Object(r.a)([Object(y.b)({type:o.default})],We.prototype,"popupTemplate",void 0),Object(r.a)([Object(y.b)({type:S.a})],We.prototype,"portal",void 0),Object(r.a)([Object(y.b)()],We.prototype,"resultCount",void 0),Object(r.a)([Object(y.b)()],We.prototype,"resultGraphicEnabled",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"resultGraphic",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"results",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"selectedSuggestion",void 0),Object(r.a)([Object(y.b)()],We.prototype,"searchAllEnabled",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"selectedResult",void 0),Object(r.a)([Object(y.b)()],We.prototype,"searchTerm",null),Object(r.a)([Object(y.b)({type:Be})],We.prototype,"sources",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"state",null),Object(r.a)([Object(y.b)()],We.prototype,"suggestionDelay",void 0),Object(r.a)([Object(y.b)()],We.prototype,"suggestionCount",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"suggestions",void 0),Object(r.a)([Object(y.b)()],We.prototype,"suggestionsEnabled",void 0),Object(r.a)([Object(y.b)({readOnly:!0})],We.prototype,"updating",null),Object(r.a)([Object(y.b)()],We.prototype,"view",void 0),Object(r.a)([Object(y.b)()],We.prototype,"clear",null),We=Object(r.a)([Object(v.a)(Ge)],We)
const Ze=We},2771:function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}))
var r,i=n(2125),s=n(2126),a=n(147),o=n(1799)
function l(e,t){let n
switch(e.type){default:n=c
break
case"Group":n=u
break
case"User":n=d
break
case"Hub Site Application":n=h
break
case"Hub Project":n=s.b
break
case"Hub Initiative":n=i.b}return n(e,t)}function c(e,t){var n
const{actionLinks:r=[],baseUrl:i="",locale:s="en-US",target:l="self"}=t||{}
let c={access:e.access,actionLinks:r,additionalInfo:[],badges:[],family:e.family,id:e.id,index:e.index,summary:e.summary,title:e.name,type:e.type}
return c=Object(a.d)("titleUrl",Object(o.b)(e,l,i),c),c=Object(a.d)("thumbnailUrl",null===(n=e.links)||void 0===n?void 0:n.thumbnail,c),c=p(e,c),c=f(e,c,s),c}function u(e,t){var n
const{actionLinks:r=[],baseUrl:i="",target:s="self"}=t||{}
let l={access:e.access,actionLinks:r,additionalInfo:[],badges:[],family:e.family,id:e.id,index:e.index,summary:e.summary,title:e.name,type:e.type}
return l=Object(a.d)("titleUrl",Object(o.b)(e,s,i),l),l=Object(a.d)("thumbnailUrl",null===(n=e.links)||void 0===n?void 0:n.thumbnail,l),l=p(e,l),e.isSharedUpdate&&l.badges.push({i18nKey:"sharedEdit",color:"grey",icon:"pencil-square"}),e.isOpenData&&l.badges.push({i18nKey:"opendata",color:"grey",icon:"star-circle"}),e.hasOwnProperty("membershipSummary")&&l.additionalInfo.push({i18nKey:"members",value:e.membershipSummary.total}),e.hasOwnProperty("contentCount")&&l.additionalInfo.push({i18nKey:"content",value:e.contentCount}),l}function d(e,t){var n
const{actionLinks:r=[],baseUrl:i="",target:s="self"}=t||{}
let l={access:e.access,actionLinks:r,additionalInfo:[],badges:[],family:e.family,id:e.id,index:e.index,summary:e.summary,title:e.name,type:e.type}
return l=Object(a.d)("titleUrl",Object(o.b)(e,s,i),l),l=Object(a.d)("thumbnailUrl",null===(n=e.links)||void 0===n?void 0:n.thumbnail,l),l=p(e,l),l}function h(e,t){var n
const{actionLinks:r=[],locale:i="en-US",target:s="self"}=t
let l={access:e.access,actionLinks:r,additionalInfo:[],badges:[],family:e.family,id:e.id,index:e.index,summary:e.summary,title:e.name,type:e.type}
return l=Object(a.d)("titleUrl",Object(o.b)(e,s),l),l=Object(a.d)("thumbnailUrl",null===(n=e.links)||void 0===n?void 0:n.thumbnail,l),l=p(e,l),l=f(e,l,i),l}function p(e,t){const n=e.owner,r=e.source,i=r&&n&&`${r} | ${n}`,s=e.orgName
return t.source=s||i||r||n,t}function f(e,t,n){var r,i
if(e.type&&t.additionalInfo.push({i18nKey:"type",value:e.type}),e.updatedDate&&t.additionalInfo.push({i18nKey:"dateUpdated",value:e.updatedDate.toLocaleDateString(n)}),(null===(r=e.tags)||void 0===r?void 0:r.length)&&t.additionalInfo.push({i18nKey:"tags",value:e.tags.join(", ")}),null===(i=e.categories)||void 0===i?void 0:i.length){const n=e.categories.map(e=>{const t=e.split("/")
return t[t.length-1]})
t.additionalInfo.push({i18nKey:"categories",value:n.join(", ")})}return e.hasOwnProperty("layerCount")&&t.additionalInfo.push({i18nKey:"layers",value:e.layerCount}),e.hasOwnProperty("pageCount")&&t.additionalInfo.push({i18nKey:"pages",value:e.pageCount}),e.createdDate&&t.additionalInfo.push({i18nKey:"dateCreated",value:e.createdDate.toLocaleDateString(n)}),t}!function(e){e.asc="asc",e.desc="desc"}(r||(r={}))},769:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return f}))
var r,i=n(968),s=n(972),a=n(234),o=n(997),l=n(971),c=n(970),u=n(969),d=n(974),h=n(988)
let p=r=class extends s.a{static fromJSON(e){if(!e)return null
if(e.wkid){if(102100===e.wkid)return r.WebMercator
if(4326===e.wkid)return r.WGS84}const t=new r
return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&"object"==typeof e?e:{["string"==typeof e?"wkt":"wkid"]:e}}get isWGS84(){return Object(h.m)(this)}get isWebMercator(){return Object(h.p)(this)}get isGeographic(){return Object(h.h)(this)}get isWrappable(){return Object(h.q)(this)}get metersPerUnit(){return Object(o.g)(this)}get unit(){return Object(o.i)(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===r.WGS84)return r.WGS84
if(this===r.WebMercator)return r.WebMercator
const e=new r
return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=Object(a.a)(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1
if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1
const{id:t,referenceServiceName:n}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,i=this.imageCoordinateSystem
return null==t||r?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):n?i.id===t&&i.referenceServiceName===n:i.id===t}return Object(h.d)(this,e)}toJSON(e){return this.write(void 0,e)}}
p.GCS_NAD_1927=null,p.WGS84=null,p.WebMercator=null,p.PlateCarree=null,Object(i.a)([Object(c.b)({readOnly:!0})],p.prototype,"isWGS84",null),Object(i.a)([Object(c.b)({readOnly:!0})],p.prototype,"isWebMercator",null),Object(i.a)([Object(c.b)({readOnly:!0})],p.prototype,"isGeographic",null),Object(i.a)([Object(c.b)({readOnly:!0})],p.prototype,"isWrappable",null),Object(i.a)([Object(c.b)({type:l.a,json:{write:!0}})],p.prototype,"latestWkid",void 0),Object(i.a)([Object(c.b)({readOnly:!0})],p.prototype,"metersPerUnit",null),Object(i.a)([Object(c.b)({readOnly:!0})],p.prototype,"unit",null),Object(i.a)([Object(c.b)({type:l.a,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],p.prototype,"wkid",void 0),Object(i.a)([Object(c.b)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],p.prototype,"wkt",void 0),Object(i.a)([Object(d.a)("wkt"),Object(d.a)("web-scene","wkt")],p.prototype,"writeWkt",null),Object(i.a)([Object(c.b)({type:l.a,json:{write:!0}})],p.prototype,"vcsWkid",void 0),Object(i.a)([Object(c.b)({type:l.a,json:{write:!0}})],p.prototype,"latestVcsWkid",void 0),Object(i.a)([Object(c.b)()],p.prototype,"imageCoordinateSystem",void 0),p=r=Object(i.a)([Object(u.a)("esri.geometry.SpatialReference")],p),p.prototype.toJSON.isDefaultToJSON=!0,p.GCS_NAD_1927=new p({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),p.WGS84=new p(h.b),p.WebMercator=new p(h.c),p.PlateCarree=new p(h.a),Object.freeze&&(Object.freeze(p.GCS_NAD_1927),Object.freeze(p.WGS84),Object.freeze(p.WebMercator))
const f=p},770:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return g}))
var r,i=n(968),s=n(23),a=n(447),o=n(970),l=(n(971),n(445),n(969)),c=n(1004),u=n(992),d=n(769),h=n(1085),p=n(1118),f=n(988),b=n(774)
function m(e,t,n){return null==t?n:null==n?t:e(t,n)}let y=r=class extends c.a{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,n,r,i){return function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?d.default.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:null!=i?i:d.default.WGS84}}static fromBounds(e,t){return new r({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new r({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new u.a({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference})
return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center
return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new r
return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1
const t=this.spatialReference,n=e.spatialReference
return t&&n&&!t.equals(n)&&Object(b.canProject)(t,n)&&(e=t.isWebMercator?Object(b.geographicToWebMercator)(e):Object(b.webMercatorToGeographic)(e,!0)),"point"===e.type?Object(h.e)(this,e):"extent"===e.type&&Object(h.c)(this,e)}equals(e){if(this===e)return!0
if(Object(s.k)(e))return!1
const t=this.spatialReference,n=e.spatialReference
return t&&n&&!t.equals(n)&&Object(b.canProject)(t,n)&&(e=t.isWebMercator?Object(b.geographicToWebMercator)(e):Object(b.webMercatorToGeographic)(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),n=this.width*t,r=this.height*t
if(this.xmin+=n,this.ymin+=r,this.xmax-=n,this.ymax-=r,this.hasZ){const e=(this.zmax-this.zmin)*t
this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t
this.mmin+=e,this.mmax-=e}return this}intersects(e){if(Object(s.k)(e))return!1
"mesh"===e.type&&(e=e.extent)
const t=this.spatialReference,n=e.spatialReference
return t&&n&&!Object(f.d)(t,n)&&Object(b.canProject)(t,n)&&(e=t.isWebMercator?Object(b.geographicToWebMercator)(e):Object(b.webMercatorToGeographic)(e,!0)),Object(p.c)(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0)
return Array.isArray(e)?e:[e]}offset(e,t,n){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=n&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.min,this.zmin,e.zmin),this.zmax=m(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.min,this.mmin,e.mmin),this.mmax=m(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:Object(s.k)(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.max,this.zmin,e.zmin),this.zmax=m(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.max,this.mmin,e.mmin),this.mmax=m(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=Object(f.e)(this.spatialReference)){if(!e||!this.spatialReference)return this
const t=this.spatialReference,n=this._getCM(e)
if(n){var r
const i=t.isWebMercator?Object(b.webMercatorToGeographic)(n):n
this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(i.x=this._normalizeX(i.x,e).x),this.spatialReference=new d.default(Object(a.c)(null!=(r=t.isWGS84?e.altTemplate:null)?r:e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null
const[n,r]=e.valid,i=this.xmin,s=this.xmax
return i>=n&&i<=r&&s>=n&&s<=r||(t=this.center),t}_normalize(e,t,n){const r=this.spatialReference
if(!r)return this
const i=null!=n?n:Object(f.e)(r)
if(null==i)return this
const s=this._getParts(i).map(e=>e.extent)
if(s.length<2)return s[0]||this
if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]})
if(e)return this._shiftCM(i)
if(t)return s
let a=!0,o=!0
return s.forEach(e=>{e.hasZ||(a=!1),e.hasM||(o=!1)}),{rings:s.map(e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]
if(a){const n=(e.zmax-e.zmin)/2
for(let e=0;e<t.length;e++)t[e].push(n)}if(o){const n=(e.mmax-e.mmin)/2
for(let e=0;e<t.length;e++)t[e].push(n)}return t}),hasZ:a,hasM:o,spatialReference:r}}_getParts(e){let t=this.cache._parts
if(!t){t=[]
const{ymin:n,ymax:i,spatialReference:s}=this,a=this.width,o=this.xmin,l=this.xmax
let c
e=e||Object(f.e)(s)
const[u,d]=e.valid
c=this._normalizeX(this.xmin,e)
const h=c.x,p=c.frameId
c=this._normalizeX(this.xmax,e)
const b=c.x,m=c.frameId,y=h===b&&a>0
if(a>2*d){const e=new r(o<l?h:b,n,d,i,s),a=new r(u,n,o<l?b:h,i,s),c=new r(0,n,d,i,s),f=new r(u,n,0,i,s),y=[],g=[]
e.contains(c)&&y.push(p),e.contains(f)&&g.push(p),a.contains(c)&&y.push(m),a.contains(f)&&g.push(m)
for(let e=p+1;e<m;e++)y.push(e),g.push(e)
t.push({extent:e,frameIds:[p]},{extent:a,frameIds:[m]},{extent:c,frameIds:y},{extent:f,frameIds:g})}else h>b||y?t.push({extent:new r(h,n,d,i,s),frameIds:[p]},{extent:new r(u,n,b,i,s),frameIds:[m]}):t.push({extent:new r(h,n,b,i,s),frameIds:[p]})
this.cache._parts=t}const n=this.hasZ,i=this.hasM
if(n||i){const e={}
n&&(e.zmin=this.zmin,e.zmax=this.zmax),i&&(e.mmin=this.mmin,e.mmax=this.mmax)
for(let n=0;n<t.length;n++)t[n].extent.set(e)}return t}_normalizeX(e,t){const[n,r]=t.valid,i=2*r
let s,a=0
return e>r?(s=Math.ceil(Math.abs(e-r)/i),e-=s*i,a=s):e<n&&(s=Math.ceil(Math.abs(e-n)/i),e+=s*i,a=-s),{x:e,frameId:a}}}
Object(i.a)([Object(o.b)({readOnly:!0})],y.prototype,"cache",null),Object(i.a)([Object(o.b)({readOnly:!0})],y.prototype,"center",null),Object(i.a)([Object(o.b)({readOnly:!0})],y.prototype,"extent",null),Object(i.a)([Object(o.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasM",null),Object(i.a)([Object(o.b)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasZ",null),Object(i.a)([Object(o.b)({readOnly:!0})],y.prototype,"height",null),Object(i.a)([Object(o.b)({readOnly:!0})],y.prototype,"width",null),Object(i.a)([Object(o.b)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],y.prototype,"xmin",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],y.prototype,"ymin",void 0),Object(i.a)([Object(o.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmin",void 0),Object(i.a)([Object(o.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmin",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],y.prototype,"xmax",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],y.prototype,"ymax",void 0),Object(i.a)([Object(o.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmax",void 0),Object(i.a)([Object(o.b)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmax",void 0),y=r=Object(i.a)([Object(l.a)("esri.geometry.Extent")],y),y.prototype.toJSON.isDefaultToJSON=!0
const g=y},771:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return f}))
var r=n(110),i=n(196),s=n(446),a=n(235),o=n(234),l=n(23),c=n(973),u=n(374),d=n(198),h=n(1146),p=n(1229)
async function f(e,t){var o
const d=Object(u.z)(e),g=Object(u.y)(e)
g||d||(e=Object(u.I)(e))
const v={url:e,requestOptions:{...Object(l.u)(t)}}
let O=Object(u.o)(e)
if(O){const e=await async function(e,t){if(null!=e.responseData)return e.responseData
if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r
try{r=await e.before(t)}catch(e){n=S("request:interceptor",e,t)}if((r instanceof Error||r instanceof s.a)&&(n=S("request:interceptor",r,t)),n)throw e.error&&e.error(n),n
return r}}(O,v)
if(null!=e)return{data:e,getHeader:j,httpStatus:200,requestOptions:v.requestOptions,url:v.url}
O.after||O.error||(O=null)}if(e=v.url,"image"===(t=v.requestOptions).responseType){if(Object(a.a)("host-webworker")||Object(a.a)("host-node"))throw S("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),v)}else if(d)throw S("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),v)
if("head"===t.method){if(t.body)throw S("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),v)
if(d||g)throw S("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),v)}if(await async function(){Object(a.a)("host-webworker")?b||(b=await n.e(760).then(n.bind(null,1482))):f._abortableFetch||(f._abortableFetch=globalThis.fetch.bind(globalThis))}(),b)return b.execute(e,t)
const w=new AbortController
Object(c.n)(t,()=>w.abort())
const _={controller:w,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:O,params:v,redoRequest:!1,useIdentity:m.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},M=await async function(e){var t,n
let s,a
await async function(e){var t,n
const s=e.params.url,a=e.params.requestOptions,o=e.controller.signal,l=a.body
let u=null,d=null
if(y&&"HTMLFormElement"in globalThis&&(l instanceof FormData?u=l:l instanceof HTMLFormElement&&(u=new FormData(l))),"string"==typeof l&&(d=l),e.fetchOptions={cache:a.cacheBust&&!f._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:a.headers||{},method:"head"===a.method?"HEAD":"GET",mode:"cors",priority:m.priority,redirect:"follow",signal:o},(u||d)&&(e.fetchOptions.body=u||d),"anonymous"===a.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(s)||null!=(t=a.query)&&t.token||null!=(n=u)&&n.get("token")),!e.hasToken&&r.default.apiKey&&Object(h.a)(s)&&(a.query||(a.query={}),a.query.token=r.default.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!T(s)&&!Object(c.k)(o)){let t
"immediate"===a.authMode?(await x(),t=await i.b.getCredential(s,{signal:o}),e.credential=t):"no-prompt"===a.authMode?(await x(),t=await i.b.getCredential(s,{prompt:!1,signal:o}).catch(()=>{}),e.credential=t):i.b&&(t=i.b.findCredential(s)),t&&(e.credentialToken=t.token,e.useSSL=!!t.ssl)}}(e)
try{do{[s,a]=await I(e)}while(!await E(e,s,a))}catch(t){const n=S("request:server",t,e.params,s)
throw n.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(n),n}const o=e.params.url
if(a&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(o)){var l
if(!e.hasToken&&!e.credentialToken&&null!=(l=a.user)&&l.username&&!Object(u.D)(o)){const e=Object(u.p)(o,!0)
e&&m.trustedServers.push(e)}Array.isArray(a.authorizedCrossOriginNoCorsDomains)&&Object(p.c)(a.authorizedCrossOriginNoCorsDomains)}const d=e.credential
if(d&&i.b){const e=i.b.findServerInfo(d.server)
let t=e&&e.owningSystemUrl
if(t){t=t.replace(/\/?$/,"/sharing")
const e=i.b.findCredential(t,d.userId)
e&&-1===i.b._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:a,getHeader:s?e=>{var t
return null==(t=s)?void 0:t.headers.get(e)}:j,httpStatus:null!=(t=null==(n=s)?void 0:n.status)?t:200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(_)
return null!=(o=O)&&null!=o.after&&o.after(M),M}let b
const m=r.default.request,y="FormData"in globalThis,g=[499,498,403,401],v=["COM_0056","COM_0057","SB_0008"],O=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],j=()=>null,w=Symbol()
function _(e){const t=Object(u.p)(e)
return!t||t.endsWith(".arcgis.com")||f._corsServers.includes(t)||Object(u.D)(t)}function S(e,t,n,r){let i="Error"
const a={url:n.url,requestOptions:n.requestOptions,getHeader:j,ssl:!1}
if(t instanceof s.a)return t.details?(t.details=Object(o.a)(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=a,t
if(t){const e=r&&(e=>r.headers.get(e)),n=r&&r.status,s=t.message
s&&(i=s),e&&(a.getHeader=e),a.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||n||0,a.subCode=t.subcode,a.messageCode=t.messageCode,"string"==typeof t.details?a.messages=[t.details]:a.messages=t.details,a.raw=w in t?t[w]:t}return Object(c.j)(t)?Object(c.c)():new s.a(e,i,a)}async function x(){i.b||await Promise.all([n.e(5),n.e(18),n.e(59),n.e(475)]).then(n.bind(null,784))}function T(e){return O.some(t=>t.test(e))}async function I(e){var t
let n=e.params.url
const r=e.params.requestOptions,s=null!=(t=e.fetchOptions)?t:{},o=Object(u.y)(n)||Object(u.z)(n),l=r.responseType||"json",h=o?0:null!=r.timeout?r.timeout:m.timeout
let b=!1
if(!o){e.useSSL&&(n=Object(u.P)(n)),r.cacheBust&&"default"===s.cache&&(n=Object(u.d)(n,"request.preventCache",Date.now()))
let t={...r.query}
e.credentialToken&&(t.token=e.credentialToken)
let o=Object(u.J)(t)
Object(a.a)("esri-url-encodes-apostrophe")&&(o=o.replace(/'/g,"%27"))
const l=n.length+1+o.length
let c
b="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||l>m.maxUrlLength
const h=r.useProxy||!!Object(u.r)(n)
if(h){const e=Object(u.s)(n)
c=e.path,!b&&c.length+1+l>m.maxUrlLength&&(b=!0),e.query&&(t={...e.query,...t})}if("HEAD"===s.method&&(b||h)){if(b){if(l>m.maxUrlLength)throw S("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params)
throw S("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(h)throw S("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(b?(s.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?n=Object(u.e)(n,t):(s.body=Object(u.J)(t),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):n=Object(u.e)(n,t),h&&(e.useProxy=!0,n=`${c}?${n}`),t.token&&y&&s.body instanceof FormData&&!Object(d.a)(n)&&s.body.set("token",t.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials
else if(!Object(u.v)(n,Object(u.m)()))if(Object(u.D)(n))e.withCredentials=!0
else if(i.b){const t=i.b.findServerInfo(n)
t&&t.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(s.credentials="include",Object(p.a)(n)&&await Object(p.d)(b?Object(u.e)(n,t):n))}let g,v,O=0,j=!1
h>0&&(O=setTimeout(()=>{j=!0,e.controller.abort()},h))
try{if("native-request-init"===r.responseType)v=s,v.url=n
else if("image"!==r.responseType||"default"!==s.cache||"GET"!==s.method||b||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0
return!1}(r.headers)||!o&&!e.useProxy&&m.proxyUrl&&!_(n)){if(g=await f._abortableFetch(n,s),e.useProxy||function(e){const t=Object(u.p)(e)
t&&!f._corsServers.includes(t)&&f._corsServers.push(t)}(n),"native"===r.responseType)v=g
else if("HEAD"!==s.method)if(g.ok){switch(l){case"array-buffer":v=await g.arrayBuffer()
break
case"blob":case"image":v=await g.blob()
break
default:v=await g.text()}if(O&&(clearTimeout(O),O=0),"json"===l||"xml"===l||"document"===l)if(v)switch(l){case"json":v=JSON.parse(v)
break
case"xml":v=M(v,"application/xml")
break
case"document":v=M(v,"text/html")}else v=null
if(v){if("array-buffer"===l||"blob"===l){const e=g.headers.get("Content-Type")
if(e&&/application\/json|text\/plain/i.test(e)&&v["blob"===l?"size":"byteLength"]<=750)try{const e=await new Response(v).json()
e.error&&(v=e)}catch{}}"image"===l&&v instanceof Blob&&(v=await k(URL.createObjectURL(v),e,!0))}}else v=await g.text()}else v=await k(n,e)}catch(t){var w
if("AbortError"===t.name){if(j)throw new Error("Timeout exceeded")
throw Object(c.c)("Request canceled")}if(!(!g&&t instanceof TypeError&&m.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||_(n))throw t
e.redoRequest=!0,Object(u.c)({proxyUrl:m.proxyUrl,urlPrefix:null!=(w=Object(u.p)(n))?w:""})}finally{O&&clearTimeout(O)}return[g,v]}function M(e,t){let n
try{n=(new DOMParser).parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error")
return n}async function E(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1
const r=e.params.requestOptions
if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0
let s,a
if(!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[w]=n,s
n&&(n.error?s=n.error:"error"===n.status&&Array.isArray(n.messages)&&(s={...n},s[w]=n,s.details=n.messages))
let o,l=null
s&&(a=Number(s.code),l=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o&&o.toUpperCase())
const c=r.authMode
if(403===a&&(4===l||s.message&&s.message.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==c||498===a)&&void 0!==a&&g.includes(a)&&!T(e.params.url)&&(403!==a||o&&!v.includes(o)&&(null==l||2===l&&e.credentialToken))){await x()
try{const t=await i.b.getCredential(e.params.url,{error:S("request:server",s,e.params),prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken})
return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===c)return e.credential=void 0,e.credentialToken=void 0,!1
s=t}}if(s)throw s
return!0}function k(e,t,n=!1){const r=t.controller.signal,i=new Image
return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=m.priority,i.src=e,Object(p.b)(i,e,n,r)}f._abortableFetch=null,f._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},772:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return m}))
var r=n(968),i=n(982),s=n(775),a=n(995),o=n(986),l=n(972),c=n(23),u=n(1156),d=n(970),h=(n(971),n(445),n(969)),p=n(983)
function f(e){if(!Object(c.l)(e))return null
const t={}
for(const n in e){const r=e[n]
r&&(t[n]=r.toJSON())}return 0!==Object.keys(t).length?t:null}let b=class extends(Object(o.b)(l.a)){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Object(u.b)(),configurable:!0})}normalizeCtorArgs(e,t,n,r){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:n,popupTemplate:r}}set aggregateGeometries(e){const t=this._get("aggregateGeometries")
JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes")
t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry")
t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol")
t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible")
t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate
for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate
if(e&&"defaultPopupTemplate"in t&&Object(c.l)(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){var t
return null==(t=this.attributes)?void 0:t[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e)
this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:f(this.aggregateGeometries),geometry:Object(c.l)(this.geometry)?this.geometry.toJSON():null,symbol:Object(c.l)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){Object(c.l)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,n,r){if(!this.layer||!("graphicChanged"in this.layer))return
const i={graphic:this,property:e,oldValue:t,newValue:n}
"attributes"===e&&(i.attributeName=r),this.layer.graphicChanged(i)}}
Object(r.a)([Object(d.b)({value:null,json:{read:function(e){if(!e)return null
const t={}
for(const n in e){const r=Object(p.a)(e[n])
r&&(t[n]=r)}return 0!==Object.keys(t).length?t:null}}})],b.prototype,"aggregateGeometries",null),Object(r.a)([Object(d.b)({value:null})],b.prototype,"attributes",null),Object(r.a)([Object(d.b)({value:null,types:i.c,json:{read:p.a}})],b.prototype,"geometry",null),Object(r.a)([Object(d.b)({type:Boolean})],b.prototype,"isAggregate",void 0),Object(r.a)([Object(d.b)({clonable:"reference"})],b.prototype,"layer",void 0),Object(r.a)([Object(d.b)({type:s.default})],b.prototype,"popupTemplate",void 0),Object(r.a)([Object(d.b)({clonable:"reference"})],b.prototype,"sourceLayer",void 0),Object(r.a)([Object(d.b)({value:null,types:a.e})],b.prototype,"symbol",null),Object(r.a)([Object(d.b)({type:Boolean,value:!0})],b.prototype,"visible",null),b=Object(r.a)([Object(h.a)("esri.Graphic")],b),(b||(b={})).generateUID=u.b
const m=b},773:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return S}))
var r,i=n(968),s=n(445),a=n(234),o=n(23),l=n(970),c=(n(971),n(969)),u=n(974),d=n(770),h=n(1004),p=n(992),f=n(769),b=n(1142),m=n(1085),y=n(1066),g=n(1157),v=n(1118),O=n(774),j=n(1105)
function w(e){return!Array.isArray(e[0])}let _=r=class extends h.a{static fromExtent(e){const t=e.clone().normalize(),n=e.spatialReference
let i=!1,s=!1
for(const e of t)e.hasZ&&(i=!0),e.hasM&&(s=!0)
const a={rings:t.map(e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]
if(i&&e.hasZ){const n=e.zmin+.5*(e.zmax-e.zmin)
for(let e=0;e<t.length;e++)t[e].push(n)}if(s&&e.hasM){const n=e.mmin+.5*(e.mmax-e.mmin)
for(let e=0;e<t.length;e++)t[e].push(n)}return t}),spatialReference:n}
return i&&(a.hasZ=!0),s&&(a.hasM=!0),new r(a)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){let n,r,i=null,s=null
return e&&!Array.isArray(e)?(i=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),n=e.hasZ,r=e.hasM):i=e,i=i||[],t=t||f.default.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),s=i[0]&&i[0][0],s&&(void 0===n&&void 0===r?(n=s.length>2,r=s.length>3):void 0===n?n=r?s.length>3:s.length>2:void 0===r&&(r=n?s.length>3:s.length>2)),{rings:i,spatialReference:t,hasZ:n,hasM:r}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Object(b.b)(this)
if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null
const t=new p.a
return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Object(g.b)(this)
if(!t)return null
const n=new d.default(t)
return n.spatialReference=e,n}get isSelfIntersecting(){return Object(v.d)(this.rings)}writeRings(e,t){t.rings=Object(a.a)(this.rings)}addRing(e){if(!e)return
const t=this.rings,n=t.length
if(w(e)){const r=[]
for(let t=0,n=e.length;t<n;t++)r[t]=e[t].toArray()
t[n]=r}else t[n]=e.concat()
return this.notifyChange("rings"),this}clone(){const e=new r
return e.spatialReference=this.spatialReference,e.rings=Object(a.a)(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0
if(Object(o.k)(e))return!1
const t=this.spatialReference,n=e.spatialReference
if(Object(o.l)(t)!==Object(o.l)(n))return!1
if(Object(o.l)(t)&&Object(o.l)(n)&&!t.equals(n))return!1
if(this.rings.length!==e.rings.length)return!1
const r=([e,t,n,r],[i,s,a,o])=>e===i&&t===s&&(null==n&&null==a||n===a)&&(null==r&&null==o||r===o)
for(let t=0;t<this.rings.length;t++){const n=this.rings[t],i=e.rings[t]
if(!Object(s.e)(n,i,r))return!1}return!0}contains(e){if(!e)return!1
const t=Object(O.project)(e,this.spatialReference)
return Object(m.g)(this,Object(o.l)(t)?t:e)}isClockwise(e){let t
return t=w(e)?e.map(e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]):e,Object(y.k)(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null
const n=this.rings[e][t],r=this.hasZ,i=this.hasM
return r&&!i?new p.a(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new p.a(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new p.a(n[0],n[1],n[2],n[3],this.spatialReference):new p.a(n[0],n[1],this.spatialReference)}insertPoint(e,t,n){return this._validateInputs(e,t,!0)?(Object(j.a)(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e].splice(t,0,n),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null
const n=new p.a(this.rings[e].splice(t,1)[0],this.spatialReference)
return this.notifyChange("rings"),n}removeRing(e){if(!this._validateInputs(e,null))return null
const t=this.rings.splice(e,1)[0],n=this.spatialReference,r=t.map(e=>new p.a(e,n))
return this.notifyChange("rings"),r}setPoint(e,t,n){return this._validateInputs(e,t)?(Object(j.a)(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[e][t]=n,this.notifyChange("rings"),this):this}_validateInputs(e,t,n=!1){if(null==e||e<0||e>=this.rings.length)return!1
if(null!=t){const r=this.rings[e]
if(n&&(t<0||t>r.length))return!1
if(!n&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}}
Object(i.a)([Object(l.b)({readOnly:!0})],_.prototype,"cache",null),Object(i.a)([Object(l.b)({readOnly:!0})],_.prototype,"centroid",null),Object(i.a)([Object(l.b)({readOnly:!0})],_.prototype,"extent",null),Object(i.a)([Object(l.b)({readOnly:!0})],_.prototype,"isSelfIntersecting",null),Object(i.a)([Object(l.b)({type:[[[Number]]],json:{write:{isRequired:!0}}})],_.prototype,"rings",void 0),Object(i.a)([Object(u.a)("rings")],_.prototype,"writeRings",null),_=r=Object(i.a)([Object(c.a)("esri.geometry.Polygon")],_),_.prototype.toJSON.isDefaultToJSON=!0
const S=_},774:function(e,t,n){"use strict"
n.r(t),n.d(t,"canProject",(function(){return b})),n.d(t,"geographicToWebMercator",(function(){return v})),n.d(t,"lngLatToXY",(function(){return y})),n.d(t,"project",(function(){return m})),n.d(t,"webMercatorToGeographic",(function(){return O})),n.d(t,"x2lon",(function(){return u})),n.d(t,"xyToLngLat",(function(){return g})),n.d(t,"y2lat",(function(){return d}))
var r=n(234),i=n(23),s=n(769),a=n(1052),o=n(988)
function l(e){return 57.29577951308232*e}function c(e){return.017453292519943*e}function u(e){return e/a.a.radius}function d(e){return Math.PI/2-2*Math.atan(Math.exp(-e/a.a.radius))}function h(e){return null!=e.wkid||null!=e.wkt}const p=[0,0]
function f(e,t,n,r,i){const s=e,a=i
if(a.spatialReference=n,"x"in s&&"x"in a)[a.x,a.y]=t(s.x,s.y,p,r)
else if("xmin"in s&&"xmin"in a)[a.xmin,a.ymin]=t(s.xmin,s.ymin,p,r),[a.xmax,a.ymax]=t(s.xmax,s.ymax,p,r)
else if("paths"in s&&"paths"in a||"rings"in s&&"rings"in a){const e="paths"in s?s.paths:s.rings,n=[]
let i
for(let s=0;s<e.length;s++){const a=e[s]
i=[],n.push(i)
for(let e=0;e<a.length;e++)i.push(t(a[e][0],a[e][1],[0,0],r)),a[e].length>2&&i[e].push(a[e][2]),a[e].length>3&&i[e].push(a[e][3])}"paths"in a?a.paths=n:a.rings=n}else if("points"in s&&"points"in a){const e=s.points,n=[]
for(let i=0;i<e.length;i++)n[i]=t(e[i][0],e[i][1],[0,0],r),e[i].length>2&&n[i].push(e[i][2]),e[i].length>3&&n[i].push(e[i][3])
a.points=n}return i}function b(e,t){const n=e&&(h(e)?e:e.spatialReference),r=t&&(h(t)?t:t.spatialReference)
return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!n||!r)&&(!!Object(o.d)(r,n)||Object(o.p)(r)&&Object(o.m)(n)||Object(o.p)(n)&&Object(o.m)(r))}function m(e,t){if(Object(i.k)(e))return null
const n=e.spatialReference,a=t&&(h(t)?t:t.spatialReference)
return b(n,a)?Object(o.d)(n,a)?Object(r.a)(e):Object(o.p)(a)?f(e,y,s.default.WebMercator,!1,Object(r.a)(e)):Object(o.m)(a)?f(e,g,s.default.WGS84,!1,Object(r.a)(e)):null:null}function y(e,t,n=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999)
const r=c(t)
return n[0]=c(e)*a.a.radius,n[1]=a.a.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),n}function g(e,t,n=[0,0],r=!1){const i=l(e/a.a.radius)
return n[0]=r?i:i-360*Math.floor((i+180)/360),n[1]=l(Math.PI/2-2*Math.atan(Math.exp(-t/a.a.radius))),n}function v(e,t=!1,n=Object(r.a)(e)){return f(e,y,s.default.WebMercator,t,n)}function O(e,t=!1,n=Object(r.a)(e)){return f(e,g,s.default.WGS84,t,n)}},776:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return T}))
var r,i=n(968),s=n(995),a=n(976),o=n(972),l=n(234),c=n(980),u=n(970),d=(n(971),n(977)),h=n(969),p=n(974),f=(n(445),n(1209))
let b=r=class extends o.a{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?Object(f.a)(t.value):e}writeExpression(e,t,n){null!=this.value&&(e=Object(f.a)(this.value)),null!=e&&(t[n]=e)}clone(){return new r({expression:this.expression,title:this.title,value:this.value})}}
Object(i.a)([Object(u.b)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],b.prototype,"expression",void 0),Object(i.a)([Object(d.a)("expression",["expression","value"])],b.prototype,"readExpression",null),Object(i.a)([Object(p.a)("expression")],b.prototype,"writeExpression",null),Object(i.a)([Object(u.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0),Object(i.a)([Object(u.b)({json:{read:!1,write:!1}})],b.prototype,"value",void 0),b=r=Object(i.a)([Object(h.a)("esri.layers.support.LabelExpressionInfo")],b)
const m=b
var y,g=n(1037),v=n(1268),O=n(1147)
const j=new a.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0})
function w(e,t,n){return{enabled:!Object(g.j)(null==n?void 0:n.layer)}}function _(e){var t
return!e||"service"!==e.origin&&!("map-image"===(null==(t=e.layer)?void 0:t.type))}function S(e){var t,n
return!!function(e){return"map-image"===(null==e?void 0:e.type)}(e)&&!(null==(t=e.capabilities)||null==(n=t.exportMap)||!n.supportsArcadeExpressionForLabeling)}let x=y=class extends o.a{static evaluateWhere(e,t){const n=(e,t,n)=>{switch(t){case"=":return e==n
case"<>":return e!=n
case">":return e>n
case">=":return e>=n
case"<":return e<n
case"<=":return e<=n}return!1}
try{if(null==e)return!0
const r=e.split(" ")
if(3===r.length)return n(t[r[0]],r[1],r[2])
if(7===r.length){const e=n(t[r[0]],r[1],r[2]),i=r[3],s=n(t[r[4]],r[5],r[6])
switch(i){case"AND":return e&&s
case"OR":return e||s}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=v.d,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const n=t.labelExpressionInfo
if(!n||!n.value&&!n.expression)return e}writeLabelExpression(e,t,n){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=Object(f.f)(this.labelExpressionInfo.value)
else if(null!=this.labelExpressionInfo.expression){const t=Object(f.e)(this.labelExpressionInfo.expression)
t&&(e="["+t+"]")}null!=e&&(t[n]=e)}writeLabelExpressionInfo(e,t,n,r){if(null==e&&null!=this.labelExpression&&_(r))e=new m({expression:this.getLabelExpressionArcade()})
else if(!e)return
const i=e.toJSON(r)
i.expression&&(t[n]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return Object(f.b)(this)}getLabelExpressionArcade(){return Object(f.c)(this)}getLabelExpressionSingleField(){return Object(f.d)(this)}hash(){return JSON.stringify(this)}clone(){return new y({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(l.a)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:Object(l.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}}
Object(i.a)([Object(u.b)({type:String,json:{write:!0}})],x.prototype,"name",void 0),Object(i.a)([Object(u.b)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:w}}}}})],x.prototype,"allowOverrun",void 0),Object(i.a)([Object(u.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:w}}}}})],x.prototype,"deconflictionStrategy",void 0),Object(i.a)([Object(u.b)({type:String,json:{write:{overridePolicy(e,t,n){return this.labelExpressionInfo&&"service"===(null==n?void 0:n.origin)&&S(n.layer)?{enabled:!1}:{allowNull:!0}}}}})],x.prototype,"labelExpression",void 0),Object(i.a)([Object(d.a)("labelExpression")],x.prototype,"readLabelExpression",null),Object(i.a)([Object(p.a)("labelExpression")],x.prototype,"writeLabelExpression",null),Object(i.a)([Object(u.b)({type:m,json:{write:{overridePolicy:(e,t,n)=>function(e){return _(e)||S(null==e?void 0:e.layer)}(n)?{allowNull:!0}:{enabled:!1}}}})],x.prototype,"labelExpressionInfo",void 0),Object(i.a)([Object(p.a)("labelExpressionInfo")],x.prototype,"writeLabelExpressionInfo",null),Object(i.a)([Object(u.b)({type:j.apiValues,json:{type:j.jsonValues,read:j.read,write:j.write}})],x.prototype,"labelPlacement",void 0),Object(i.a)([Object(u.b)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],x.prototype,"labelPosition",void 0),Object(i.a)([Object(u.b)({type:Number})],x.prototype,"maxScale",void 0),Object(i.a)([Object(p.a)("maxScale")],x.prototype,"writeMaxScale",null),Object(i.a)([Object(u.b)({type:Number})],x.prototype,"minScale",void 0),Object(i.a)([Object(p.a)("minScale")],x.prototype,"writeMinScale",null),Object(i.a)([Object(u.b)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],x.prototype,"repeatLabel",void 0),Object(i.a)([Object(u.b)({type:Number,cast:c.k,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],x.prototype,"repeatLabelDistance",void 0),Object(i.a)([Object(u.b)({types:s.g,json:{origins:{"web-scene":{types:s.h,write:O.c,default:null}},write:O.c,default:null}})],x.prototype,"symbol",void 0),Object(i.a)([Object(u.b)({type:Boolean,json:{write:!0}})],x.prototype,"useCodedValues",void 0),Object(i.a)([Object(u.b)({type:String,json:{write:!0}})],x.prototype,"where",void 0),x=y=Object(i.a)([Object(h.a)("esri.layers.support.LabelClass")],x)
const T=x},777:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return v}))
var r=n(968),i=(n(982),n(771)),s=n(446),a=n(1002),o=n(1063),l=n(1046),c=n(233),u=n(973),d=n(374),h=n(970),p=(n(971),n(445),n(969)),f=n(110),b=n(770),m=n(769)
let y=0,g=class extends(a.a.EventedMixin(Object(o.b)(l.a))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new b.default(-180,-90,180,90,m.default.WGS84),this.id=Date.now().toString(16)+"-layer-"+y++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.default.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e
return(await n.e(319).then(n.bind(null,2926))).fromUrl(t)}static fromPortalItem(e){return async function(e){const t="portalItem"in e?e:{portalItem:e},r=await Promise.all([n.e(1),n.e(2),n.e(246)]).then(n.bind(null,2192))
try{return await r.fromItem(t)}catch(e){const n=t&&t.portalItem,r=n&&n.id||"unset",i=n&&n.portal&&n.portal.url||f.default.portalUrl
throw c.a.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+i+"', id: '"+r+"')",e),e}}(e)}initialize(){this.when().catch(e=>{var t,n
Object(u.j)(e)||c.a.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(t=this.title)?t:"no title"}', id: '${null!=(n=this.id)?n:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent
"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return Object(d.Q)(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl
if(this.hasAttributionData&&e)return(await Object(i.default)(e,{query:{f:"json"},responseType:"json"})).data
throw new s.a("layer:no-attribution-data","Layer does not have attribution data")}}
Object(r.a)([Object(h.b)({type:String})],g.prototype,"attributionDataUrl",void 0),Object(r.a)([Object(h.b)({type:b.default})],g.prototype,"fullExtent",void 0),Object(r.a)([Object(h.b)({readOnly:!0})],g.prototype,"hasAttributionData",null),Object(r.a)([Object(h.b)({type:String,clonable:!1})],g.prototype,"id",void 0),Object(r.a)([Object(h.b)({type:Boolean,nonNullable:!0})],g.prototype,"legendEnabled",void 0),Object(r.a)([Object(h.b)({type:["show","hide","hide-children"]})],g.prototype,"listMode",void 0),Object(r.a)([Object(h.b)({type:Number,range:{min:0,max:1},nonNullable:!0})],g.prototype,"opacity",void 0),Object(r.a)([Object(h.b)({clonable:!1})],g.prototype,"parent",void 0),Object(r.a)([Object(h.b)({readOnly:!0})],g.prototype,"parsedUrl",null),Object(r.a)([Object(h.b)({type:Boolean})],g.prototype,"popupEnabled",void 0),Object(r.a)([Object(h.b)({type:Boolean})],g.prototype,"attributionVisible",void 0),Object(r.a)([Object(h.b)({type:m.default})],g.prototype,"spatialReference",void 0),Object(r.a)([Object(h.b)({type:String})],g.prototype,"title",void 0),Object(r.a)([Object(h.b)({readOnly:!0,json:{read:!1}})],g.prototype,"type",void 0),Object(r.a)([Object(h.b)()],g.prototype,"url",void 0),Object(r.a)([Object(h.b)({type:Boolean,nonNullable:!0})],g.prototype,"visible",void 0),g=Object(r.a)([Object(p.a)("esri.layers.Layer")],g)
const v=g},778:function(e,t,n){"use strict"
n.r(t),n.d(t,"getTimeExtentFromLayers",(function(){return l})),n.d(t,"toLocalTimeExtent",(function(){return u})),n.d(t,"toUTCTimeExtent",(function(){return c}))
var r=n(1009),i=n(23),s=n(973),a=n(1059)
function o(e){return void 0!==e.timeInfo}async function l(e,t){if(0===e.length)return r.a.allTime
const n=e.filter(o)
await Promise.all(n.map(e=>e.load({signal:t})))
const a=[],l=[]
for(const e of n){var c
"feature"!==(null==e?void 0:e.type)&&"map-image"!==(null==e?void 0:e.type)||null==(c=e.timeInfo)||!c.hasLiveData?l.push(e):a.push(e)}const u=e=>Object(i.k)(e)||e.isAllTime,d=l.map(e=>{var t
return null==(t=e.timeInfo)?void 0:t.fullTimeExtent})
if(d.some(u))return r.a.allTime
const h=a.map(async e=>{var n
const{timeExtent:r}=await e.fetchRecomputedExtents({signal:t})
return r||Object(i.u)(null==(n=e.timeInfo)?void 0:n.fullTimeExtent)}),p=(await Object(s.g)(h)).map(e=>e.value)
return p.some(u)?r.a.allTime:[...p,...d].filter(i.l).reduce((e,t)=>e.union(t))}function c(e){if(!e)return e
const{start:t,end:n}=e
return new r.a({start:Object(i.l)(t)?Object(a.b)(t,-t.getTimezoneOffset(),"minutes"):t,end:Object(i.l)(n)?Object(a.b)(n,-n.getTimezoneOffset(),"minutes"):n})}function u(e){if(!e)return e
const{start:t,end:n}=e
return new r.a({start:Object(i.l)(t)?Object(a.b)(t,t.getTimezoneOffset(),"minutes"):t,end:Object(i.l)(n)?Object(a.b)(n,n.getTimezoneOffset(),"minutes"):n})}},779:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return ze}))
var r=n(968),i=n(775),s=(n(1081),n(1098),n(1101),n(1102),n(1100),n(1001),n(1097)),a=n(1084),o=n(1092),l=n(1103),c=n(771),u=n(995),d=n(986),h=n(993),p=n(446),f=n(1007),b=n(234),m=n(233),y=n(23),g=n(1186),v=n(146),O=n(973),j=n(1198),w=n(374),_=n(970),S=n(987),x=n(977),T=n(969),I=n(974),M=n(1045),E=n(1463),k=n(769),C=n(777),A=(n(982),n(772)),L=n(1025),R=n(235),P=n(1046),F=n(1058),N=n(1228),D=n(971),V=(n(445),n(1082)),U=n(1457),G=n(1267),z=n(1047),q=n(770),B=n(773),$=n(1036)
let H=0
const W="esri.layers.graphics.sources.MemorySource",Z=m.a.getLogger(W)
let K=class extends(P.a.LoadableMixin(Object(F.b)(Object(L.b)(h.a)))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=Object(y.l)(e)?e.signal:null
return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e
null!=(e=this._connection)&&e.close(),this._connection=null}get _workerGeometryType(){var e
const t=null==(e=this.layer)?void 0:e.geometryType
return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t)
const n=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t)
Object(G.a)(e,this.layer.spatialReference,n)
const r=z.a.fromJSON(n)
if(!this._requiresClientGraphicMapping())return r
const i=this.layer.objectIdField
for(const e of r.features){const t=e.attributes[i],n=this._idToClientGraphic.get(t)
n&&(e.geometry=n.geometry)}return r.geometryType=this.layer.geometryType,r}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new p.a("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)")
await this.load(t)
const n=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t)
return Object(G.a)(e,this.layer.spatialReference,n),n}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(e=>({count:e.count,extent:q.default.fromJSON(e.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new p.a("feature-layer-source:edit-failure","Memory source not loaded")
const t=this.layer.objectIdField
let n=null
const r=[],i=[]
await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)])
const s=e=>"objectId"in e&&null!=e.objectId?e.objectId:"attributes"in e&&null!=e.attributes[t]?e.attributes[t]:null
if(e.addFeatures&&(n=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const t of e.deleteFeatures){const e=s(t)
null!=e&&r.push(e)}const a=e.updateFeatures&&this._idToClientGraphic?new Map:null
if(e.updateFeatures)for(const t of e.updateFeatures)if(i.push(this._serializeFeature(t)),a){const e=s(t)
null!=e&&a.set(e,t)}Object(U.a)(n?n.features:null,i,this.layer.spatialReference)
const{fullExtent:o,featureEditResults:l}=await this._connection.invoke("applyEdits",{adds:n?n.features:[],updates:i,deletes:r})
return this.fullExtent=o,n&&n.finish(l.uidToObjectId),this._updateClientGraphicIds(a,l),this._createEditsResult(l)}async _prepareClientMapping(e,t){if("mesh"!==this._layerOrSourceGeometryType||Object(y.k)(e))return
const n=[]
for(const{geometry:r}of e)!Object(y.l)(r)||"mesh"!==r.type||r.hasExtent||r.loaded||n.push(r.load({signal:t}))
n.length&&await Promise.all(n)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const n of t.updateResults){if(!n.success)continue
const t=e.get(n.objectId)
null!=t&&this._addIdToClientGraphic(t)}for(const e of t.deleteResults)e.success&&this._idToClientGraphic.delete(e.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0}
return{objectId:e.objectId,globalId:e.globalId,error:t?new p.a("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,n=new Array(e.length)
let r=null
for(let i=0;i<e.length;i++){const s=e[i],a=this._serializeFeature(s)
!r&&Object(y.l)(s.geometry)&&(r=s.geometry.type),n[i]=a,t.set(""+a.uid,s)}const i=this
return{features:n,inferredGeometryType:r,finish(e){const n=i.sourceJSON.objectIdField
for(const r in e){const s=e[r],a=t.get(r)
a&&(a.attributes||(a.attributes={}),-1===s?delete a.attributes[n]:a.attributes[n]=s,i._addIdToClientGraphic(a))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return
const t=this.sourceJSON.objectIdField,n=e.attributes&&e.attributes[t]
null!=n&&this._idToClientGraphic.set(n,e)}get _layerOrSourceGeometryType(){var e,t,n
return null!=(e=null==(t=this.layer)?void 0:t.geometryType)?e:null==(n=this.sourceJSON)?void 0:n.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return"mesh"===e||"multipatch"===e||"extent"===e}_serializeFeature(e){const{attributes:t}=e,n=this._geometryForSerialization(e),r=(H++).toString()
return n?{uid:r,geometry:n.toJSON(),attributes:t}:{uid:r,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e
return Object(y.k)(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?B.default.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await Object(N.b)("MemorySourceWorker",{strategy:Object(R.a)("feature-layers-workers")?"dedicated":"local",signal:e})
const{fields:t,spatialReference:n,objectIdField:r,hasM:i,hasZ:s,timeInfo:a}=this.layer,o="defaults"===this.layer.originOf("spatialReference")
await this._prepareClientMapping(this.items,e)
const l=this._prepareAddFeatures(this.items)
this.handles.add(this.on("before-changes",e=>{Z.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),e.preventDefault()}))
const c={features:l.features,fields:t&&t.map(e=>e.toJSON()),geometryType:$.b.toJSON(this._workerGeometryType),hasM:"mesh"!==this._layerOrSourceGeometryType&&i,hasZ:"mesh"===this._layerOrSourceGeometryType||s,objectIdField:r,spatialReference:o?null:n&&n.toJSON(),timeInfo:a?a.toJSON():null},u=await this._connection.invoke("load",c,{signal:e})
for(const e of u.warnings)Z.warn(e.message,{layer:this.layer,warning:e})
u.featureErrors.length&&Z.warn(`Encountered ${u.featureErrors.length} validation errors while loading features`,u.featureErrors)
const d=u.layerDefinition
this._geometryTypeRequiresClientGraphicMapping(l.inferredGeometryType)&&(d.geometryType=$.b.toJSON(l.inferredGeometryType)),this.sourceJSON=d,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),l.finish(u.assignedObjectIds)}}
Object(r.a)([Object(V.a)({Type:A.default,ensureType:Object(D.m)(A.default)})],K.prototype,"itemType",void 0),Object(r.a)([Object(_.b)()],K.prototype,"type",void 0),Object(r.a)([Object(_.b)({constructOnly:!0})],K.prototype,"layer",void 0),Object(r.a)([Object(_.b)({readOnly:!0})],K.prototype,"_workerGeometryType",null),Object(r.a)([Object(_.b)()],K.prototype,"sourceJSON",void 0),K=Object(r.a)([Object(T.a)(W)],K)
var J=n(1330),Y=n(1290),X=n(1221),Q=n(1313),ee=n(1387),te=n(1408),ne=n(1464),re=n(1414),ie=n(1193),se=n(1428),ae=n(1247),oe=n(975)
let le=class extends oe.a{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}}
Object(r.a)([Object(_.b)()],le.prototype,"updating",void 0),Object(r.a)([Object(_.b)()],le.prototype,"status",void 0),le=Object(r.a)([Object(T.a)("esri.layers.support.PublishingInfo")],le)
const ce=le,ue=Symbol("esri.layers.mixins.PublishableLayer"),de=e=>{var t
let n=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null
const e=this._get("publishingInfo")
if(e)return e
const t=new ce
return this._checkPublishingStatus(t),t}_checkPublishingStatus(e){let t=0
const n=async i=>{let s
e.updating=!0
try{s=await this.fetchPublishingStatus()}catch(e){s="unavailable"}"published"!==s&&"unavailable"!==s||("publishing"===e.status&&this.refresh(),r.remove()),e.status=s,e.updating=!1,r.removed||(t=setTimeout(n,i,i+125))},r={removed:!1,remove(){this.removed=!0,clearTimeout(t)}}
this.when().catch(()=>r.remove()),n(250),this.own(r)}}
return t=ue,Object(r.a)([Object(_.b)({readOnly:!0,clonable:!1})],n.prototype,"publishingInfo",null),n=Object(r.a)([Object(T.a)("esri.layers.mixins.PublishableLayer")],n),n}
var he=n(1270),pe=n(1201),fe=n(1332),be=n(1051),me=n(1035),ye=n(1309),ge=n(1274),ve=n(1380),Oe=n(1357),je=n(989),we=n(776),_e=n(1285),Se=n(1291),xe=n(1249),Te=n(1397),Ie=n(1106),Me=n(1354),Ee=n(1014),ke=n(1272),Ce=n(1297),Ae=n(1119)
const Le="FeatureLayer",Re="esri.layers.FeatureLayer",Pe=m.a.getLogger(Re)
function Fe(e,t){return new p.a("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function Ne(e){return e&&e instanceof h.a}const De=Object(Oe.a)()
function Ve(e,t,n){const r=!(null==n||!n.writeLayerSchema)
return{enabled:r,ignoreOrigin:r}}let Ue=class extends(Object(ne.a)(Object(re.a)(Object(te.a)(de(Object(ee.a)(Object(X.a)(Object(se.a)(Object(fe.a)(Object(pe.a)(Object(he.a)(Object(Y.a)(Object(ie.a)(Object(ae.a)(Object(g.a)(Object(Q.a)(Object(J.a)(Object(d.b)(C.default)))))))))))))))))){constructor(...e){super(...e),this._handles=new f.a,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=k.default.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0}destroy(){var e
null!=(e=this.source)&&e.destroy(),this._handles=Object(y.e)(this._handles)}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){var t
const n=Object(y.l)(e)?e.signal:null
if(null!=(t=this.portalItem)&&t.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(n).then(e=>this.initLayerProperties(e))),Promise.resolve(this)
const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(O.p).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const e=await this._fetchFirstLayerId(n)
null!=e&&(this.layerId=e)}if(!this.url&&!this._hasMemorySource())throw new p.a("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source")
return this.initLayerProperties(await this.createGraphicsSource(n))}).then(()=>this._setUserPrivileges(this.serviceItemId,e)).then(()=>Object(ye.f)(this,e))
return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,Object(Se.a)(t,this.url)}get createQueryVersion(){var e
return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(null!=(e=this._get("createQueryVersion"))?e:0)+1}get editingEnabled(){var e
return!(this.loaded&&(null==(e=this.capabilities)||!e.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,n){return this._readEditingEnabled(t,!0,n)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,n,r){this._writeEditingEnabled(e,t,!0,r)}get effectiveEditingEnabled(){return Object(ye.c)(this)}readIsTable(e,t){var n,r
return"Table"===(t=null!=(n=null==(r=t)?void 0:r.layerDefinition)?n:t).type||!t.geometryType}writeIsTable(e,t,n,r){(null==r?void 0:r.writeLayerSchema)&&Object(v.c)(n,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return Object(ye.p)(t.layerDefinition||t)}readObjectIdField(e,t){return Object(ye.q)(t.layerDefinition||t)}get parsedUrl(){const e=Object(w.Q)(this.url)
return null!=e&&(null!=this.dynamicDataSource?e.path=Object(w.E)(e.path,"dynamicLayer"):null!=this.layerId&&(e.path=Object(w.E)(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){Object(je.k)(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,n){var r
const i=null==(r=(t=t.layerDefinition||t).drawingInfo)?void 0:r.renderer
if(i){var l
const e=null!=(l=Object(o.b)(i,t,n))?l:void 0
return e||Pe.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:n}),e}if(t.defaultSymbol)return t.types&&t.types.length?new a.a({defaultSymbol:Ge(t.defaultSymbol,t,n),field:t.typeIdField,uniqueValueInfos:t.types.map(e=>({id:e.id,symbol:Ge(e.symbol,e,n)}))}):new s.a({symbol:Ge(t.defaultSymbol,t,n)})}set source(e){const t=this._get("source")
t!==e&&(Ne(t)&&this._resetMemorySource(t),Ne(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof h.a?new K({layer:this,items:e}):e:null}readSource(e,t){var n
const r=z.a.fromJSON(t.featureSet)
return new K({layer:this,items:null!=(n=null==r?void 0:r.features)?n:[]})}readTemplates(e,t){const n=t.editFieldsInfo,r=n&&n.creatorField,i=n&&n.editorField
return e=e&&e.map(e=>ge.a.fromJSON(e)),this._fixTemplates(e,r),this._fixTemplates(e,i),e}readTitle(e,t){var n,r
const i=null!=(n=null==(r=t.layerDefinition)?void 0:r.name)?n:t.name,s=t.title||t.layerDefinition&&t.layerDefinition.title
if(i){const e=this.portalItem&&this.portalItem.title
if("item-title"===this.sublayerTitleMode)return this.url?Object(be.j)(this.url,i):i
let t=i
if(!t&&this.url){const e=Object(be.f)(this.url)
Object(y.l)(e)&&(t=e.title)}if(!t)return
return"item-title-and-service-name"===this.sublayerTitleMode&&e&&e!==t&&(t=e+" - "+t),Object(be.a)(t)}if("item-title"===this.sublayerTitleMode&&s)return s}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let n=(t=t.layerDefinition||t).typeIdField
if(n&&t.fields){n=n.toLowerCase()
const e=t.fields.find(e=>e.name.toLowerCase()===n)
e&&(n=e.name)}return n}readTypes(e,t){e=(t=t.layerDefinition||t).types
const n=t.editFieldsInfo,r=n&&n.creatorField,i=n&&n.editorField
return e&&e.map(e=>(e=ve.a.fromJSON(e),this._fixTemplates(e.templates,r),this._fixTemplates(e.templates,i),e))}readVisible(e,t){return t.layerDefinition&&null!=t.layerDefinition.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}async addAttachment(e,t){return Object(ye.a)(this,e,t,Le)}async updateAttachment(e,t,n){return Object(ye.s)(this,e,t,n,Le)}async applyEdits(e,t){return Object(ye.b)(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return Object(Ce.a)(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e})
const{default:t}=await Object(O.v)(Promise.all([n.e(40),n.e(62)]).then(n.bind(null,2924)),e)
return new t({layer:this}).load({signal:e})}createQuery(){const e=Object(ye.d)(this)
e.dynamicDataSource=this.dynamicDataSource
const t=Object(y.l)(this.subtypeCode)?`${this.subtypeField} = ${this.subtypeCode}`:null,n=Object(j.b)(this.definitionExpression,t)
return e.where=n||"1=1",e}async deleteAttachments(e,t){return Object(ye.e)(this,e,t,Le)}async fetchRecomputedExtents(e){return Object(ye.g)(this,e,Le)}getFeatureType(e){const{typeIdField:t,types:n}=this
if(!t||!e)return null
const r=e.attributes?e.attributes[t]:void 0
if(null==r)return null
let i=null
return null!=n&&n.some(e=>{const{id:t}=e
return null!=t&&(t.toString()===r.toString()&&(i=e),!!i)}),i}getFieldDomain(e,t){const n=t&&t.feature,r=this.getFeatureType(n)
if(r){const t=r.domains&&r.domains[e]
if(t&&"inherited"!==t.type)return t}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,t){return Object(ye.j)(this,e,t,Le)}async queryFeatures(e,t){var n
const r=await this.load(),i=await r.source.queryFeatures(null!=(n=Ee.a.from(e))?n:r.createQuery(),t)
if(null!=i&&i.features)for(const e of i.features)e.layer=e.sourceLayer=r
return i}async queryObjectIds(e,t){return Object(ye.m)(this,e,t,Le)}async queryFeatureCount(e,t){return Object(ye.l)(this,e,t,Le)}async queryExtent(e,t){return Object(ye.k)(this,e,t,Le)}async queryRelatedFeatures(e,t){return Object(ye.n)(this,e,t,Le)}async queryRelatedFeaturesCount(e,t){return Object(ye.o)(this,e,t,Le)}async queryTopFeatures(e,t){var n
const{source:r,capabilities:i}=await this.load()
if(!r.queryTopFeatures||null==i||null==(n=i.query)||!n.supportsTopFeaturesQuery)throw new p.a(Le,"Layer source does not support queryTopFeatures capability")
const s=await r.queryTopFeatures(ke.a.from(e),t)
if(null!=s&&s.features)for(const e of s.features)e.layer=e.sourceLayer=this
return s}async queryTopObjectIds(e,t){const{source:n,capabilities:r}=await this.load()
if(!n.queryTopObjectIds||null==r||!r.query.supportsTopFeaturesQuery)throw new p.a(Le,"Layer source does not support queryTopObjectIds capability")
return n.queryTopObjectIds(ke.a.from(e),t)}async queryTopFeaturesExtent(e,t){var n
const{source:r,capabilities:i}=await this.load()
if(!r.queryTopExtents||null==i||null==(n=i.query)||!n.supportsTopFeaturesQuery)throw new p.a(Le,"Layer source does not support queryTopExtents capability")
return r.queryTopExtents(ke.a.from(e),t)}async queryTopFeatureCount(e,t){var n
const{source:r,capabilities:i}=await this.load()
if(!r.queryTopCount||null==i||null==(n=i.query)||!n.supportsTopFeaturesQuery)throw new p.a(Le,"Layer source does not support queryFeatureCount capability")
return r.queryTopCount(ke.a.from(e),t)}read(e,t){const n=e.featureCollection
if(n){const e=n.layers
e&&1===e.length&&(super.read(e[0],t),null!=n.showLegend&&super.read({showLegend:n.showLegend},t))}super.read(e,t),t&&"service"===t.origin&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){var n,r,i,s
t={...t,origin:null!=(n=null==(r=t)?void 0:r.origin)?n:void 0,writeLayerSchema:null!=(i=null==(s=t)?void 0:s.writeLayerSchema)?i:this._hasMemorySource()}
const{origin:a,layerContainerType:o,messages:l}=t
if(this.dynamicDataSource)return null!=l&&l.push(Fe(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null
if(this.isTable){if("web-scene"===a||"web-map"===a&&"tables"!==o)return null!=l&&l.push(Fe(this,"using a table source cannot be written to web scenes and web maps")),null
if(this._hasMemorySource())return null!=l&&l.push(Fe(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===a&&"tables"===o)return null!=l&&l.push(Fe(this,"using a non-table source cannot be written to tables in web maps")),null
return super.write(e,t)}clone(){if(this._hasMemorySource())throw new p.a(Le,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`)
return super.clone()}serviceSupportsSpatialReference(e){var t
return!!this.loaded&&("memory"===(null==(t=this.source)?void 0:t.type)||Object(Te.a)(this,e))}async save(e){return(await n.e(73).then(n.bind(null,2925))).save(this,e)}async saveAs(e,t){return(await n.e(73).then(n.bind(null,2925))).saveAs(this,e,t)}_readEditingEnabled(e,t,n){var r
let i=null==(r=e.layerDefinition)?void 0:r.capabilities
return i?this._hasEditingCapability(i):(i=e.capabilities,t&&"web-map"===(null==n?void 0:n.origin)&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(e=>e.trim()).includes("editing")}_writeEditingEnabled(e,t,n,r){if(!e){var i,s
const e=null!=(i=this.capabilities)&&null!=(s=i.operations)&&s.supportsSync?"Query,Sync":"Query"
Object(v.c)("layerDefinition.capabilities",e,t),n&&(null==r||!r.writeLayerSchema)&&(t.capabilities=e)}}_getLayerDomain(e){const t=this.fieldsIndex.get(e)
return t?t.domain:null}_fetchFirstLayerId(e){return Object(c.default)(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(e=>{const t=e.data
if(t)return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0})}async initLayerProperties(e){var t
return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:null==(t=this.portalItem)?void 0:t.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Object(je.k)(this.renderer,this.fieldsIndex),Object(je.l)(this.timeInfo,this.fieldsIndex),Object(Me.a)(this,{origin:"service"})}async hasDataChanged(){return Object(ye.i)(this)}async fetchPublishingStatus(){const e=this.source
return null!=e&&e.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){var e,t,n
const r=null!=(e=null==(t=this.parsedUrl)?void 0:t.path)?e:"undefined"
this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+r+")"),this.isTable||this._hasMemorySource()||-1!==r.search(/\/FeatureServer\//i)||(null==(n=this.fields)?void 0:n.some(e=>"geometry"===e.type))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+r+")")}_fixTemplates(e,t){e&&e.forEach(e=>{const n=e.prototype&&e.prototype.attributes
n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new p.a("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new p.a("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(e=>{e.layer=this,e.sourceLayer=this}),this._handles.add([e.on("after-add",e=>{e.item.layer=this,e.item.sourceLayer=this}),e.on("after-remove",e=>{e.item.layer=null,e.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(e=>{e.layer=null,e.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}}
Object(r.a)([Object(x.a)("service","capabilities")],Ue.prototype,"readCapabilities",null),Object(r.a)([Object(_.b)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Ue.prototype,"charts",void 0),Object(r.a)([Object(_.b)({readOnly:!0})],Ue.prototype,"createQueryVersion",null),Object(r.a)([Object(_.b)({json:{read:{source:"layerDefinition.copyrightText"}}})],Ue.prototype,"copyright",void 0),Object(r.a)([Object(_.b)({json:{read:{source:"layerDefinition.displayField"}}})],Ue.prototype,"displayField",void 0),Object(r.a)([Object(_.b)({types:u.e,readOnly:!0})],Ue.prototype,"defaultSymbol",void 0),Object(r.a)([Object(_.b)({type:Ie.a})],Ue.prototype,"dynamicDataSource",void 0),Object(r.a)([Object(_.b)({type:Boolean})],Ue.prototype,"editingEnabled",null),Object(r.a)([Object(x.a)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Ue.prototype,"readEditingEnabled",null),Object(r.a)([Object(x.a)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Ue.prototype,"readEditingEnabledFromWebMap",null),Object(r.a)([Object(I.a)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Ue.prototype,"writeEditingEnabled",null),Object(r.a)([Object(I.a)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Ue.prototype,"writeEditingEnabledToWebMap",null),Object(r.a)([Object(_.b)({readOnly:!0})],Ue.prototype,"effectiveEditingEnabled",null),Object(r.a)([Object(_.b)({...De.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ve}}}}})],Ue.prototype,"fields",void 0),Object(r.a)([Object(_.b)(De.fieldsIndex)],Ue.prototype,"fieldsIndex",void 0),Object(r.a)([Object(_.b)({type:E.a,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Ue.prototype,"formTemplate",void 0),Object(r.a)([Object(_.b)({json:{read:{source:"layerDefinition.extent"}}})],Ue.prototype,"fullExtent",void 0),Object(r.a)([Object(_.b)({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ve,writer(e,t,n){const r=e?ye.h.toJSON(e):null
r&&Object(v.c)(n,r,t)}}}},read:{source:"layerDefinition.geometryType",reader:ye.h.read}}})],Ue.prototype,"geometryType",void 0),Object(r.a)([Object(_.b)({json:{read:{source:"layerDefinition.hasM"}}})],Ue.prototype,"hasM",void 0),Object(r.a)([Object(_.b)({json:{read:{source:"layerDefinition.hasZ"}}})],Ue.prototype,"hasZ",void 0),Object(r.a)([Object(_.b)(me.c)],Ue.prototype,"id",void 0),Object(r.a)([Object(_.b)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Ue.prototype,"infoFor3D",void 0),Object(r.a)([Object(_.b)({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Ue.prototype,"isTable",void 0),Object(r.a)([Object(x.a)("service","isTable",["type","geometryType"]),Object(x.a)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Ue.prototype,"readIsTable",null),Object(r.a)([Object(I.a)("web-map","isTable")],Ue.prototype,"writeIsTable",null),Object(r.a)([Object(_.b)(me.d)],Ue.prototype,"labelsVisible",void 0),Object(r.a)([Object(_.b)({type:[we.default],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:_e.a},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:_e.a},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Ue.prototype,"labelingInfo",void 0),Object(r.a)([Object(_.b)((()=>{const e=Object(b.a)(me.j)
return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(e,t,n){Object(v.c)(n,Object(Ae.a)(e),t)}}},e})())],Ue.prototype,"opacity",void 0),Object(r.a)([Object(_.b)(me.e)],Ue.prototype,"legendEnabled",void 0),Object(r.a)([Object(_.b)({type:["show","hide"],json:(()=>{const e=Object(b.a)(me.f.json)
return e.origins["portal-item"]={read:!1,write:!1},e})()})],Ue.prototype,"listMode",void 0),Object(r.a)([Object(x.a)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Ue.prototype,"readGlobalIdField",null),Object(r.a)([Object(_.b)({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ve}}}}})],Ue.prototype,"objectIdField",void 0),Object(r.a)([Object(x.a)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Ue.prototype,"readObjectIdField",null),Object(r.a)([Object(_.b)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Ue.prototype,"operationalLayerType",void 0),Object(r.a)([Object(_.b)(De.outFields)],Ue.prototype,"outFields",void 0),Object(r.a)([Object(_.b)({readOnly:!0})],Ue.prototype,"parsedUrl",null),Object(r.a)([Object(_.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Ue.prototype,"path",void 0),Object(r.a)([Object(_.b)(me.k)],Ue.prototype,"popupEnabled",void 0),Object(r.a)([Object(_.b)({type:i.default,json:{name:"popupInfo",write:!0}})],Ue.prototype,"popupTemplate",void 0),Object(r.a)([Object(_.b)({readOnly:!0})],Ue.prototype,"defaultPopupTemplate",null),Object(r.a)([Object(_.b)({types:l.a,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:l.b,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,n)=>({ignoreOrigin:null==n?void 0:n.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,n)=>({ignoreOrigin:null==n?void 0:n.writeLayerSchema})}}})],Ue.prototype,"renderer",null),Object(r.a)([Object(x.a)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Object(x.a)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Ue.prototype,"readRenderer",null),Object(r.a)([Object(_.b)((()=>{const e=Object(b.a)(me.n)
return e.json.origins["portal-item"]={read:!1,write:!1},e})())],Ue.prototype,"screenSizePerspectiveEnabled",void 0),Object(r.a)([Object(_.b)({clonable:!1})],Ue.prototype,"source",null),Object(r.a)([Object(S.a)("source")],Ue.prototype,"castSource",null),Object(r.a)([Object(x.a)("portal-item","source",["featureSet"]),Object(x.a)("web-map","source",["featureSet"])],Ue.prototype,"readSource",null),Object(r.a)([Object(_.b)({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],Ue.prototype,"spatialReference",void 0),Object(r.a)([Object(_.b)({type:Number})],Ue.prototype,"subtypeCode",void 0),Object(r.a)([Object(_.b)({type:[ge.a]})],Ue.prototype,"templates",void 0),Object(r.a)([Object(x.a)("templates",["editFieldsInfo","creatorField","editorField","templates"])],Ue.prototype,"readTemplates",null),Object(r.a)([Object(_.b)({type:xe.a})],Ue.prototype,"timeInfo",void 0),Object(r.a)([Object(_.b)()],Ue.prototype,"title",void 0),Object(r.a)([Object(x.a)("service","title",["name"]),Object(x.a)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Ue.prototype,"readTitle",null),Object(r.a)([Object(x.a)("web-map","title",["layerDefinition.name","title"])],Ue.prototype,"readTitleFromWebMap",null),Object(r.a)([Object(_.b)({type:String})],Ue.prototype,"sublayerTitleMode",void 0),Object(r.a)([Object(_.b)({json:{read:!1}})],Ue.prototype,"type",void 0),Object(r.a)([Object(_.b)({type:String})],Ue.prototype,"typeIdField",void 0),Object(r.a)([Object(x.a)("service","typeIdField"),Object(x.a)("typeIdField",["layerDefinition.typeIdField"])],Ue.prototype,"readTypeIdField",null),Object(r.a)([Object(_.b)({type:[ve.a]})],Ue.prototype,"types",void 0),Object(r.a)([Object(x.a)("service","types",["types"]),Object(x.a)("types",["layerDefinition.types"])],Ue.prototype,"readTypes",null),Object(r.a)([Object(_.b)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Ue.prototype,"visible",void 0),Object(r.a)([Object(x.a)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Ue.prototype,"readVisible",null),Ue=Object(r.a)([Object(T.a)(Re)],Ue)
const Ge=Object(M.b)({types:u.i}),ze=Ue},780:function(e,t,n){"use strict"
n.r(t),n.d(t,"esriBasemapDefinitions",(function(){return a})),n.d(t,"getBasemapTitle",(function(){return s}))
var r=n(1019),i=n(1027)
async function s(e){if(!e)return
const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e,n=await Object(i.a)("esri/t9n/basemaps")
return n[e]||n[t]}const a={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Object(r.b)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},782:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return I}))
var r,i=n(968),s=n(993),a=n(1179),o=n(1095),l=n(972),c=n(234),u=n(1046),d=n(1329),h=n(233),p=n(23),f=n(973),b=n(374),m=n(970),y=(n(971),n(969)),g=n(974),v=n(769),O=n(1028),j=n(1154),w=n(780),_=n(1518)
let S=0
const x="esri.Basemap"
let T=r=class extends(Object(l.b)(u.a)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+S++,this.baseLayers=new s.a,this.referenceLayers=new s.a
const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&h.a.getLogger(this.declaredClass).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},n=e=>{e.parent=null}
this.baseLayers.on("after-add",e=>t(e.item)),this.referenceLayers.on("after-add",e=>t(e.item)),this.baseLayers.on("after-remove",e=>n(e.item)),this.referenceLayers.on("after-remove",e=>n(e.item))}initialize(){this.when().catch(e=>{h.a.getLogger(this.declaredClass).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var e
const t=this.baseLayers.removeAll()
for(const e of t)e.destroy()
const n=this.referenceLayers.removeAll()
for(const e of n)e.destroy()
this.baseLayers.destroy(),this.referenceLayers.destroy(),null!=(e=this.portalItem)&&e.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Object(a.b)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,n){const r=[]
e?(n={...n,layerContainerType:"basemap"},this.baseLayers.forEach(e=>{const t=Object(_.a)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n)
Object(p.l)(t)&&r.push(t)}),this.referenceLayers.forEach(e=>{const t=Object(_.a)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n)
Object(p.l)(t)&&("scene"!==e.type&&(t.isReference=!0),r.push(t))}),t.baseMapLayers=r):t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",Object(a.b)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return Object(d.a)(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()}
return this.loaded&&(e.loadStatus="loaded"),new r({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(e=>{const t=Object(c.a)(e)
return t.url&&Object(b.B)(t.url)&&(t.url="https:"+t.url),t.templateUrl&&Object(b.B)(t.templateUrl)&&(t.templateUrl="https:"+t.templateUrl),t})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:n}=this
Object(f.q)(e)
const r=[]
if(t){const n=t.context?t.context.url:null
if(r.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){const e=t.data.id
r.push(Object(w.getBasemapTitle)(e).then(e=>{e&&this.read({title:e},t.context)}))}}else n&&r.push(this._loadFromItem(n,e))
await Promise.all(r)}async _loadLayersFromJSON(e,t,r){const i=this.resourceInfo&&this.resourceInfo.context,s=this.portalItem&&this.portalItem.portal||i&&i.portal||null,a=i&&"web-scene"===i.origin?"web-scene":"web-map",{populateOperationalLayers:o}=await Promise.all([n.e(1),n.e(30),n.e(251)]).then(n.bind(null,1781)),l=[]
if(Object(f.q)(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const n={context:{origin:a,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},r=e=>"web-scene"===a&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,i=o(this.baseLayers,e.baseMapLayers.filter(e=>!r(e)),n)
l.push(i)
const c=o(this.referenceLayers,e.baseMapLayers.filter(r),n)
l.push(c)}await Object(f.g)(l)}async _loadFromItem(e,t){var n,r
const i=await e.load(t),s=await i.fetchData("json",t),a=Object(b.Q)(null!=(n=e.itemUrl)?n:"")
return this._set("resourceInfo",{data:null!=(r=s.baseMap)?r:{},context:{origin:"Web Scene"===e.type?"web-scene":"web-map",portal:e.portal||O.a.getDefault(),url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||O.a.getDefault(),url:a}),this._loadLayersFromJSON(this.resourceInfo.data,a,t)}static fromId(e){const t=w.esriBasemapDefinitions[e]
if(t){if(t.deprecated){let t=null
"dark-gray"===e?t="dark-gray-vector":"gray"===e?t="gray-vector":"streets"===e?t="streets-vector":"topo"===e&&(t="topo-vector"),Object(o.a)(h.a.getLogger(x),`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:t,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return r.fromJSON(t)}return null}}
Object(i.a)([Object(m.b)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,n,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:s.a}},writer(e,t,n,r){this._writeBaseLayers(e,t,r)}}}}}})],T.prototype,"baseLayers",null),Object(i.a)([Object(m.b)({type:String,json:{origins:{"web-scene":{write:!0}}}})],T.prototype,"id",void 0),Object(i.a)([Object(m.b)({type:j.default})],T.prototype,"portalItem",void 0),Object(i.a)([Object(m.b)()],T.prototype,"referenceLayers",null),Object(i.a)([Object(m.b)({readOnly:!0})],T.prototype,"resourceInfo",void 0),Object(i.a)([Object(m.b)({type:v.default})],T.prototype,"spatialReference",void 0),Object(i.a)([Object(m.b)()],T.prototype,"thumbnailUrl",void 0),Object(i.a)([Object(m.b)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],T.prototype,"title",void 0),Object(i.a)([Object(g.a)("title")],T.prototype,"writeTitle",null),T=r=Object(i.a)([Object(y.a)(x)],T)
const I=T},783:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return _}))
var r=n(968),i=n(782),s=n(1517),a=n(975),o=n(1279),l=n(1002),c=n(23),u=n(970),d=n(987),h=(n(445),n(969)),p=n(1037)
function f(e){var t,n
return!(null==e||!e.loaded||null==(t=Object(p.b)(e))||null==(n=t.operations)||!n.supportsEditing||"editingEnabled"in e&&!Object(p.a)(e))}var b=n(1505),m=n(1649),y=n(233),g=n(971)
const v={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}}
var O=n(1650),j=n(1651)
let w=class extends(Object(j.a)(Object(O.a)(l.a.EventedMixin(a.a)))){constructor(e){super(e),this.allLayers=new o.a({getCollections:()=>{var e,t,n
return[null==(e=this.basemap)?void 0:e.baseLayers,null==(t=this.ground)?void 0:t.layers,this.layers,null==(n=this.basemap)?void 0:n.referenceLayers]},getChildrenFunction:e=>"layers"in e?e.layers:null}),this.allTables=Object(m.a)(this),this.basemap=null,this.editableLayers=new o.a({getCollections:()=>[this.allLayers],itemFilterFunction:f}),this.ground=new s.a,this._basemapCache=Object(b.b)()}destroy(){var e,t
this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null!=(e=this.ground)&&e.destroy(),null!=(t=this.basemap)&&t.destroy(),Object(b.c)(this._basemapCache),this._basemapCache=null}castBasemap(e){return Object(b.d)(e,this._basemapCache)}castGround(e){const t=function(e){let t=null
if("string"==typeof e)if(e in v){const n=v[e]
t=new s.a({resourceInfo:{data:{layers:[n]}}})}else y.a.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`)
else t=Object(g.m)(s.a,e)
return t}(e)
return Object(c.k)(t)?this._get("ground"):t}findLayerById(e){return this.allLayers.find(t=>t.id===e)}findTableById(e){return this.allTables.find(t=>t.id===e)}}
Object(r.a)([Object(u.b)({readOnly:!0,dependsOn:[]})],w.prototype,"allLayers",void 0),Object(r.a)([Object(u.b)({readOnly:!0})],w.prototype,"allTables",void 0),Object(r.a)([Object(u.b)({type:i.default})],w.prototype,"basemap",void 0),Object(r.a)([Object(d.a)("basemap")],w.prototype,"castBasemap",null),Object(r.a)([Object(u.b)({readOnly:!0})],w.prototype,"editableLayers",void 0),Object(r.a)([Object(u.b)({type:s.a,nonNullable:!0})],w.prototype,"ground",void 0),Object(r.a)([Object(d.a)("ground")],w.prototype,"castGround",null),w=Object(r.a)([Object(h.a)("esri.Map")],w)
const _=w},786:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return ht}))
var r=n(968),i=n(772),s=n(1265),a=n(993),o=n(1279),l=n(446),c=n(235),u=n(1335),d=n(233),h=n(23),p=n(973),f=n(978),b=n(980),m=n(1044),y=n(1228),g=n(970),v=(n(971),n(445),n(969)),O=n(770),j=n(992),w=n(1015),_=n(988),S=n(1322),x=n(1760),T=n(1775),I=n(1761),M=n(1776),E=n(1531),k=(n(982),n(975)),C=n(1024),A=n(1677),L=n(1310)
class R{constructor(e,t,n,r){const i=e.targetGeometry,s=t.targetGeometry
r?"string"==typeof r&&(r=Object(A.b)(r)||A.a.ease):r=A.a.ease,this.easing=r,this.duration=n,this.sCenterX=i.x,this.sCenterY=i.y,this.sScale=e.scale,this.sRotation=e.rotation,this.tCenterX=s.x,this.tCenterY=s.y,this.tScale=t.scale,this.tRotation=t.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(e,t){const n=this.easing(t)
let r,i,s,a
t>=1?(r=this.tCenterX,i=this.tCenterY,s=this.tRotation,a=this.tScale):(r=this.sCenterX+n*this.dCenterX,i=this.sCenterY+n*this.dCenterY,s=this.sRotation+n*this.dRotation,a=this.sScale+n*this.dScale),e.targetGeometry.x=r,e.targetGeometry.y=i,e.scale=a,e.rotation=s}}let P=class extends k.a{constructor(e){super(e),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=A.a.ease,this.view=null,this.viewpoint=new s.a({targetGeometry:new j.a,scale:0,rotation:0}),this._updateTask=Object(C.a)({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask=Object(h.s)(this._updateTask)}animate(e,t,n){this.stop()
const r=this.viewpoint
Object(L.d)(r,t),this.transition=new R(this.viewpoint,e.target,n&&n.duration||this.duration,n&&n.easing||this.easing)
const i=()=>{var t,n
this.animation===e&&this._updateTask&&("finished"===e.state&&(null!=(t=this.transition)&&t.applyRatio(this.viewpoint,1),null!=(n=this.view)&&n.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)}
return e.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e
const n=new E.a({target:e.clone()}),r=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)}
return n.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation
if(t&&t.state!==E.a.State.STOPPED){var n
if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime)
else{var r
const e=this.transition,t=(performance.now()-this._startTime)/e.duration,n=t>=1
e.applyRatio(this.viewpoint,t),n&&(null==(r=this.animation)||r.finish())}(null==(n=this.view)?void 0:n.state)&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}}
Object(r.a)([Object(g.b)()],P.prototype,"animation",void 0),Object(r.a)([Object(g.b)()],P.prototype,"duration",void 0),Object(r.a)([Object(g.b)()],P.prototype,"transition",void 0),Object(r.a)([Object(g.b)()],P.prototype,"easing",void 0),Object(r.a)([Object(g.b)()],P.prototype,"view",void 0),Object(r.a)([Object(g.b)()],P.prototype,"viewpoint",void 0),P=Object(r.a)([Object(v.a)("esri.views.2d.AnimationManager")],P)
const F=P
class N{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{var e
this._updateRequested=!1
const{basemapView:t,graphicsView:n,labelManager:r,layerViews:i,state:{id:s}}=this.view
null!=t&&t.baseLayerViews.forEach(this._updateLayerView,this),i.forEach(this._updateLayerView,this),null!=t&&t.referenceLayerViews.forEach(this._updateLayerView,this),Object(h.l)(r)&&(r.lastUpdateId!==s&&(r.viewChange(),r.lastUpdateId=s),r.updateRequested&&r.processUpdate(this._updateParameters)),Object(h.l)(n)&&(n.lastUpdateId!==s&&(n.viewChange(),n.lastUpdateId=s),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||null==(e=this._frameTaskHandle)||e.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return
const e=this.view
this.stationary=e.stationary,this._updateParameters={state:e.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=Object(f.f)(()=>e.stationary,e=>{this.stationary=e,this.requestFrame()}),this._frameTaskHandle=Object(C.a)(this),this.requestUpdate()}stop(){var e
this._frameTaskHandle&&(this._updateRequested=!1,null!=(e=this._stationaryHandle)&&e.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){if(!e.attached)return void this.requestUpdate()
const t=this.view.state,n=e.lastUpdateId
null!=n&&(this.stationary||e.moving)||(e.moving=!0,e.moveStart()),n!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews.forEach(this._updateLayerView,this)}}function D(){return Promise.all([Promise.all([n.e(6),n.e(8),n.e(69)]).then(n.bind(null,2932)),Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(46)]).then(n.bind(null,3080))])}const V=()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(165)]).then(n.bind(null,2980))),U=()=>D().then(()=>Promise.all([n.e(6),n.e(12),n.e(25),n.e(26),n.e(261)]).then(n.bind(null,2580))),G={"base-dynamic":()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(228)]).then(n.bind(null,2981))),"base-tile":V,"bing-maps":V,csv:U,"geo-rss":()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(185)]).then(n.bind(null,2982))),feature:U,geojson:U,graphics:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(186)]).then(n.bind(null,2882))),group:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(236)]).then(n.bind(null,2983))),imagery:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(175)]).then(n.bind(null,3093))),"imagery-tile":()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(49)]).then(n.bind(null,3079))),kml:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(174)]).then(n.bind(null,3101))),"knowledge-graph":()=>D().then(()=>Promise.all([n.e(6),n.e(68)]).then(n.bind(null,2984))),"link-chart":()=>D().then(()=>Promise.all([n.e(6),n.e(68)]).then(n.bind(null,2984))),"knowledge-graph-sublayer":U,"map-image":()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(177)]).then(n.bind(null,2985))),"map-notes":()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(184)]).then(n.bind(null,2986))),media:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(170)]).then(n.bind(null,3096))),"ogc-feature":()=>D().then(()=>Promise.all([n.e(6),n.e(12),n.e(25),n.e(26),n.e(253)]).then(n.bind(null,2987))),"open-street-map":V,"oriented-imagery":U,route:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(178)]).then(n.bind(null,2988))),stream:()=>D().then(()=>Promise.all([n.e(6),n.e(12),n.e(25),n.e(26),n.e(256)]).then(n.bind(null,2989))),"subtype-group":()=>D().then(()=>Promise.all([n.e(6),n.e(12),n.e(25),n.e(26),n.e(257)]).then(n.bind(null,2990))),tile:V,"vector-tile":()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(208)]).then(n.bind(null,3090))),wcs:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(49)]).then(n.bind(null,3079))),"web-tile":V,wfs:U,wms:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(223)]).then(n.bind(null,2991))),wmts:()=>D().then(()=>Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(221)]).then(n.bind(null,2992))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null}
var z,q=n(1317),B=n(1063),$=n(1085),H=n(1013),W=n(1066)
let Z=z=class extends(Object(B.c)(k.a)){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(Object(h.k)(this.geometry)||!this.spatialReference)return null
if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Object(w.m)(this.geometry,this.spatialReference)}catch(e){return d.a.getLogger(this.declaredClass).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(Object(h.k)(this.normalizedGeometry))return e
const n=e.targetGeometry
if("extent"===this.normalizedGeometry.type?Object($.e)(this.normalizedGeometry,n):Object($.g)(this.normalizedGeometry,n))return e
const{coordinate:r}=function(e,t){const{spatialReference:n}=t,r=[t.x,t.y]
let i=Number.POSITIVE_INFINITY,s=0,a=0
const o=[0,0],l="extent"===e.type?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings
for(const e of l)for(let t=0;t<e.length-1;t++){Object(W.l)(o,r,e,t)
const n=Object(H.d)(r,o)
n<i&&(i=n,s=o[0],a=o[1])}return{coordinate:new j.a({x:s,y:a,spatialReference:n}),distance:i}}(this.normalizedGeometry,n)
return r?(e.targetGeometry=r,e):e}clone(){var e,t
return new z({geometry:null==(e=this.geometry)?void 0:e.clone(),spatialReference:null==(t=this.spatialReference)?void 0:t.clone()})}}
var K
Object(r.a)([Object(g.b)({constructOnly:!0})],Z.prototype,"geometry",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],Z.prototype,"normalizedGeometry",null),Object(r.a)([Object(g.b)({constructOnly:!0})],Z.prototype,"spatialReference",void 0),Z=z=Object(r.a)([Object(v.a)("esri.views.2d.constraints.GeometryConstraint")],Z)
let J=K=class extends(Object(B.c)(k.a)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t?(this.rotationEnabled||(e.rotation=t.rotation),e):e}clone(){return new K({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}}
Object(r.a)([Object(g.b)()],J.prototype,"enabled",void 0),Object(r.a)([Object(g.b)()],J.prototype,"rotationEnabled",void 0),J=K=Object(r.a)([Object(v.a)("esri.views.2d.constraints.RotationConstraint")],J)
const Y=J
var X
let Q=X=class extends(Object(B.c)(k.a)){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:n,maxScale:r,minZoom:i,maxZoom:s}=this,a=-1,o=-1,l=!1,c=!1
if(0!==n&&0!==r&&n<r&&([n,r]=[r,n]),!t||!t.length)return this._set("effectiveMinScale",n),void this._set("effectiveMaxScale",r)
t=t.map(e=>e.clone()),t.sort((e,t)=>t.scale-e.scale),t.forEach((e,t)=>e.level=t)
for(const i of t)!l&&n>0&&n>=i.scale&&(a=i.level,l=!0),!c&&r>0&&r>=i.scale&&(o=e?e.level:-1,c=!0),e=i;-1===i&&(i=0===n?0:a),-1===s&&(s=0===r?t.length-1:o),i=Math.max(i,0),i=Math.min(i,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),i>s&&([i,s]=[s,i]),n=t[i].scale,r=t[s].scale,t.splice(0,i),t.splice(s-i+1,t.length),t.forEach((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",n),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e
const n=this.effectiveMinScale,r=this.effectiveMaxScale,i=e.targetGeometry,s=t&&t.targetGeometry,a=0!==r&&e.scale<r,o=0!==n&&e.scale>n
if(a||o){const a=o?n:r
if(t&&s){const n=(a-t.scale)/(e.scale-t.scale)
i.x=s.x+(i.x-s.x)*n,i.y=s.y+(i.y-s.y)*n}e.scale=a}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null)
const t=this.scaleToZoom(e.scale),n=Math.abs(t-Math.floor(t))
return e.scale=this.zoomToScale(n>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0
e-=this.effectiveMinZoom,e=Math.max(0,e)
const t=this._scales
if(e<=0)return t[0]
if(e>=t.length)return t[t.length-1]
const n=Math.round(e-.5),r=Math.round(e)
return t[r]+(r-e)*(t[n]-t[r])}scaleToZoom(e){if(!this.effectiveLODs)return-1
const t=this._scales
let n,r
if(e>=t[0])return this.effectiveMinZoom
if(e<=t[t.length-1])return this.effectiveMaxZoom
for(let i=0;i<t.length-1;i++){if(n=t[i],r=t[i+1],r===e)return i+this.effectiveMinZoom+1
if(n>e&&r<e)return i+this.effectiveMinZoom+1-(e-r)/(n-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e
const t=this.scaleToZoom(e)
return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t
const n=Math.round(this.scaleToZoom(e))
return this.zoomToScale(n+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t
const n=Math.round(this.scaleToZoom(e))
return this.zoomToScale(n-1)}clone(){return new X({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,n)=>Math.abs(n-e)<=Math.abs(t-e)?n:t,this._scales[0])),this._lodByScale[e].scale}}
Object(r.a)([Object(g.b)({readOnly:!0})],Q.prototype,"effectiveLODs",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],Q.prototype,"effectiveMinZoom",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],Q.prototype,"effectiveMaxZoom",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],Q.prototype,"effectiveMinScale",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],Q.prototype,"effectiveMaxScale",void 0),Object(r.a)([Object(g.b)()],Q.prototype,"lods",void 0),Object(r.a)([Object(g.b)()],Q.prototype,"minZoom",void 0),Object(r.a)([Object(g.b)()],Q.prototype,"maxZoom",void 0),Object(r.a)([Object(g.b)()],Q.prototype,"minScale",void 0),Object(r.a)([Object(g.b)()],Q.prototype,"maxScale",void 0),Object(r.a)([Object(g.b)()],Q.prototype,"snapToZoom",void 0),Q=X=Object(r.a)([Object(v.a)("esri.views.2d.constraints.ZoomConstraint")],Q)
const ee=Q
var te=n(773)
const ne={base:null,key:"type",typeMap:{extent:O.default,polygon:te.default}}
let re=class extends k.a{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e,t,n
return`${null==(e=this._zoom)?void 0:e.uid}/${null==(t=this._rotation)?void 0:t.uid}/${null==(n=this._geometry)?void 0:n.uid}`}get _defaultLODs(){var e,t,n
const r=null==(e=this.view)||null==(t=e.defaultsFromMap)?void 0:t.tileInfo,i=null==(n=this.view)?void 0:n.spatialReference
return r&&i&&r.spatialReference.equals(i)?r.lods:null}get _geometry(){var e
return new Z({geometry:this.geometry,spatialReference:null==(e=this.view)?void 0:e.spatialReference})}get _rotation(){return new Y({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this._defaultLODs,n=this.minZoom,r=this.maxZoom,i=this.minScale,s=this.maxScale,a=this.snapToZoom
return e&&e.lods===t&&e.minZoom===n&&e.maxZoom===r&&e.minScale===i&&e.maxScale===s&&e.snapToZoom===a?e:new ee({lods:t,minZoom:n,maxZoom:r,minScale:i,maxScale:s,snapToZoom:a})}canZoomInTo(e){const t=this.effectiveMaxScale
return 0===t||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale
return 0===t||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}constrainByGeometry(e){return this._geometry.constrain(e)}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}}
Object(r.a)([Object(g.b)({readOnly:!0})],re.prototype,"effectiveLODs",null),Object(r.a)([Object(g.b)({readOnly:!0})],re.prototype,"effectiveMinScale",null),Object(r.a)([Object(g.b)({readOnly:!0})],re.prototype,"effectiveMaxScale",null),Object(r.a)([Object(g.b)({readOnly:!0})],re.prototype,"effectiveMinZoom",null),Object(r.a)([Object(g.b)({readOnly:!0})],re.prototype,"effectiveMaxZoom",null),Object(r.a)([Object(g.b)({types:ne,value:null})],re.prototype,"geometry",null),Object(r.a)([Object(g.b)({type:[q.a]})],re.prototype,"lods",void 0),Object(r.a)([Object(g.b)()],re.prototype,"minScale",void 0),Object(r.a)([Object(g.b)()],re.prototype,"maxScale",void 0),Object(r.a)([Object(g.b)()],re.prototype,"minZoom",void 0),Object(r.a)([Object(g.b)()],re.prototype,"maxZoom",void 0),Object(r.a)([Object(g.b)()],re.prototype,"rotationEnabled",void 0),Object(r.a)([Object(g.b)()],re.prototype,"snapToZoom",void 0),Object(r.a)([Object(g.b)()],re.prototype,"view",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],re.prototype,"version",null),Object(r.a)([Object(g.b)()],re.prototype,"_defaultLODs",null),Object(r.a)([Object(g.b)({type:Z})],re.prototype,"_geometry",null),Object(r.a)([Object(g.b)({type:Y})],re.prototype,"_rotation",null),Object(r.a)([Object(g.b)({readOnly:!0,type:ee})],re.prototype,"_zoom",null),re=Object(r.a)([Object(v.a)("esri.views.2d.MapViewConstraints")],re)
const ie=re
var se,ae,oe=n(1026),le=n(1782)
let ce=se=class extends k.a{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new se({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}}
Object(r.a)([Object(g.b)()],ce.prototype,"left",void 0),Object(r.a)([Object(g.b)()],ce.prototype,"top",void 0),Object(r.a)([Object(g.b)()],ce.prototype,"right",void 0),Object(r.a)([Object(g.b)()],ce.prototype,"bottom",void 0),ce=se=Object(r.a)([Object(v.a)("esri.views.2d.PaddedViewState.Padding")],ce)
let ue=ae=class extends le.a{constructor(...e){super(...e),this.paddedViewState=new le.a,this._updateContent=(()=>{const e=Object(oe.d)()
return()=>{const t=this._get("size"),n=this._get("padding")
if(!t||!n)return
const r=this.paddedViewState
Object(H.s)(e,n.left+n.right,n.top+n.bottom),Object(H.a)(e,t,e),Object(H.c)(r.size,e)
const i=r.viewpoint
i&&(this.viewpoint=i)}})(),this.addHandles(Object(f.f)(()=>[this.size,this.padding],()=>this._updateContent(),f.d)),this.padding=new ce,this.size=[0,0]}set padding(e){this._set("padding",e||new ce)}set viewpoint(e){if(e){const t=e.clone()
this.paddedViewState.viewpoint=e,Object(L.a)(t,e,this._get("size"),this._get("padding"))
const n=this._viewpoint2D,r=t.targetGeometry
n.center[0]=r.x,n.center[1]=r.y,n.rotation=t.rotation,n.scale=t.scale,n.spatialReference=r.spatialReference,this._update()}}clone(){return new ae({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}}
Object(r.a)([Object(g.b)()],ue.prototype,"paddedViewState",void 0),Object(r.a)([Object(g.b)({type:ce})],ue.prototype,"padding",null),Object(r.a)([Object(g.b)()],ue.prototype,"viewpoint",null),ue=ae=Object(r.a)([Object(v.a)("esri.views.2d.PaddedViewState")],ue)
const de=ue
n(1576)
var he=n(1497),pe=(n(1150),n(1545),n(1564),n(1007)),fe=n(1053),be=n(1471)
class me extends fe.a{constructor(e,t){super(!0),this._view=e,this.registerIncoming("double-click",t,e=>this._handleDoubleClick(e,t))}_handleDoubleClick(e,t){Object(be.b)(e.data,"primary")&&(e.stopPropagation(),t?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}}class ye extends fe.a{constructor(e,t,n){super(!0),this.view=e,this.pointerType=t,this.registerIncoming("double-tap-drag",n,e=>this._handleDoubleTapDrag(e))}_handleDoubleTapDrag(e){const{data:t}=e,{pointerType:n}=t
if(n!==this.pointerType)return
e.stopPropagation()
const{action:r,delta:i}=t,{view:s}=this,{mapViewNavigation:a}=s
switch(r){case"begin":{const{scale:e}=s
this._startScale=e,this._currentScale=e,this._previousDelta=i,a.begin()
break}case"update":{if(this._previousDelta.y===i.y)return
this._previousDelta=i
const e=1.015**i.y,t=this._startScale*e,n=t/this._currentScale
a.setViewpointImmediate(n),this._currentScale=t
break}case"end":{const{constraints:e}=s,{effectiveLODs:t,snapToZoom:n}=e
if(!n||!t)return void a.end()
const r=e.snapScale(this._currentScale),o=(i.y>0?Math.max(r,e.snapToPreviousScale(this._startScale)):Math.min(r,e.snapToNextScale(this._startScale)))/this._currentScale
a.zoom(o)
break}}}}var ge=n(1437)
class ve extends fe.a{constructor(e,t,n){super(!0),this.view=e,this.pointerAction=t,this.registerIncoming("drag",n,e=>this._handleDrag(e)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(e){super.onInstall(e),this._dragEventSeparator=new ge.a({start:(e,t)=>{this.view.mapViewNavigation.pan.begin(this.view,t.data),t.stopPropagation()},update:(e,t)=>{this.view.mapViewNavigation.pan.update(this.view,t.data),t.stopPropagation()},end:(e,t)=>{this.view.mapViewNavigation.pan.end(this.view,t.data),t.stopPropagation()},condition:(e,t)=>1===e&&Object(be.b)(t.data,this.pointerAction)})}_handleDrag(e){const t=this.view.mapViewNavigation
t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class Oe extends fe.a{constructor(e,t,n){super(!0),this._view=e,this.pointerAction=t
const r=this._view.mapViewNavigation
this._dragEventSeparator=new ge.a({start:(e,t)=>{r.rotate.begin(this._view,t.data),t.stopPropagation()},update:(e,t)=>{r.rotate.update(this._view,t.data),t.stopPropagation()},end:(e,t)=>{r.rotate.end(),t.stopPropagation()},condition:(e,t)=>1===e&&Object(be.b)(t.data,this.pointerAction)}),this.registerIncoming("drag",n,e=>this._dragEventSeparator.handle(e))}}var je=n(1762)
class we extends fe.a{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new pe.a,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",e=>this._handleGamePadEvent(e)),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([Object(f.f)(()=>{var e
return null==(e=this._view.navigation.gamepad)?void 0:e.enabled},e=>{e?(this._handle.resume(),this._frameTask||(this._frameTask=Object(C.a)({update:e=>this._frameUpdate(e.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},f.a)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){const t=this._view.navigation.gamepad.device
t&&e.data.device!==t||this._currentDevice&&this._currentDevice!==e.data.device||("end"===e.data.action?(this._currentDevice=null,Object(je.d)(this._transformation)):(this._currentDevice=e.data.device,Object(je.a)(e.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(e){const t=this._transformation
if(Object(je.c)(t))return
const n=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,i=Se*r*e
Object(L.w)(n,n,[t.translation[0]*i,-t.translation[1]*i])
const s=1+t.translation[2]*xe*e,a=this._view.constraints.rotationEnabled?-t.heading*_e*e:0,o=this._view.size,l=[o[0]/2,o[1]]
Object(L.t)(n,n,s,a,l,o)
const c=this._view.constraints.constrain(n,this._view.viewpoint)
this._view.viewpoint=c}}const _e=.06,Se=.7,xe=6e-4
class Te extends fe.a{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._pressed=!1,this._keyMap={[t.left]:"left",[t.right]:"right",[t.up]:"up",[t.down]:"down"},this.registerIncoming("key-down",n,e=>this._handleKeyDown(e)),this.registerIncoming("key-up",n,e=>this._handleKeyUp(e)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){const n=this._keyMap[e.data.key]
if(this._pressed=null!=n,this._pressed){if(t)switch(this.view.mapViewNavigation.begin(),n){case"left":this.view.mapViewNavigation.continousPanLeft()
break
case"right":this.view.mapViewNavigation.continousPanRight()
break
case"up":this.view.mapViewNavigation.continousPanUp()
break
case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop()
e.stopPropagation()}}}class Ie extends fe.a{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._pressed=!1,this._keyToDirection={[t.clockwiseOption1]:"clockwise",[t.clockwiseOption2]:"clockwise",[t.counterClockwiseOption1]:"counterClockwise",[t.counterClockwiseOption2]:"counterClockwise",[t.resetOption1]:"reset",[t.resetOption2]:"reset"},this.registerIncoming("key-down",n,e=>this._handleKeyDown(e)),this.registerIncoming("key-up",n,e=>this._handleKeyUp(e)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){const n=e.modifiers
if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return
const r=this._keyToDirection[e.data.key]
if(this._pressed=null!=r,this._pressed){if(t)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise()
break
case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise()
break
case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop()
e.stopPropagation()}}}var Me,Ee;(Ee=Me||(Me={}))[Ee.IN=0]="IN",Ee[Ee.OUT=1]="OUT"
class ke extends fe.a{constructor(e,t,n){super(!0),this.view=e,this.keys=t,this._keysToZoomAction={},this.registerIncoming("key-down",n,e=>this._handleKeyDown(e)),t.zoomIn.forEach(e=>this._keysToZoomAction[e]=Me.IN),t.zoomOut.forEach(e=>this._keysToZoomAction[e]=Me.OUT)}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const t=e.modifiers
if(t.size>0&&!t.has("Shift"))return
const{key:n}=e.data
if(!(n in this._keysToZoomAction))return
const r=this._keysToZoomAction[n],{mapViewNavigation:i}=this.view
let s=null
switch(r){case Me.IN:s=i.zoomIn()
break
case Me.OUT:s=i.zoomOut()
break
default:return}i.begin(),s.then(()=>i.end()),e.stopPropagation()}}class Ce extends fe.a{constructor(e,t){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",t,e=>this._handleMouseWheel(e))}_handleMouseWheel(e){if(!this._view.navigation.mouseWheelZoomEnabled)return
if(e.preventDefault(),e.stopPropagation(),!this._canZoom)return
const t=this._view.mapViewNavigation,{x:n,y:r,deltaY:i}=e.data,s=1/.6**(1/60*i),a=t.zoom(s,[n,r])
a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,t.end()}))}}class Ae extends fe.a{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",e=>this._handleDrag(e)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation())
const t=this.view.mapViewNavigation
this._dragEventSeparator=new ge.a({start:(e,n)=>{t.pinch.begin(this.view,n.data),n.stopPropagation()},update:(e,n)=>{t.pinch.update(this.view,n.data),n.stopPropagation()},end:(e,n)=>{t.pinch.end(this.view),n.stopPropagation()},condition:e=>e>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}var Le=n(1779),Re=n(1334),Pe=n(1763),Fe=n(1166),Ne=n(1110),De=n(1509),Ve=n(1359)
class Ue extends fe.a{constructor(e=De.a.maximumDoubleClickDelay,t=De.a.maximumDoubleClickDistance,n=De.a.maximumDoubleTouchDelay,r=De.a.maximumDoubleTouchDistance,i=Fe.a){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=t,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=r,this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Object(b.f)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new ge.a({start:(e,t)=>this._dragStart(e,t),update:(e,t)=>this._dragUpdate(t),end:(e,t)=>this._dragEnd(t)}),this.registerIncoming("drag",e=>this._dragEventSeparator.handle(e)),this.registerIncoming("pointer-down",e=>this._handlePointerDown(e)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(e=>{e.doubleTapTimeout=Object(h.s)(e.doubleTapTimeout)})}get hasPendingInputs(){return Object(Ne.c)(this._pointerState,e=>null!=e.doubleTapTimeout)}_clearPointerDown(e){const t=this._pointerState.get(e)
t&&(t.doubleTapTimeout=Object(h.s)(t.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_createDoubleTapDragData(e,t,n){const{button:r,buttons:i,pointer:s,pointers:a,pointerType:o,timestamp:l}=n
return{action:e,delta:t,button:r,buttons:i,pointer:s,pointers:a,pointerType:o,timestamp:l}}_dragStart(e,t){if(!this._doubleTapDragReady||1!==e)return
this._doubleTapDragReady=!1,this._doubleTapDragActive=!0
const{data:n,modifiers:r}=t,{center:i}=n
this._dragStartCenter=i
const s=this._createDoubleTapDragData("begin",Object(b.f)(0,0),n)
this._doubleTapDrag.emit(s,void 0,r),t.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return
const{data:t,modifiers:n}=e,{center:r}=t,i=Object(b.f)(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("update",i,t)
this._doubleTapDrag.emit(s,void 0,n),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return
const{data:t,modifiers:n}=e,{center:r}=t,i=Object(b.f)(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("end",i,t)
this._doubleTapDrag.emit(s,void 0,n),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:t}=e,n=Object(Ve.c)(t),r=this._pointerState.get(n),{pointerType:i}=t.native
if(r){const s="touch"===i?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance
this._clearPointerDown(n),Object(Ve.d)(r.event.data,t)>s?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:t}=e,{pointerType:n}=t.native,r=Object(Ve.c)(t),i="touch"===n?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,s=this._clock.setTimeout(()=>this._clearPointerDown(r),i)
this._pointerState.set(r,{event:e,doubleTapTimeout:s}),this.refreshHasPendingInputs()}}var Ge=n(1764),ze=n(1765),qe=n(1766)
const Be={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},$e={zoomIn:["=","+"],zoomOut:["-","_"]},He={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}
let We=class extends k.a{constructor(){super(...arguments),this._handles=new pe.a}initialize(){const e=()=>{var e
return null==(e=this.view)?void 0:e.ready}
this._handles.add([Object(f.g)(()=>!e(),()=>this._disconnect()),Object(f.g)(e,()=>this._connect())])}destroy(){this._handles=Object(h.e)(this._handles),this._disconnect()}get latestPointerType(){var e
return null==(e=this._inputManager)?void 0:e.latestPointerType}get latestPointerLocation(){var e
return null==(e=this._inputManager)?void 0:e.latestPointerLocation}get multiTouchActive(){var e,t
return null!=(e=null==(t=this._inputManager)?void 0:t.multiTouchActive)&&e}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=Object(h.e)(this._inputManager)}_connect(){const e=this.view.surface,t=new Le.a(e,this.view.input),n=[new ze.a,new qe.a,new De.b,new Ge.a(this.view.navigation),new Ue],r=new Re.a({eventSource:t,recognizers:n})
r.installHandlers("prevent-context-menu",[new Pe.a],Re.b.INTERNAL),r.installHandlers("navigation",[new Ae(this.view),new we(this.view),new Ce(this.view),new me(this.view),new me(this.view,["Ctrl"]),new ve(this.view,"primary"),new Te(this.view,Be),new ke(this.view,$e),new Ie(this.view,He),new Oe(this.view,"secondary"),new ye(this.view,"touch")],Re.b.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,Object(f.f)(()=>{var e,t
return null==(e=this.view)||null==(t=e.navigation)?void 0:t.browserTouchPanEnabled},e=>{this._source&&(this._source.browserTouchPanningEnabled=!e)},f.a)}get test(){return{inputManager:this._inputManager}}}
Object(r.a)([Object(g.b)()],We.prototype,"view",void 0),Object(r.a)([Object(g.b)()],We.prototype,"latestPointerType",null),Object(r.a)([Object(g.b)()],We.prototype,"latestPointerLocation",null),Object(r.a)([Object(g.b)()],We.prototype,"multiTouchActive",null),We=Object(r.a)([Object(v.a)("esri.views.2d.input.MapViewInputManager")],We)
const Ze=We
var Ke=n(1807),Je=n(1522),Ye=n(1809),Xe=n(1701),Qe=n(1409),et=n(1767),tt=n(1777)
let nt=class extends tt.a{constructor(e){super(e),this.components=["attribution","zoom"]}}
Object(r.a)([Object(g.b)()],nt.prototype,"components",void 0),nt=Object(r.a)([Object(v.a)("esri.views.ui.2d.DefaultUI2D")],nt)
const rt=nt
var it=n(1718)
let st,at,ot,lt,ct,ut,dt=class extends(Object(x.a)(Object(T.a)(Object(I.a)(M.a)))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new o.a({getCollections:()=>{var e,t
return[null==(e=this.basemapView)?void 0:e.baseLayerViews,this.layerViews,null==(t=this.basemapView)?void 0:t.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this._stationaryTimer=null,this._gotoTask=null,this.frameTask=new N(this),this._pePromise=null,this.floors=new a.a,this.highlightOptions=new Je.a,this.inputManager=new Ze({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new Ye.a,this.type="2d",this.ui=new rt,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new ie,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([Object(f.f)(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(160)},f.d),this.on("resize",e=>this._resizeHandler(e)),Object(f.f)(()=>{var e
return null==(e=this.animationManager)?void 0:e.animation},e=>{this.animation=e})]),Object(y.a)()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Ke.a(this.featuresTilingScheme)}get initialExtentRequired(){var e
const{scale:t,constraints:n,center:r,viewpoint:i,extent:s}=this
let a=this.zoom
return!(this.map&&"initialViewProperties"in this.map&&null!=(e=this.map.initialViewProperties)&&e.viewpoint||s||(null!=n&&n.effectiveLODs||(a=-1),r&&(0!==t||-1!==a)||i&&Object(h.l)(i.targetGeometry)&&("extent"===i.targetGeometry.type||i.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!Object(w.h)()||(this._pePromise||(this._pePromise=Object(w.i)().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint()
if(!e)return!1
const t=this.spatialReference,n=Object(h.u)(e.targetGeometry)
return!!Object(w.b)(n.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation")
if(e===t)return
if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null)
this._set("animation",e),this.frameTask.animationInProgress=!0
const n=()=>{var t
e===this._get("animation")&&(this._set("animation",null),null!=(t=this.frameTask)&&t.requestFrame()),this.frameTask&&(this.frameTask.animationInProgress=!1)}
e.when(n,n)}get background(){return"esri.WebMap"===(null==(e=this.map)?void 0:e.declaredClass)?this.map.initialViewProperties.background:null
var e}set background(e){this._override("background",e)}get center(){if(!this.ready)return this._get("center")
const{center:e,spatialReference:t}=this.state.paddedViewState
return new j.a({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return
if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired")
let t
try{t=this._project(e,this.spatialReference)}catch(t){return void d.a.getLogger(this.declaredClass).error(new l.a("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:t}))}const n=this.viewpoint
Object(L.c)(n,n,t),this.viewpoint=n}set constraints(e){const t=this._get("constraints")
t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(Object(f.f)(()=>e.version,()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))},f.d),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(null==e)return
if(!e.width||!e.height)return void d.a.getLogger(this.declaredClass).error(new l.a("mapview:invalid-extent","invalid extent size"))
if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired")
let t
try{t=this._project(e,this.spatialReference)}catch(e){return void d.a.getLogger(this.declaredClass).error(new l.a("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:e}))}const n=this.viewpoint
Object(L.v)(n,n,t,this.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return
if(!this.ready)return void this._set("rotation",e)
const t=this.viewpoint
Object(L.s)(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return
if(!this.ready){this._set("scale",e),this._set("zoom",-1)
const t=this._get("extent")
return t&&(this._set("extent",null),this._set("center",t.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint
Object(L.u)(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){const e=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(e=>!e.destroyed&&!("layerViews"in e)&&!0===e.updating))
if(Object(c.a)("esri-2d-log-updating")){var t,n,r
const i=this.allLayerViews.reduce((e,t)=>({...e,[t.layer.id]:!t.destroyed&&!("layerViews"in t)&&t.updating}),{})
console.log(`Updating MapView: ${e}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${null==(t=this.layerViewManager)?void 0:t.updating}\n-> labelManager.updating: ${null==(n=this.labelManager)?void 0:n.updating}\n-> graphicsView.updating: ${null==(r=this.graphicsView)?void 0:r.updating}\n-> allLayerViews: ${JSON.stringify(i)}\n`)}return e}get viewpoint(){if(!this.ready)return this._get("viewpoint")
const e=this.state.paddedViewState
return e&&e.viewpoint.clone()}set viewpoint(e){if(null==e)return
if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired")
let t,n
try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?n=new l.a("mapview:invalid-viewpoint","invalid scale value of "+e.scale):Object(h.k)(e.targetGeometry)&&(n=new l.a("mapview:invalid-viewpoint","geometry not defined"))}catch(e){n=new l.a("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:e})}if(n)return void d.a.getLogger(this.declaredClass).error(n)
this._scaleBeforeChangingSpatialReference=null
const r=new s.a({targetGeometry:new j.a,scale:0,rotation:0})
Object(L.d)(r,t),this.constraints.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this.frameTask.requestFrame(),this._set("viewpoint",r)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(null==e)return
if(!this.ready){this._set("zoom",e),this._set("scale",0)
const t=this._get("extent")
return t&&(this._set("extent",null),this._set("center",t.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1)
const t=this.viewpoint
Object(L.u)(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),Object(f.h)(()=>this.ready,t).then(()=>{var n
const r={animate:!0,...t},i=Object(L.e)(e,this)
return null!=(n=this.animation)&&n.update(i),this._gotoTask={},r.animate?this._gotoAnimated(i,r):this._gotoImmediate(i,r)})
d.a.getLogger(this.declaredClass).error("#goTo()","target cannot be null or undefined")}async hitTest(e,t){const n=Object(Qe.e)(e)?Object(Qe.d)(this,e):e
if(!this.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]}
let r=new Set,i=!1,s=null,a=null
null!=t&&t.include?bt(t.include,ft(this,e=>r.add(e),e=>{s||(s=new Set),s.add(e)},e=>r.add(e),()=>i=!0)):(i=!0,r=new Set(this.allLayerViews)),(null==t?void 0:t.exclude)&&bt(t.exclude,ft(this,e=>r.delete(e),e=>{a||(a=new Set),a.add(e)}))
const o=this.allLayerViews.filter(e=>!e.suspended&&r.has(e)).reverse(),l=this.toMap(n)
let c=[...i?this.graphicsView.hitTest(l).map(e=>({type:"graphic",graphic:e,layer:null,mapPoint:l})):[],...await Promise.all(o.map(e=>e.hitTest(l,n)).toArray())].filter(h.l).flat().filter(h.l)
return s&&(c=c.filter(e=>{var t
return!("graphic"in e)||!e.graphic||(null==(t=s)?void 0:t.has(pt(e.graphic)))})),a&&(c=c.filter(e=>{var t
return!("graphic"in e)||!e.graphic||(null==(t=a)?void 0:t.has(pt(e.graphic)))})),{screenPoint:n,results:c}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),n=await this._stage.takeScreenshot(t)
return Object(Xe.a)(n,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),n=await this._stage.takeScreenshot(t)
return Object(Xe.b)(n,this._pixelFormat)}_createScreenshotPlan(e){var t
e=null!=(t=e)?t:{}
const n=this.supersampleScreenshotsEnabled?Math.min(4,Object(Xe.d)(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1
let r
e.layers?(r=[],e.layers.forEach(e=>{const t=this.allLayerViews.find(t=>t.layer.id===e.id)
t&&"container"in t&&t.container&&r.push(t.container)})):r=this._stage.children
const{format:i,quality:s}=Object(Xe.c)(e.format,e.quality)
return function(e,t,n,r,i,s,a,o){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0})
let l=null
null!=e.width&&null!=e.height?l=[e.width,e.height]:null==e.width&&null!=e.height?l=[e.height,e.height]:null!=e.width&&null==e.height?l=[e.width,e.width]:null==e.width&&null==e.height&&(l=null)
const c=n[0]-(r.left+r.right),u=n[1]-(r.top+r.bottom)
let d,h,p=e.area||{x:0,y:0,width:c,height:u}
if(l){const e=c/u,t=l[0]/l[1]
if(t>e){const e=p.width/t
p={x:p.x,y:Math.round(p.y+(p.height-e)/2),width:p.width,height:Math.round(e)}}else{const e=p.height*t
p={x:Math.round(p.x+(p.width-e)/2),y:p.y,width:Math.round(e),height:p.height}}}else l=[p.width,p.height]
return l[0]>p.width?(d=Math.min(l[0]/p.width,t),h=l[0]/p.width/d):(d=1,h=l[0]/p.width),{resolutionScale:d,cropArea:{x:Math.round((p.x+r.left)*d),y:Math.round((p.y+r.top)*d),width:Math.round(p.width*d),height:Math.round(p.height*d)},outputScale:h,format:i,quality:s,children:a,rotation:o}}(e,n,this.size,this.padding,i,s,r,e.rotation)}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null
const t=Object(Qe.e)(e)?Object(Qe.d)(this,e):e,[n,r]=this.state.toMap([0,0],[t.x,t.y]),i=this.spatialReference
return new j.a({x:n,y:r,spatialReference:i})}toScreen(e){if(!this.ready)return null
const t=this._project(e,this.spatialReference),n=[t.x,t.y]
return this.state.toScreen(n,n),Object(b.f)(n[0],n[1])}on(e,t,n,r){return this.inputManager&&this.viewEvents.on(e,t,n,r)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,n
return this.map&&"initialViewProperties"in this.map&&(null==(e=this.map)||null==(t=e.initialViewProperties)?void 0:t.spatialReference)||(null==(n=this.defaultsFromMap)?void 0:n.spatialReference)||null}hasLayerViewModule(e){return(e=>Object(h.l)(G[e.type]))(e)}importLayerView(e){return(e=>{const t=G[e.type]
if(Object(h.k)(t))throw function(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()
return new l.a(n+":view-not-supported",t+" is not supported in 2D")}(e)
return t(e)})(e)}pixelSizeAt(){return this.ready?this.state.resolution:(d.a.getLogger(this.declaredClass).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>({...t,mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=Object(et.a)(this.type)
return Object(c.a)("safari")&&Object(c.a)("safari")<9&&(e=new l.a("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:Object(c.a)("safari")})),Object(h.l)(e)?(d.a.getLogger(this.declaredClass).warn("#validate()",e.message),Promise.reject(e)):async function(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:i,MagnifierView2D:s,Stage:a}]=await Promise.all([Promise.all([n.e(6),n.e(8),n.e(69)]).then(n.bind(null,2932)),Promise.all([n.e(6),n.e(8),n.e(12),n.e(13),n.e(46)]).then(n.bind(null,3080))])
at=e,ot=t,lt=r,ct=i,ut=s,st=a}()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new E.a),this.animation}_cancellableGoTo(e,t,n){const r=()=>e===this._gotoTask,i=n.then(()=>{r()&&(this.animation=null)}).catch(e=>{throw r()&&(t&&!t.done&&(t.stop(),this.frameTask.animationInProgress=!1),this.animation=null),e}),s=new Promise(e=>e(i))
return t.when().catch(()=>{r()&&s.cancel&&s.cancel()}),s}_gotoImmediate(e,t){const n=this._gotoTask,r=this.animation,i=e.then(e=>{if(Object(p.q)(t),n!==this._gotoTask)throw new l.a("view:goto-interrupted","Goto was interrupted")
this.viewpoint=r.target=e,r.finish()})
return this._cancellableGoTo(n,r,i)}_flipStationary(e){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null
const e=performance.now()-this._lastStationaryEventTimestamp
e<160&&(this._stationaryTimer=this._flipStationary(e))},e)),this._stationaryTimer}_getDefaultViewpoint(){var e,t,n,r
const{constraints:i,initialExtent:a,map:o,padding:l,size:c}=this
if(!i)return null
const u=o&&"initialViewProperties"in o?o.initialViewProperties:void 0,d={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference}
i.effectiveLODs?-1!==d.zoom&&(d.scale=i.zoomToScale(d.zoom)):d.zoom=-1
let p=null,f=null,b=0
const m=d.viewpoint&&d.viewpoint.rotation,y=d.viewpoint&&d.viewpoint.targetGeometry
Object(h.l)(y)&&("extent"===y.type?p=y:"point"===y.type&&(f=y,b=d.viewpoint.scale))
const g=d.extent||p||(null==(e=Object(h.u)(null==u||null==(t=u.viewpoint)?void 0:t.targetGeometry))?void 0:e.extent)||a,v=d.center||f||(null==g?void 0:g.center),O=d.scale||b||(null==u||null==(n=u.viewpoint)?void 0:n.scale)||g&&Object(L.f)(g,[c[0]-l.left-l.right,c[1]-l.top-l.bottom]),j=d.rotation||m||(null==u||null==(r=u.viewpoint)?void 0:r.rotation)||0
return v&&O?new s.a({targetGeometry:v,scale:O,rotation:j}):null}_gotoAnimated(e,t){const n=this._gotoTask,r=this.animation
if(!r)return Promise.resolve()
const i=e.then(e=>{if(Object(p.q)(t),n!==this._gotoTask)throw new l.a("view:goto-interrupted","Goto was interrupted")
return r.update(e),this.animationManager.animate(r,this.viewpoint,t),r.when().then(()=>{},()=>{})})
return this._cancellableGoTo(n,r,i)}_project(e,t){var n
const r=e&&e.targetGeometry||e
if(!t)return e
if(!r)return null
if(t.imageCoordinateSystem||null!=(n=r.spatialReference)&&n.imageCoordinateSystem)return e
if(Object(_.d)(t,r.spatialReference))return e
const i=Object(w.m)(r,t)
if(!i)throw new l.a("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:t})
return function(e){return e&&"esri.Viewpoint"===e.declaredClass}(e)?(e.targetGeometry=i,e):i}_resizeHandler(e){if(!this.ready)return
const t=this.state
let n=this.state.paddedViewState.viewpoint
const r=this.state.paddedViewState.size.concat()
t.size=[e.width,e.height],Object(L.q)(n,n,r,this.state.paddedViewState.size,this.resizeAlign),n=this.constraints.constrain(n,void 0),this.state.viewpoint=n}_startup(){var e
this.timeline.begin("MapView Startup")
const t=this._getDefaultViewpoint(),n=t.targetGeometry
try{this._project(t,this.spatialReference)}catch(e){var r
d.a.getLogger(this.declaredClass).warn(new m.a("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:this.spatialReference,error:e})),t.targetGeometry=(null==(r=this.defaultsFromMap.extent)?void 0:r.center)||new j.a({x:0,y:0,spatialReference:this.spatialReference})}null!=(e=this.constraints)&&e.fit(t),this._set("state",new de({padding:this._get("padding"),size:this.size,viewpoint:t})),this.graphics.owner=this
const i=new st(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline})
this._stage=i,this._magnifierView=new ut,this._magnifierView.magnifier=this.magnifier
const s=new lt({view:this})
this._set("labelManager",s)
const a=new F({view:this})
this._set("animationManager",a)
const o=new ct({view:this,animationManager:a})
this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),i.on("post-render",()=>this._set("rendering",i.renderRequested)),i.on("will-render",()=>this._set("rendering",i.renderRequested)),i.on("webgl-error",e=>this.fatalError=e.error),Object(f.f)(()=>this.stationary,e=>i.stationary=e,f.e),Object(f.f)(()=>this.background,e=>{i.background=e,this._magnifierView.background=e},f.e),Object(f.f)(()=>this.magnifier,e=>this._magnifierView.magnifier=e,f.e),Object(f.f)(()=>this.renderingOptions,e=>i.renderingOptions=e,f.e),Object(f.f)(()=>this.highlightOptions,e=>i.highlightOptions=e,f.e),Object(f.f)(()=>this.state.id,()=>i.state=this.state,f.e)],"map-view"),this._updateStageChildren()
const l=this._resolveWhenReady
this._resolveWhenReady=[],l.forEach(e=>e(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1)
const{center:[e,t],spatialReference:n,rotation:r,scale:i}=this.state.paddedViewState,s=new j.a({x:e,y:t,spatialReference:n})
this._set("viewpoint",null),this._set("extent",null),this._set("center",s),this._set("zoom",-1),this._set("rotation",r),this._set("scale",i),this._set("spatialReference",n),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(e=>{this._stage.addChild(e.container)})
const e=this.graphicsView
this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new he.a(S.a.create({spatialReference:this.spatialReference,size:512,numLODs:36}))
this._set("featuresTilingScheme",e)
const t=new at({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new ot(e)})
this.frameTask.graphicsView=t,this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView
this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(e){if(!this.ready)return
this.frameTask.stop()
for(const e of this.allLayerViews)e.processDetach()
this._destroySpatialReferenceDependentProperties()
const t=this.state.paddedViewState.clone()
if(Object(h.k)(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale
else{const e=t.viewpoint.clone()
e.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=e}const n=t.clone(),[r,i]=t.center
let a=null
try{a=this._project(new j.a({x:r,y:i,spatialReference:t.spatialReference}),e)}catch(t){var o
Object(w.h)()||d.a.getLogger(this.declaredClass).warn(new m.a("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:null==(o=a)?void 0:o.toJSON(),spatialReference:e,error:t}))}a||(a=new j.a({x:0,y:0,spatialReference:e}))
const l=Object(L.c)(new s.a({targetGeometry:new j.a,scale:0,rotation:0}),t.viewpoint,a)
n.viewpoint=l
try{const r=20,i=[t.size[0]/2,t.size[1]/2],s=[i[0]+r,i[1]],a=t.toMap([0,0],s),{x:o,y:u}=this._project(new j.a({x:a[0],y:a[1],spatialReference:t.spatialReference}),e)
a[0]=o,a[1]=u,n.toScreen(a,a)
const d=Object(L.b)(i,a,s),h=Math.hypot(a[0]-i[0],a[1]-i[1])/r
!Number.isFinite(h)||Math.abs(h)>4?(l.rotation=0,l.targetGeometry=new j.a({x:0,y:0,spatialReference:e})):(l.scale*=h,l.scale>Object(c.a)("mapview-srswitch-adjust-rotation-scale-threshold")?l.rotation=0:l.rotation+=Number.isFinite(d)?d:0)}catch{}this._get("constraints").constrain(l,void 0),this._get("state").viewpoint=l,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties()
for(const e of this.allLayerViews)e.processAttach()
this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}
dt.type="2d",Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"animationManager",void 0),Object(r.a)([Object(g.b)({constructOnly:!0})],dt.prototype,"deactivatedWebGLExtensions",void 0),Object(r.a)([Object(g.b)({constructOnly:!0})],dt.prototype,"debugWebGLExtensions",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"featuresTilingScheme",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"fullOpacity",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"graphicsTileStore",null),Object(r.a)([Object(g.b)()],dt.prototype,"graphicsView",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"state",void 0),Object(r.a)([Object(g.b)()],dt.prototype,"initialExtentRequired",null),Object(r.a)([Object(g.b)()],dt.prototype,"labelManager",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"resourceManager",null),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"textureManager",null),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"mapViewNavigation",void 0),Object(r.a)([Object(g.b)({constructOnly:!0})],dt.prototype,"renderCanvas",void 0),Object(r.a)([Object(g.b)()],dt.prototype,"renderingOptions",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"rendering",void 0),Object(r.a)([Object(g.b)({constructOnly:!0})],dt.prototype,"supersampleScreenshotsEnabled",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"supportsGround",void 0),Object(r.a)([Object(g.b)()],dt.prototype,"_stationaryTimer",void 0),Object(r.a)([Object(g.b)()],dt.prototype,"_defaultsFromMapSettings",null),Object(r.a)([Object(g.b)()],dt.prototype,"_pePromise",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"typeSpecificPreconditionsReady",null),Object(r.a)([Object(g.b)()],dt.prototype,"animation",null),Object(r.a)([Object(g.b)({type:it.a})],dt.prototype,"background",null),Object(r.a)([Object(g.b)({value:null,type:j.a,dependsOn:["state.id","ready"]})],dt.prototype,"center",null),Object(r.a)([Object(g.b)({type:ie})],dt.prototype,"constraints",null),Object(r.a)([Object(g.b)({value:null,type:O.default,dependsOn:["state.id","ready"]})],dt.prototype,"extent",null),Object(r.a)([Object(g.b)()],dt.prototype,"floors",void 0),Object(r.a)([Object(g.b)({type:Je.a})],dt.prototype,"highlightOptions",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"inputManager",void 0),Object(r.a)([Object(g.b)()],dt.prototype,"map",void 0),Object(r.a)([Object(g.b)({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],dt.prototype,"padding",null),Object(r.a)([Object(g.b)()],dt.prototype,"resizeAlign",void 0),Object(r.a)([Object(g.b)({readOnly:!0,dependsOn:["state.id"]})],dt.prototype,"resolution",null),Object(r.a)([Object(g.b)({value:0,type:Number,dependsOn:["state.id","ready"]})],dt.prototype,"rotation",null),Object(r.a)([Object(g.b)({value:0,type:Number,dependsOn:["state.id","ready"]})],dt.prototype,"scale",null),Object(r.a)([Object(g.b)({constructOnly:!0})],dt.prototype,"spatialReferenceLocked",void 0),Object(r.a)([Object(g.b)()],dt.prototype,"stationary",null),Object(r.a)([Object(g.b)({type:Ye.a,readOnly:!0})],dt.prototype,"timeline",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"type",void 0),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"updating",null),Object(r.a)([Object(g.b)({value:null,type:s.a,dependsOn:["state.id","ready"]})],dt.prototype,"viewpoint",null),Object(r.a)([Object(g.b)({value:-1,dependsOn:["state.id","ready"]})],dt.prototype,"zoom",null),Object(r.a)([Object(g.b)({readOnly:!0})],dt.prototype,"navigating",null),Object(r.a)([Object(g.b)({type:rt})],dt.prototype,"ui",void 0),dt=Object(r.a)([Object(v.a)("esri.views.MapView")],dt)
const ht=dt
function pt(e){var t,n,r,i
const s=e.getObjectId()
return s?`${null!=(t=null!=(n=null==(r=e.layer)?void 0:r.uid)?n:null==(i=e.sourceLayer)?void 0:i.uid)?t:"MapView"}/${s}`:'"MapView/'+e.uid}function ft(e,t,n,r,s){return a=>{if(a instanceof i.default){if(a.layer===e)null==s||s()
else{const t=e.allLayerViews.find(e=>e.layer===a.layer)
t&&(null==r||r(t))}n(pt(a))}else{const n=e.allLayerViews.find(e=>e.layer===a)
n&&t(n)}}}function bt(e,t){if(e)if(Object(u.c)(e))for(const n of e)if(Object(u.c)(n))for(const e of n)t(e)
else t(n)
else t(e)}},799:function(e,t,n){"use strict"
n.r(t),n.d(t,"default",(function(){return C}))
var r=n(968),i=(n(1083),n(1043)),s=n(1007),a=n(978),o=n(447),l=n(970),c=(n(971),n(445),n(969)),u=n(1061)
const d="esri-search",h={base:d+" esri-widget",loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:d+"--multiple-sources",isLoading:d+"--loading",isSearching:d+"--searching",showSuggestions:d+"--show-suggestions",showSources:d+"--sources",showWarning:d+"--warning",container:d+"__container",input:d+"__input",inputContainer:d+"__input-container",form:d+"__form",submitButton:d+"__submit-button",sourcesButton:d+"__sources-button",clearButton:d+"__clear-button",sourceName:d+"__source-name",suggestionsMenu:d+"__suggestions-menu",suggestionList:d+"__suggestions-list",suggestionListCurrentLocation:d+"__suggestions-list--current-location",sourcesMenu:d+"__sources-menu",source:d+"__source",warningMenu:d+"__warning-menu",warningMenuBody:d+"__warning-body",warningMenuHeader:d+"__warning-header",warningMenuText:d+"__warning-text",noValueText:d+"__no-value-text",esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},p="esri-search-result-renderer esri-widget",f="esri-widget__anchor",b="esri-search-result-renderer__more-results--show-more-results",m="esri-search-result-renderer__more-results",y="esri-search-result-renderer__more-results-list",g="esri-search-result-renderer__more-results-item",v="esri-search-result-renderer__more-results-list-header"
var O=n(2524),j=n(1205),w=n(1099),_=n(1018),S=n(998)
let x=class extends u.a{constructor(e,t){super(e,t),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){const e={[b]:this.showMoreResultsOpen}
return Object(_.a)("div",{class:p},Object(_.a)("div",{key:"esri-search-renderer__container",class:this.classes(m,e)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return Object(_.a)("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var e
const t=null==(e=this.viewModel)?void 0:e.selectedResult,n=t&&t.name||""
return Object(_.a)("div",{key:"esri-search-renderer__result-name",class:g},n)}renderMoreResultsLists(){var e
const t=null==(e=this.viewModel)?void 0:e.results,{resultCount:n}=this.viewModel
if(n<2)return null
const r=t.map(e=>this.renderMoreResultsList(e))
return Object(_.a)("div",{key:"esri-search-renderer__more-results-container",class:y},r)}renderMoreResultsButton(){const{messages:e}=this,{resultCount:t}=this.viewModel
return t<2?null:Object(_.a)("div",{key:"esri-search-renderer__more-results-button",class:g},Object(_.a)("a",{class:f,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults))}renderMoreResultsHeader(e,t){return Object(_.a)("div",{key:"esri-search-result-renderer__header-"+t,class:v},e)}renderMoreResultsList(e){var t,n
const{results:r}=e,i=r.length,s=!!i,a=null==(t=this.viewModel)?void 0:t.selectedResult,o=1===i&&r[0]===a,l=this._getSourceName(e.source,e.sourceIndex),c=(null==(n=this.viewModel)?void 0:n.results.length)>1&&!o?this.renderMoreResultsHeader(l,e.sourceIndex):null,u=s&&r.map((e,t)=>this.renderMoreResultsListItem(e,t)),d=s&&!o?Object(_.a)("ul",{key:"esri-search-result-renderer__list-"+e.sourceIndex},u):null
return s?Object(_.a)("div",{key:"esri-search-result-renderer__results-"+e.sourceIndex},c,d):null}renderMoreResultsListItem(e,t){return e!==this.get("viewModel.selectedResult")?Object(_.a)("li",{key:"esri-search-result-renderer__list-item-"+t},Object(_.a)("a",{class:f,href:"#",tabindex:"0",bind:this,"data-result":e,onclick:this._selectResultClick,onkeydown:this._selectResultClick},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen
const t=this.get("viewModel.view.popup")
t&&t.reposition()}_selectResultClick(e){e.preventDefault()
const t=e.currentTarget["data-result"]
this.viewModel&&this.viewModel.select(t)}_getSourceName(e,t){return t===O.a.ALL_INDEX?this.messages.all:e.name}}
Object(r.a)([Object(l.b)(),Object(w.a)("esri/widgets/Search/t9n/Search")],x.prototype,"messages",void 0),Object(r.a)([Object(l.b)()],x.prototype,"showMoreResultsOpen",void 0),Object(r.a)([Object(l.b)()],x.prototype,"viewModel",void 0),Object(r.a)([Object(j.a)()],x.prototype,"_showMoreResultsClick",null),Object(r.a)([Object(j.a)()],x.prototype,"_selectResultClick",null),x=Object(r.a)([Object(c.a)("esri.widgets.Search.SearchResultRenderer")],x)
const T=x
var I=n(1395),M=n(1115)
const E=/<[a-z/][\s\S]*>/i
let k=class extends u.a{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._handles=new s.a,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new T,this._locateFailed=null,this._container=null,this.activeMenu="none",this.disabled=!1,this.iconClass=h.widgetIcon,this.messages=null,this.messagesCommon=null,this.viewModel=new O.a,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=e=>{var t
const n=e.relatedTarget
n&&(null==(t=this._container)?void 0:t.contains(n))||this._clearActiveMenu()},this.addHandles([Object(a.f)(()=>this.searchTerm,e=>{(e&&"warning"===this.activeMenu||!e&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),Object(a.b)(()=>{var e
return null==(e=this.viewModel)?void 0:e.allSources},"change",()=>this._watchSourceChanges()),Object(a.f)(()=>this.activeMenu,()=>this._resetActiveMenuItemIndex(),a.a),Object(a.f)(()=>{var e
return null==(e=this.viewModel)?void 0:e.defaultPopupTemplate},e=>{e&&(e.content=this._renderSearchResultsContent.bind(this))},a.a)])}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return(""+this.viewModel.searchTerm).trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}get activeSource(){return this.viewModel.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(e){this.viewModel.activeSourceIndex=e}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(e){this.viewModel.allPlaceholder=e}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(e){this.viewModel.autoNavigate=e}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(e){this.viewModel.autoSelect=e}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(e){this.viewModel.includeDefaultSources=e}get label(){var e,t
return null!=(e=null==(t=this.messages)?void 0:t.widgetLabel)?e:""}set label(e){this._overrideIfSome("label",e)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(e){this.viewModel.locationEnabled=e}get maxResults(){return this.viewModel.maxResults}set maxResults(e){this.viewModel.maxResults=e}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(e){this.viewModel.maxSuggestions=e}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(e){this.viewModel.minSuggestCharacters=e}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(e){this.viewModel.popupEnabled=e}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(e){this.viewModel.popupTemplate=e}get portal(){return this.viewModel.portal}set portal(e){this.viewModel.portal=e}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(e){this.viewModel.resultGraphic=e}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(e){this.viewModel.resultGraphicEnabled=e}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(e){this.viewModel.searchAllEnabled=e}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(e){this.viewModel.searchTerm=e}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(e){this.viewModel.sources=e}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(e){this.viewModel.suggestionsEnabled=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}clear(){this.viewModel.clear()}focus(){var e
null!=(e=this._inputNode)&&e.focus(),this.emit("search-focus")}blur(){var e
null!=(e=this._inputNode)&&e.blur(),this.emit("search-blur")}search(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch()
const t=new AbortController,{signal:n}=t
return this._searchController=t,this.viewModel.search(e,{signal:n}).catch(e=>{if(this._searchController===t)return this._clearActiveMenu(),this._searchController=null,e}).then(e=>{if(this._searchController===t)return this.activeMenu=e.numResults?"none":"warning",this._searchController=null,e})}suggest(e){this._cancelSuggest()
const t=new AbortController,{signal:n}=t
return this._suggestController=t,this.viewModel.suggest(e,null,{signal:n}).then(e=>{if(this._suggestController===t)return this._suggestController=null,e.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),e}).catch(()=>{if(this._suggestController===t)return this._suggestController=null,null})}render(){const{state:e}=this.viewModel,t={[h.disabled]:"disabled"===e,[h.esriWidgetDisabled]:this.disabled}
return Object(_.a)("div",{class:this.classes(h.base,t)},"loading"===e?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:e,disabled:t}=this
return Object(_.a)("button",{"aria-label":e.searchButtonTitle,bind:this,disabled:t,class:this.classes(h.submitButton,h.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},Object(_.a)("span",{"aria-hidden":"true",class:h.searchIcon}))}renderWarningMenu(){return Object(_.a)("div",{key:"esri-search__error-menu",class:this.classes(h.menu,h.warningMenu)},Object(_.a)("div",{class:h.warningMenuBody},this.renderWarning()))}renderSourceMenuButton(){const{messages:e,activeMenu:t,sourceMenuId:n,sourceMenuButtonId:r,disabled:i}=this,{activeSourceIndex:s,allSources:a}=this.viewModel
return a.length>1?Object(_.a)("button",{id:r,key:"esri-search__source-menu-button",bind:this,disabled:i,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":("source"===t).toString(),"aria-controls":n,class:this.classes(h.sourcesButton,h.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:S.i,"data-node-ref":"_sourceMenuButtonNode",type:"button"},Object(_.a)("span",{"aria-hidden":"true",class:h.dropdownIcon}),Object(_.a)("span",{"aria-hidden":"true",class:h.dropupIcon}),Object(_.a)("span",{class:h.sourceName},this._getSourceName(s))):null}renderSourcesList(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:n,activeMenu:r,sourceMenuId:i,sourceMenuButtonId:s}=this,a="source"===r&&n>-1?this._buildId("source-item",n):null
return e.length>1?Object(_.a)("ul",{"aria-activedescendant":a,"aria-labelledby":s,id:i,role:"menu",bind:this,afterCreate:S.i,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:h.menuList,tabIndex:-1},t?this.renderSource(O.a.ALL_INDEX):null,e.map((e,t)=>this.renderSource(t)).toArray()):null}renderSourcesMenu(){const{allSources:e}=this.viewModel
return e.length>1?Object(_.a)("div",{key:"esri-search__source-menu",class:this.classes(h.menu,h.sourcesMenu)},this.renderSourcesList()):null}renderLoader(){const{messages:e,messagesCommon:t,disabled:n}=this
return Object(_.a)("div",{class:h.loader,key:"base-loader",tabIndex:n?-1:null},Object(_.a)("span",{"aria-hidden":"true",class:h.loaderAnimation}),Object(_.a)("span",{class:h.fallbackText},e.searchButtonTitle),Object(_.a)("span",{class:h.loaderText},t.loading))}renderContainer(){const{allSources:e,state:t}=this.viewModel,{activeMenu:n}=this,r={[h.hasMultipleSources]:e.length>1,[h.isLoading]:"loading"===t,[h.isSearching]:"searching"===t,[h.showWarning]:"warning"===n,[h.showSources]:"source"===n,[h.showSuggestions]:"suggestion"===n}
return Object(_.a)("div",{tabIndex:-1,afterCreate:e=>{this._container=e,e.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:e=>{e.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(r,h.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?Object(_.a)("button",{bind:this,disabled:this.disabled,class:this.classes(h.clearButton,h.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},Object(_.a)("span",{"aria-hidden":"true",class:h.clearIcon})):null}renderLocationGroup(){const{messages:e,locationEnabled:t,displayedSearchTerm:n}=this,r=t&&!n,i="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex
return r?Object(_.a)("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(h.menuList,h.suggestionList,h.suggestionListCurrentLocation)},Object(_.a)("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),role:"option",class:this.classes(h.menuItem,i?h.menuItemFocus:null)},Object(_.a)("span",{"aria-hidden":"true",class:h.locate})," ",e.useCurrentLocation)):null}renderInput(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:n,messages:r,suggestionsMenuId:i,inputId:s,_activeMenuItemIndex:a,disabled:o}=this,{maxInputLength:l,placeholder:c,searchTerm:u,suggestionCount:d}=this.viewModel,p=!((!t||n)&&!d),f="suggestion"===e&&a>-1?this._buildId("suggestion-item",a):null
return Object(_.a)("input",{"aria-activedescendant":f,"aria-autocomplete":"list","aria-expanded":(p&&"suggestion"===e).toString(),"aria-controls":p?i:null,"aria-haspopup":"listbox","aria-label":r.searchButtonTitle,bind:this,disabled:o,placeholder:c,maxlength:l,autocomplete:"off",type:"text",class:this.classes(h.esriInput,h.input),value:u,id:s,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:S.i,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:u?"":c})}renderForm(){return Object(_.a)("form",{key:"esri-search__form",bind:this,disabled:this.disabled,class:h.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(e){const{sourceIndex:t}=e,n=e.results.length,r=e.results
return n?Object(_.a)("ul",{role:"group",key:"esri-search__suggestion-list-"+t,class:this.classes(h.menuList,h.suggestionList)},r.map(e=>this.renderSuggestion(e,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:e}=this.viewModel
return e?e.map(e=>[this.renderSuggestionHeader(e),this.renderSuggestList(e)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:n,inputId:r}=this,{suggestionCount:i}=this.viewModel,s=t&&!e||i
return this._menuItemCount=0,s?Object(_.a)("div",{id:n,key:"esri-search__suggestions-menu",class:this.classes(h.menu,h.suggestionsMenu),role:"listbox","aria-labelledby":r,bind:this,afterCreate:S.i,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return Object(_.a)("div",{key:"esri-search__input-container",class:h.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(e){const{allSources:t,activeSourceIndex:n}=this.viewModel,{sourceIndex:r}=e,i=e.results.length,s=t.length>1&&n===O.a.ALL_INDEX
return i&&s?Object(_.a)("div",{key:"esri-search__suggestion-header-"+r,class:h.menuHeader},this._getSourceName(r)):null}renderSuggestion(e,t){const{_activeMenuItemIndex:n,messages:r}=this,{searchTerm:i}=this.viewModel
if(i){const{text:s}=e,a=s||r.untitledResult,o=E.test(a),l=[]
if(o)l.push(Object(_.a)("div",{innerHTML:a}))
else{const e=this._splitResult(a,i),t=i.toLowerCase()
e.forEach((e,n)=>{e&&e.length&&(e.toLowerCase()===t?l.push(Object(_.a)("strong",{key:n},e)):l.push(e))})}const c="suggestion"===this.activeMenu&&n===t
return Object(_.a)("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:"esri-search__suggestion_"+t,"data-suggestion":e,role:"option",class:this.classes(h.menuItem,c?h.menuItemFocus:null)},l)}}renderSource(e){const{activeSourceIndex:t,searchAllEnabled:n}=this.viewModel,r={[h.menuItemActive]:e===t,[h.menuItemFocus]:"source"===this.activeMenu&&e===(n?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},i=n?e+1:e
return Object(_.a)("li",{bind:this,key:"esri-search__source-"+e,id:this._buildId("source-item",i),"aria-checked":(e===t).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes(h.source,h.menuItem,r)},this._getSourceName(e))}renderNoResultsWarning(e){const{messages:t}=this,n=e?Object(M.a)(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound
return Object(_.a)("div",{key:"esri-search__no_results"},Object(_.a)("div",{class:h.warningMenuHeader},t.noResults),Object(_.a)("div",{class:h.warningMenuText},n))}renderEmptySearchWarning(){const{messages:e}=this
return Object(_.a)("div",{key:"esri-search__empty-search"},Object(_.a)("span",{"aria-hidden":"true",class:h.noticeIcon}),Object(_.a)("span",{class:h.noValueText},e.emptyValue))}renderLocateWarning(){const{messages:e}=this
return Object(_.a)("div",{key:"esri-search__locate-error"},Object(_.a)("span",{"aria-hidden":"true",class:h.noticeIcon}),Object(_.a)("span",{class:h.noValueText},e.locateError))}renderWarning(){var e
const{displayedSearchTerm:t,_locateFailed:n}=this,{viewModel:r}=this
return n?this.renderLocateWarning():null!=(e=r.selectedSuggestion)&&e.location||t?this.renderNoResultsWarning(t):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(e,t){return`${this.id}-${e}${void 0===t?"":"-"+t}`}_watchSourceChanges(){const{_handles:e,viewModel:{allSources:t}}=this,n="sources"
e.remove(n),t.forEach(t=>e.add(Object(a.f)(()=>t.name,()=>this.scheduleRender()),n))}_handleSourcesMenuToggleFocus(){"source"!==this.activeMenu&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){var e
const t="source"===this.activeMenu
this.activeMenu=t?"none":"source",this.renderNow(),"source"===this.activeMenu&&(null==(e=this._sourceListNode)||e.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(e){const t=e.currentTarget["data-suggestion"]
t&&(this._focus(),this.search(t))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch()
const e=new AbortController,{signal:t}=e
this._searchController=e,this.viewModel.searchNearby({signal:t}).then(e=>{this.activeMenu=e.numResults?"none":"warning"}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget)}_setSourceFromMenuItem(e){var t
if(!e)return
const n=e["data-source-index"]
this.viewModel.activeSourceIndex=n,this._clearActiveMenu(),null==(t=this._sourceMenuButtonNode)||t.focus()}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(e){var t
const n=Object(i.a)(e)
if(e.ctrlKey||e.metaKey||"Copy"===n||"ArrowLeft"===n||"ArrowRight"===n||"Shift"===n)return
if("Tab"===n||"Escape"===n||e.shiftKey&&"Tab"===n)return this._cancelSuggest(),void("Escape"===n&&this._clearActiveMenu())
const r="Home"===n||"End"===n||"ArrowUp"===n||"ArrowDown"===n
if("Enter"===n&&this._activeMenuItemIndex<0)return void this._cancelSuggest()
const s=null==(t=this._suggestionListNode)?void 0:t.getElementsByTagName("li")
if(null!=s&&s.length){if("suggestion"!==this.activeMenu&&this._openSuggestionMenu(),r)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(n,s,this._suggestionListNode)
const t=s[this._activeMenuItemIndex]
if("Enter"===n&&t){const e=t["data-suggestion"]
return void(e?(this._focus(),this.search(e)):t["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(e,t,n){const r=this._activeMenuItemIndex
"Home"===e&&(this._activeMenuItemIndex=0),"End"===e&&(this._activeMenuItemIndex=t.length-1),"ArrowUp"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),"ArrowDown"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),r!==this._activeMenuItemIndex&&Object(S.f)(t[this._activeMenuItemIndex],n)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(e){const t=e.target
this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(e){const t=Object(i.a)(e)
if(Object(S.d)(t)){e.preventDefault()
const t=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex]
this._setSourceFromMenuItem(t)}else"ArrowUp"!==t&&"ArrowDown"!==t&&"End"!==t&&"Home"!==t||e.preventDefault()}_handleSourceMenuKeyup(e){var t,n
const r=Object(i.a)(e),s="ArrowUp"===r||"ArrowDown"===r||"End"===r||"Home"===r
if(s&&e.preventDefault(),"Escape"===r)return this._clearActiveMenu(),void(null==(t=this._sourceMenuButtonNode)||t.focus())
const a=null==(n=this._sourceListNode)?void 0:n.getElementsByTagName("li")
return a&&0!==a.length&&s?("source"!==this.activeMenu&&(this.activeMenu="source"),void this._handleItemNavigation(r,a,this._sourceListNode.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e)}_formSubmit(e){e.preventDefault(),-1===this._activeMenuItemIndex&&this.search()}_getSourceName(e){const{messages:t}=this,n=this.viewModel,{allSources:r}=n,i=r.getItemAt(e)
return e===O.a.ALL_INDEX?t.all:i&&i.name||t.untitledSource}_splitResult(e,t){const n=Object(o.a)(t)
return e.replace(new RegExp(`(^|)(${n})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}}
Object(r.a)([Object(l.b)()],k.prototype,"_activeMenuItemIndex",void 0),Object(r.a)([Object(l.b)()],k.prototype,"displayedSearchTerm",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"inputId",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"suggestionsMenuId",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"sourceMenuId",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"sourceMenuButtonId",null),Object(r.a)([Object(l.b)()],k.prototype,"activeMenu",void 0),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"activeSource",null),Object(r.a)([Object(l.b)()],k.prototype,"activeSourceIndex",null),Object(r.a)([Object(l.b)()],k.prototype,"allPlaceholder",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"allSources",null),Object(r.a)([Object(l.b)()],k.prototype,"autoNavigate",null),Object(r.a)([Object(l.b)()],k.prototype,"autoSelect",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"defaultSources",null),Object(r.a)([Object(l.b)()],k.prototype,"disabled",void 0),Object(r.a)([Object(l.b)()],k.prototype,"goToOverride",null),Object(r.a)([Object(l.b)()],k.prototype,"iconClass",void 0),Object(r.a)([Object(l.b)()],k.prototype,"includeDefaultSources",null),Object(r.a)([Object(l.b)()],k.prototype,"label",null),Object(r.a)([Object(l.b)()],k.prototype,"locationEnabled",null),Object(r.a)([Object(l.b)()],k.prototype,"maxResults",null),Object(r.a)([Object(l.b)()],k.prototype,"maxSuggestions",null),Object(r.a)([Object(l.b)(),Object(w.a)("esri/widgets/Search/t9n/Search")],k.prototype,"messages",void 0),Object(r.a)([Object(l.b)(),Object(w.a)("esri/t9n/common")],k.prototype,"messagesCommon",void 0),Object(r.a)([Object(l.b)()],k.prototype,"minSuggestCharacters",null),Object(r.a)([Object(l.b)()],k.prototype,"popupEnabled",null),Object(r.a)([Object(l.b)()],k.prototype,"popupTemplate",null),Object(r.a)([Object(l.b)()],k.prototype,"portal",null),Object(r.a)([Object(l.b)()],k.prototype,"resultGraphic",null),Object(r.a)([Object(l.b)()],k.prototype,"resultGraphicEnabled",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"results",null),Object(r.a)([Object(l.b)()],k.prototype,"searchAllEnabled",null),Object(r.a)([Object(l.b)()],k.prototype,"searchTerm",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"selectedResult",null),Object(r.a)([Object(l.b)()],k.prototype,"sources",null),Object(r.a)([Object(l.b)({readOnly:!0})],k.prototype,"suggestions",null),Object(r.a)([Object(l.b)()],k.prototype,"suggestionsEnabled",null),Object(r.a)([Object(l.b)()],k.prototype,"view",null),Object(r.a)([Object(I.a)(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),Object(l.b)({type:O.a})],k.prototype,"viewModel",void 0),k=Object(r.a)([Object(c.a)("esri.widgets.Search")],k)
const C=k},841:function(e,t,n){"use strict"
n.r(t),n.d(t,"arcgis_hub_date_range_facet",(function(){return $})),n.d(t,"arcgis_hub_empty_state",(function(){return H})),n.d(t,"arcgis_hub_facet_list",(function(){return ie})),n.d(t,"arcgis_hub_facet_options",(function(){return se})),n.d(t,"arcgis_hub_gallery",(function(){return ae})),n.d(t,"arcgis_hub_layout_button",(function(){return oe})),n.d(t,"arcgis_hub_map",(function(){return le})),n.d(t,"arcgis_hub_map_facet",(function(){return ce})),n.d(t,"arcgis_hub_map_widget_checkbox",(function(){return ue})),n.d(t,"arcgis_hub_map_widget_container",(function(){return de})),n.d(t,"arcgis_hub_map_widget_zoom",(function(){return he})),n.d(t,"arcgis_hub_search_input",(function(){return pe})),n.d(t,"arcgis_hub_search_sort",(function(){return fe})),n.d(t,"arcgis_hub_tree_facet",(function(){return be}))
var r=n(96),i=n(147),s=n(378),a=n(1124),o=n(34),l=n(1224),c=n(1461),u=n(2771),d=n(1595),h=n(2124),p=n(456),f=n(1863),b=n(149),m=n(1798),y=n(1277),g=n(1799),v=n(783),O=n(786),j=n(782),w=n(982),_=n(772),S=n(385),x=n(978),T=n(774),I=n(799),M=n(770),E=n(1015),k=n(2127),C=n(1780)
function A(e){return e.split(" ").map(e=>Object(i.f)(e)).join(" ")}function L(e){return"multi-select"===e.display||"single-select"===e.display}function R(e=[]){return e.filter(P)}function P(e){return"date-range"===e.display}function F(e){return"tree"===e.display}function N(e=[]){return e.filter(D)}function D(e){return L(e)||F(e)}function V(e=[]){return e.filter(U)}function U(e){return"map"===e.display}function G(e){let t=Object(i.c)(e)
switch(e.display){case"single-select":case"multi-select":case"tree":t=function(e){const t=Object(i.c)(e)
return t.options.forEach(e=>{e.selected=!1}),"single-select"===t.display&&t.options.length&&(t.options[0].selected=!0),t}(e)
break
case"date-range":t=function(e){const t=Object(i.c)(e)
return t.value={from:null,to:null},t}(e)
break
case"map":t=function(e){const t=Object(i.c)(e)
return t.value=null,t}(e)}return t}function z(e){const t=Object.entries(e).map(([e,t])=>`${e}=${t}`).join("&")
return t&&"?"+t}function q(e){return Date.parse(e.from)<Date.parse(e.to)}function B(e){return e.replace(/\(\d+\)/,"").replace("","").trim()}n(16),n(131),n(2125),n(1190),n(1262),n(95),n(56),n(376),n(1307),n(2126),n(132),n(197),n(40),n(85),n(201),n(200),n(237),n(236),n(1341),n(1609),n(1280),n(1311),n(1384),n(1161),n(1453),n(375),n(377),n(381),n(97),n(1232),n(1300),n(1646),n(1494),n(1372),n(1585),n(1301),n(380),n(1308),n(1586),n(1256),n(1618),n(1619),n(1550),n(1381),n(1620),n(1225),n(1476),n(1481),n(1393),n(1495),n(384),n(196)
const $=class{constructor(e){Object(r.k)(this,e),this.arcgisHubDateRangeFacetChange=Object(r.e)(this,"arcgisHubDateRangeFacetChange",7),this.facet=void 0,Object(a.a)(this,"handleDateRangeChange")}handleDateRangeChange(e){e.preventDefault()
const[t,n]=e.target.valueAsDate,r={from:null==t?void 0:t.toISOString(),to:null==n?void 0:n.toISOString()}
q(r)?this.arcgisHubDateRangeFacetChange.emit({key:this.facet.key,value:r}):t||n||this.arcgisHubDateRangeFacetChange.emit({key:this.facet.key,value:{from:null,to:null}})}render(){const e=Object(o.a)(this.facet,"value.from")||null,t=Object(o.a)(this.facet,"value.to")||null,n=new Date
return Object(r.i)(r.b,{"data-element":"date-range-facet"},Object(r.i)("calcite-input-date-picker",{layout:"horizontal",max:n.toISOString(),onCalciteInputDatePickerChange:this.handleDateRangeChange,range:!0,scale:"s",value:[e,t]}))}}
$.style=":host{display:block}calcite-input-date-picker{--calcite-ui-text-1:#151515;--calcite-ui-brand:var(--calcite-ui-text-1);--calcite-ui-foreground-current:var(--calcite-ui-foreground-3);--calcite-ui-foreground-1:#fff;--calcite-ui-foreground-2:#f3f3f3;--calcite-ui-foreground-3:#eaeaea;--calcite-ui-text-3:#6a6a6a;--calcite-ui-border-input:#757575;--calcite-ui-border-2:#4a4a4a;--calcite-font-size--2:.7rem}"
const H=class{constructor(e){Object(r.k)(this,e),this.message="No results found."}render(){return Object(r.i)(r.b,null,Object(r.i)("calcite-icon",{icon:"file-magnifying-glass"}),Object(r.i)("h3",null,this.message))}}
H.style=":host{display:flex;flex-direction:column;align-items:center;gap:2rem}calcite-icon{width:auto;height:16rem}"
const W=e=>{const t=Z(e),n=Y(t)
return 1===n.length?n[0]:t},Z=e=>{const t={label:"root",children:{},option:null}
return e.forEach(e=>{const n=e.key.slice(1).split("/")
K(t,e,n)}),t},K=(e,t,n)=>{if(n.length){const r=n.shift(),i=e.children[r]||{label:r,children:{},option:null}
e.children[r]=i,K(i,t,n)}else e.label=t.label,e.option=t},J=e=>!!Y(e).length,Y=e=>Object.values(e.children),X=e=>{const t=e.option.selected
return J(e)?t&&Y(e).every(X):t},Q=(e,t)=>(e.option._telemetryIndex=t,Object(r.i)("calcite-tree-item",{"data-key":e.option.key,selected:e.option.selected},Object(r.i)("div",{class:"option-label"},e.label),J(e)&&Object(r.i)("calcite-tree",{slot:"children"},Y(e).map(e=>Q(e,t))))),ee=e=>{const t=e.split("/")
return t[t.length-1]},te=(e,t)=>{const n=Object(i.c)(e)
return n.options.find(e=>e.key===t.optionKey&&e._unrecognized).selected=!1,n.options.find(e=>!e._unrecognized).selected=!0,{updatedFacet:n,dismissedKeys:[t.optionKey]}},ne=(e,t)=>{const n=Object(i.c)(e)
return n.options.forEach(e=>{e.key===t.optionKey&&(e.selected=!1)}),{updatedFacet:n,dismissedKeys:[t.optionKey]}},re=(e,t)=>{const n=Object(i.c)(e),r=n.options.find(e=>e.key===t.optionKey)
let s=[],a=!1
r._unrecognized||(s=n.options.filter(e=>!e._unrecognized&&e.key!==t.optionKey&&e.key.includes(t.optionKey)),a=!!s.length&&s.every(e=>e.selected))
const o=[]
return r.selected=!1,o.push(r.key),a&&s.forEach(e=>{e.selected=!1,o.push(e.key)}),{updatedFacet:n,dismissedKeys:o}},ie=class{constructor(e){Object(r.k)(this,e),this.arcgisHubFacetListChange=Object(r.e)(this,"arcgisHubFacetListChange",7),this.arcgisHubFacetListReset=Object(r.e)(this,"arcgisHubFacetListReset",7),this.hubTelemetry=Object(r.e)(this,"hubTelemetry",7),this.showChips=!1,this.facets=[],this.disableTelemetry=!1,this.resultsCount=void 0,Object(a.a)(this,"resetFacets","onChipClose")}async componentWillLoad(){this.intl=await l.a.loadIntlForComponent(this.element)}maybeSendTelemetry(e){this.disableTelemetry||this.hubTelemetry.emit(e)}onListFacetChange(e){e.preventDefault(),this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.filter),{details:e.detail.checked?`${e.detail.key}: ${e.detail.optionKey}`:`${e.detail.key}: Removed ${e.detail.optionKey}`,element:e.detail.key,position:e.detail.optionIndex}))
const t=function(e=[]){return e.filter(L)}(this.facets).find(t=>t.key===e.detail.key)
t.options=t.options.map(n=>(n.key===e.detail.optionKey?n.selected=e.detail.checked:"single-select"===t.display&&(n.selected=!1),n)),this.arcgisHubFacetListChange.emit(t)}onTreeFacetChange(e){const t=function(e=[]){return e.filter(F)}(this.facets).find(t=>t.key===e.detail.key),{optionKeys:n}=e.detail,r=n.map(ee).join(", ")
this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.filter),{details:e.detail.selected?`${e.detail.key}: ${r}`:`${e.detail.key}: Removed ${r}`,element:e.detail.key,position:e.detail.topLevelIndex})),t.options=t.options.map(t=>(n.includes(t.key)&&(t.selected=e.detail.selected),t)),this.arcgisHubFacetListChange.emit(t)}onDateRangeFacetChange(e){const{detail:{key:t,value:n}}=e,r=R(this.facets).find(e=>e.key===t)
q(n)&&this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.filter),{details:c.a.constants.details.DATE_UPDATED,element:r.key})),r.value=n,this.arcgisHubFacetListChange.emit(r)}onMapFacetChange(e){const{detail:{key:t,value:n}}=e,r=V(this.facets).find(e=>e.key===t)
r.value=n,this.arcgisHubFacetListChange.emit(r)}onChipClose(e){const t=this.facets.findIndex(t=>t.key===e.key),{updatedFacet:n,dismissedKeys:r}=((e,t)=>{let n
switch(e.display){case"single-select":n=te(e,t)
break
case"multi-select":n=ne(e,t)
break
case"tree":n=re(e,t)}return n})(this.facets[t],e)
var i,s
this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.filter),{details:`${n.key}: Removed ${i=n,s=r,(F(i)?s.map(ee):s).join(", ")}`,element:c.a.constants.element.CHIPS})),this.facets[t]=n,this.arcgisHubFacetListChange.emit(n)}resetFacets(){this.arcgisHubFacetListReset.emit()}get chips(){return this.facets.reduce((e,t)=>{let n=[]
switch(t.display){case"single-select":n=(e=>e.options.filter(e=>e.selected&&e._unrecognized).map(t=>({key:e.key,label:e.label,optionKey:t.key,optionLabel:t.label})))(t)
break
case"multi-select":n=(e=>e.options.filter(e=>e.selected).map(t=>{const n=B(t.label)
return{key:e.key,label:e.label,optionKey:t.key,optionLabel:n}}))(t)
break
case"tree":n=(e=>{const t=e.options.filter(e=>!e._unrecognized),n=W(t),r=Y(n).map(t=>function e(t,n){let r=[]
return n.option.selected&&r.push({key:t.key,label:t.label,optionKey:n.option.key,optionLabel:B(n.option.label)}),X(n)||Y(n).forEach(n=>{const i=e(t,n)
r=r.concat(i)}),r}(e,t)).flat()
return[...e.options.filter(e=>e.selected&&e._unrecognized).map(t=>({key:e.key,label:e.label,optionKey:t.key,optionLabel:t.label})),...r]})(t)}return[...e,...n]},[])}renderFacets(){return this.facets.map(e=>!D(e)||e.options.length>1?Object(r.i)("calcite-accordion-item",{expanded:"closed"!==e.state,heading:e.label,"is-map":U(e),key:e.key},this.renderFacetComponent(e),this.renderFacetTooltip(e)):null)}renderFacetComponent(e){switch(e.display){case"single-select":case"multi-select":return Object(r.i)("arcgis-hub-facet-options",{"data-test":e.key,facet:e})
case"date-range":return Object(r.i)("arcgis-hub-date-range-facet",{"data-test":e.key,facet:e})
case"tree":return Object(r.i)("arcgis-hub-tree-facet",{"data-test":e.key,facet:e})
case"map":return Object(r.i)("arcgis-hub-map-facet",{"data-test":e.key,facet:e,resultsCount:this.resultsCount})}}renderFacetTooltip(e){const t="popover-toggle-"+e.key
return e.tooltip&&Object(r.i)("div",{slot:"actions-end"},Object(r.i)("calcite-popover",{"auto-close":!0,label:e.key+" info",overlayPositioning:"fixed",placement:"bottom-end",referenceElement:t},Object(r.i)("div",{class:"facet-popover-content"},e.tooltip)),Object(r.i)("calcite-icon",{class:"facet-popover-trigger",icon:"information-f",id:t,scale:"s"}))}renderChips(){return this.chips.map(e=>{const t=`${e.label}: ${e.optionLabel}`,n=this.onChipClose.bind(this,e)
return Object(r.i)("calcite-chip",{closable:!0,"data-test":t,key:e.optionKey,onCalciteChipClose:n,scale:"m",value:t},t)})}render(){if(this.facets.length)return Object(r.i)(r.b,null,Object(r.i)("div",{class:"header-container",id:"filters-header"},Object(r.i)("calcite-button",{appearance:"transparent","aria-labelledby":"filters-header",class:"reset-facets-button",color:"blue",onClick:this.resetFacets},this.intl.t("reset")),Object(r.i)("slot",{name:"header"})),this.showChips?this.renderChips():"",Object(r.i)("calcite-accordion",{appearance:"transparent",scale:"l"},Object(r.i)("div",{class:"additional-facet-container"},Object(r.i)("slot",{name:"additional-facet"})),this.renderFacets()))}static get assetsDirs(){return["locales"]}get element(){return Object(r.c)(this)}}
ie.style=":host{display:block}.header-container{display:flex;flex-direction:row-reverse;align-items:center;justify-content:space-between}.header-container calcite-button{font-size:1rem}calcite-accordion{--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0rem}calcite-accordion-item{border-width:0px;border-top-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2)}@media (max-width: 1200px){calcite-accordion-item[is-map]{display:none}}calcite-chip{margin-bottom:0.5rem;max-width:100%}calcite-chip:nth-last-of-type(1){margin-bottom:1.25rem}.reset-facets-button{--calcite-font-size--1:var(--hub-gallery-font-size-large)}.additional-facet-container{--calcite-font-size--1:var(--calcite-font-size-0)}.facet-popover-content{margin:0.75rem;text-align:center;max-width:11rem}.facet-popover-trigger{margin-inline-start:.375rem}"
const se=class{constructor(e){Object(r.k)(this,e),this.arcgisHubFacetOptionsChange=Object(r.e)(this,"arcgisHubFacetOptionsChange",7),this.arcgisHubFacetMoreLessClicked=Object(r.e)(this,"arcgisHubFacetMoreLessClicked",7),this.pageSize=5,this.facet=void 0,this.showLimitedOptions=!1,this.query="",Object(a.a)(this,"handleCalciteRadioButtonChangeEvent","handleCalciteCheckboxChangeEvent","toggleMoreOrLessButton","handleCalciteInputInput","setPageSeparator")}async componentWillLoad(){this.facet.optionLimit&&(this.pageSize=this.facet.optionLimit),this.intl=await l.a.loadIntlForComponent(this.element),this.facet.options.length>this.pageSize&&(this.showLimitedOptions=!0)}handleCalciteInputInput(e){this.query=e.target.value}handleCalciteRadioButtonChangeEvent(e){this.onFacetChanged(e.target.id,e.target.checked)}handleCalciteCheckboxChangeEvent(e,t){this.onFacetChanged(t.target.id,t.target.checked,e)}onFacetChanged(e,t,n){this.arcgisHubFacetOptionsChange.emit({key:this.facet.key,optionKey:e,checked:t,optionIndex:n})}get filteredOptions(){return this.facet.options.filter(({_unrecognized:e,label:t})=>!e&&t.toLowerCase().includes(this.query.toLowerCase()))}get orderedOptions(){return"label"===this.facet.orderBy?this.filteredOptions.sort((e,t)=>e.label.localeCompare(t.label)):this.filteredOptions.sort((e,t)=>{var n,r
return(null!==(n=t.count)&&void 0!==n?n:0)-(null!==(r=e.count)&&void 0!==r?r:0)})}setPageSeparator(e){this.pageSeparator=e}renderCheckboxes(){const e=this.orderedOptions.map((e,t)=>{const n=e.count?`${e.key}:${e.count}`:e.key,i=this.handleCalciteCheckboxChangeEvent.bind(this,t)
return Object(r.i)("calcite-label",{key:n,layout:"inline"},Object(r.i)("calcite-checkbox",{checked:e.selected,id:e.key,name:e.label,onCalciteCheckboxChange:i}),Object(r.i)("span",{class:"option"},e.label))}),t=e.slice(0,this.pageSize),n=this.showLimitedOptions?[]:e.slice(this.pageSize)
return[...t,Object(r.i)("span",{key:"page-separator",ref:this.setPageSeparator,tabIndex:-1}),...n]}toggleMoreOrLessButton(){this.arcgisHubFacetMoreLessClicked.emit({facet:this.facet,isMore:this.showLimitedOptions}),this.showLimitedOptions=!this.showLimitedOptions,this.renderCheckboxes(),this.pageSeparator.focus()}get optionsLeftToDisplay(){return this.filteredOptions.length-this.pageSize}get moreOrLessButtonIconEnd(){return this.showLimitedOptions?"chevron-down":"chevron-up"}get moreOrLessButtonLabel(){return this.showLimitedOptions?this.intl.t("showMore",{num:this.optionsLeftToDisplay}):this.intl.t("showLess")}renderMoreOrLessButton(){if("multi-select"===this.facet.display&&this.filteredOptions.length>this.pageSize)return Object(r.i)("div",{class:"more-or-less-container"},Object(r.i)("calcite-button",{appearance:"transparent",color:"blue","icon-end":this.moreOrLessButtonIconEnd,onClick:this.toggleMoreOrLessButton},this.moreOrLessButtonLabel))}renderRadioButtons(){return this.facet.options.filter(e=>!e._unrecognized).map(e=>Object(r.i)("calcite-label",{key:e.key,layout:"inline"},Object(r.i)("calcite-radio-button",{checked:e.selected,id:e.key,name:e.label,onCalciteRadioButtonChange:this.handleCalciteRadioButtonChangeEvent,value:e.key}),Object(r.i)("span",{class:"option"},e.label)))}renderNoMatchesNotice(){return"multi-select"===this.facet.display&&!this.filteredOptions.length&&Object(r.i)("calcite-notice",{id:"no-match-notice",open:!0,width:"full"},Object(r.i)("div",{slot:"message"},this.intl.t("noMatchesNotice")))}render(){const e="multi-select"===this.facet.display
return Object(r.i)(r.b,{"data-element":"facet-options"},e&&Object(r.i)("calcite-input",{"aria-label":this.intl.t("inputAriaLabel"),"aria-labelledby":"no-match-notice",class:"option-search-bar",clearable:!0,onCalciteInputInput:this.handleCalciteInputInput,placeholder:this.intl.t("inputPlaceholder")}),Object(r.i)("calcite-radio-button-group",{"data-test":"options-container",layout:"vertical",name:"facet-group"},e?this.renderCheckboxes():this.renderRadioButtons()),this.renderMoreOrLessButton(),this.renderNoMatchesNotice())}static get assetsDirs(){return["locales"]}get element(){return Object(r.c)(this)}}
se.style=":host{display:block}calcite-input{--calcite-ui-foreground-1:var(--hub-gallery-input-background);--calcite-ui-text-1:var(--hub-gallery-input-text)}.option-search-bar{margin-bottom:0.75rem}.option{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:normal}calcite-radio-button-group>calcite-label{--calcite-font-size--1:var(--calcite-font-size-0)}@media (max-width: 576px){calcite-label{padding-top:0.5rem}calcite-label{padding-bottom:0.5rem}}.more-or-less-container{width:100%;display:flex;flex-direction:row-reverse}"
const ae=class{constructor(e){Object(r.k)(this,e),this.hubTelemetry=Object(r.e)(this,"hubTelemetry",7),this.arcgisHubGallerySelect=Object(r.e)(this,"arcgisHubGallerySelect",7),this.arcgisHubGalleryQueryChange=Object(r.e)(this,"arcgisHubGalleryQueryChange",7),this.arcgisHubGalleryStateChange=Object(r.e)(this,"arcgisHubGalleryStateChange",7),this.arcgisHubGalleryResultsChange=Object(r.e)(this,"arcgisHubGalleryResultsChange",7),this.arcgisHubGalleryAction=Object(r.e)(this,"arcgisHubGalleryAction",7),this.arcgisHubContentGalleryFacetModalClose=Object(r.e)(this,"arcgisHubContentGalleryFacetModalClose",7),this.getCardLayout=(e,t,n)=>{let r="list"===e?"row":"card"
if("grid-filled"===e){const e=n%this.gridColumns,i=t>=n-e
e<2&&i&&(r="row")}return r},this.context=void 0,this._context=void 0,this.portal="https://www.arcgis.com",this.term=void 0,this.baseUrl=void 0,this.linkTarget="self",this.site=void 0,this.limit=10,this.sortField=null,this.sortOrder=null,this.sortByIds=void 0,this.layout="list",this.showThumbnail=!0,this.imageType=d.d.thumbnail,this.lazy=!1,this.showSort=!1,this.showSearch=!1,this.showChips=!1,this.showFacets=!1,this.newTab=!1,this.selectable=!1,this.showMoreResultsBtn=!1,this.showResultsCount=!1,this.showBackToTopBtn=!1,this.query=void 0,this.facets=void 0,this.galleryType=void 0,this.cardTitleTag=void 0,this.include="",this.state={},this.corners=d.b.square,this.showAdditionalInfo=!0,this.showEmptyState=!0,this.disableTelemetry=!1,this.shadow=void 0,this.showLinkButton=!1,this.linkButtonText=void 0,this.linkButtonStyle=void 0,this.mobileView=!1,this.showFacetModal=!1,this.showBadges=!0,this.showType=!0,this.showOwner=!0,this.showLayoutSwitcher=!1,this.clickableCards=!1,this.additionalFacet=void 0,this.gallerySelection=void 0,this._gallerySelection=void 0,this.showSelection=!1,this.cardActionLinks=[],this.sortOptions=void 0,this.loading=!0,this.actions=[],this.searchResults=[],this.gridColumns=4,Object(a.a)(this,"changeSortField","fetchMore","actionHandler","handleResize","forceModalClose","onFacetModalClose","onFacetChange","resetFacets","backToTop","setResultTopSpan","logGalleryActionsTelemetry")}get _include(){return this.include?this.include.split("|"):[]}get _activeSortOption(){const e=this.sortField,t=this._sortOptions.find(t=>t.attribute===e)
return t&&Object.assign(Object.assign({},t),{order:this.sortOrder})}async handleResize(){const e=this.element.clientWidth
let t=1
e>1090?t=4:e>810?t=3:e>530&&(t=2),this.element.style.setProperty("--columns",""+t),this.gridColumns=t}async componentWillLoad(){if(this.intl=await l.a.loadIntlForComponent(this.element),this._context=this.context,!this._context&&this.portal){const e=await b.a.create({portalUrl:this.portal})
this._context=e.context}this.query||(this.query={targetEntity:this.galleryType||"item",filters:[{predicates:[{term:this.term}]}]}),this.setSortOptions(this.sortOptions),this.facets&&await this.fetchDynamicFacetOptions(),Object.keys(this.state).length>0&&this.applySerializedState(this.state),this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.gallerySelection&&Object.entries(this.gallerySelection).length||(this.gallerySelection={channel:[],item:[],group:[],user:[],groupMember:[],event:[]}),this._gallerySelection=Object(i.c)(this.gallerySelection),this.prepareAndExecuteSearch()}connectedCallback(){"grid-filled"===this.layout&&h.a.addHandler(this.element,this.handleResize)}disconnectedCallback(){h.a.unobserve(this.element)}async handleContextChange(){this._context=this.context,this.facets&&await this.fetchDynamicFacetOptions(),this.prepareAndExecuteSearch()}async fetchFacetsAndSearch(){this.facets&&(await this.fetchDynamicFacetOptions(),this.applySerializedState({}),this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState)),this.prepareAndExecuteSearch()}prepareAndExecuteSearch(){this.search(this.activeQuery,this._searchOptions)}onStateChanged(){var e,t
e=this.serializedGalleryState,t=this.state,Object.keys(t).some(n=>null===t[n]?t[n]!=e[n]:t[n]!==e[n])&&(this.applySerializedState(this.state),this.prepareAndExecuteSearch())}setResultTopSpan(e){this.resultTopSpan=e}applySerializedState(e){const t=function(e,t){const n=Object(i.c)(e)
return t.query?n.query=t.query:null===t.query&&(n.query=""),n.sort=function(e,t){const n=Object(i.c)(e)
if(t){const[e,r,i]=t.split("|")
n.label=e,n.attribute=r,n.order=i}else null===t&&(n.attribute=null,n.order=null)
return n}(n.sort,t.sort),n.facets=n.facets.map(e=>{if(t[e.key]){const n={}
return n[e.key]=t[e.key],function(e,t){let n=Object(i.c)(e)
switch(e.display){case"single-select":case"multi-select":n=function(e,t){const n=Object(i.c)(e),r=t[e.key]
let s=[]
return r&&(s="single-select"===e.display?[r]:r.split(",")),n.options.forEach(e=>e.selected=!1),s.forEach(t=>{const r=n.options.find(e=>e.key===t)
r?r.selected=!0:n.options.push({label:t,key:t,selected:!0,_unrecognized:!0,predicates:[{[e.key]:t}]})}),n.options=n.options.map(e=>(e.selected=s.includes(e.key),e)),n}(e,t)
break
case"tree":n=function(e,t){const n=Object(i.c)(e),r=t[e.key],s=r?r.split(","):[]
return n.options.forEach(e=>e.selected=!1),s.forEach(t=>{const r=n.options.filter(e=>e.key.endsWith(t))
if(r.length)r.forEach(e=>e.selected=!0)
else{const r=t.split("/")
n.options.push({label:r[r.length-1],key:t,selected:!0,_unrecognized:!0,predicates:[{[e.key]:t}]})}}),n}(e,t)
break
case"date-range":n=function(e,t){var n
const r=Object(i.c)(e),[s,a]=(null===(n=t[e.key])||void 0===n?void 0:n.split("|"))||[],o={from:s,to:a}
return q(o)&&(r.value=o),r}(e,t)
break
case"map":n=function(e,t){const n=Object(i.c)(e)
return n.value=function(e){let t=null
const n=e.split(",").map(Number)
if(4===n.length&&n.every(e=>!isNaN(e))){const[e,r,i,s]=n
t=[[e,r],[i,s]]}return t}(t[e.key]||""),n}(e,t)}return n}(e,n)}return G(e)}),n}(this.galleryState,e)
t.query!==this.term&&(this.term=t.query),t.sort&&(this.sortField=t.sort.attribute,this.sortOrder=t.sort.order),t.facets&&(this.facets=t.facets)}get _aggFieldBatches(){const e=N(this.facets).reduce((e,t)=>(t.field&&e.push(t.field),e),[]),t=[]
for(let n=0;n<e.length;n+=3)t.push(e.slice(n,n+3))
return t}get _aggLimit(){return N(this.facets).reduce((e,t)=>(t.aggLimit&&t.aggLimit>e&&(e=t.aggLimit),e),10)}get hasSearchResults(){return this.lastSearchResponse&&!!this.searchResults.length}get activeFacetFilters(){const e=[]
return N(this.facets).forEach(t=>{const n=t.options.reduce((e,t)=>(t.selected&&(e=[...e,...t.predicates]),e),[])
if(n.length){const r={operation:t.operation,predicates:n}
e.push(r)}}),e}get activeDateRangeFilters(){const e=[]
return R(this.facets||[]).forEach(t=>{if(t.value&&q(t.value)){const n={from:Date.parse(t.value.from),to:Date.parse(t.value.to)},r={operation:"OR",predicates:[{[t.field]:n}]}
e.push(r)}}),e}get activeMapFilters(){const e=[]
return V(this.facets||[]).forEach(t=>{if(t.value){const n={operation:"OR",predicates:[{[t.field]:Object(s.c)(t.value)}]}
e.push(n)}}),e}async fetchDynamicFacetOptions(){if(this._aggSearchOptionBatches.length)try{const e=this._aggSearchOptionBatches.map(e=>Object(m.a)(this.query,e)),t=await Promise.all(e)
t.reduce((e,{aggregations:t})=>{if(t){const n=Object(p.a)(t)
e=e.concat(n)}return e},[]).forEach(e=>{const t=N(this.facets).find(t=>t.field===e.field)
if(t){const n=function(e,t){let n=Object(i.c)(e.options)
switch(e.field){case"type":n=n.map(e=>{const t=["csv","pdf","kml","wfs","wms"].includes(e.key)?e.key.toUpperCase():A(e.key)
return e.label=t,e.key=t,e.predicates=[{type:t}],e})
break
case"access":n=n.map(e=>{const n=e.label.toLowerCase()
return e.label=t.t("facets.access."+n),e})
break
case"categories":n=n.map(e=>{const t=e.label.split("/")
return e.label=A(t[t.length-1]),e})
break
case"tags":n=n.map(e=>(e.label=A(e.label),e))
break
case"license":n=n.map(e=>(e.label=["none","custom"].includes(e.key)?t.t("facets.license."+e.key):e.label.replace(/-/g," "),e))}return n=n.map(e=>(e.label=function(e,t,n){return null==t?e:"rtl"===n.direction?`(${t}) ${e}`:`${e} (${t})`}(e.label,e.count,t),e)),n}(e,this.intl)
t.options="categories"===t.key?n.filter(e=>e.key.startsWith("/categories")):n}}),this.facets=this.facets.map(e=>Object(i.c)(e))}catch(e){throw new Error("Error loading facet options: "+e)}}async search(e,t){this.lastSearchResponse||(this.loading=!0)
try{const n=await Object(m.a)(e,t)
this.loading=!1,this.lastSearchResponse=n,this.arcgisHubGalleryResultsChange.emit(n.results)
const{sortByIds:r}=this
let i=n.results
r&&r.length&&(i=n.results.slice().sort((e,t)=>(r.includes(e.id)?r.indexOf(e.id):1/0)-(r.includes(t.id)?r.indexOf(t.id):1/0))),this.searchResults=i}catch(e){throw this.loading=!1,new Error("Error loading results: "+e)}}async fetchMore(){const e=Math.ceil(this.searchResults.length/this.limit)
this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.loadMore),{search:z(this.serializedGalleryState),element:c.a.constants.element.RESULTS_LIST,position:e,count:this.lastSearchResponse.total}))
try{this.lastSearchResponse=await this.lastSearchResponse.next(),this.searchResults=[...this.searchResults,...this.lastSearchResponse.results]}catch(e){console.error("Unable to fetch more results: "+e)}}backToTop(){this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.backToTop),{element:c.a.constants.element.BACK_TO_TOP})),this.resultTopSpan.focus({preventScroll:!0}),this.element.parentElement?this.element.parentElement.scrollIntoView({behavior:"smooth"}):this.element.scrollIntoView({behavior:"smooth"})}get activeQuery(){const e=Object(i.c)(this.query)
if(this.term&&e.filters.push({predicates:[{term:this.term}]}),this.activeFacetFilters.length&&(e.filters=[...e.filters,...this.activeFacetFilters]),this.activeDateRangeFilters.length&&(e.filters=[...e.filters,...this.activeDateRangeFilters]),this.activeMapFilters.length&&(e.filters=[...e.filters,...this.activeMapFilters]),e.filters.length||"user"!==this.query.targetEntity||e.filters.push({predicates:[{term:""}]}),!this.showSelection&&this.gallerySelection&&Object(i.g)(Object.values(this.gallerySelection)).length)for(const[t,n]of Object.entries(this.gallerySelection))t===e.targetEntity&&e.filters.push({predicates:[{id:{not:[...n]}}]})
return e}get _searchOptions(){var e
return{num:this.limit,sortField:this.sortField,sortOrder:u.a[this.sortOrder],include:this._include,requestOptions:null===(e=this._context)||void 0===e?void 0:e.hubRequestOptions,site:this.site}}get _aggSearchOptionBatches(){var e
const t={num:1,include:[],requestOptions:null===(e=this._context)||void 0===e?void 0:e.hubRequestOptions,aggLimit:this._aggLimit,site:this.site},n=[]
return this._aggFieldBatches.forEach(e=>{n.push(Object.assign(Object.assign({},t),{aggFields:e}))}),n}get galleryState(){return{query:this.term,sort:this._activeSortOption,facets:this.facets,layout:this.layout}}get serializedGalleryState(){return Object(y.c)(function(e){var t
const n={}
var r
e.query&&(n.query=e.query),(null===(t=e.sort)||void 0===t?void 0:t.attribute)&&(n.sort=`${(r=e.sort).label}|${r.attribute}|${r.order}`),e.layout&&(n.layout=e.layout)
const i=(e.facets||[]).reduce((e,t)=>Object.assign(Object.assign({},e),function(e){let t={}
switch(e.display){case"single-select":case"multi-select":case"tree":t=function(e){const t={},n=e.options.filter(e=>e.selected).map(e=>e.key),r="single-select"===e.display?n[0]:n.join(",")
return t[e.key]=r||null,t}(e)
break
case"date-range":t=function(e){var t,n
const r={},i=null===(t=e.value)||void 0===t?void 0:t.from,s=null===(n=e.value)||void 0===n?void 0:n.to
return r[e.key]=i&&s?`${i}|${s}`:null,r}(e)
break
case"map":t=function(e){return{[e.key]:e.value&&Object(s.c)(e.value)}}(e)}return t}(t)),{})
return Object.assign(Object.assign({},n),i)}(this.galleryState))}get _hasSlottedGalleryActions(){return!!this.element.querySelector('[slot="gallery-actions"]')}handleLayoutSelect(e){var t
this.layout=e.detail,this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.view),{element:c.a.constants.element.VIEW_BUTTON,details:A(this.layout)+" View",search:z(this.serializedGalleryState),count:(null===(t=this.lastSearchResponse)||void 0===t?void 0:t.total)||0})),this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState)}sendCardTitleClickTelemetry(e){var t
const{model:n}=e.detail
this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.click),{type:n.type,search:z(this.serializedGalleryState),element:c.a.constants.element.RESULTS_LIST,position:n.index,count:null===(t=this.lastSearchResponse)||void 0===t?void 0:t.total}))}sendMoreLessClickTelemetry(e){const{facet:t,isMore:n}=e.detail
this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.filter),{details:n?c.a.constants.details.MORE:c.a.constants.details.LESS,search:z(this.serializedGalleryState),element:t.key,count:this.lastSearchResponse.total}))}handleSearchChange(e){e.stopPropagation(),this.term!==e.detail&&(this.term=e.detail,this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.maybeSendTelemetry(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.query),{details:z(this.serializedGalleryState),search:this.term,element:c.a.constants.element.ON_PAGE})))}onFacetChange(e){e.stopPropagation()
const t=e.detail,n=this.facets.map(e=>e.key===t.key?Object(i.c)(t):e)
this.facets=n,this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.prepareAndExecuteSearch()}cardSelect(e){e.stopPropagation()
const t=e.detail.id,n=this._gallerySelection[this.query.targetEntity]
n.includes(t)?this._gallerySelection[this.query.targetEntity]=Object(i.l)(n,e.detail.id):this._gallerySelection[this.query.targetEntity]=[...n,e.detail.id],this.arcgisHubGallerySelect.emit(this._gallerySelection)}resetFacets(){var e
this.hubTelemetry.emit(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.search.label.filter),{details:c.a.constants.details.RESET,search:z(this.serializedGalleryState),element:c.a.constants.element.RESET_FILTERS,count:null===(e=this.lastSearchResponse)||void 0===e?void 0:e.total})),this.facets=this.facets.map(G),this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.prepareAndExecuteSearch()}maybeSendTelemetry(e){this.disableTelemetry||this.hubTelemetry.emit(e)}changeSortField(e){this.sortField=e.detail.attribute,this.sortOrder=e.detail.order,this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.prepareAndExecuteSearch()}renderSearch(){if(this.showSearch)return Object(r.i)("arcgis-hub-search-input",{class:"search-bar",placeholder:this.intl.t("search"),scale:"l",text:this.intl.t("search"),value:this.term})}renderLayoutSwitcher(){if(this.showLayoutSwitcher&&!this.mobileView){const e=[{tooltip:this.intl.t("layoutOptions.grid"),layout:"grid",icon:"grid"},{tooltip:this.intl.t("layoutOptions.list"),layout:"list",icon:"list"}]
return Object(r.i)("div",{class:"layout-switcher-container"},e.map(e=>Object(r.i)("arcgis-hub-layout-button",{class:"layout-option",icon:e.icon,key:e.layout,layout:e.layout,selected:this.layout===e.layout,tooltip:e.tooltip})))}}renderMoreResultsBtn(){var e
if(this.showMoreResultsBtn&&(null===(e=this.lastSearchResponse)||void 0===e?void 0:e.hasNext))return Object(r.i)("calcite-button",{onClick:this.fetchMore},this.intl.t("moreResults"))}renderBackToTopBtn(){if(this.showBackToTopBtn&&this.hasSearchResults)return Object(r.i)("calcite-button",{appearance:"outline",class:"back-to-top-btn",onClick:this.backToTop},this.intl.t("backToTop"))}setSortOptions(e){const t={relevance:{attribute:null,label:"Relevance",defaultOrder:null,order:null},title:{attribute:"title",label:"Title",defaultOrder:"asc",order:"asc"},created:{attribute:"created",label:"Date Created",defaultOrder:"desc",order:"desc"},modified:{attribute:"modified",label:"Date Updated",defaultOrder:"desc",order:"desc"},username:{attribute:"username",label:"Username",defaultOrder:"asc",order:"asc"},joined:{attribute:"joined",label:"Date Joined",defaultOrder:"desc",order:"desc"},memberType:{attribute:"membertype",label:"Role",defaultOrder:"desc",order:"desc"}}
e=e||["relevance","title","created","modified"],this._sortOptions=e.map(e=>t[e])}renderSort(){if(this.showSort&&this.hasSearchResults)return Object(r.i)("arcgis-hub-search-sort",{activeSortOption:this._activeSortOption,class:"search-sort",onHubSearchSortChange:this.changeSortField,sortOptions:this._sortOptions})}async forceModalClose(){this.showFacetModal=!1}onFacetModalClose(e){e.stopPropagation(),this.arcgisHubContentGalleryFacetModalClose.emit()}renderFacets(){if(this.showFacets)return this.mobileView?this.renderMobileFacets():this.renderDesktopFacets(this.facets)}renderDesktopFacets(e){var t
return Object(r.i)("arcgis-hub-facet-list",{disableTelemetry:this.disableTelemetry,facets:e,onArcgisHubFacetListChange:this.onFacetChange,onArcgisHubFacetListReset:this.resetFacets,resultsCount:(null===(t=this.lastSearchResponse)||void 0===t?void 0:t.total)||0,showChips:this.showChips},Object(r.i)("div",{slot:"additional-facet"},this.additionalFacet),this.mobileView?"":Object(r.i)("h2",{class:"facet-list-header",slot:"header"},this.intl.t("filter")))}renderMobileFacets(){var e
const t=this.facets.map(e=>Object(i.c)(Object.assign(Object.assign({},e),{accordionClosed:!1})))
return Object(r.i)("arcgis-wormhole",null,Object(r.i)("calcite-modal",{onCalciteModalClose:this.onFacetModalClose,open:this.showFacetModal},Object(r.i)("span",{slot:"header"},this.intl.t("filter")),Object(r.i)("div",{slot:"content"},this.renderDesktopFacets(t)),Object(r.i)("calcite-button",{onClick:this.forceModalClose,slot:"primary",width:"full"},this.intl.t("viewResults",{numResults:null===(e=this.lastSearchResponse)||void 0===e?void 0:e.total}))))}getCardComponentName(e){let t="arcgis-hub-generic-card"
switch(e){case"Hub Project":t="arcgis-hub-project-card"
break
case"Hub Initiative":t="arcgis-hub-initiative-card"
break
case"channel":t="arcgis-hub-channel-card"
break
case"User":t="arcgis-hub-user-card"}return t}actionHandler(e){this.arcgisHubGalleryAction.emit(e.detail)}renderSkeletons(){let e=1
this.showType||this.showOwner&&e++,"list"!==this.layout&&e++
const t=[...Array(this.limit).keys()].map(t=>Object(r.i)("arcgis-skeleton-loader",{active:!0,headingRows:e,key:t,rows:3,showHeading:!0,showThumbnail:"list"!==this.layout},this.showLinkButton&&Object(r.i)("div",{class:"loading-link-button"})))
return Object(r.i)(r.a,null,t)}renderList(e){let t
const n=["card-container","cols-"+this.gridColumns].join(" ")
if(e.length){const i=e.map((t,n)=>{const i=this.gallerySelection[this.query.targetEntity].includes(t.id)
t.index=n
const s=[...this.cardActionLinks]
this.showLinkButton&&s.unshift({label:this.linkButtonText,showLabel:!0,href:Object(g.b)(t,this.linkTarget,this.baseUrl),buttonStyle:this.linkButtonStyle})
const a=this.getCardComponentName(t.type)
return Object(r.i)(a,{actionLinks:s,baseUrl:this.baseUrl,class:"arcgis-hub-entity-card",clickable:this.clickableCards,corners:this.corners,"data-test":t.name,imageType:this.imageType,key:t.id,layout:this.getCardLayout(this.layout,n,e.length),lazy:this.lazy,linkTarget:this.linkTarget,newTab:this.newTab,searchResult:t,selectable:this.selectable,selected:i,shadow:this.shadow,showAdditionalInfo:this.showAdditionalInfo,showBadges:this.showBadges,showOwner:this.showOwner,showThumbnail:this.showThumbnail,showType:this.showType,titleTag:this.cardTitleTag})})
t=Object(r.i)(r.a,null,Object(r.i)("div",{class:n,"data-test":"result-container"},i),this.renderResultsCount(),this.renderListFooter())}else t=this.loading?Object(r.i)("div",{class:n,"data-test":"skeleton-loader-container"},this.renderSkeletons()):this.showEmptyState?Object(r.i)(r.a,null,Object(r.i)("arcgis-hub-empty-state",null),Object(r.i)("div",{class:"no-results-action-container"},Object(r.i)("slot",{name:"no-results-action"}))):null
return Object(r.i)("div",{class:"gallery-list"},this.renderListHeader(),Object(r.i)("span",{class:"result-top",ref:this.setResultTopSpan,tabIndex:-1}),t)}renderListHeader(){const e=this.renderResultsCount(),t=this.renderSort()||this.renderLayoutSwitcher()||this.renderGalleryActionsPopover()
if(e||t)return Object(r.i)("div",{class:"gallery-list-header"},e&&Object(r.i)("div",{class:"results-count-container"},this.renderResultsCount()),t&&Object(r.i)("div",{class:"list-header-controls-container"},this.renderSort(),this.renderLayoutSwitcher(),this.renderGalleryActionsPopover()))}renderGalleryActionsPopover(){let e
return this._hasSlottedGalleryActions&&(e=Object(r.i)("div",{class:"actions-popover-container"},Object(r.i)("calcite-popover",{"auto-close":!0,label:this.intl.t("galleryActionsLabel"),overlayPositioning:"fixed",placement:"bottom-end",referenceElement:"gallery-actions-toggle"},Object(r.i)("div",{class:"actions-popover-content"},Object(r.i)("slot",{name:"gallery-actions"}))),Object(r.i)("calcite-icon",{icon:"ellipsis",id:"gallery-actions-toggle",onClick:this.logGalleryActionsTelemetry,scale:"m"}))),e}logGalleryActionsTelemetry(){this.maybeSendTelemetry(Object.assign({},c.a.dictionary.category.interaction.action.search.label.action.details.overflow))}renderListFooter(){if(this.renderMoreResultsBtn()||this.renderBackToTopBtn())return Object(r.i)("div",{class:"gallery-list-footer"},Object(r.i)("div",null,this.renderMoreResultsBtn()),Object(r.i)("div",null,this.renderBackToTopBtn()))}renderResultsCount(){if(this.showResultsCount&&this.hasSearchResults)return Object(r.i)("h2",{class:"results-count"},this.intl.t("resultsCount",{pageTotal:this.searchResults.length,searchTotal:this.lastSearchResponse.total}))}render(){return Object(r.i)(r.b,null,this.renderSearch(),Object(r.i)("slot",{name:"collection-select"}),Object(r.i)("div",{class:"gallery-main"},this.renderFacets(),this.renderList(this.searchResults)),Object(r.i)("slot",{name:"click-actions"}))}static get assetsDirs(){return["locales"]}get element(){return Object(r.c)(this)}static get watchers(){return{context:["handleContextChange"],query:["fetchFacetsAndSearch"],layout:["prepareAndExecuteSearch"],term:["prepareAndExecuteSearch"],limit:["prepareAndExecuteSearch"],state:["onStateChanged"]}}};(function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r
if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r)
else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a)
s>3&&a&&Object.defineProperty(t,n,a)})([Object(f.a)({timeout:100})],ae.prototype,"prepareAndExecuteSearch",null),ae.style=':host{display:flex;flex-direction:column;gap:1.25rem;--columns:4;--hub-gallery-input-background:#fff;--hub-gallery-input-text:#151515;--hub-gallery-font-size-large:var(--calcite-font-size-1)}h1,h2,h3,h4,h5,h6{font-family:var(--hub-heading-family, inherit)}arcgis-hub-facet-list{flex:0 0 25%;max-width:25%}.gallery-main{display:flex;flex-direction:row;align-items:flex-start;column-gap:1.25rem}.gallery-list{display:flex;width:100%;flex-direction:column;gap:1.25rem}.gallery-list-footer{display:flex;justify-content:space-between}.gallery-list-header{display:grid;grid-template-areas:\'resultsCount sortAndLayout\';grid-template-columns:1fr 1fr}.results-count-container{grid-area:resultsCount}.list-header-controls-container{display:flex;align-items:center;justify-content:flex-end;gap:0.5rem;grid-area:sortAndLayout}.layout-option{height:100%}.actions-popover-container{margin-inline-start:1rem}.actions-popover-content{padding:0.5rem}.gallery-list>.results-count{margin-top:1.25rem}.no-results-action-container{display:grid;justify-content:center}.search-bar{margin-bottom:0px}.search-sort{margin-bottom:0px}.results-count{display:flex;align-items:center;font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-normal)}:host([layout="list"]) .card-container,:host([layout="grid"]) .card-container,:host([layout="grid-filled"]) .card-container{display:grid;gap:1.5rem}:host([layout="grid"]) .card-container{grid-template-columns:repeat(auto-fill, minmax(max(240px, (100% - (4 - 1) * 24px) / 4), 1fr))}:host([layout="grid-filled"]) .card-container{grid-template-columns:repeat(12, 1fr)}:host([layout="grid-filled"]) .card-container>*{grid-column:span calc(12 / var(--columns))}:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+1):last-of-type,:host([layout="grid-filled"]) .card-container.cols-3>*:nth-of-type(3n+1):last-of-type,:host([layout="grid-filled"]) .card-container.cols-2>*:nth-of-type(2n+1):last-of-type{grid-column:span 12 / span 12}:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+1):nth-last-of-type(2),:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+2):last-of-type,:host([layout="grid-filled"]) .card-container.cols-3>*:nth-of-type(3n+1):nth-last-of-type(2),:host([layout="grid-filled"]) .card-container.cols-3>*:nth-of-type(3n+2):last-of-type{grid-column:span 6 / span 6}:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+1):nth-last-of-type(3),:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+2):nth-last-of-type(2),:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+3):last-of-type{grid-column:span 4 / span 4}[slot="header"]{font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-normal)}.loading-link-button{position:relative}.loading-link-button:after{content:\'\';position:absolute;top:0;right:0;bottom:0;left:0}@keyframes shimmer{0%{background-size:200% 100%;background-position:100% 0}100%{background-size:200% 100%;background-position:-100% 0}}.loading-link-button:after{animation:shimmer 2s cubic-bezier(0.4, 0, 0.2, 0.8) infinite;background-image:linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0) 60%, rgba(255, 255, 255, 0) 100%);background-color:var(--calcite-ui-foreground-3)}.loading-link-button{margin-top:1rem;height:2rem}.result-top{position:absolute}.layout-switcher-container{display:flex;align-items:center}'
const oe=class{constructor(e){Object(r.k)(this,e),this.arcgisHubLayoutButtonSelect=Object(r.e)(this,"arcgisHubLayoutButtonSelect",7),this.selected=void 0,this.icon=void 0,this.layout=void 0,this.tooltip=void 0,Object(a.a)(this,"selectLayout","setPopoverElement","maybeOpenPopover","maybeClosePopover")}get _kind(){return this.selected?"neutral":"brand"}get appearance(){return this.selected?"solid":"transparent"}setPopoverElement(e){this.popoverElement=e}maybeOpenPopover(){this.tooltip&&(this.popoverElement.open=!0)}maybeClosePopover(){this.tooltip&&(this.popoverElement.open=!1)}selectLayout(){this.arcgisHubLayoutButtonSelect.emit(this.layout)}render(){return Object(r.i)(r.b,{onMouseEnter:this.maybeOpenPopover,onMouseLeave:this.maybeClosePopover},Object(r.i)("calcite-button",{appearance:this.appearance,"aria-current":this.selected,id:"toggle-button",kind:this._kind,label:this.tooltip||this.layout,onClick:this.selectLayout,scale:"l"},Object(r.i)("calcite-icon",{icon:this.icon})),this.tooltip&&Object(r.i)("calcite-popover",{label:this.tooltip,placement:"bottom-end",ref:this.setPopoverElement,referenceElement:"toggle-button"},Object(r.i)("div",{class:"popover-content"},this.tooltip)))}}
oe.style='.popover-content{margin:0.75rem}#toggle-button{height:100%}#toggle-button[kind="neutral"]{--calcite-ui-icon-color:#151515}#toggle-button[kind="neutral"]:hover,#toggle-button[kind="neutral"]:focus{--calcite-ui-icon-color:var(--calcite-ui-brand)}'
const le=class{constructor(e){Object(r.k)(this,e),this.arcgisHubMapViewReady=Object(r.e)(this,"arcgisHubMapViewReady",7),this.center="0,0",this.zoom=2,this.extent=void 0,this.expand=void 0,this.basemap="topo-vector",this.graphics=void 0,Object(a.a)(this,"_setContainer")}handleBasemapChanged(e){this.map.basemap=j.default.fromId(e)}handleCenterChanged(e){this.center=e
const[t,n]=this.centerToCoords(e)
this.view.center=w.b.fromJSON({longitude:t,latitude:n})}handleGraphicsChanged(e){this.isMapLoaded()&&(this.view.graphics.removeAll(),e&&this.view.graphics.addMany(this.buildGraphics()))}handleExtentChanged(){this.isMapLoaded()&&this.setExtent()}isMapLoaded(){return!!this.map}centerToCoords(e){return e.split(",").map(e=>+e)}createGraphic(e){const t=e
let n=t.clone?t.clone():new _.default(t)
var r,i
return i=n,((r=t).symbol&&!i.symbol||r.geometry&&!i.geometry)&&(n=_.default.fromJSON(t)),n}buildGraphics(){try{return this.graphics.filter(Boolean).map(e=>this.createGraphic(e))}catch(e){return[]}}setExtent(){let e=new w.a(this.extent)
this.expand&&(e=e.expand(this.expand)),this.view.extent=e}_setContainer(e){this._container=e}async componentDidLoad(){Object(S.b)(),this.map=new v.default({basemap:j.default.fromId(this.basemap)}),this.view=new O.default({map:this.map,container:this._container,center:this.centerToCoords(this.center),zoom:this.zoom}),this.extent&&this.setExtent(),this.view.graphics.addMany(this.buildGraphics()),this.arcgisHubMapViewReady.emit({view:this.view})}render(){return Object(r.i)(r.b,null,Object(r.i)("div",{ref:this._setContainer}))}static get watchers(){return{basemap:["handleBasemapChanged"],center:["handleCenterChanged"],graphics:["handleGraphicsChanged"],extent:["handleExtentChanged"],expand:["handleExtentChanged"]}}}
le.style=".sc-arcgis-hub-map-h{display:block}.esri-view.sc-arcgis-hub-map{height:inherit;width:inherit}"
const ce=class{constructor(e){Object(r.k)(this,e),this.arcgisMapFacetChange=Object(r.e)(this,"arcgisMapFacetChange",7),this.facet=void 0,this.resultsCount=void 0,this.view=void 0,this.shouldFilterByExtent=!1,Object(a.a)(this,"toggleFilterOnExtent")}async componentWillLoad(){const e=document.createElement("link")
e.href="https://js.arcgis.com/4.26/esri/themes/light/main.css",e.rel="stylesheet",this.element.shadowRoot.appendChild(e),this.intl=await l.a.loadIntlForComponent(this.element)}handleMapViewReady(e){e.stopPropagation()
const t=e.detail.view
t.when(()=>{t.ui.components=[]
const e=new I.default({view:t,popupEnabled:!1})
t.ui.add(e,{position:"top-leading"}),this.view=t,this.initializeMap()}),Object(x.f)(()=>t.extent,()=>this.shouldFilterByExtent&&this.handleExtentChange())}handleFacetChange(e,t){Object(s.c)(e.value||[])!==Object(s.c)(t.value||[])&&this.initializeMap()}async initializeMap(){this.shouldFilterByExtent=!!this.facet.value,this.view&&this._initialExtent&&(await this.maybeLoadProjectionEngine(),this.view.extent=this._initialExtent)}get _initialExtent(){let e=null
const{value:t,extent:n}=this.facet
return t?e=new M.default(Object(s.b)(t)):n&&(e=new M.default(n)),e}async maybeLoadProjectionEngine(){const{spatialReference:e}=this._initialExtent
if(!e.isWGS84&&!e.isWebMercator)return E.h()||E.i()}handleExtentChange(){this.arcgisMapFacetChange.emit({key:this.facet.key,value:this.bbox})}get bbox(){let e=null
if(this.shouldFilterByExtent&&this.view.extent){const t=Object(T.webMercatorToGeographic)(this.view.extent)
e=Object(s.a)(t)}return e}get shouldShowResultCount(){return!isNaN(this.resultsCount)}toggleFilterOnExtent(e){this.shouldFilterByExtent=e.detail,this.handleExtentChange()}render(){return Object(r.i)(r.b,{"data-element":"map-facet"},Object(r.i)("arcgis-hub-map",{basemap:"gray-vector",expand:1.5},this.shouldShowResultCount&&Object(r.i)("arcgis-hub-map-widget-container",{"expand-disabled":!0,expanded:!0,scale:"m",view:this.view,"view-position":"top-leading"},Object(r.i)("div",{class:"result-count"}," ",this.intl.t("resultsCount",{resultsCount:this.resultsCount})," ")),Object(r.i)("arcgis-hub-map-widget-container",{"expand-disabled":!0,expanded:!0,scale:"m",view:this.view,"view-position":"bottom-leading"},Object(r.i)("arcgis-hub-map-widget-checkbox",{checked:this.shouldFilterByExtent,onArcgisHubCheckboxWidgetClicked:this.toggleFilterOnExtent,scale:"m",text:this.intl.t("checkboxLabel")})),Object(r.i)("arcgis-hub-map-widget-container",{"expand-disabled":!0,scale:"s",view:this.view,"view-position":"bottom-trailing"},Object(r.i)("arcgis-hub-map-widget-zoom",{scale:"s",view:this.view}))))}static get assetsDirs(){return["locales"]}get element(){return Object(r.c)(this)}static get watchers(){return{facet:["handleFacetChange"]}}};(function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r
if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r)
else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a)
s>3&&a&&Object.defineProperty(t,n,a)})([Object(f.a)({timeout:500})],ce.prototype,"handleExtentChange",null),ce.style=":host{display:block}arcgis-hub-map{height:18.5rem;width:100%}arcgis-hub-map .esri-ui-top-left{margin-top:-.375rem;margin-left:-.375rem}arcgis-hub-map .esri-ui-bottom-left{margin-left:-.375rem}.result-count{font-weight:var(--calcite-font-weight-medium);padding:.375rem}"
const ue=class{constructor(e){Object(r.k)(this,e),this.arcgisHubCheckboxWidgetClicked=Object(r.e)(this,"arcgisHubCheckboxWidgetClicked",7),this.scale="m",this.text=void 0,this.checked=!1,Object(a.a)(this,"handleCheckboxChange")}get parentContainer(){const{el:e}=this
return e&&e.closest("arcgis-hub-map-widget-container")}handleCheckboxChange(e){this.checked=e.target.checked,this.arcgisHubCheckboxWidgetClicked.emit(this.checked)}render(){return this.parentContainer&&Object(r.i)("calcite-label",{class:"checkbox-label",layout:"inline",scale:this.scale},Object(r.i)("calcite-checkbox",{checked:this.checked,onCalciteCheckboxChange:this.handleCheckboxChange,scale:this.scale}),this.text)}get el(){return Object(r.c)(this)}}
ue.style=":host{display:block;padding:.5rem;cursor:pointer}.checkbox-label{--calcite-label-margin-bottom:0}"
const de=class{constructor(e){Object(r.k)(this,e),this.expandDisabled=void 0,this.viewPosition="top-right",this.view=void 0,this.scale="m",this.expanded=void 0,Object(a.a)(this,"toggleExpanded")}get position(){return this.viewPosition.includes("right")?"end":"start"}componentWillLoad(){const{view:e,el:t,viewPosition:n}=this
e&&e.ui&&e.ui.add(t,n)}disconnectedCallback(){const{view:e,el:t}=this
e&&e.ui&&e.ui.remove(t)}addWidgetToView(e,t){e&&e.ui&&e!==t&&this.view.ui.add(this.el,this.viewPosition)}toggleExpanded(){this.expanded=!this.expanded}render(){const{expandDisabled:e,expanded:t,position:n,scale:i}=this
return Object(r.i)(r.b,null,this.view&&Object(r.i)("calcite-action-pad",{expandDisabled:e,expanded:t,onCalciteActionPadToggle:this.toggleExpanded,position:n,scale:i},Object(r.i)("slot",null)))}get el(){return Object(r.c)(this)}static get watchers(){return{view:["addWidgetToView"]}}}
de.style=":host{display:flex;justify-content:flex-end;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host-context(div.esri-ui-inner-container.esri-ui-corner-container){box-shadow:none !important}"
const he=class{constructor(e){Object(r.k)(this,e),this.hubTelemetry=Object(r.e)(this,"hubTelemetry",7),this.handles=[],this.view=void 0,this.scale="m",this.canZoomIn=void 0,this.canZoomOut=void 0,Object(a.a)(this,"zoomIn","zoomOut","updateCanZoomIn","updateCanZoomOut")}async componentWillLoad(){const{el:e}=this
this.intl=await l.a.loadIntlForComponent(e),await this.connectViewModel(),this.connectWatch(),Object(S.b)()}connectedCallback(){this.connectWatch()}disconnectedCallback(){this.removeWatch()}handleViewChange(e,t){e&&e!==t&&(this.removeWatch(),this.connectViewModel().then(()=>{this.connectWatch()}))}connectWatch(){const{view:e,handles:t,zoomViewModel:n}=this
e&&n&&t.push(Object(k.a)(n,"canZoomIn",this.updateCanZoomIn),Object(k.a)(n,"canZoomOut",this.updateCanZoomOut))}removeWatch(){const{handles:e}=this
e.forEach(e=>{e.remove()}),this.handles=[]}async connectViewModel(){const{view:e,zoomViewModel:t}=this
if(e&&!t){await e.when(),this.zoomViewModel=new C.a({view:e})
const{canZoomIn:t,canZoomOut:n}=this.zoomViewModel
this.canZoomIn=t,this.canZoomOut=n}}updateCanZoomIn(e){this.canZoomIn=e}updateCanZoomOut(e){this.canZoomOut=e}zoomIn(){const{zoomViewModel:e,canZoomIn:t,view:n}=this
e&&t&&(e.zoomIn(),this.hubTelemetry.emit(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.zoom.label.in),{details:n.zoom})))}zoomOut(){const{zoomViewModel:e,canZoomOut:t,view:n}=this
e&&t&&(this.zoomViewModel.zoomOut(),this.hubTelemetry.emit(Object.assign(Object.assign({},c.a.dictionary.category.interaction.action.zoom.label.out),{details:n.zoom})))}render(){const{zoomIn:e,zoomOut:t,canZoomIn:n,canZoomOut:i,scale:s}=this,a=this.intl.t("zoomIn"),o=this.intl.t("zoomOut")
return Object(r.i)(r.b,{"data-element":"map-widget-zoom"},Object(r.i)("arcgis-hub-map-widget-generic",{disabled:!n,icon:"plus",onClick:e,scale:s,text:a}),Object(r.i)("arcgis-hub-map-widget-generic",{disabled:!i,icon:"minus",onClick:t,scale:s,text:o}))}static get assetsDirs(){return["locales"]}get el(){return Object(r.c)(this)}static get watchers(){return{view:["handleViewChange"]}}}
he.style=""
const pe=class{constructor(e){Object(r.k)(this,e),this.inputChange=Object(r.e)(this,"hubSearchInputChange",7),this.value=void 0,this.placeholder="Enter search term...",this.text="Search",this.scale=void 0,Object(a.a)(this,"handleInput","handleInputChange")}handleInputChange(){this.inputChange.emit(this.value)}handleInput(e){this.value=e.target.value}render(){return Object(r.i)(r.b,null,Object(r.i)("calcite-input",{clearable:!0,onCalciteInputChange:this.handleInputChange,onCalciteInputInput:this.handleInput,placeholder:this.placeholder,scale:this.scale,value:this.value},Object(r.i)("calcite-button",{scale:this.scale,slot:"action"},this.text)))}}
pe.style=":host{margin-bottom:1.5rem;display:block}calcite-input{--calcite-ui-foreground-1:var(--hub-gallery-input-background);--calcite-ui-text-1:var(--hub-gallery-input-text)}"
const fe=class{constructor(e){Object(r.k)(this,e),this.hubSearchSortChange=Object(r.e)(this,"hubSearchSortChange",7),this.sortOptions=[],this.activeSortOption=void 0,this.sortOrderIcon=void 0,Object(a.a)(this,"setDropdownEl","handleOrderChange")}async componentWillLoad(){this.intl=await l.a.loadIntlForComponent(this.element)}componentWillRender(){this.sortOrderIcon="asc"===this.activeSortOption.order?"sort-ascending-arrow":"sort-descending-arrow"}handleFieldChangeEvent(){const e=this.dropdownEl.selectedItems
if(e.length){const t=e[0].dataset.value||null
this.activeSortOption=this.sortOptions.find(e=>e.attribute===t),this.activeSortOption.order=u.a[this.activeSortOption.defaultOrder],this.hubSearchSortChange.emit(this.activeSortOption)}}setDropdownEl(e){this.dropdownEl=e}handleOrderChange(){this.activeSortOption.order="asc"===this.activeSortOption.order?"desc":"asc",this.sortOrderIcon="asc"===this.activeSortOption.order?"sort-ascending-arrow":"sort-descending-arrow",this.hubSearchSortChange.emit(this.activeSortOption)}render(){var e,t
return Object(r.i)(r.b,null,Object(r.i)("calcite-dropdown",{ref:this.setDropdownEl},Object(r.i)("calcite-button",{appearance:"transparent","aria-label":this.intl.t("change-sort-order"),color:"blue","data-test":"sort-attribute","icon-end":"caret-down",slot:"trigger"},Object(r.i)("span",{title:this.intl.t(null!==(e=this.activeSortOption.attribute)&&void 0!==e?e:"relevance")},this.intl.t(null!==(t=this.activeSortOption.attribute)&&void 0!==t?t:"relevance"))),Object(r.i)("calcite-dropdown-group",{"selection-mode":"single"},this.sortOptions.map(e=>{var t,n,i
return Object(r.i)("calcite-dropdown-item",{"aria-label":this.intl.t("sort-by")+this.intl.t(null!==(t=e.attribute)&&void 0!==t?t:"relevance"),"data-value":e.attribute,key:e.attribute,selected:this.activeSortOption.attribute===e.attribute,title:this.intl.t(null!==(n=e.attribute)&&void 0!==n?n:"relevance")},this.intl.t(null!==(i=e.attribute)&&void 0!==i?i:"relevance"))}))),this.activeSortOption.order&&Object(r.i)("calcite-button",{appearance:"transparent",class:"sort-order",color:"blue","data-test":"sort-direction","icon-end":this.sortOrderIcon,onClick:this.handleOrderChange,title:this.intl.t(this.activeSortOption.order)}))}static get assetsDirs(){return["locales"]}get element(){return Object(r.c)(this)}}
fe.style=":host{margin-bottom:1.25rem;display:flex;flex-direction:row;justify-content:flex-end;--calcite-font-size--1:var(--hub-gallery-font-size-large)}.sort-order{--calcite-font-size-0:var(--hub-gallery-font-size-large)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}"
const be=class{constructor(e){Object(r.k)(this,e),this.arcgisHubTreeFacetChange=Object(r.e)(this,"arcgisHubTreeFacetChange",7),this.arcgisHubFacetMoreLessClicked=Object(r.e)(this,"arcgisHubFacetMoreLessClicked",7),this.topLevelPageSize=5,this.facet=void 0,this.showLimitedOptions=!0,Object(a.a)(this,"toggleMoreOrLessButton","setPageSeparator","handleTreeSelect")}handleTreeSelect(e){e.stopPropagation()
const t=e.target.selectedItems.map(e=>e.dataset.key),n=((e,t)=>{const n=e.filter(e=>!t.includes(e)),r=t.filter(t=>!e.includes(t))
let i=null
return n.length?i={operation:"removed",keys:n}:r.length&&(i={operation:"added",keys:r}),i})(this.facet.options.filter(e=>e.selected&&!e._unrecognized).map(e=>e.key),t),r=this.facet.options.find(e=>n.keys.includes(e.key))._telemetryIndex
this.arcgisHubTreeFacetChange.emit({key:this.facet.key,optionKeys:n.keys,selected:"added"===n.operation,topLevelIndex:r})}async componentWillLoad(){this.intl=await l.a.loadIntlForComponent(this.element)}get optionsAsTree(){const e=this.facet.options.filter(e=>!e._unrecognized)
return W(e)}get numTopLevelOptions(){return Y(this.optionsAsTree).length}get optionsLeftToDisplay(){return this.numTopLevelOptions-this.topLevelPageSize}get moreOrLessButtonIconEnd(){return this.showLimitedOptions?"chevron-down":"chevron-up"}get moreOrLessButtonLabel(){return this.showLimitedOptions?this.intl.t("showMore",{num:this.optionsLeftToDisplay}):this.intl.t("showLess")}setPageSeparator(e){this.pageSeparator=e}toggleMoreOrLessButton(){this.arcgisHubFacetMoreLessClicked.emit({facet:this.facet,isMore:this.showLimitedOptions}),this.showLimitedOptions=!this.showLimitedOptions,this.pageSeparator.focus()}renderTopLevelOptions(){const e=Y(this.optionsAsTree).map((e,t)=>Q(e,t)),t=e.slice(0,this.topLevelPageSize),n=this.showLimitedOptions?[]:e.slice(this.topLevelPageSize)
return[...t,Object(r.i)("span",{key:"page-separator",ref:this.setPageSeparator,tabIndex:-1}),...n]}renderMoreLessButton(){if(this.numTopLevelOptions>this.topLevelPageSize)return Object(r.i)("div",{class:"more-or-less-container"},Object(r.i)("calcite-button",{appearance:"transparent",color:"blue","icon-end":this.moreOrLessButtonIconEnd,onClick:this.toggleMoreOrLessButton},this.moreOrLessButtonLabel))}render(){return Object(r.i)(r.b,{"data-element":"tree-facet"},Object(r.i)("div",null,Object(r.i)("calcite-tree",{onCalciteTreeSelect:this.handleTreeSelect,"selection-mode":"ancestors"},this.renderTopLevelOptions()),this.renderMoreLessButton()))}static get assetsDirs(){return["locales"]}get element(){return Object(r.c)(this)}}
be.style=":host{display:block}calcite-tree-item{--calcite-font-size--1:16px;--calcite-ui-text-3:var(--calcite-ui-text-1);padding-top:0.5rem}.option-label{overflow-wrap:anywhere}.more-or-less-container{width:100%;display:flex;flex-direction:row-reverse;margin-top:0.5rem}"},968:function(e,t,n){"use strict"
function r(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r
if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r)
else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a)
return s>3&&a&&Object.defineProperty(t,n,a),a}n.d(t,"a",(function(){return r}))},969:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n(235)
var r=n(1352),i=n(1342),s=n(1112),a=n(1060),o=n(1176)
const l=new Set,c=new Set
function u(e){return t=>{t.prototype.declaredClass=e,h(t)
const n=[],i=[]
let a=t.prototype
for(;a;)a.hasOwnProperty("initialize")&&!l.has(a.initialize)&&(l.add(a.initialize),n.push(a.initialize)),a.hasOwnProperty("destroy")&&!c.has(a.destroy)&&(c.add(a.destroy),i.push(a.destroy)),a=Object.getPrototypeOf(a)
l.clear(),c.clear()
class o extends t{constructor(...e){if(super(...e),this.constructor===o&&"function"==typeof this.postscript){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=n.length-1;e>=0;e--)n[e].call(this)}}),i.length){let e=!1
const t=this[r.a]
Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0,t.call(this)
for(let e=0;e<i.length;e++)i[e].call(this)}}})}this.postscript(...e)}}}return o.__accessorMetadata__=Object(s.a)(t.prototype),o.prototype.declaredClass=e,o}}function d(e,t){return null==t.get?function(){const t=this.__accessor__.properties.get(e)
if(void 0===t)return
Object(a.d)(t.observerObject)
const n=this.__accessor__.store
return n.has(e)?n.get(e):t.metadata.value}:function(){const t=this.__accessor__.properties.get(e)
if(void 0!==t)return t.getComputed()}}function h(e){const t=e.prototype,n=Object(s.a)(t),r={}
for(const e of Object.getOwnPropertyNames(n)){const t=n[e]
Object(o.d)(t),r[e]={enumerable:!0,configurable:!0,get:d(e,t),set(n){const r=this.__accessor__
if(void 0!==r){if(!Object.isFrozen(this)){if(r.initialized&&t.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${e}' of ${this.declaredClass}`)
if(r.lifecycle===i.a.CONSTRUCTED&&t.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${e}' of ${this.declaredClass}`)
r.set(e,n)}}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}}}Object.defineProperties(e.prototype,r)}},970:function(e,t,n){"use strict"
n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}))
var r=n(233),i=n(971),s=n(1128),a=n(1112),o=n(1351)
function l(e={}){return(t,n)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${n}. Accessor does not support static properties.`)
const l=Object.getOwnPropertyDescriptor(t,n),c=Object(a.b)(t,n)
l&&(l.get||l.set?(c.get=l.get||c.get,c.set=l.set||c.set):"value"in l&&("value"in e&&r.a.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${t.constructor.name}" already defined in the metadata`,e),c.value=e.value=l.value)),null!=e.readOnly&&(c.readOnly=e.readOnly)
const d=e.aliasOf
if(d){const e="string"==typeof d?d:d.source,t="string"==typeof d?null:!0===d.overridable
let r
c.dependsOn=[e],c.get=function(){let t=Object(s.b)(this,e)
if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."))
const n=Object(s.b)(this,r)
n&&(t=t.bind(n))}return t},c.readOnly||(c.set=t?function(e){this._override(n,e)}:function(t){Object(o.a)(this,e,t)})}const h=e.type,p=e.types
c.cast||(h?c.cast=function(e){let t=0,n=e
if(Object(i.n)(e))return Object(i.f)(e)
for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++
const r=n
if(Object(i.o)(r))return 0===t?Object(i.j)(r):Object(i.h)(Object(i.j)(r),t)
if(1===t)return Object(i.b)(r)
if(t>1)return Object(i.g)(r,t)
const s=e
return s.from?s.from:Object(i.m)(s)}(h):p&&(Array.isArray(p)?c.cast=Object(i.c)(Object(i.k)(p[0])):c.cast=Object(i.k)(p))),Object(a.c)(c,e),e.range&&(c.cast=u(c.cast,e.range))}}function c(e,t,n){const r=Object(a.b)(e,n)
r.json||(r.json={})
let i=r.json
return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function u(e,t){return n=>{let r=+e(n)
return null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}},971:function(e,t,n){"use strict"
n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return I})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return T})),n.d(t,"p",(function(){return k})),n(235)
var r=n(233),i=n(1110)
const s=r.a.getLogger("esri.core.accessorSupport.ensureTypes")
function a(e){return null==e?e:new Date(e)}function o(e){return null==e?e:!!e}function l(e){return null==e?e:e.toString()}function c(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function u(e){return null==e?e:Math.round(parseFloat(e))}function d(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function h(e,t){return null!=t&&e&&!(t instanceof e)}function p(e){return e&&"isCollection"in e}function f(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function b(e,t){return!!d(t)&&(s.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+y(e)+"'"),!0)}function m(e,t){return null==t?t:p(e)?function(e,t){if(!t||!t.constructor||!p(t.constructor))return b(e,t)?t:new e(t)
const n=f(e.prototype.itemType),r=f(t.constructor.prototype.itemType)
return n?r?n===r?t:n.prototype.isPrototypeOf(r.prototype)?new e(t):(b(e,t),t):new e(t):t}(e,t):h(e,t)?b(e,t)?t:new e(t):t}function y(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const g=new WeakMap
function v(e){switch(e){case Number:return c
case E:return u
case Boolean:return o
case String:return l
case Date:return a
default:return Object(i.b)(g,e,()=>m.bind(null,e))}}function O(e,t){const n=v(e)
return 1===arguments.length?n:n(t)}function j(e,t,n){return 1===arguments.length?j.bind(null,e):t?Array.isArray(t)?t.map(t=>e(t,n)):[e(t,n)]:t}function w(e,t){return 1===arguments.length?j(O.bind(null,e)):j(O.bind(null,e),t)}function _(e,t,n){return 0!==t&&Array.isArray(n)?n.map(n=>_(e,t-1,n)):e(n)}function S(e,t,n){if(2===arguments.length)return S.bind(null,e,t)
if(!n)return n
let r=t,i=n=_(e,t,n)
for(;r>0&&Array.isArray(i);)r--,i=i[0]
if(void 0!==i)for(let e=0;e<r;e++)n=[n]
return n}function x(e,t,n){return 2===arguments.length?S(O.bind(null,e),t):S(O.bind(null,e),t,n)}function T(e){return!!Array.isArray(e)&&!e.some(t=>{const n=typeof t
return!("string"===n||"number"===n||"function"===n&&e.length>1)})}function I(e,t){if(2===arguments.length)return I(e).call(null,t)
const n=new Set,r=e.filter(e=>"function"!=typeof e),i=e.filter(e=>"function"==typeof e)
for(const t of e)"string"!=typeof t&&"number"!=typeof t||n.add(t)
let a=null,o=null
return(e,t)=>{if(null==e)return e
const l=typeof e,c="string"===l||"number"===l
return c&&(n.has(e)||i.some(e=>"string"===l&&e===String||"number"===l&&e===Number))||"object"===l&&i.some(t=>!h(e,t))?e:(c&&r.length?(a||(a=r.map(e=>"string"==typeof e?`'${e}'`:""+e).join(", ")),s.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${a}`)):"object"==typeof e&&i.length?(o||(o=i.map(e=>y(e)).join(", ")),s.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${o}`)):s.error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function M(e,t){if(2===arguments.length)return M(e).call(null,t)
const n={},r=[],i=[]
for(const t in e.typeMap){const s=e.typeMap[t]
n[t]=O(s),r.push(y(s)),i.push(t)}const a=()=>`'${r.join("', '")}'`,o=()=>`'${i.join("', '")}'`,l="string"==typeof e.key?t=>t[e.key]:e.key
return t=>{if(e.base&&!h(e.base,t))return t
if(null==t)return t
const r=l(t)||e.defaultKeyValue,i=n[r]
if(!i)return s.error("Accessor#set",`Invalid property value, value needs to be one of ${a()}, or a plain object that can autocast (having .type = ${o()})`),null
if(!h(e.typeMap[r],t))return t
if("string"==typeof e.key&&!d(t)){const n={}
for(const r in t)r!==e.key&&(n[r]=t[r])
return i(n)}return i(t)}}class E{}const k={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})}
function C(e){if(!e||!("type"in e))return!1
switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function A(e){switch(e.type){case"native":return O(e.value)
case"array":return j(A(e.value))
case"one-of":return function(e){let t=null
return(n,r)=>function e(t,n){if(null==t)return!0
switch(n.type){case"native":switch(n.value){case Number:case E:return"number"==typeof t
case Boolean:return"boolean"==typeof t
case String:return"string"==typeof t}return t instanceof n.value
case"array":return!!Array.isArray(t)&&!t.some(t=>!e(t,n.value))
case"one-of":return n.values.some(n=>e(t,n))}}(n,e)?n:(null==t&&(t=function e(t){switch(t.type){case"native":switch(t.value){case Number:return"number"
case String:return"string"
case Boolean:return"boolean"
case E:return"integer"
case Date:return"date"
default:return y(t.value)}case"array":return"array of "+e(t.value)
case"one-of":{const n=t.values.map(t=>e(t))
return`one of ${n.slice(0,n.length-1)} or ${n[n.length-1]}`}}return"unknown"}(e)),s.error("Accessor#set","Invalid property value, value needs to be of type "+t),r&&(r.valid=!1),null)}(e)
default:return null}}},972:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b}))
var r=n(968),i=n(975),s=n(23),a=n(234),o=n(1006)
class l{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new l
return this._values.forEach((n,r)=>{e&&e.has(r)||t.set(r,Object(a.a)(n.value),n.origin)}),t}get(e,t){t=this._normalizeOrigin(t)
const n=this._values.get(e)
return null==t||(null==n?void 0:n.origin)===t?null==n?void 0:n.value:void 0}originOf(e){var t,n
return null!=(t=null==(n=this._values.get(e))?void 0:n.origin)?t:o.a.USER}keys(e){e=this._normalizeOrigin(e)
const t=[...this._values.keys()]
return null==e?t:t.filter(t=>{var n
return(null==(n=this._values.get(t))?void 0:n.origin)===e})}set(e,t,n){if((n=this._normalizeOrigin(n))===o.a.DEFAULTS){const t=this._values.get(e)
if(t&&null!=t.origin&&t.origin>n)return}this._values.set(e,new c(t,n))}delete(e,t){var n
null!=(t=this._normalizeOrigin(t))&&(null==(n=this._values.get(e))?void 0:n.origin)!==t||this._values.delete(e)}has(e,t){var n
return null!=(t=this._normalizeOrigin(t))?(null==(n=this._values.get(e))?void 0:n.origin)===t:this._values.has(e)}forEach(e){this._values.forEach(({value:t},n)=>e(t,n))}_normalizeOrigin(e){if(null!=e)return e===o.a.DEFAULTS?e:o.a.USER}}class c{constructor(e,t){this.value=e,this.origin=t}}var u=n(1178),d=n(1091),h=n(999),p=n(1096),f=n(969)
const b=e=>{let t=class extends e{constructor(...e){super(...e)
const t=Object(s.d)(Object(h.a)(this)),n=t.store,r=new l
t.store=r,Object(u.a)(t,n,r)}read(e,t){Object(d.a)(this,e,t)}write(e={},t){return Object(p.b)(this,e,t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return m.call(this,e,t)}}
return t=Object(r.a)([Object(f.a)("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t}
function m(e,t){if(!e)return null
if(e.declaredClass)throw new Error("JSON object is already hydrated")
const n=new this
return n.read(e,t),n}let y=class extends(b(i.a)){}
y=Object(r.a)([Object(f.a)("esri.core.JSONSupport")],y)},973:function(e,t,n){"use strict"
n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return h})),n.d(t,"q",(function(){return c})),n.d(t,"r",(function(){return p})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return T})),n.d(t,"v",(function(){return m}))
var r=n(1166),i=(n(1095),n(446)),s=n(1043),a=n(233),o=n(23)
function l(e="Aborted"){return new i.a("AbortError",e)}function c(e,t="Aborted"){if(d(e))throw l(t)}function u(e){return Object(o.l)(e)?"aborted"in e?e:e.signal:e}function d(e){const t=u(e)
return Object(o.l)(t)&&t.aborted}function h(e){if(y(e))throw e}function p(e){if(!y(e))throw e}function f(e,t){const n=u(e)
if(!Object(o.k)(n)){if(!n.aborted)return Object(s.d)(n,"abort",()=>t())
t()}}function b(e,t){const n=u(e)
if(!Object(o.k)(n))return c(n),Object(s.d)(n,"abort",()=>t(l()))}function m(e,t){const n=u(t)
return Object(o.k)(n)?e:new Promise((n,r)=>{let i=f(t,()=>r(l()))
const s=()=>i=Object(o.s)(i)
e.then(s,s),e.then(n,r)})}function y(e){return"AbortError"===(null==e?void 0:e.name)}async function g(e){try{return await e}catch(e){if(!y(e))throw e
return}}async function v(e,t=a.a.getLogger("esri")){try{return await e}catch(e){y(e)||t.error(e)}}function O(){let e=null
const t=new Promise((t,n)=>{e={promise:void 0,resolve:t,reject:n}})
return e.promise=t,e}async function j(e){if(!e)return
if("function"!=typeof e.forEach){const t=Object.keys(e),n=t.map(t=>e[t]),r=await j(n),i={}
return t.map((e,t)=>i[e]=r[t]),i}const t=e
return new Promise(e=>{const n=[]
let r=t.length
0===r&&e(n),t.forEach(t=>{const i={promise:t||Promise.resolve(t)}
n.push(i),i.promise.then(e=>{i.value=e}).catch(e=>{i.error=e}).then(()=>{--r,0===r&&e(n)})})})}async function w(e){return(await j(e)).filter(e=>!!e.value).map(e=>e.value)}function _(e,t,n){const r=new AbortController
return f(n,()=>r.abort()),new Promise((n,i)=>{let s=setTimeout(()=>{s=0,n(t)},e)
f(r,()=>{s&&(clearTimeout(s),i(l()))})})}function S(e,t,n,r){const s=n&&"abort"in n?n:null
null!=r||s||(r=n)
let a=setTimeout(()=>{a=0,s&&s.abort()},t)
const o=()=>r||new i.a("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms")
return e.then(e=>{if(0===a)throw o()
return clearTimeout(a),e},e=>{throw clearTimeout(a),0===a?o():e})}function x(e){return e&&"function"==typeof e.then}function T(e){return x(e)?e:Promise.resolve(e)}function I(e,t=-1){let n,r,i,s,a=null
const c=(...u)=>{if(n){r=u,s&&s.reject(l()),s=O()
const e=Object(o.d)(s.promise)
if(a){const e=a
a=null,e.abort()}return e}if(i=s||O(),s=null,t>0){const r=new AbortController
n=T(e(...u,r.signal))
const i=n
_(t).then(()=>{n===i&&(s?r.abort():a=r)})}else n=1,n=T(e(...u))
const d=()=>{const e=r
r=i=n=a=null,null!=e&&c(...e)},h=n,p=i
return h.then(d,d),h.then(p.resolve,p.reject),Object(o.d)(p.promise)}
return c}function M(){let e,t
const n=new Promise((n,r)=>{e=n,t=r}),i=t=>{e(t)}
return i.resolve=t=>e(t),i.reject=e=>t(e),i.timeout=(e,t)=>r.a.setTimeout(()=>i.reject(t),e),i.promise=n,i}function E(e,t){return e.then(t,t)}async function k(e){await Promise.resolve(),c(e)}},974:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(970)
function i(e,t,n){let i,s
return void 0===t?(s=e,i=[void 0]):"string"!=typeof t?(s=e,i=[void 0],n=t):(s=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const a=e.constructor.prototype
for(const o of i){const i=Object(r.c)(e,o,s)
i.write&&"object"==typeof i.write||(i.write={}),n&&(i.write.target=n),i.write.writer=a[t]}}}},975:function(e,t,n){"use strict"
n.d(t,"a",(function(){return P}))
var r=n(1007),i=n(23),s=n(1352),a=n(1128),o=n(1112),l=(n(235),n(234)),c=n(233),u=n(1049),d=n(1342),h=n(1165),p=n(1006),f=n(1060),b=n(1263)
class m{constructor(e,t,n){this.properties=e,this.propertyName=t,this.metadata=n,this.observerObject=new y,this._accessed=null,this._handles=null,this.observerObject.flags=b.a.Dirty|(n.nonNullable?b.a.NonNullable:0)|(n.hasOwnProperty("value")?b.a.HasDefaultValue:0)|(void 0===n.get?b.a.DepTrackingInitialized:0)|(void 0===n.dependsOn?b.a.AutoTracked:0),g.register(this,this.observerObject)}destroy(){this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles(),g.unregister(this)}getComputed(){const e=this.observerObject
Object(f.d)(e)
const t=this.properties.store,n=this.propertyName,r=e.flags,i=t.get(n)
if(r&b.a.Computing)return i
if(~r&b.a.Dirty&&t.has(n))return i
e.flags|=b.a.Computing
const s=this.properties.host
let a
r&b.a.AutoTracked?a=Object(f.b)(this,this.metadata.get,s):(Object(f.e)(s,this),a=this.metadata.get.call(s)),t.set(n,a,p.a.COMPUTED)
const o=t.get(n)
return o===i?e.flags&=~b.a.Dirty:Object(f.c)(this.commit,this),e.flags&=~b.a.Computing,o}onObservableAccessed(e){e!==this.observerObject&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(e)||this._accessed.push(e))}onTrackingEnd(){this._clearObservationHandles()
const e=this.observerObject
e.flags|=b.a.DepTrackingInitialized
const t=this._accessed
if(null===t)return
let n=this._handles
null===n&&(n=this._handles=[])
for(let r=0;r<t.length;++r)n.push(t[r].observe(e))
t.length=0}notifyChange(){const e=this.observerObject
e.onInvalidated(),e.onCommitted()}invalidate(){this.observerObject.onInvalidated()}commit(){const e=this.observerObject
e.flags&=~b.a.Dirty,e.onCommitted()}_clearObservationHandles(){const e=this._handles
if(null!==e){for(let t=0;t<e.length;++t)e[t].remove()
e.length=0}}}class y extends h.a{constructor(){super(...arguments),this.flags=0}onInvalidated(){~this.flags&b.a.Overriden&&(this.flags|=b.a.Dirty)
const e=this._observers
if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers
if(e&&e.length>0){const t=e.slice()
for(const e of t)e.onCommitted()}}destroy(){this.flags&b.a.Dirty&&this.onCommitted(),super.destroy()}}const g=new FinalizationRegistry(e=>{e.destroy()})
class v{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new v
return this._values.forEach((n,r)=>{e&&e.has(r)||t.set(r,Object(l.a)(n))}),t}get(e){return this._values.get(e)}originOf(){return p.a.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}var O=n(999)
function j(e,t,n){return void 0!==e}function w(e,t,n,r){return!(void 0===e||null==n&&e.observerObject.flags&b.a.NonNullable&&(r.lifecycle,d.a.INITIALIZING,1))}function _(e){return e&&"function"==typeof e.destroy}c.a.getLogger("esri.core.accessorSupport.Properties")
class S{constructor(e){this.host=e,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=d.a.INITIALIZING,this.store=new v,this._origin=p.a.USER
const t=Object(i.d)(this.host.constructor.__accessorMetadata__)
for(const e in t){const n=new m(this,e,t[e])
this.properties.set(e,n)}this.metadatas=t}initialize(){this.lifecycle=d.a.CONSTRUCTING}constructed(){this.lifecycle=d.a.CONSTRUCTED}destroy(){this.destroyed=!0
for(const[e,t]of this.properties){if(t.metadata.autoDestroy){const n=this.internalGet(e)
n&&_(n)&&(n.destroy(),~t.observerObject.flags&b.a.NonNullable&&this._internalSet(t,null))}t.destroy()}}get initialized(){return this.lifecycle!==d.a.INITIALIZING}get(e){const t=this.properties.get(e)
if(t.metadata.get)return t.getComputed()
Object(f.d)(t.observerObject)
const n=this.store
return n.has(e)?n.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e)
if(void 0===t){const t=this.properties.get(e)
if(void 0!==t&&t.observerObject.flags&b.a.HasDefaultValue)return"defaults"}return Object(p.c)(t)}has(e){return!!this.properties.has(e)&&this.store.has(e)}keys(){return[...this.properties.keys()]}internalGet(e){const t=this.properties.get(e)
if(j(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const n=this.properties.get(e)
j(n)&&this._internalSet(n,t)}getDependsInfo(e,t,n){const r=this.properties.get(t)
if(!j(r))return""
const i=new Set,s=Object(f.b)({onObservableAccessed:e=>i.add(e),onTrackingEnd:()=>{}},()=>{var t
return null==(t=r.metadata.get)?void 0:t.call(e)})
let a=`${n}${e.declaredClass.split(".").pop()}.${t}: ${s}\n`
if(0===i.size)return a
n+="  "
for(const e of i){if(!(e instanceof m))continue
const t=e.properties.host,r=e.propertyName,i=Object(O.a)(t)
a+=i?i.getDependsInfo(t,r,n):`${n}${r}: undefined\n`}return a}setAtOrigin(e,t,n){const r=this.properties.get(e)
if(j(r))return this._setAtOrigin(r,t,n)}isOverridden(e){const t=this.properties.get(e)
return void 0!==t&&!!(t.observerObject.flags&b.a.Overriden)}clearOverride(e){const t=this.properties.get(e),n=null==t?void 0:t.observerObject
n&&n.flags&b.a.Overriden&&(n.flags&=~b.a.Overriden,t.notifyChange())}override(e,t){const n=this.properties.get(e)
if(!w(n,0,t,this))return
const r=n.metadata.cast
if(r){const e=this._cast(r,t),{valid:n,value:i}=e
if(x.release(e),!n)return
t=i}n.observerObject.flags|=b.a.Overriden,this._internalSet(n,t)}set(e,t){const n=this.properties.get(e)
if(!w(n,0,t,this))return
const r=n.metadata.cast
if(r){const e=this._cast(r,t),{valid:n,value:i}=e
if(x.release(e),!n)return
t=i}const i=n.metadata.set
i?i.call(this.host,t):this._internalSet(n,t)}setDefaultOrigin(e){this._origin=Object(p.e)(e)}getDefaultOrigin(){return Object(p.c)(this._origin)}notifyChange(e){const t=this.properties.get(e)
void 0!==t&&t.notifyChange()}invalidate(e){const t=this.properties.get(e)
void 0!==t&&t.invalidate()}commit(e){const t=this.properties.get(e)
void 0!==t&&t.commit()}_internalSet(e,t){const n=this.lifecycle!==d.a.INITIALIZING?this._origin:p.a.DEFAULTS
this._setAtOrigin(e,t,n)}_setAtOrigin(e,t,n){const r=this.store,i=e.propertyName
r.has(i,n)&&Object(l.b)(t,r.get(i))&&~e.observerObject.flags&b.a.Overriden&&n===r.originOf(i)||(e.invalidate(),r.set(i,t,n),e.commit(),Object(f.a)(this.host,e))}_cast(e,t){const n=x.acquire()
return n.valid=!0,n.value=t,e&&(n.value=e.call(this.host,t,n)),n}}const x=new u.a(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}})
var T,I,M=n(1351),E=n(1076),k=n(970),C=n(969)
function A(e){var t
if(null==e)return{value:e}
if(Array.isArray(e))return{type:[e[0]],value:null}
switch(typeof e){case"object":return null!=(t=e.constructor)&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e
case"boolean":return{type:Boolean,value:e}
case"string":return{type:String,value:e}
case"number":return{type:Number,value:e}
case"function":return{type:e,value:null}
default:return}}const L=Symbol("Accessor-Handles"),R=Symbol("Accessor-Initialized")
class P{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16")
const{properties:t,declaredClass:n,constructor:r}=e
delete e.declaredClass,delete e.properties,delete e.constructor
const i=this
class s extends i{constructor(...e){super(...e),this.inherited=null,r&&r.apply(this,e)}}Object(o.a)(s.prototype)
for(const t in e){const n=e[t]
s.prototype[t]="function"==typeof n?function(...e){const r=this.inherited
let s
this.inherited=function(...e){if(i.prototype[t])return i.prototype[t].apply(this,e)}
try{s=n.apply(this,e)}catch(e){throw this.inherited=r,e}return this.inherited=r,s}:e[t]}for(const e in t){const n=A(t[e])
Object(k.b)(n)(s.prototype,e)}return Object(C.a)(n)(s)}constructor(...e){if(this[T]=null,this[I]=!1,this.constructor===P)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor")
Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new S(this)}),e.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,e))}postscript(e){const t=this.__accessor__,n=t.ctorArgs||e
t.initialize(),n&&(this.set(n),t.ctorArgs=null),t.constructed(),this.initialize(),this[R]=!0}initialize(){}[s.a](){this[L]=Object(i.e)(this[L])}destroy(){this.destroyed||(Object(E.c)(this),this.__accessor__.destroy())}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[R]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(e){this.get(e)}get(e){return Object(a.b)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return Object(M.a)(this,e,t),this}watch(e,t,n){return Object(E.d)(this,e,t,n)}own(e){this.addHandles(e)}addHandles(e,t){let n=this[L]
Object(i.k)(n)&&(n=this[L]=new r.a),n.add(e,t)}removeHandles(e){const t=this[L]
Object(i.k)(t)||t.remove(e)}hasHandles(e){const t=this[L]
return!!Object(i.l)(t)&&t.has(e)}_override(e,t){void 0===t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){null==t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}T=L,I=R},976:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))
var r=n(146)
class i{constructor(e,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(e),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,n)=>{const i=this.toJSON(e)
void 0!==i&&Object(r.c)(n,i,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null
if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e]
return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?void 0:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}_invertMap(e){const t={}
for(const n in e)t[e[n]]=n
return t}_getKeysSorted(e){const t=[]
for(const n in e)t.push(n)
return t.sort(),t}}function s(){return function(e,t){return new i(e,{ignoreUnknown:!0,...t})}}},977:function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(970)
function i(e,t,n){let i,s
return void 0===t||Array.isArray(t)?(s=e,n=t,i=[void 0]):(s=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const a=e.constructor.prototype
i.forEach(i=>{const o=Object(r.c)(e,i,s)
o.read&&"object"==typeof o.read||(o.read={}),o.read.reader=a[t],n&&(o.read.source=(o.read.source||[]).concat(n))})}}},978:function(e,t,n){"use strict"
n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return h}))
var r=n(1043),i=n(1017),s=n(23),a=n(973),o=n(1076)
function l(e,t,n={}){return u(e,t,n,p)}function c(e,t,n={}){return u(e,t,n,f)}function u(e,t,n={},r){let i=null
const a=n.once?(e,n)=>{r(e)&&(Object(s.s)(i),t(e,n))}:(e,n)=>{r(e)&&t(e,n)}
if(i=Object(o.e)(e,a,n.sync,n.equals),n.initial){const t=e()
a(t,t)}return i}function d(e,t,n,a={}){let o=null,c=null,u=null
function d(){o&&c&&(c.remove(),null!=a.onListenerRemove&&a.onListenerRemove(o),o=null,c=null)}function h(e){a.once&&a.once&&Object(s.s)(u),n(e)}const p=l(e,(e,n)=>{d(),Object(r.b)(e)&&(o=e,c=Object(r.c)(e,t,h),null==a.onListenerAdd||a.onListenerAdd(e))},{sync:a.sync,initial:!0})
return u=Object(i.c)(()=>{p.remove(),d()}),u}function h(e,t){return function(e,t,n){if(Object(a.k)(n))return Promise.reject(Object(a.c)())
const r=e()
if(null!=t&&t(r))return Promise.resolve(r)
let o=null
function l(){o=Object(s.s)(o)}return new Promise((r,s)=>{o=Object(i.b)([Object(a.n)(n,()=>{l(),s(Object(a.c)())}),u(e,e=>{l(),r(e)},{sync:!1,once:!0},null!=t?t:p)])})}(e,f,t)}function p(e){return!0}function f(e){return!!e}function b(e,t,n={}){let r=!1
const i=l(e,(e,n)=>{r||t(e,n)},n)
return{remove(){i.remove()},pause(){r=!0},resume(){r=!1}}}n(1048)
const m={sync:!0},y={initial:!0},g={sync:!0,initial:!0}},979:function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(976),i=n(970)
function s(e,t={}){var n
const s=e instanceof r.a?e:new r.a(e,t),a={type:null==(n=null==t?void 0:t.ignoreUnknown)||n?s.apiValues:String,json:{type:s.jsonValues,read:!(null!=t&&t.readOnly)&&{reader:s.read},write:{writer:s.write}}}
return void 0!==(null==t?void 0:t.readOnly)&&(a.readOnly=!!t.readOnly),void 0!==(null==t?void 0:t.default)&&(a.json.default=t.default),void 0!==(null==t?void 0:t.name)&&(a.json.name=t.name),void 0!==(null==t?void 0:t.nonNullable)&&(a.nonNullable=t.nonNullable),Object(i.b)(a)}},980:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return a}))
const r=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i
function i(e){return e?e/72*96:0}function s(e){return e?72*e/96:0}function a(e){if("string"==typeof e){const t=e.match(r)
if(t){const n=Number(t[1]),r=t[3]&&t[3].toLowerCase(),i="-"===e.charAt(0),a="px"===r?s(n):n
return i?-a:a}return console.warn("screenUtils.toPt: input not recognized!"),null}return e}function o(e=0,t=0){return{x:e,y:t}}function l(e=0,t=0){return[e,t]}function c(e=0,t=0){return[e,t]}function u(e=0,t=0,n=0){return[e,t,n]}function d(e){return e}function h(e){return e}function p(e){return e}function f(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}},981:function(e,t,n){"use strict"
function r(){return[0,0,0]}function i(e){return[e[0],e[1],e[2]]}function s(e,t,n){return[e,t,n]}function a(e){const t=[0,0,0],n=Math.min(3,e.length)
for(let r=0;r<n;++r)t[r]=e[r]
return t}function o(e,t){return new Float64Array(e,t,3)}function l(){return s(1,1,1)}function c(){return s(1,0,0)}function u(){return s(0,1,0)}function d(){return s(0,0,1)}n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return d}))
const h=[0,0,0],p=l(),f=c(),b=u(),m=d()
Object.freeze(Object.defineProperty({__proto__:null,ONES:p,UNIT_X:f,UNIT_Y:b,UNIT_Z:m,ZEROS:h,clone:i,create:r,createView:o,fromArray:a,fromValues:s,ones:l,unitX:c,unitY:u,unitZ:d,zeros:function(){return[0,0,0]}},Symbol.toStringTag,{value:"Module"}))},982:function(e,t,n){"use strict"
n.d(t,"c",(function(){return u}))
var r=n(971),i=n(770)
n.d(t,"a",(function(){return i.default}))
var s=n(1004),a=n(1055),o=n(992)
n.d(t,"b",(function(){return o.a}))
var l=n(773),c=n(1021)
n(769),n(1036),n(983)
const u={base:s.a,key:"type",typeMap:{extent:i.default,multipoint:a.a,point:o.a,polyline:c.a,polygon:l.default}}
Object(r.k)(u)},983:function(e,t,n){"use strict"
n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p}))
var r=n(23),i=n(770),s=n(1004),a=n(1055),o=n(992),l=n(773),c=n(1021)
function u(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function d(e){return void 0!==e.points}function h(e){return void 0!==e.x&&void 0!==e.y}function p(e){return void 0!==e.paths}function f(e){return void 0!==e.rings}function b(e){return Object(r.k)(e)?null:e instanceof s.a?e:h(e)?o.a.fromJSON(e):p(e)?c.a.fromJSON(e):f(e)?l.default.fromJSON(e):d(e)?a.a.fromJSON(e):u(e)?i.default.fromJSON(e):null}function m(e){return e?h(e)?"esriGeometryPoint":p(e)?"esriGeometryPolyline":f(e)?"esriGeometryPolygon":u(e)?"esriGeometryEnvelope":d(e)?"esriGeometryMultipoint":null:null}const y={esriGeometryPoint:o.a,esriGeometryPolyline:c.a,esriGeometryPolygon:l.default,esriGeometryEnvelope:i.default,esriGeometryMultipoint:a.a}
function g(e){return e&&y[e]||null}},985:function(e,t,n){"use strict"
n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return z})),n.d(t,"e",(function(){return U})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return q})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return a})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return V})),n.d(t,"t",(function(){return L})),n.d(t,"u",(function(){return s})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return j})),n.d(t,"y",(function(){return O})),n.d(t,"z",(function(){return M})),n.d(t,"A",(function(){return P})),n.d(t,"B",(function(){return o})),n.d(t,"C",(function(){return I})),n.d(t,"D",(function(){return G})),n.d(t,"E",(function(){return k})),n.d(t,"F",(function(){return F})),n.d(t,"G",(function(){return p})),n.d(t,"H",(function(){return b})),n.d(t,"I",(function(){return y}))
var r=n(981),i=n(1016)
function s(e){const t=e[0],n=e[1],r=e[2]
return Math.sqrt(t*t+n*n+r*r)}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function c(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function u(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function d(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function h(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function p(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function f(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function b(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function m(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function y(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function g(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2]
return Math.sqrt(n*n+r*r+i*i)}function v(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2]
return n*n+r*r+i*i}function O(e){const t=e[0],n=e[1],r=e[2]
return t*t+n*n+r*r}function j(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function w(e,t){const n=t[0],r=t[1],i=t[2]
let s=n*n+r*r+i*i
return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function _(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function S(e,t,n){const r=t[0],i=t[1],s=t[2],a=n[0],o=n[1],l=n[2]
return e[0]=i*l-s*o,e[1]=s*a-r*l,e[2]=r*o-i*a,e}function x(e,t,n,r){const i=t[0],s=t[1],a=t[2]
return e[0]=i+r*(n[0]-i),e[1]=s+r*(n[1]-s),e[2]=a+r*(n[2]-a),e}function T(e,t,n){const r=t[0],i=t[1],s=t[2]
return e[0]=n[0]*r+n[4]*i+n[8]*s+n[12],e[1]=n[1]*r+n[5]*i+n[9]*s+n[13],e[2]=n[2]*r+n[6]*i+n[10]*s+n[14],e}function I(e,t,n){const r=t[0],i=t[1],s=t[2]
return e[0]=r*n[0]+i*n[3]+s*n[6],e[1]=r*n[1]+i*n[4]+s*n[7],e[2]=r*n[2]+i*n[5]+s*n[8],e}function M(e,t,n){const r=n[0],i=n[1],s=n[2],a=n[3],o=t[0],l=t[1],c=t[2]
let u=i*c-s*l,d=s*o-r*c,h=r*l-i*o,p=i*h-s*d,f=s*u-r*h,b=r*d-i*u
const m=2*a
return u*=m,d*=m,h*=m,p*=2,f*=2,b*=2,e[0]=o+u+p,e[1]=l+d+f,e[2]=c+h+b,e}function E(e,t,n,r){const i=[],s=[]
return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e}function k(e,t){a(C,e),a(A,t),w(C,C),w(A,A)
const n=_(C,A)
return n>1?0:n<-1?Math.PI:Math.acos(n)}const C=Object(r.f)(),A=Object(r.f)()
function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function R(e,t){if(e===t)return!0
const n=e[0],r=e[1],s=e[2],a=t[0],o=t[1],l=t[2],c=Object(i.c)()
return Math.abs(n-a)<=c*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=c*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-l)<=c*Math.max(1,Math.abs(s),Math.abs(l))}function P(e,t,n){const r=n[0]-t[0],i=n[1]-t[1],s=n[2]-t[2]
let a=r*r+i*i+s*s
return a>0?(a=1/Math.sqrt(a),e[0]=r*a,e[1]=i*a,e[2]=s*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const F=c,N=u,D=d,V=g,U=v,G=s,z=O,q=Object.freeze(Object.defineProperty({__proto__:null,abs:p,add:l,angle:k,bezier:function(e,t,n,r,i,s){const a=1-s,o=a*a,l=s*s,c=o*a,u=3*s*o,d=3*l*a,h=l*s
return e[0]=t[0]*c+n[0]*u+r[0]*d+i[0]*h,e[1]=t[1]*c+n[1]*u+r[1]*d+i[1]*h,e[2]=t[2]*c+n[2]*u+r[2]*d+i[2]*h,e},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},copy:a,cross:S,direction:P,dist:V,distance:g,div:D,divide:d,dot:_,equals:R,exactEquals:L,floor:h,hermite:function(e,t,n,r,i,s){const a=s*s,o=a*(2*s-3)+1,l=a*(s-2)+s,c=a*(s-1),u=a*(3-2*s)
return e[0]=t[0]*o+n[0]*l+r[0]*c+i[0]*u,e[1]=t[1]*o+n[1]*l+r[1]*c+i[1]*u,e[2]=t[2]*o+n[2]*l+r[2]*c+i[2]*u,e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},len:G,length:s,lerp:x,max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},min:b,mul:N,multiply:u,negate:j,normalize:w,random:function(e,t){t=t||1
const n=i.a,r=2*n()*Math.PI,s=2*n()-1,a=Math.sqrt(1-s*s)*t
return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=s*t,e},rotateX:function(e,t,n,r){const i=[],s=[]
return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e},rotateY:function(e,t,n,r){const i=[],s=[]
return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=s[0]+n[0],e[1]=s[1]+n[1],e[2]=s[2]+n[2],e},rotateZ:E,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:m,scaleAndAdd:y,set:o,sign:f,sqrDist:U,sqrLen:z,squaredDistance:v,squaredLength:O,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},sub:F,subtract:c,transformMat3:I,transformMat4:T,transformQuat:M},Symbol.toStringTag,{value:"Module"}))},986:function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}))
var r=n(968),i=n(975),s=(n(235),n(234)),a=(n(233),n(23)),o=n(1006),l=n(999),c=n(969)
const u=e=>{let t=class extends e{clone(){const e=Object(a.w)(Object(l.a)(this),"unable to clone instance of non-accessor class"),t=e.metadatas,n=e.store,r={},i=new Map
for(const e in t){const a=t[e],l=null==n?void 0:n.originOf(e),c=a.clonable
if(a.readOnly||!1===c||l!==o.a.USER&&l!==o.a.DEFAULTS&&l!==o.a.WEB_MAP&&l!==o.a.WEB_SCENE)continue
const u=this[e]
let d=null
d="function"==typeof c?c(u):"reference"===c?u:Object(s.e)(u),null!=u&&null==d||(l===o.a.DEFAULTS?i.set(e,d):r[e]=d)}const c=new(0,Object.getPrototypeOf(this).constructor)(r)
if(i.size){var u
const e=null==(u=Object(l.a)(c))?void 0:u.store
if(e)for(const[t,n]of i)e.set(t,n,o.a.DEFAULTS)}return c}}
return t=Object(r.a)([Object(c.a)("esri.core.Clonable")],t),t}
let d=class extends(u(i.a)){}
d=Object(r.a)([Object(c.a)("esri.core.Clonable")],d)},987:function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(971),i=n(1112)
const s=Object.prototype.toString
function a(e){const t="__accessorMetadata__"in e?Object(r.m)(e):e
return function(...e){if(e.push(t),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16")
return o.apply(this,e)}}function o(e,t,n,r){Object(i.b)(e,t).cast=r}function l(...e){if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===s.call(e[0])?a(e[0]):1===e.length&&"string"==typeof e[0]?function(e){return(t,n)=>{Object(i.b)(t,e).cast=t[n]}}(e[0]):void 0}},988:function(e,t,n){"use strict"
n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return j})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return v})),n.d(t,"q",(function(){return x}))
var r=n(23),i=n(447),s=n(1289),a=n(1188)
const o={102113:!0,102100:!0,3857:!0,3785:!0},l={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},c='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',u=[-20037508.342788905,20037508.342788905],d=[-20037508.342787,20037508.342787],h={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:u,origin:d,dx:1e-5},102100:{wkTemplate:c,valid:u,origin:d,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:u,origin:d,dx:1e-5},3857:{wkTemplate:c,valid:u,origin:d,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}}
function p(e,t){return e===t||!Object(r.k)(e)&&!Object(r.k)(t)&&(null!=e.wkid||null!=t.wkid?e.wkid===t.wkid||v(e)&&v(t)||null!=t.latestWkid&&e.wkid===t.latestWkid||null!=e.latestWkid&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase())}function f(e){return T(e)&&e.wkid&&h[e.wkid]||null}function b(e){return!!T(e)&&(e.wkid?null==a.a[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function m(e){return!(w(e)||S(e))}function y(e){return T(e)&&4326===e.wkid}function g(e){return T(e)&&e.wkid===s.a.CGCS2000}function v(e){return T(e)&&null!=e.wkid&&!0===o[e.wkid]}function O(e){return T(e)&&32662===e.wkid}function j(e){return e===s.a.GCSMARS2000||e===s.a.GCSMARS2000_SPHERE}function w(e){return T(e)&&null!=e.wkid&&j(e.wkid)}function _(e){return e===s.a.GCSMOON2000}function S(e){return T(e)&&null!=e.wkid&&_(e.wkid)}function x(e){return T(e)&&null!=e.wkid&&!0===l[e.wkid]}function T(e){return Object(r.l)(e)&&(null!=e.wkid&&e.wkid>=2e3||null!=e.wkt)}const I={wkid:4326,wkt:Object(i.c)(h[4326].wkTemplate,{Central_Meridian:"0.0"})},M={wkid:102100,latestWkid:3857},E={wkid:32662}},989:function(e,t,n){"use strict"
n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return se})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return I})),n.d(t,"n",(function(){return L})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return Z})),n.d(t,"q",(function(){return H})),n.d(t,"r",(function(){return oe})),n.d(t,"s",(function(){return W})),n.d(t,"t",(function(){return f})),n.d(t,"u",(function(){return B})),n.d(t,"v",(function(){return ae})),n.d(t,"w",(function(){return Y})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return X})),n.d(t,"z",(function(){return ie}))
var r,i,s=n(446),a=n(23),o=n(146);(i=r||(r={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"
var l=n(1010)
const c=/^([0-9])/,u=/[^a-z0-9_\u0080-\uffff]/gi,d=/_{2,}/g,h=/^_/,p=/_$/
function f(e){return null==e?null:e.trim().replace(u,"_").replace(d,"_").replace(h,"").replace(p,"").replace(c,"F$1")||null}const b=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],m=["field","normalizationField"]
function y(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(g(b,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)g(m,e,t)}function g(e,t,n){if(e)for(const r of e){const e=Object(o.b)(r,t),i=e&&"function"!=typeof e&&n.get(e)
i&&Object(o.c)(r,i.name,t)}}function v(e,t){var n
if(null!=e&&null!=t&&null!=(n=t.fields)&&n.length)if("startField"in e){var r,i
const n=t.get(e.startField),s=t.get(e.endField)
e.startField=null!=(r=null==n?void 0:n.name)?r:null,e.endField=null!=(i=null==s?void 0:s.name)?i:null}else{var s,a
const n=t.get(e.startTimeField),r=t.get(e.endTimeField)
e.startTimeField=null!=(s=null==n?void 0:n.name)?s:null,e.endTimeField=null!=(a=null==r?void 0:r.name)?a:null}}const O=new Set
function j(e,t){return e&&t?(O.clear(),w(O,e,t),Array.from(O).sort()):[]}function w(e,t,n){var r
if(n)if(null!=t&&null!=(r=t.fields)&&r.length)if(n.includes("*"))for(const{name:n}of t.fields)e.add(n)
else for(const r of n)_(e,t,r)
else{if(n.includes("*"))return e.clear(),void e.add("*")
for(const t of n)null!=t&&e.add(t)}}function _(e,t,n){if("string"==typeof n)if(t){const r=t.get(n)
r&&e.add(r.name)}else e.add(n)}function S(e,t){var n
return Object(a.k)(t)||Object(a.k)(e)?[]:t.includes("*")?(null!=(n=e.fields)?n:[]).map(e=>e.name):t}async function x(e,t,n){var r
if(!n)return
const{arcadeUtils:i}=await Object(l.e)(),s=i.extractFieldNames(n,null==t||null==(r=t.fields)?void 0:r.map(e=>e.name))
for(const n of s)_(e,t,n)}async function T(e,t,r){if(r&&"1=1"!==r){const i=(await Promise.all([n.e(9),n.e(33),n.e(417)]).then(n.bind(null,1363))).WhereClause.create(r,t)
if(!i.isStandardized)throw new s.a("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r})
w(e,t,i.fieldNames)}}function I({displayField:e,fields:t}){return e||(t&&t.length?M(t,"name-or-title")||M(t,"unique-identifier")||M(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue
const e=t.name.toLowerCase()
if(e.includes("name")||e.includes("title"))return t.name}return null}(t):null)}function M(e,t){for(const n of e)if(n&&n.valueType&&n.valueType===t)return n.name
return null}async function E(e,t){var n
if(!t)return
const r=null==(n=t.elevationInfo)?void 0:n.featureExpressionInfo
return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}async function k(e,t,n){if(!t||!n||!("fields"in n))return
const r=[],i=n.popupTemplate
r.push(async function(e,t,n){const r=[];(null==n?void 0:n.expressionInfos)&&r.push(...n.expressionInfos.map(n=>x(e,t.fieldsIndex,n.expression)))
const i=null==n?void 0:n.content
if(Array.isArray(i))for(const n of i)"expression"===n.type&&n.expressionInfo&&r.push(x(e,t.fieldsIndex,n.expressionInfo.expression))
await Promise.all(r)}(e,t,i)),n.fields&&r.push(...n.fields.map(async n=>function(e,t,n){n.onStatisticExpression?x(e,t,n.onStatisticExpression.expression):e.add(n.onStatisticField)}(e,t.fieldsIndex,n))),await Promise.all(r)}async function C(e,t,n){t&&(t.timeInfo&&Object(a.l)(n)&&n.timeExtent&&w(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&w(e,t.fieldsIndex,[t.floorInfo.floorField]),Object(a.l)(n)&&Object(a.l)(n.where)&&await T(e,t.fieldsIndex,n.where))}async function A(e,t,n){t&&n&&await Promise.all(n.map(n=>async function(e,t,n){t&&n&&(n.valueExpression?await x(e,t.fieldsIndex,n.valueExpression):n.field&&_(e,t.fieldsIndex,n.field))}(e,t,n)))}function L(e){if(!e)return[]
const t="editFieldsInfo"in e&&e.editFieldsInfo
return t?j(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}async function R(e,t){const{labelingInfo:n,fieldsIndex:r}=t
n&&n.length&&await Promise.all(n.map(t=>async function(e,t,n){if(!n)return
const r=n.getLabelExpression(),i=n.where
if("arcade"===r.type)await x(e,t,r.expression)
else{const n=r.expression.match(/{[^}]*}/g)
n&&n.forEach(n=>{_(e,t,n.slice(1,-1))})}await T(e,t,i)}(e,r,t)))}function P(e){const t=e.defaultValue
return void 0!==t&&q(e,t)?t:e.nullable?null:void 0}function F(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function N(e){return null===e||F(e)}const D="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e
function V(e){return null===e||D(e)}function U(e){return null!=e&&"string"==typeof e}function G(e){return null===e||U(e)}function z(){return!0}function q(e,t){let n
switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?V:D
break
case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?N:F
break
case"string":case"esriFieldTypeString":n=e.nullable?G:U
break
default:n=z}return 1===arguments.length?n:n(t)}const B=["integer","small-integer","single","double"],$=new Set([...B,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"])
function H(e){return null!=e&&$.has(e.type)}function W(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function Z(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}var K,J
function Y(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function X(e,t){return null==e||e.nullable&&null===t?null:H(e)&&!function(e,t){const n="string"==typeof e?Q(e):e
if(!n)return!1
const r=n.min,i=n.max
return n.isInteger?D(t)&&t>=r&&t<=i:t>=r&&t<=i}(e.type,Number(t))?K.OUT_OF_RANGE:q(e,t)?e.domain?function(e,t){switch(e.type){case"range":{const n="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue
if(null!=n&&+t<n||null!=i&&+t>i)return r.VALUE_OUT_OF_RANGE
break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every(e=>null==e||e.code!==t))return r.INVALID_CODED_VALUE}return null}(e.domain,t):null:J.INVALID_TYPE}function Q(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return ee
case"esriFieldTypeInteger":case"integer":return te
case"esriFieldTypeSingle":case"single":return ne
case"esriFieldTypeDouble":case"double":return re}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(K||(K={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(J||(J={}))
const ee={min:-32768,max:32767,isInteger:!0},te={min:-2147483648,max:2147483647,isInteger:!0},ne={min:-34e37,max:12e37,isInteger:!1},re={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1}
function ie(e,t,n){switch(e){case r.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`
case r.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`
case J.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`
case K.OUT_OF_RANGE:{const{min:e,max:r}=Q(t.type)
return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function se(e,t){return!ae(e,t,null)}function ae(e,t,n){if(!t||!t.attributes||!e){if(Object(a.l)(n))for(const t of null!=e?e:[])n.add(t)
return!0}const r=t.attributes
let i=!1
for(const t of e)if(!(t in r)){if(i=!0,!Object(a.l)(n))break
n.add(t)}return i}function oe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}},991:function(e,t,n){"use strict"
n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return a})),n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return p})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return _})),n(23)
var r=n(985),i=n(1012)
const s=new Float32Array(1)
function a(e){--e
for(let t=1;t<32;t<<=1)e|=e>>t
return e+1}function o(e,t,n){return Math.min(Math.max(e,t),n)}function l(e){return 0==(e&e-1)}function c(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function u(e){return 10**Math.ceil(Math.LOG10E*Math.log(e))}function d(e,t,n){return e+(t-e)*n}function h(e){return e*Math.PI/180}function p(e){return 180*e/Math.PI}function f(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function b(e){return Math.acos(o(e,-1,1))}function m(e){return Math.asin(o(e,-1,1))}function y(e,t,n=1e-6){return e===t||!(!Number.isFinite(e)||!Number.isFinite(t))&&(e>t?e-t:t-e)<=n}const g=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT))
const v=BigInt("1000000")
function O(e,t,n=1e-6){if(e===t)return!0
if(!Number.isFinite(e)||!Number.isFinite(t))return!1
const r=Math.abs(e-t),i=Math.abs(e),s=Math.abs(t)
if(0===e||0===t||i<1e-12&&s<1e-12){if(r>.01*n)return!1}else if(r/(i+s)>n)return!1
return!0}function j(e){return w(Math.max(-I,Math.min(e,I)))}function w(e){return s[0]=e,s[0]}function _(e,t,n){const r=o((n-e)/(t-e),0,1)
return r*r*(3-2*r)}function S(e,t){const n=Object(r.u)(e),i=m(e[2]/n),s=Math.atan2(e[1]/n,e[0]/n)
return Object(r.B)(t,n,i,s),t}function x(e,t,n){return Object(i.l)(e,t[0],t[1],t[2],t[3]*n)}function T(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8]
return!(y(t,1)&&y(n,1)&&y(r,1))}(function(e){const t=function(e){return g.setFloat64(0,e),g.getBigInt64(0)}(e=Math.abs(e)),n=function(e){return g.setBigInt64(0,e),g.getFloat64(0)}(t<=v?v:t-v)
Math.abs(e-n)})(1)
const I=w(34028234663852886e22)},992:function(e,t,n){"use strict"
n.d(t,"a",(function(){return O}))
var r,i=n(968),s=n(233),a=n(23),o=n(970),l=n(987),c=(n(445),n(977)),u=n(969),d=n(974),h=n(971),p=n(1004),f=n(769),b=n(988),m=n(774)
const y=[0,0]
function g(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let v=r=class extends p.a{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"))
const n=e._get("spatialReference")
t._set("spatialReference",Object.isFrozen(n)?n:n.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,n,r,i){let a
if(Array.isArray(e))a=e,i=t,e=a[0],t=a[1],n=a[2],r=a[3]
else if(e&&"object"==typeof e){if(a=e,e=null!=a.x?a.x:a.longitude,t=null!=a.y?a.y:a.latitude,n=a.z,r=a.m,(i=a.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new f.default(i)),null!=a.longitude||null!=a.latitude)if(null==a.longitude)s.a.getLogger(this.declaredClass).warn(".longitude=","Latitude was defined without longitude")
else if(null==a.latitude)s.a.getLogger(this.declaredClass).warn(".latitude=","Longitude was defined without latitude")
else if(!a.declaredClass&&i&&i.isWebMercator){const n=Object(m.lngLatToXY)(a.longitude,a.latitude,y)
e=n[0],t=n[1]}}else g(n)?(i=n,n=null):g(r)&&(i=r,r=null)
const o={x:e,y:t}
return null==o.x&&null!=o.y?s.a.getLogger(this.declaredClass).warn(".y=","Y coordinate was defined without an X coordinate"):null==o.y&&null!=o.x&&s.a.getLogger(this.declaredClass).warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(o.spatialReference=i),null!=n&&(o.z=n),null!=r&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:n}=this
if(e){if(e.isWebMercator)return Object(m.xyToLngLat)(t,n,y)[1]
if(e.isGeographic)return n}return null}set latitude(e){const{spatialReference:t,x:n}=this
null!=e&&t&&(t.isWebMercator?this._set("y",Object(m.lngLatToXY)(n,e,y)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:n}=this
if(n){if(n.isWebMercator)return Object(m.xyToLngLat)(e,t,y)[0]
if(n.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:n}=this
null!=e&&n&&(n.isWebMercator?this._set("x",Object(m.lngLatToXY)(e,t,y)[0]):n.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,n){t[n]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new r
return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return r.copy(e,this),this}equals(e){if(Object(a.k)(e))return!1
const{x:t,y:n,z:r,m:i,spatialReference:s}=this,{z:o,m:l}=e
let{x:c,y:u,spatialReference:d}=e
if(!s.equals(d))if(s.isWebMercator&&d.isWGS84)[c,u]=Object(m.lngLatToXY)(c,u),d=s
else{if(!s.isWGS84||!d.isWebMercator)return!1;[c,u]=Object(m.xyToLngLat)(c,u),d=s}return t===c&&n===u&&r===o&&i===l&&s.wkid===d.wkid}offset(e,t,n){var r
return this.x+=e,this.y+=t,null!=n&&(this.z=(null!=(r=this.z)?r:0)+n),this}normalize(){if(!this.spatialReference)return this
const e=Object(b.e)(this.spatialReference)
if(!e)return this
let t=this.x
const[n,r]=e.valid,i=2*r
let s
return t>r?(s=Math.ceil(Math.abs(t-r)/i),t-=s*i):t<n&&(s=Math.ceil(Math.abs(t-n)/i),t+=s*i),this._set("x",t),this}distance(e){return function(e,t){const n=e.x-t.x,r=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0
return Math.sqrt(n*n+r*r+i*i)}(this,e)}toArray(){const e=this.hasZ,t=this.hasM
return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}}
Object(i.a)([Object(o.b)({readOnly:!0})],v.prototype,"cache",null),Object(i.a)([Object(o.b)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],v.prototype,"hasM",null),Object(i.a)([Object(o.b)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],v.prototype,"hasZ",null),Object(i.a)([Object(o.b)({type:Number})],v.prototype,"latitude",null),Object(i.a)([Object(o.b)({type:Number})],v.prototype,"longitude",null),Object(i.a)([Object(o.b)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Object(l.a)(e=>isNaN(e)?e:Object(h.i)(e))],v.prototype,"x",void 0),Object(i.a)([Object(d.a)("x")],v.prototype,"writeX",null),Object(i.a)([Object(c.a)("x")],v.prototype,"readX",null),Object(i.a)([Object(o.b)({type:Number,json:{write:!0}})],v.prototype,"y",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],v.prototype,"z",void 0),Object(i.a)([Object(o.b)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],v.prototype,"m",void 0),v=r=Object(i.a)([Object(u.a)("esri.geometry.Point")],v),v.prototype.toJSON.isDefaultToJSON=!0
const O=v},993:function(e,t,n){"use strict"
n.d(t,"a",(function(){return E}))
var r,i=n(968),s=n(1117),a=n(1002),o=n(234),l=n(23),c=n(1049),u=n(1114),d=n(1024),h=n(970),p=n(971),f=n(1082),b=n(969),m=n(1060),y=n(1087)
const g=new c.a(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),v=()=>{}
function O(e){return e?e instanceof M?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function j(e){if(e&&e.length)return e[0]}function w(e,t,n,r){const i=Math.min(e.length-n,t.length-r)
let s=0
for(;s<i&&e[n+s]===t[r+s];)s++
return s}const _=new Set,S=new Set,x=new Set,T=new Map
let I=0,M=r=class extends a.a.EventedAccessor{static isCollection(e){return null!=e&&e instanceof r}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new y.a,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:I++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof r?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return Object(m.d)(this._observable),this._items}set items(e){this._emitBeforeChanges(u.a.ADD)||(this._splice(0,this.length,O(e)),this._emitAfterChanges(u.a.ADD))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,n={removed:!1,callback:t}
return e.push(n),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=v,n.removed=!0,e.splice(e.indexOf(n),1)}}}return this._emitter.on(e,t)}once(e,t){const n=this.on(e,t)
return{remove(){n.remove()}}}add(e,t){if(Object(m.d)(this._observable),this._emitBeforeChanges(u.a.ADD))return this
const n=this.getNextIndex(null!=t?t:null)
return this._splice(n,0,[e]),this._emitAfterChanges(u.a.ADD),this}addMany(e,t=this._items.length){if(Object(m.d)(this._observable),!e||!e.length)return this
if(this._emitBeforeChanges(u.a.ADD))return this
const n=this.getNextIndex(t)
return this._splice(n,0,O(e)),this._emitAfterChanges(u.a.ADD),this}at(e){if(Object(m.d)(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Object(m.d)(this._observable),!this.length||this._emitBeforeChanges(u.a.REMOVE))return[]
const e=this._splice(0,this.length)||[]
return this._emitAfterChanges(u.a.REMOVE),e}clone(){return Object(m.d)(this._observable),this._createNewInstance({items:this._items.map(o.a)})}concat(...e){Object(m.d)(this._observable)
const t=e.map(O)
return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Object(m.d)(this._observable),!this.length||this._emitBeforeChanges(u.a.REMOVE))return
const n=Object(l.d)(this._splice(0,this.length)),r=n.length
for(let i=0;i<r;i++)e.call(t,n[i],i,n)
this._emitAfterChanges(u.a.REMOVE)}every(e,t){return Object(m.d)(this._observable),this._items.every(e,t)}filter(e,t){let n
return Object(m.d)(this._observable),n=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:n})}find(e,t){return Object(m.d)(this._observable),this._items.find(e,t)}findIndex(e,t){return Object(m.d)(this._observable),this._items.findIndex(e,t)}flatten(e,t){Object(m.d)(this._observable)
const n=[]
return function e(t,n,r,i){n&&n.forEach((n,s,a)=>{t.push(n),e(t,r.call(i,n,s,a),r,i)})}(n,this,e,t),new r(n)}forEach(e,t){return Object(m.d)(this._observable),this._items.forEach(e,t)}getItemAt(e){return Object(m.d)(this._observable),this._items[e]}getNextIndex(e){var t
Object(m.d)(this._observable)
const n=this.length
return(e=null!=(t=e)?t:n)<0?e=0:e>n&&(e=n),e}includes(e,t=0){return Object(m.d)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Object(m.d)(this._observable),this._items.indexOf(e,t)}join(e=","){return Object(m.d)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Object(m.d)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Object(m.d)(this._observable)
const n=this._items.map(e,t)
return new r({items:n})}reorder(e,t=this.length-1){Object(m.d)(this._observable)
const n=this.indexOf(e)
if(-1!==n){if(t<0?t=0:t>=this.length&&(t=this.length-1),n!==t){if(this._emitBeforeChanges(u.a.MOVE))return e
this._splice(n,1),this._splice(t,0,[e]),this._emitAfterChanges(u.a.MOVE)}return e}}pop(){if(Object(m.d)(this._observable),!this.length||this._emitBeforeChanges(u.a.REMOVE))return
const e=j(this._splice(this.length-1,1))
return this._emitAfterChanges(u.a.REMOVE),e}push(...e){return Object(m.d)(this._observable),this._emitBeforeChanges(u.a.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(u.a.ADD)),this.length}reduce(e,t){Object(m.d)(this._observable)
const n=this._items
return 2===arguments.length?n.reduce(e,t):n.reduce(e)}reduceRight(e,t){Object(m.d)(this._observable)
const n=this._items
return 2===arguments.length?n.reduceRight(e,t):n.reduceRight(e)}remove(e){return Object(m.d)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Object(m.d)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(u.a.REMOVE))return
const t=j(this._splice(e,1))
return this._emitAfterChanges(u.a.REMOVE),t}removeMany(e){if(Object(m.d)(this._observable),!e||!e.length||this._emitBeforeChanges(u.a.REMOVE))return[]
const t=e instanceof r?e.toArray():e,n=this._items,i=[],s=t.length
for(let e=0;e<s;e++){const r=t[e],s=n.indexOf(r)
if(s>-1){const r=1+w(t,n,e+1,s+1),a=this._splice(s,r)
a&&a.length>0&&i.push.apply(i,a),e+=r-1}}return this._emitAfterChanges(u.a.REMOVE),i}reverse(){if(Object(m.d)(this._observable),this._emitBeforeChanges(u.a.MOVE))return this
const e=this._splice(0,this.length)
return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(u.a.MOVE),this}shift(){if(Object(m.d)(this._observable),!this.length||this._emitBeforeChanges(u.a.REMOVE))return
const e=j(this._splice(0,1))
return this._emitAfterChanges(u.a.REMOVE),e}slice(e=0,t=this.length){return Object(m.d)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Object(m.d)(this._observable),this._items.some(e,t)}sort(e){if(Object(m.d)(this._observable),!this.length||this._emitBeforeChanges(u.a.MOVE))return this
const t=Object(l.d)(this._splice(0,this.length))
return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(u.a.MOVE),this}splice(e,t,...n){Object(m.d)(this._observable)
const r=(t?u.a.REMOVE:0)|(n.length?u.a.ADD:0)
if(this._emitBeforeChanges(r))return[]
const i=this._splice(e,t,n)||[]
return this._emitAfterChanges(r),i}toArray(){return Object(m.d)(this._observable),this._items.slice()}toJSON(){return Object(m.d)(this._observable),this.toArray()}toLocaleString(){return Object(m.d)(this._observable),this._items.toLocaleString()}toString(){return Object(m.d)(this._observable),this._items.toString()}unshift(...e){return Object(m.d)(this._observable),!e.length||this._emitBeforeChanges(u.a.ADD)||(this._splice(0,0,e),this._emitAfterChanges(u.a.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,n){const r=this._items,i=this.itemType
let s,a
if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Object(d.b)(()=>this._dispatchChange())),t){if(a=r.splice(e,t),this.hasEventListener("before-remove")){const t=g.acquire()
t.target=this,t.cancellable=!0
for(let n=0,i=a.length;n<i;n++)s=a[n],t.reset(s),this.emit("before-remove",t),t.defaultPrevented&&(a.splice(n,1),r.splice(e,0,s),e+=1,n-=1,i-=1)
g.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=g.acquire()
e.target=this,e.cancellable=!1
const t=a.length
for(let n=0;n<t;n++)e.reset(a[n]),this.emit("after-remove",e)
g.release(e)}}if(n&&n.length){if(i){const e=[]
for(const t of n){const n=i.ensureType(t)
null==n&&null!=t||e.push(n)}n=e}const t=this.hasEventListener("before-add"),s=this.hasEventListener("after-add"),a=e===this.length
if(t||s){const i=g.acquire()
i.target=this,i.cancellable=!0
const o=g.acquire()
o.target=this,o.cancellable=!1
for(const l of n)t?(i.reset(l),this.emit("before-add",i),i.defaultPrevented||(a?r.push(l):r.splice(e++,0,l),this._set("length",r.length),s&&(o.reset(l),this.emit("after-add",o)))):(a?r.push(l):r.splice(e++,0,l),this._set("length",r.length),o.reset(l),this.emit("after-add",o))
g.release(o),g.release(i)}else{if(a)for(const e of n)r.push(e)
else r.splice(e,0,...n)
this._set("length",r.length)}}return(n&&n.length||a&&a.length)&&this._notifyChangeEvent(n,a),a}_emitBeforeChanges(e){let t=!1
if(this.hasEventListener("before-changes")){const n=g.acquire()
n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),t=n.defaultPrevented,g.release(n)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=g.acquire()
t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),g.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return
const e=this._notifications
this._notifications=null
for(const t of e){const e=t.changes
_.clear(),S.clear(),x.clear()
for(const{added:t,removed:n}of e){if(t)if(0===x.size&&0===S.size)for(const e of t)_.add(e)
else for(const e of t)S.has(e)?(x.add(e),S.delete(e)):x.has(e)||_.add(e)
if(n)if(0===x.size&&0===_.size)for(const e of n)S.add(e)
else for(const e of n)_.has(e)?_.delete(e):(x.delete(e),S.add(e))}const n=s.a.acquire()
_.forEach(e=>{n.push(e)})
const r=s.a.acquire()
S.forEach(e=>{r.push(e)})
const i=this._items,a=t.items,o=s.a.acquire()
if(x.forEach(e=>{a.indexOf(e)!==i.indexOf(e)&&o.push(e)}),t.listeners&&(n.length||r.length||o.length)){const e={target:this,added:n,removed:r,moved:o},i=t.listeners.length
for(let n=0;n<i;n++){const r=t.listeners[n]
r.removed||r.callback.call(this,e)}}s.a.release(n),s.a.release(r),s.a.release(o)}_.clear(),S.clear(),x.clear()}}
M.ofType=e=>{if(!e)return r
if(T.has(e))return T.get(e)
let t=null
if("function"==typeof e)t=e.prototype.declaredClass
else if(e.base)t=e.base.prototype.declaredClass
else for(const n in e.typeMap){const r=e.typeMap[n].prototype.declaredClass
t?t+=" | "+r:t=r}let n=class extends r{}
return Object(i.a)([Object(f.a)({Type:e,ensureType:"function"==typeof e?Object(p.m)(e):Object(p.k)(e)})],n.prototype,"itemType",void 0),n=Object(i.a)([Object(b.a)(`esri.core.Collection<${t}>`)],n),T.set(e,n),n},Object(i.a)([Object(h.b)()],M.prototype,"length",void 0),Object(i.a)([Object(h.b)()],M.prototype,"items",null),M=r=Object(i.a)([Object(b.a)("esri.core.Collection")],M)
const E=M},996:function(e,t,n){"use strict"
n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return x})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return a})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return p})),n.d(t,"r",(function(){return h})),n.d(t,"s",(function(){return f})),n.d(t,"t",(function(){return u})),n.d(t,"u",(function(){return c})),n.d(t,"v",(function(){return y})),n.d(t,"w",(function(){return M})),n.d(t,"x",(function(){return T})),n.d(t,"y",(function(){return w})),n.d(t,"z",(function(){return j})),n.d(t,"A",(function(){return L})),n.d(t,"B",(function(){return k})),n.d(t,"C",(function(){return d})),n.d(t,"D",(function(){return m}))
n(235)
var r=n(991),i=n(23),s=n(770)
function a(e=N){return[e[0],e[1],e[2],e[3]]}function o(e){return[e[0],e[1],e[2],e[3]]}function l(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function c(e,t,n,r,i=a()){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function u(e,t=a()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function d(e,t){return new s.default({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function h(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function p(e,t,n){if(Object(i.k)(t))l(n,e)
else if("length"in t)A(t)?(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.max(e[2],t[0]),n[3]=Math.max(e[3],t[1]))
else switch(t.type){case"extent":n[0]=Math.min(e[0],t.xmin),n[1]=Math.min(e[1],t.ymin),n[2]=Math.max(e[2],t.xmax),n[3]=Math.max(e[3],t.ymax)
break
case"point":n[0]=Math.min(e[0],t.x),n[1]=Math.min(e[1],t.y),n[2]=Math.max(e[2],t.x),n[3]=Math.max(e[3],t.y)}}function f(e,t,n=e){const r=t.length
let i=e[0],s=e[1],a=e[2],o=e[3]
for(let e=0;e<r;e++){const n=t[e]
i=Math.min(i,n[0]),s=Math.min(s,n[1]),a=Math.max(a,n[0]),o=Math.max(o,n[1])}return n[0]=i,n[1]=s,n[2]=a,n[3]=o,n}function b(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1
return!0}function m(e){return Object(i.k)(e)||e[0]>=e[2]?0:e[2]-e[0]}function y(e){return e[1]>=e[3]?0:e[3]-e[1]}function g(e){return m(e)*y(e)}function v(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function O(e,t){return S(e,t[0],t[1])}function j(e,t){const n=t[3],r=.5*(e[0]+e[2]),i=Math.abs(t[0]-r),s=.5*(e[2]-e[0])
if(i>n+s)return!1
const a=.5*(e[1]+e[3]),o=.5*(e[3]-e[1]),l=Math.abs(t[1]-a)
if(l>n+o)return!1
if(i<s||l<o)return!0
const c=i-s,u=l-o
return c*c+u*u<=n*n}function w(e,t,n){const r=e[0],i=e[1],s=e[2],a=e[3],{x:o,y:l}=t,{x:c,y:u}=n,d=(e,t)=>(u-l)*e+(o-c)*t+(c*l-o*u)<0,h=d(r,a),p=d(s,a),f=d(s,i),b=d(r,i)
return!(h===p&&p===f&&f===b&&b===h||o<r&&c<r||o>s&&c>s||l>a&&u>a||l<i&&u<i)}function _(e,t){return S(e,t.x,t.y)}function S(e,t,n){return t>=e[0]&&n>=e[1]&&t<=e[2]&&n<=e[3]}function x(e,t,n){return t[0]>=e[0]-n&&t[1]>=e[1]-n&&t[0]<=e[2]+n&&t[1]<=e[3]+n}function T(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function I(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function M(e,t,n){if(Object(i.k)(t))return l(n,e)
const s=t[0],a=t[1],o=t[2],c=t[3]
return n[0]=Object(r.f)(e[0],s,o),n[1]=Object(r.f)(e[1],a,c),n[2]=Object(r.f)(e[2],s,o),n[3]=Object(r.f)(e[3],a,c),n}function E(e,t){const n=(e[0]+e[2])/2,r=(e[1]+e[3])/2,i=Math.max(Math.abs(t[0]-n)-m(e)/2,0),s=Math.max(Math.abs(t[1]-r)-y(e)/2,0)
return Math.sqrt(i*i+s*s)}function k(e,t,n,r=e){return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+t,r[3]=e[3]+n,r}function C(e){return e?l(e,F):a(F)}function A(e){return null!=e&&4===e.length}function L(e){return!(0!==m(e)&&isFinite(e[0])||0!==y(e)&&isFinite(e[1]))}function R(e,t){return A(e)&&A(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const P=[-1/0,-1/0,1/0,1/0],F=[1/0,1/0,-1/0,-1/0],N=[0,0,0,0]},997:function(e,t,n){"use strict"
n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return Z})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return W})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return G})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return R})),n.d(t,"n",(function(){return z})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return L})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return A})),n.d(t,"u",(function(){return M})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return I})),n.d(t,"x",(function(){return P})),n.d(t,"y",(function(){return w})),n.d(t,"z",(function(){return q})),n(235)
var r=n(976),i=n(23),s=n(1089),a=n(1052),o=n(988),l=n(1188)
const c=39.37,u=a.a.radius*Math.PI/200,d=/UNIT\[([^\]]+)\]\]$/i,h=l.a,p=/UNIT\[([^\]]+)\]/i,f=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),b=Object(r.b)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),m=e=>e*e,y=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*y(.001)},"cubic-centimeters":{inBaseUnits:1e3*y(.01)},"cubic-decimeters":{inBaseUnits:1e3*y(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*y(1e3)},"cubic-inches":{inBaseUnits:1e3*y(.0254)},"cubic-feet":{inBaseUnits:1e3*y(.3048)},"cubic-yards":{inBaseUnits:1e3*y(.9144)},"cubic-miles":{inBaseUnits:1e3*y(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},v=(()=>{const e={}
for(const t in g)for(const n in g[t].units)e[n]=t
return e})(),O=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],j=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]])
function w(e){const t=v[e]
if(!t)throw new Error("unknown type")
return t}function _(e){return function(e){return g[e].baseUnit}(w(e))}function S(e,t=null){return t=t||w(e),g[t].baseUnit===e}function x(e,t,n){if(t===n)return e
const r=w(t)
if(r!==w(n))throw new Error("incompatible units")
const i=S(t,r)?e:function(e,t,n){return e*g[n].units[t].inBaseUnits}(e,t,r)
return S(n,r)?i:function(e,t,n){return e/g[n].units[t].inBaseUnits}(i,n,r)}function T(e,t,n){switch(n){case"metric":return M(e,t)
case"imperial":return k(e,t)
default:return n}}function I(e,t,n){switch(n){case"metric":return E(e,t)
case"imperial":return C(e,t)
default:return n}}function M(e,t){const n=x(e,t,"meters")
return Math.abs(n)<3e3?"meters":"kilometers"}function E(e,t){const n=x(e,t,"meters")
return Math.abs(n)<1e5?"meters":"kilometers"}function k(e,t){const n=x(e,t,"feet")
return Math.abs(n)<1e3?"feet":"miles"}function C(e,t){const n=x(e,t,"feet")
return Math.abs(n)<1e5?"feet":"miles"}function A(e,t){const n=x(e,t,"square-meters")
return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function L(e,t){const n=x(e,t,"square-feet")
return Math.abs(n)<1e6?"square-feet":"square-miles"}function R(e,t,n){return x(e,t,"meters")/(n*Math.PI/180)}function P(e){return b.fromJSON(e.toLowerCase())||null}function F(e){if(Object(i.l)(e)&&!Object(o.g)(e))return 1
const t=D(e)
return t>1e5?1:t}function N(e){return D(e)>=Object(s.e)(e).metersPerDegree?"meters":G(e)}function D(e,t=a.a.metersPerDegree){return Object(i.v)(function(e,t=!1){const n=Object(i.l)(e)?e.wkid:null,r=Object(i.l)(e)?e.wkt:null
let s=null
if(n){if(Object(o.n)(n))return a.b.metersPerDegree
if(Object(o.o)(n))return a.c.metersPerDegree
s=h.values[h[n]],!s&&t&&f.has(n)&&(s=u)}else r&&(H(r)?s=V(d.exec(r),s):$(r)&&(s=V(p.exec(r),s)))
return s}(e,!0),t)}function V(e,t){return e&&e[1]?U(e[1]):t}function U(e){return parseFloat(e.split(",")[1])}function G(e){const t=Object(i.l)(e)?e.wkid:null,n=Object(i.l)(e)?e.wkt:null
let r=null
if(t)r=h.units[h[t]]
else if(n){const e=H(n)?d:$(n)?p:null
if(e){const t=e.exec(n)
t&&t[1]&&(r=function(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e)
let n=t&&t[1]
if(!n||!h.units.includes(n)){const t=U(e)
n=null
const r=h.values
for(let e=0;e<r.length;++e)if(Math.abs(t-r[e])<1e-7){n=h.units[e]
break}}return n}(t[1]))}}return Object(i.l)(r)?P(r):null}function z(e){const t=G(e)
return Object(i.k)(t)||!O.includes(t)?null:t}function q(e){const t=N(e)
return Object(i.k)(t)||!O.includes(t)?null:t}function B(e){const t=G(e)
return Object(i.k)(t)?null:j.get(t)}function $(e){return/^GEOCCS/i.test(e)}function H(e){return/^PROJCS/i.test(e)}function W(e){const t=G(e)
if(Object(i.k)(t))return null
switch(t){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial"
case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const Z=Object(r.b)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),K=Object(r.b)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),J=Object(r.b)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},998:function(e,t,n){"use strict"
n.d(t,"a",(function(){return pe})),n.d(t,"b",(function(){return ge})),n.d(t,"c",(function(){return me})),n.d(t,"d",(function(){return _e})),n.d(t,"e",(function(){return be})),n.d(t,"f",(function(){return we})),n.d(t,"g",(function(){return fe})),n.d(t,"h",(function(){return je})),n.d(t,"i",(function(){return ye}))
var r={exports:{}},i={},s={exports:{}},a={}
function o(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var l=/javascript\s*\:/gim
a.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},a.getDefaultWhiteList=o,a.onAttr=function(e,t,n){},a.onIgnoreAttr=function(e,t,n){},a.safeAttrValue=function(e,t){return l.test(t)?"":t}
var c=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},u=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")},d=a
function h(e){return null==e}function p(e){(e=function(e){var t={}
for(var n in e)t[n]=e[n]
return t}(e||{})).whiteList=e.whiteList||d.whiteList,e.onAttr=e.onAttr||d.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||d.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||d.safeAttrValue,this.options=e}p.prototype.process=function(e){if(!(e=(e=e||"").toString()))return""
var t=this.options,n=t.whiteList,r=t.onAttr,i=t.onIgnoreAttr,s=t.safeAttrValue
return function(e,t){";"!==(e=u(e))[e.length-1]&&(e+=";")
var n=e.length,r=!1,i=0,s=0,a=""
function o(){if(!r){var n=c(e.slice(i,s)),o=n.indexOf(":")
if(-1!==o){var l=c(n.slice(0,o)),u=c(n.slice(o+1))
if(l){var d=t(i,a.length,l,u,n)
d&&(a+=d+"; ")}}}i=s+1}for(;s<n;s++){var l=e[s]
if("/"===l&&"*"===e[s+1]){var d=e.indexOf("*/",s+2)
if(-1===d)break
i=(s=d+1)+1,r=!1}else"("===l?r=!0:")"===l?r=!1:";"===l?r||o():"\n"===l&&o()}return c(a)}(e,(function(e,t,a,o,l){var c=n[a],u=!1
if(!0===c?u=c:"function"==typeof c?u=c(o):c instanceof RegExp&&(u=c.test(o)),!0!==u&&(u=!1),o=s(a,o)){var d,p={position:t,sourcePosition:e,source:l,isWhite:u}
return u?h(d=r(a,o,p))?a+":"+o:d:h(d=i(a,o,p))?void 0:d}}))}
var f=p
!function(e,t){var n=a,r=f
for(var i in(t=e.exports=function(e,t){return new r(t).process(e)}).FilterCSS=r,n)t[i]=n[i]}(s,s.exports)
var b={indexOf:function(e,t){var n,r
if(Array.prototype.indexOf)return e.indexOf(t)
for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n
return-1},forEach:function(e,t,n){var r,i
if(Array.prototype.forEach)return e.forEach(t,n)
for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e)
return t?t.index:-1}},m=s.exports.FilterCSS,y=s.exports.getDefaultWhiteList,g=b
var v=new m
function O(e){return e.replace(j,"&lt;").replace(w,"&gt;")}var j=/</g,w=/>/g,_=/"/g,S=/&quot;/g,x=/&#([a-zA-Z0-9]*);?/gim,T=/&colon;?/gim,I=/&newline;?/gim,M=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,E=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,k=/u\s*r\s*l\s*\(.*/gi
function C(e){return e.replace(_,"&quot;")}function A(e){return e.replace(S,'"')}function L(e){return e.replace(x,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function R(e){return e.replace(T,":").replace(I," ")}function P(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n)
return g.trim(t)}function F(e){return P(e=R(e=L(e=A(e))))}function N(e){return O(e=C(e))}i.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},i.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},i.onTag=function(e,t,n){},i.onIgnoreTag=function(e,t,n){},i.onTagAttr=function(e,t,n){},i.onIgnoreTagAttr=function(e,t,n){},i.safeAttrValue=function(e,t,n,r){if(n=F(n),"href"===t||"src"===t){if("#"===(n=g.trim(n)))return"#"
if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(M.lastIndex=0,M.test(n))return""}else if("style"===t){if(E.lastIndex=0,E.test(n))return""
if(k.lastIndex=0,k.test(n)&&(M.lastIndex=0,M.test(n)))return""
!1!==r&&(n=(r=r||v).process(n))}return N(n)},i.escapeHtml=O,i.escapeQuote=C,i.unescapeQuote=A,i.escapeHtmlEntities=L,i.escapeDangerHtml5Entities=R,i.clearNonPrintableCharacter=P,i.friendlyAttrValue=F,i.escapeAttrValue=N,i.onIgnoreTagStripAll=function(){return""},i.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){})
var n=!Array.isArray(e),r=[],i=!1
return{onIgnoreTag:function(s,a,o){if(function(t){return!!n||-1!==g.indexOf(e,t)}(s)){if(o.isClosing){var l="[/removed]",c=o.position+l.length
return r.push([!1!==i?i:o.position,c]),i=!1,l}return i||(i=o.position),"[removed]"}return t(s,a,o)},remove:function(e){var t="",n=0
return g.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},i.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n)
if(-1===r){t+=e.slice(n)
break}t+=e.slice(n,r)
var i=e.indexOf("--\x3e",r)
if(-1===i)break
n=i+3}return t},i.stripBlankChar=function(e){var t=e.split("")
return(t=t.filter((function(e){var t=e.charCodeAt(0)
return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")},i.cssFilter=v,i.getDefaultCSSWhiteList=y
var D={},V=b
function U(e){var t,n=V.spaceIndex(e)
return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=V.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function G(e){return"</"===e.slice(0,2)}var z=/[^a-zA-Z0-9\\_:.-]/gim
function q(e,t){for(;t<e.length;t++){var n=e[t]
if(" "!==n)return"="===n?t:-1}}function B(e,t){for(;t<e.length;t++){var n=e[t]
if(" "!==n)return"'"===n||'"'===n?t:-1}}function $(e,t){for(;t>0;t--){var n=e[t]
if(" "!==n)return"="===n?t:-1}}function H(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}D.parseTag=function(e,t,n){var r="",i=0,s=!1,a=!1,o=0,l=e.length,c="",u=""
e:for(o=0;o<l;o++){var d=e.charAt(o)
if(!1===s){if("<"===d){s=o
continue}}else if(!1===a){if("<"===d){r+=n(e.slice(i,o)),s=o,i=o
continue}if(">"===d){r+=n(e.slice(i,s)),c=U(u=e.slice(s,o+1)),r+=t(s,r.length,c,u,G(u)),i=o+1,s=!1
continue}if('"'===d||"'"===d)for(var h=1,p=e.charAt(o-h);""===p.trim()||"="===p;){if("="===p){a=d
continue e}p=e.charAt(o-++h)}}else if(d===a){a=!1
continue}}return i<e.length&&(r+=n(e.substr(i))),r},D.parseAttr=function(e,t){var n=0,r=0,i=[],s=!1,a=e.length
function o(e,n){if(!((e=(e=V.trim(e)).replace(z,"").toLowerCase()).length<1)){var r=t(e,n||"")
r&&i.push(r)}}for(var l=0;l<a;l++){var c,u=e.charAt(l)
if(!1!==s||"="!==u)if(!1===s||l!==r){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===s){if(-1===(c=q(e,l))){o(V.trim(e.slice(n,l))),s=!1,n=l+1
continue}l=c-1
continue}if(-1===(c=$(e,l-1))){o(s,H(V.trim(e.slice(n,l)))),s=!1,n=l+1
continue}}}else{if(-1===(c=e.indexOf(u,l+1)))break
o(s,V.trim(e.slice(r+1,c))),s=!1,n=(l=c)+1}else s=e.slice(n,l),n=l+1,r='"'===e.charAt(n)||"'"===e.charAt(n)?n:B(e,l+1)}return n<e.length&&(!1===s?o(e.slice(n)):o(s,H(V.trim(e.slice(n))))),V.trim(i.join(" "))}
var W=s.exports.FilterCSS,Z=i,K=D,J=K.parseTag,Y=K.parseAttr,X=b
function Q(e){return null==e}function ee(e){(e=function(e){var t={}
for(var n in e)t[n]=e[n]
return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Z.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={}
for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n]
return t}(e.whiteList||e.allowList):e.whiteList=Z.whiteList,e.onTag=e.onTag||Z.onTag,e.onTagAttr=e.onTagAttr||Z.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Z.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Z.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Z.safeAttrValue,e.escapeHtml=e.escapeHtml||Z.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new W(e.css))}ee.prototype.process=function(e){if(!(e=(e=e||"").toString()))return""
var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,s=t.onTagAttr,a=t.onIgnoreTagAttr,o=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter
t.stripBlankChar&&(e=Z.stripBlankChar(e)),t.allowCommentTag||(e=Z.stripCommentTag(e))
var u=!1
t.stripIgnoreTagBody&&(u=Z.StripTagBody(t.stripIgnoreTagBody,i),i=u.onIgnoreTag)
var d=J(e,(function(e,t,u,d,h){var p={sourcePosition:e,position:t,isClosing:h,isWhite:Object.prototype.hasOwnProperty.call(n,u)},f=r(u,d,p)
if(!Q(f))return f
if(p.isWhite){if(p.isClosing)return"</"+u+">"
var b=function(e){var t=X.spaceIndex(e)
if(-1===t)return{html:"",closing:"/"===e[e.length-2]}
var n="/"===(e=X.trim(e.slice(t+1,-1)))[e.length-1]
return n&&(e=X.trim(e.slice(0,-1))),{html:e,closing:n}}(d),m=n[u],y=Y(b.html,(function(e,t){var n=-1!==X.indexOf(m,e),r=s(u,e,t,n)
return Q(r)?n?(t=o(u,e,t,c))?e+'="'+t+'"':e:Q(r=a(u,e,t,n))?void 0:r:r}))
return d="<"+u,y&&(d+=" "+y),b.closing&&(d+=" /"),d+">"}return Q(f=i(u,d,p))?l(d):f}),l)
return u&&(d=u.remove(d)),d}
var te=ee
!function(e,t){var n=i,r=D,s=te
function a(e,t){return new s(t).process(e)}(t=e.exports=a).filterXSS=a,t.FilterXSS=s,function(){for(var e in n)t[e]=n[e]
for(var i in r)t[i]=r[i]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(r,r.exports)
var ne,re,ie=function(){function e(e,t){var n,i=this
this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,n,s){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?i.sanitizeUrl(n):r.exports.safeAttrValue(e,t,n,s)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},e&&!t?n=e:e&&t?(n=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?n.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,e.whiteList||{}]):n[t]=e[t]}))):(n=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=n,this._xssFilter=new r.exports.FilterXSS(n)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e
case"boolean":return e
case"string":return this._xssFilter.process(e)
case"object":return this._iterateOverObject(e,t)
default:if(t.allowUndefined&&void 0===e)return
return null}},e.prototype.sanitizeUrl=function(e,t){var n=(null!=t?t:{}).isProtocolRequired,i=void 0===n||n,s=this._trim(e.substring(0,e.indexOf(":"))),a="/"===e,o=/^#/.test(e),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1
return a||o||l?r.exports.escapeAttrValue(e):s||i?"":r.exports.escapeAttrValue("https://".concat(e))},e.prototype.sanitizeHTMLAttribute=function(e,t,n,i){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,n,i):r.exports.safeAttrValue(e,t,n,i)},e.prototype.validate=function(e,t){void 0===t&&(t={})
var n=this.sanitize(e,t)
return{isValid:e===n,sanitized:n}},e.prototype.encodeHTML=function(e){var t=this
return String(e).replace(/[&<>"'\/]/g,(function(e){return t._entityMap[e]}))},e.prototype.encodeAttrValue=function(e){var t=/^[a-zA-Z0-9]$/
return String(e).replace(/[\x00-\xFF]/g,(function(n,r){return t.test(n)?n:"&#x".concat(Number(e.charCodeAt(r)).toString(16),";")}))},e.prototype._extendObjectOfArrays=function(e){var t={}
return e.forEach((function(e){Object.keys(e).forEach((function(n){Array.isArray(e[n])&&Array.isArray(t[n])?t[n]=t[n].concat(e[n]):t[n]=e[n]}))})),t},e.prototype._iterateOverObject=function(e,t){var n=this
void 0===t&&(t={})
try{var r=!1,i=void 0
if(Array.isArray(e))i=e.reduce((function(e,i){var s=n.validate(i,t)
return s.isValid?e.concat([i]):(r=!0,e.concat([s.sanitized]))}),[])
else{if(!function(e){if("object"!=typeof e||null===e)return!1
if("[object Object]"!==Object.prototype.toString.call(e))return!1
var t=Object.getPrototypeOf(e)
if(null===t)return!0
for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t)
return Object.getPrototypeOf(e)===t}(e)){if(t.allowUndefined&&void 0===e)return
return null}i=Object.keys(e).reduce((function(i,s){var a=e[s],o=n.validate(a,t)
return o.isValid?i[s]=a:(r=!0,i[s]=o.sanitized),i}),{})}return r?i:e}catch(e){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),se=n(1117),ae=n(1017),oe=(n(235),n(233)),le=n(1433),ce=function(e){ne||function(e){if("WebkitTransition"in e.style)ne="webkitTransitionEnd",re="webkitAnimationEnd"
else{if(!("transition"in e.style))throw new Error("Your browser is not supported!")
ne="transitionend",re="animationend"}}(e)},ue=function(e,t){return void 0===t&&(t=e+"-active"),function(n){ce(n)
var r=!1,i=function(s){r||(r=!0,n.removeEventListener(ne,i),n.removeEventListener(re,i),n.classList.remove(e),n.classList.remove(t))}
n.classList.add(e),n.addEventListener(ne,i),n.addEventListener(re,i),requestAnimationFrame((function(){n.classList.add(t)}))}},de=function(e,t){return void 0===t&&(t=e+"-active"),function(n,r){ce(n)
var i=!1,s=function(e){i||(i=!0,n.removeEventListener(ne,s),n.removeEventListener(re,s),r())}
n.classList.add(e),n.addEventListener(ne,s),n.addEventListener(re,s),requestAnimationFrame((function(){n.classList.add(t)}))}}
const he=oe.a.getLogger("esri.widgets.support.widgetUtils")
function pe(e){const t=se.a.acquire()
for(let e=0;e<arguments.length;e++){const n=arguments[e],r=typeof n
if("string"===r)t.push(n)
else if(Array.isArray(n))t.push.apply(t,n)
else if("object"===r)for(const e in n)n[e]&&t.push(e)}const n=t.join(" ")
return se.a.release(t),n}const fe=(()=>{const e=new Map,t=new ResizeObserver(t=>{Object(le.a)()
for(const r of t){var n
null==(n=e.get(r.target))||n(r)}})
return(n,r,i)=>(e.has(n)&&he.error("Already observing element",n),e.set(n,r),t.observe(n,i),Object(ae.c)(()=>{t.unobserve(n),e.delete(n)}))})()
function be(e){const t=null==e?void 0:e.closest("[dir]")
return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir}function me(e){this[e.getAttribute("data-node-ref")]=null}function ye(e){this[e.getAttribute("data-node-ref")]=e}function ge(e,t){return("enter"===e?ue:de)(t)}const ve=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((e,t)=>(e[t]=[],e),{}),Oe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],je=new ie({whiteList:ve,onTagAttr:(e,t,n)=>{const r=`${t}="${n}"`
if(Oe.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0)
function we(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.top+n.height,s=r.top+r.height,a=n.top,o=r.top;(i>s||a<o)&&e.scrollIntoView({block:"end"})}function _e(e){return"Enter"===e||" "===e}},999:function(e,t,n){"use strict"
n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return c}))
var r=n(1017),i=n(234),s=n(23)
function a(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function o(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function l(e,t,n){return function e(t,n,r){return n?Object.keys(n).reduce((t,a)=>{let o=null,l="merge"
if(r&&(o=r.path?`${r.path}.${a}`:a,l=r.policy(o)),"replace"===l)return t[a]=n[a],t
if("replace-arrays"===l&&Array.isArray(t[a]))return t[a]=n[a],t
if(void 0===t[a])return t[a]=Object(i.a)(n[a]),t
let c=t[a],u=n[a]
if(c===u)return t
if(Array.isArray(u)||Array.isArray(t))c=c?Array.isArray(c)?t[a]=c.concat():t[a]=[c]:t[a]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach(e=>{c.includes(e)||c.push(e)}))
else if(u&&"object"==typeof u)if(r){const n=r.path
r.path=Object(s.d)(o),t[a]=e(c,u,r),r.path=n}else t[a]=e(c,u,null)
else t.hasOwnProperty(a)&&!n.hasOwnProperty(a)||(t[a]=u)
return t},t||{}):t}(e,t,n?{policy:n,path:""}:null)}function c(e){return Array.isArray(e)?e:e.split(".")}function u(e){return e.includes(",")?e.split(",").map(e=>e.trim()):[e.trim()]}function d(e,t,n,i){const s=function(e){if(Array.isArray(e)){const t=[]
for(const n of e)t.push(...u(n))
return t}return u(e)}(t)
if(1!==s.length){const t=s.map(t=>i(e,t,n))
return Object(r.b)(t)}return i(e,s[0],n)}function h(e){let t=!1
return()=>{t||(t=!0,e())}}}}])
